(self.webpackChunkrestaurant_tinder=self.webpackChunkrestaurant_tinder||[]).push([[792],{83:(cu,ea,hr)=>{"use strict";hr.d(ea,{E_:()=>se,F3:()=>G});var ae=hr(467);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var A=function(st){return st.Unimplemented="UNIMPLEMENTED",st.Unavailable="UNAVAILABLE",st}(A||{});class L extends Error{constructor(Fe,ze,Dt){super(Fe),this.message=Fe,this.code=ze,this.data=Dt}}const N=st=>{var Fe,ze,Dt,jt,Tt;const yn=st.CapacitorCustomPlatform||null,Le=st.Capacitor||{},gt=Le.Plugins=Le.Plugins||{},St=st.CapacitorPlatforms,bn=(null===(Fe=St?.currentPlatform)||void 0===Fe?void 0:Fe.getPlatform)||(()=>null!==yn?yn.name:(st=>{var Fe,ze;return st?.androidBridge?"android":null!==(ze=null===(Fe=st?.webkit)||void 0===Fe?void 0:Fe.messageHandlers)&&void 0!==ze&&ze.bridge?"ios":"web"})(st)),On=(null===(ze=St?.currentPlatform)||void 0===ze?void 0:ze.isNativePlatform)||(()=>"web"!==bn()),Ui=(null===(Dt=St?.currentPlatform)||void 0===Dt?void 0:Dt.isPluginAvailable)||(Gt=>{const Zt=An.get(Gt);return!(!Zt?.platforms.has(bn())&&!ei(Gt))}),ei=(null===(jt=St?.currentPlatform)||void 0===jt?void 0:jt.getPluginHeader)||(Gt=>{var Zt;return null===(Zt=Le.PluginHeaders)||void 0===Zt?void 0:Zt.find(fi=>fi.name===Gt)}),An=new Map,kn=(null===(Tt=St?.currentPlatform)||void 0===Tt?void 0:Tt.registerPlugin)||((Gt,Zt={})=>{const fi=An.get(Gt);if(fi)return console.warn(`Capacitor plugin "${Gt}" already registered. Cannot register plugins twice.`),fi.proxy;const Bi=bn(),gi=ei(Gt);let Di;const nr=function(){var ai=(0,ae.A)(function*(){return!Di&&Bi in Zt?Di=Di="function"==typeof Zt[Bi]?yield Zt[Bi]():Zt[Bi]:null!==yn&&!Di&&"web"in Zt&&(Di=Di="function"==typeof Zt.web?yield Zt.web():Zt.web),Di});return function(){return ai.apply(this,arguments)}}(),Pr=ai=>{let mi;const wi=(...sr)=>{const gr=nr().then(_r=>{const Lr=((ai,mi)=>{var wi,sr;if(!gi){if(ai)return null===(sr=ai[mi])||void 0===sr?void 0:sr.bind(ai);throw new L(`"${Gt}" plugin is not implemented on ${Bi}`,A.Unimplemented)}{const gr=gi?.methods.find(_r=>mi===_r.name);if(gr)return"promise"===gr.rtype?_r=>Le.nativePromise(Gt,mi.toString(),_r):(_r,Lr)=>Le.nativeCallback(Gt,mi.toString(),_r,Lr);if(ai)return null===(wi=ai[mi])||void 0===wi?void 0:wi.bind(ai)}})(_r,ai);if(Lr){const Tr=Lr(...sr);return mi=Tr?.remove,Tr}throw new L(`"${Gt}.${ai}()" is not implemented on ${Bi}`,A.Unimplemented)});return"addListener"===ai&&(gr.remove=(0,ae.A)(function*(){return mi()})),gr};return wi.toString=()=>`${ai.toString()}() { [capacitor code] }`,Object.defineProperty(wi,"name",{value:ai,writable:!1,configurable:!1}),wi},Qr=Pr("addListener"),zi=Pr("removeListener"),Qn=(ai,mi)=>{const wi=Qr({eventName:ai},mi),sr=function(){var _r=(0,ae.A)(function*(){const Lr=yield wi;zi({eventName:ai,callbackId:Lr},mi)});return function(){return _r.apply(this,arguments)}}(),gr=new Promise(_r=>wi.then(()=>_r({remove:sr})));return gr.remove=(0,ae.A)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield sr()}),gr},jn=new Proxy({},{get(ai,mi){switch(mi){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return gi?Qn:Qr;case"removeListener":return zi;default:return Pr(mi)}}});return gt[Gt]=jn,An.set(Gt,{name:Gt,proxy:jn,platforms:new Set([...Object.keys(Zt),...gi?[Bi]:[]])}),jn});return Le.convertFileSrc||(Le.convertFileSrc=Gt=>Gt),Le.getPlatform=bn,Le.handleError=Gt=>st.console.error(Gt),Le.isNativePlatform=On,Le.isPluginAvailable=Ui,Le.pluginMethodNoop=(Gt,Zt,fi)=>Promise.reject(`${fi} does not have an implementation of "${Zt}".`),Le.registerPlugin=kn,Le.Exception=L,Le.DEBUG=!!Le.DEBUG,Le.isLoggingEnabled=!!Le.isLoggingEnabled,Le.platform=Le.getPlatform(),Le.isNative=Le.isNativePlatform(),Le},Y=(st=>st.Capacitor=N(st))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),G=Y.registerPlugin;class se{constructor(Fe){this.listeners={},this.retainedEventArguments={},this.windowListeners={},Fe&&(console.warn(`Capacitor WebPlugin "${Fe.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=Fe)}addListener(Fe,ze){var Dt=this;let jt=!1;this.listeners[Fe]||(this.listeners[Fe]=[],jt=!0),this.listeners[Fe].push(ze);const yn=this.windowListeners[Fe];yn&&!yn.registered&&this.addWindowListener(yn),jt&&this.sendRetainedArgumentsForEvent(Fe);const Le=function(){var St=(0,ae.A)(function*(){return Dt.removeListener(Fe,ze)});return function(){return St.apply(this,arguments)}}();return Promise.resolve({remove:Le})}removeAllListeners(){var Fe=this;return(0,ae.A)(function*(){Fe.listeners={};for(const ze in Fe.windowListeners)Fe.removeWindowListener(Fe.windowListeners[ze]);Fe.windowListeners={}})()}notifyListeners(Fe,ze,Dt){const jt=this.listeners[Fe];if(jt)jt.forEach(Tt=>Tt(ze));else if(Dt){let Tt=this.retainedEventArguments[Fe];Tt||(Tt=[]),Tt.push(ze),this.retainedEventArguments[Fe]=Tt}}hasListeners(Fe){return!!this.listeners[Fe].length}registerWindowListener(Fe,ze){this.windowListeners[ze]={registered:!1,windowEventName:Fe,pluginEventName:ze,handler:Dt=>{this.notifyListeners(ze,Dt)}}}unimplemented(Fe="not implemented"){return new Y.Exception(Fe,A.Unimplemented)}unavailable(Fe="not available"){return new Y.Exception(Fe,A.Unavailable)}removeListener(Fe,ze){var Dt=this;return(0,ae.A)(function*(){const jt=Dt.listeners[Fe];if(!jt)return;const Tt=jt.indexOf(ze);Dt.listeners[Fe].splice(Tt,1),Dt.listeners[Fe].length||Dt.removeWindowListener(Dt.windowListeners[Fe])})()}addWindowListener(Fe){window.addEventListener(Fe.windowEventName,Fe.handler),Fe.registered=!0}removeWindowListener(Fe){Fe&&(window.removeEventListener(Fe.windowEventName,Fe.handler),Fe.registered=!1)}sendRetainedArgumentsForEvent(Fe){const ze=this.retainedEventArguments[Fe];ze&&(delete this.retainedEventArguments[Fe],ze.forEach(Dt=>{this.notifyListeners(Fe,Dt)}))}}const me=st=>encodeURIComponent(st).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),we=st=>st.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Ze extends se{getCookies(){return(0,ae.A)(function*(){const Fe=document.cookie,ze={};return Fe.split(";").forEach(Dt=>{if(Dt.length<=0)return;let[jt,Tt]=Dt.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");jt=we(jt).trim(),Tt=we(Tt).trim(),ze[jt]=Tt}),ze})()}setCookie(Fe){return(0,ae.A)(function*(){try{const ze=me(Fe.key),Dt=me(Fe.value),jt=`; expires=${(Fe.expires||"").replace("expires=","")}`,Tt=(Fe.path||"/").replace("path=",""),yn=null!=Fe.url&&Fe.url.length>0?`domain=${Fe.url}`:"";document.cookie=`${ze}=${Dt||""}${jt}; path=${Tt}; ${yn};`}catch(ze){return Promise.reject(ze)}})()}deleteCookie(Fe){return(0,ae.A)(function*(){try{document.cookie=`${Fe.key}=; Max-Age=0`}catch(ze){return Promise.reject(ze)}})()}clearCookies(){return(0,ae.A)(function*(){try{const Fe=document.cookie.split(";")||[];for(const ze of Fe)document.cookie=ze.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(Fe){return Promise.reject(Fe)}})()}clearAllCookies(){var Fe=this;return(0,ae.A)(function*(){try{yield Fe.clearCookies()}catch(ze){return Promise.reject(ze)}})()}}G("CapacitorCookies",{web:()=>new Ze});const wt=function(){var st=(0,ae.A)(function*(Fe){return new Promise((ze,Dt)=>{const jt=new FileReader;jt.onload=()=>{const Tt=jt.result;ze(Tt.indexOf(",")>=0?Tt.split(",")[1]:Tt)},jt.onerror=Tt=>Dt(Tt),jt.readAsDataURL(Fe)})});return function(ze){return st.apply(this,arguments)}}();class vt extends se{request(Fe){return(0,ae.A)(function*(){const ze=((st,Fe={})=>{const ze=Object.assign({method:st.method||"GET",headers:st.headers},Fe),jt=((st={})=>{const Fe=Object.keys(st);return Object.keys(st).map(jt=>jt.toLocaleLowerCase()).reduce((jt,Tt,yn)=>(jt[Tt]=st[Fe[yn]],jt),{})})(st.headers)["content-type"]||"";if("string"==typeof st.data)ze.body=st.data;else if(jt.includes("application/x-www-form-urlencoded")){const Tt=new URLSearchParams;for(const[yn,Le]of Object.entries(st.data||{}))Tt.set(yn,Le);ze.body=Tt.toString()}else if(jt.includes("multipart/form-data")||st.data instanceof FormData){const Tt=new FormData;if(st.data instanceof FormData)st.data.forEach((Le,gt)=>{Tt.append(gt,Le)});else for(const Le of Object.keys(st.data))Tt.append(Le,st.data[Le]);ze.body=Tt;const yn=new Headers(ze.headers);yn.delete("content-type"),ze.headers=yn}else(jt.includes("application/json")||"object"==typeof st.data)&&(ze.body=JSON.stringify(st.data));return ze})(Fe,Fe.webFetchExtra),Dt=((st,Fe=!0)=>st?Object.entries(st).reduce((Dt,jt)=>{const[Tt,yn]=jt;let Le,gt;return Array.isArray(yn)?(gt="",yn.forEach(St=>{Le=Fe?encodeURIComponent(St):St,gt+=`${Tt}=${Le}&`}),gt.slice(0,-1)):(Le=Fe?encodeURIComponent(yn):yn,gt=`${Tt}=${Le}`),`${Dt}&${gt}`},"").substr(1):null)(Fe.params,Fe.shouldEncodeUrlParams),jt=Dt?`${Fe.url}?${Dt}`:Fe.url,Tt=yield fetch(jt,ze),yn=Tt.headers.get("content-type")||"";let gt,St,{responseType:Le="text"}=Tt.ok?Fe:{};switch(yn.includes("application/json")&&(Le="json"),Le){case"arraybuffer":case"blob":St=yield Tt.blob(),gt=yield wt(St);break;case"json":gt=yield Tt.json();break;default:gt=yield Tt.text()}const Et={};return Tt.headers.forEach((bn,on)=>{Et[on]=bn}),{data:gt,headers:Et,status:Tt.status,url:Tt.url}})()}get(Fe){var ze=this;return(0,ae.A)(function*(){return ze.request(Object.assign(Object.assign({},Fe),{method:"GET"}))})()}post(Fe){var ze=this;return(0,ae.A)(function*(){return ze.request(Object.assign(Object.assign({},Fe),{method:"POST"}))})()}put(Fe){var ze=this;return(0,ae.A)(function*(){return ze.request(Object.assign(Object.assign({},Fe),{method:"PUT"}))})()}patch(Fe){var ze=this;return(0,ae.A)(function*(){return ze.request(Object.assign(Object.assign({},Fe),{method:"PATCH"}))})()}delete(Fe){var ze=this;return(0,ae.A)(function*(){return ze.request(Object.assign(Object.assign({},Fe),{method:"DELETE"}))})()}}G("CapacitorHttp",{web:()=>new vt})},76:(cu,ea,hr)=>{"use strict";hr.d(ea,{$L:()=>Wn,$g:()=>yn,A4:()=>N,Am:()=>Ao,As:()=>ei,Bd:()=>Je,Cv:()=>Jn,FA:()=>On,Fy:()=>ht,HN:()=>Tr,Hk:()=>j,I9:()=>Pr,Im:()=>fi,K3:()=>O,KA:()=>A,Ku:()=>so,Ll:()=>vt,OE:()=>Jr,T9:()=>Ze,Uj:()=>L,XA:()=>ot,ZQ:()=>pt,bD:()=>gi,cY:()=>wt,dI:()=>gr,eX:()=>St,g:()=>on,gR:()=>Gt,gz:()=>zi,hp:()=>Qr,jZ:()=>mt,kH:()=>Bi,kj:()=>mo,lT:()=>jt,lV:()=>ze,nr:()=>Le,oD:()=>Lr,od:()=>sr,p7:()=>st,qc:()=>kn,sr:()=>Fe,tD:()=>Qn,u:()=>P,vA:()=>ui,yw:()=>Zt,zW:()=>gt,zw:()=>W});const ae={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},ui=function(U,K){if(!U)throw j(K)},j=function(U){return new Error("Firebase Database ("+ae.SDK_VERSION+") INTERNAL ASSERT FAILED: "+U)},Q=function(U){const K=[];let $=0;for(let he=0;he<U.length;he++){let de=U.charCodeAt(he);de<128?K[$++]=de:de<2048?(K[$++]=de>>6|192,K[$++]=63&de|128):55296==(64512&de)&&he+1<U.length&&56320==(64512&U.charCodeAt(he+1))?(de=65536+((1023&de)<<10)+(1023&U.charCodeAt(++he)),K[$++]=de>>18|240,K[$++]=de>>12&63|128,K[$++]=de>>6&63|128,K[$++]=63&de|128):(K[$++]=de>>12|224,K[$++]=de>>6&63|128,K[$++]=63&de|128)}return K},O={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,K){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=K?this.byteToCharMapWebSafe_:this.byteToCharMap_,he=[];for(let de=0;de<U.length;de+=3){const Pe=U[de],Qe=de+1<U.length,ge=Qe?U[de+1]:0,Ve=de+2<U.length,We=Ve?U[de+2]:0;let Ut=(15&ge)<<2|We>>6,En=63&We;Ve||(En=64,Qe||(Ut=64)),he.push($[Pe>>2],$[(3&Pe)<<4|ge>>4],$[Ut],$[En])}return he.join("")},encodeString(U,K){return this.HAS_NATIVE_SUPPORT&&!K?btoa(U):this.encodeByteArray(Q(U),K)},decodeString(U,K){return this.HAS_NATIVE_SUPPORT&&!K?atob(U):function(U){const K=[];let $=0,he=0;for(;$<U.length;){const de=U[$++];if(de<128)K[he++]=String.fromCharCode(de);else if(de>191&&de<224){const Pe=U[$++];K[he++]=String.fromCharCode((31&de)<<6|63&Pe)}else if(de>239&&de<365){const Ve=((7&de)<<18|(63&U[$++])<<12|(63&U[$++])<<6|63&U[$++])-65536;K[he++]=String.fromCharCode(55296+(Ve>>10)),K[he++]=String.fromCharCode(56320+(1023&Ve))}else{const Pe=U[$++],Qe=U[$++];K[he++]=String.fromCharCode((15&de)<<12|(63&Pe)<<6|63&Qe)}}return K.join("")}(this.decodeStringToByteArray(U,K))},decodeStringToByteArray(U,K){this.init_();const $=K?this.charToByteMapWebSafe_:this.charToByteMap_,he=[];for(let de=0;de<U.length;){const Pe=$[U.charAt(de++)],ge=de<U.length?$[U.charAt(de)]:0;++de;const We=de<U.length?$[U.charAt(de)]:64;++de;const Jt=de<U.length?$[U.charAt(de)]:64;if(++de,null==Pe||null==ge||null==We||null==Jt)throw new V;he.push(Pe<<2|ge>>4),64!==We&&(he.push(ge<<4&240|We>>2),64!==Jt&&he.push(We<<6&192|Jt))}return he},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class V extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const A=function(U){const K=Q(U);return O.encodeByteArray(K,!0)},L=function(U){return A(U).replace(/\./g,"")},P=function(U){try{return O.decodeString(U,!0)}catch(K){console.error("base64Decode failed: ",K)}return null};function N(U){return W(void 0,U)}function W(U,K){if(!(K instanceof Object))return K;switch(K.constructor){case Date:return new Date(K.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return K}for(const $ in K)!K.hasOwnProperty($)||!Y($)||(U[$]=W(U[$],K[$]));return U}function Y(U){return"__proto__"!==U}const fe=()=>{try{return function G(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const K=U&&P(U[1]);return K&&JSON.parse(K)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},Ze=()=>{var U;return null===(U=fe())||void 0===U?void 0:U.config},ot=U=>{var K;return null===(K=fe())||void 0===K?void 0:K[`_${U}`]};class wt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((K,$)=>{this.resolve=K,this.reject=$})}wrapCallback(K){return($,he)=>{$?this.reject($):this.resolve(he),"function"==typeof K&&(this.promise.catch(()=>{}),1===K.length?K($):K($,he))}}}function ht(U,K){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const he=K||"demo-project",de=U.iat||0,Pe=U.sub||U.user_id;if(!Pe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Qe=Object.assign({iss:`https://securetoken.google.com/${he}`,aud:he,iat:de,exp:de+3600,auth_time:de,sub:Pe,user_id:Pe,firebase:{sign_in_provider:"custom",identities:{}}},U);return[L(JSON.stringify({alg:"none",type:"JWT"})),L(JSON.stringify(Qe)),""].join(".")}function pt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function mt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pt())}function vt(){var U;const K=null===(U=fe())||void 0===U?void 0:U.forceEnvironment;if("node"===K)return!0;if("browser"===K)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Je(){return typeof window<"u"||st()}function st(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Fe(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function ze(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function jt(){const U=pt();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function yn(){return!0===ae.NODE_CLIENT||!0===ae.NODE_ADMIN}function Le(){return!vt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gt(){try{return"object"==typeof indexedDB}catch{return!1}}function St(){return new Promise((U,K)=>{try{let $=!0;const he="validate-browser-context-for-indexeddb-analytics-module",de=self.indexedDB.open(he);de.onsuccess=()=>{de.result.close(),$||self.indexedDB.deleteDatabase(he),U(!0)},de.onupgradeneeded=()=>{$=!1},de.onerror=()=>{var Pe;K((null===(Pe=de.error)||void 0===Pe?void 0:Pe.message)||"")}}catch($){K($)}})}class on extends Error{constructor(K,$,he){super($),this.code=K,this.customData=he,this.name="FirebaseError",Object.setPrototypeOf(this,on.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,On.prototype.create)}}class On{constructor(K,$,he){this.service=K,this.serviceName=$,this.errors=he}create(K,...$){const he=$[0]||{},de=`${this.service}/${K}`,Pe=this.errors[K],Qe=Pe?function ki(U,K){return U.replace(Ui,($,he)=>{const de=K[he];return null!=de?String(de):`<${he}?>`})}(Pe,he):"Error";return new on(de,`${this.serviceName}: ${Qe} (${de}).`,he)}}const Ui=/\{\$([^}]+)}/g;function Wn(U){return JSON.parse(U)}function ei(U){return JSON.stringify(U)}const Xn=function(U){let K={},$={},he={},de="";try{const Pe=U.split(".");K=Wn(P(Pe[0])||""),$=Wn(P(Pe[1])||""),de=Pe[2],he=$.d||{},delete $.d}catch{}return{header:K,claims:$,data:he,signature:de}},Jn=function(U){const $=Xn(U).claims;return!!$&&"object"==typeof $&&$.hasOwnProperty("iat")},kn=function(U){const K=Xn(U).claims;return"object"==typeof K&&!0===K.admin};function Gt(U,K){return Object.prototype.hasOwnProperty.call(U,K)}function Zt(U,K){if(Object.prototype.hasOwnProperty.call(U,K))return U[K]}function fi(U){for(const K in U)if(Object.prototype.hasOwnProperty.call(U,K))return!1;return!0}function Bi(U,K,$){const he={};for(const de in U)Object.prototype.hasOwnProperty.call(U,de)&&(he[de]=K.call($,U[de],de,U));return he}function gi(U,K){if(U===K)return!0;const $=Object.keys(U),he=Object.keys(K);for(const de of $){if(!he.includes(de))return!1;const Pe=U[de],Qe=K[de];if(Di(Pe)&&Di(Qe)){if(!gi(Pe,Qe))return!1}else if(Pe!==Qe)return!1}for(const de of he)if(!$.includes(de))return!1;return!0}function Di(U){return null!==U&&"object"==typeof U}function Ao(U){const K=[];for(const[$,he]of Object.entries(U))Array.isArray(he)?he.forEach(de=>{K.push(encodeURIComponent($)+"="+encodeURIComponent(de))}):K.push(encodeURIComponent($)+"="+encodeURIComponent(he));return K.length?"&"+K.join("&"):""}function Pr(U){const K={};return U.replace(/^\?/,"").split("&").forEach(he=>{if(he){const[de,Pe]=he.split("=");K[decodeURIComponent(de)]=decodeURIComponent(Pe)}}),K}function Qr(U){const K=U.indexOf("?");if(!K)return"";const $=U.indexOf("#",K);return U.substring(K,$>0?$:void 0)}class zi{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let K=1;K<this.blockSize;++K)this.pad_[K]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(K,$){$||($=0);const he=this.W_;if("string"==typeof K)for(let Jt=0;Jt<16;Jt++)he[Jt]=K.charCodeAt($)<<24|K.charCodeAt($+1)<<16|K.charCodeAt($+2)<<8|K.charCodeAt($+3),$+=4;else for(let Jt=0;Jt<16;Jt++)he[Jt]=K[$]<<24|K[$+1]<<16|K[$+2]<<8|K[$+3],$+=4;for(let Jt=16;Jt<80;Jt++){const Ut=he[Jt-3]^he[Jt-8]^he[Jt-14]^he[Jt-16];he[Jt]=4294967295&(Ut<<1|Ut>>>31)}let We,hn,de=this.chain_[0],Pe=this.chain_[1],Qe=this.chain_[2],ge=this.chain_[3],Ve=this.chain_[4];for(let Jt=0;Jt<80;Jt++){Jt<40?Jt<20?(We=ge^Pe&(Qe^ge),hn=1518500249):(We=Pe^Qe^ge,hn=1859775393):Jt<60?(We=Pe&Qe|ge&(Pe|Qe),hn=2400959708):(We=Pe^Qe^ge,hn=3395469782);const Ut=(de<<5|de>>>27)+We+Ve+hn+he[Jt]&4294967295;Ve=ge,ge=Qe,Qe=4294967295&(Pe<<30|Pe>>>2),Pe=de,de=Ut}this.chain_[0]=this.chain_[0]+de&4294967295,this.chain_[1]=this.chain_[1]+Pe&4294967295,this.chain_[2]=this.chain_[2]+Qe&4294967295,this.chain_[3]=this.chain_[3]+ge&4294967295,this.chain_[4]=this.chain_[4]+Ve&4294967295}update(K,$){if(null==K)return;void 0===$&&($=K.length);const he=$-this.blockSize;let de=0;const Pe=this.buf_;let Qe=this.inbuf_;for(;de<$;){if(0===Qe)for(;de<=he;)this.compress_(K,de),de+=this.blockSize;if("string"==typeof K){for(;de<$;)if(Pe[Qe]=K.charCodeAt(de),++Qe,++de,Qe===this.blockSize){this.compress_(Pe),Qe=0;break}}else for(;de<$;)if(Pe[Qe]=K[de],++Qe,++de,Qe===this.blockSize){this.compress_(Pe),Qe=0;break}}this.inbuf_=Qe,this.total_+=$}digest(){const K=[];let $=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let de=this.blockSize-1;de>=56;de--)this.buf_[de]=255&$,$/=256;this.compress_(this.buf_);let he=0;for(let de=0;de<5;de++)for(let Pe=24;Pe>=0;Pe-=8)K[he]=this.chain_[de]>>Pe&255,++he;return K}}function Qn(U,K){const $=new jn(U,K);return $.subscribe.bind($)}class jn{constructor(K,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{K(this)}).catch(he=>{this.error(he)})}next(K){this.forEachObserver($=>{$.next(K)})}error(K){this.forEachObserver($=>{$.error(K)}),this.close(K)}complete(){this.forEachObserver(K=>{K.complete()}),this.close()}subscribe(K,$,he){let de;if(void 0===K&&void 0===$&&void 0===he)throw new Error("Missing Observer.");de=function mi(U,K){if("object"!=typeof U||null===U)return!1;for(const $ of K)if($ in U&&"function"==typeof U[$])return!0;return!1}(K,["next","error","complete"])?K:{next:K,error:$,complete:he},void 0===de.next&&(de.next=wi),void 0===de.error&&(de.error=wi),void 0===de.complete&&(de.complete=wi);const Pe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?de.error(this.finalError):de.complete()}catch{}}),this.observers.push(de),Pe}unsubscribeOne(K){void 0===this.observers||void 0===this.observers[K]||(delete this.observers[K],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(K){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,K)}sendOne(K,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[K])try{$(this.observers[K])}catch(he){typeof console<"u"&&console.error&&console.error(he)}})}close(K){this.finalized||(this.finalized=!0,void 0!==K&&(this.finalError=K),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wi(){}const sr=function(U,K,$,he){let de;if(he<K?de="at least "+K:he>$&&(de=0===$?"none":"no more than "+$),de)throw new Error(U+" failed: Was called with "+he+(1===he?" argument.":" arguments.")+" Expects "+de+".")};function gr(U,K){return`${U} failed: ${K} argument `}function Lr(U,K,$,he){if((!he||$)&&"function"!=typeof $)throw new Error(gr(U,K)+"must be a valid function.")}function Tr(U,K,$,he){if((!he||$)&&("object"!=typeof $||null===$))throw new Error(gr(U,K)+"must be a valid context object.")}const mo=function(U){const K=[];let $=0;for(let he=0;he<U.length;he++){let de=U.charCodeAt(he);if(de>=55296&&de<=56319){const Pe=de-55296;he++,ui(he<U.length,"Surrogate pair missing trail surrogate."),de=65536+(Pe<<10)+(U.charCodeAt(he)-56320)}de<128?K[$++]=de:de<2048?(K[$++]=de>>6|192,K[$++]=63&de|128):de<65536?(K[$++]=de>>12|224,K[$++]=de>>6&63|128,K[$++]=63&de|128):(K[$++]=de>>18|240,K[$++]=de>>12&63|128,K[$++]=de>>6&63|128,K[$++]=63&de|128)}return K},Jr=function(U){let K=0;for(let $=0;$<U.length;$++){const he=U.charCodeAt($);he<128?K++:he<2048?K+=2:he>=55296&&he<=56319?(K+=4,$++):K+=3}return K};function so(U){return U&&U._delegate?U._delegate:U}},338:(cu,ea,hr)=>{"use strict";function ae(n,t){return Object.is(n,t)}let ui=null,j=!1,Q=1;const v=Symbol("SIGNAL");function O(n){const t=ui;return ui=n,t}const P={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function N(n){if(j)throw new Error("");if(null===ui)return;ui.consumerOnSignalRead(n);const t=ui.nextProducerIndex++;ht(ui),t<ui.producerNode.length&&ui.producerNode[t]!==n&&wt(ui)&&ot(ui.producerNode[t],ui.producerIndexOfThis[t]),ui.producerNode[t]!==n&&(ui.producerNode[t]=n,ui.producerIndexOfThis[t]=wt(ui)?Ze(n,ui,t):0),ui.producerLastReadVersion[t]=n.version}function Y(n){if((!wt(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==Q)){if(!n.producerMustRecompute(n)&&!me(n))return n.dirty=!1,void(n.lastCleanEpoch=Q);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Q}}function G(n){if(void 0===n.liveConsumerNode)return;const t=j;j=!0;try{for(const e of n.liveConsumerNode)e.dirty||Z(e)}finally{j=t}}function ne(){return!1!==ui?.consumerAllowSignalWrites}function Z(n){n.dirty=!0,G(n),n.consumerMarkedDirty?.(n)}function se(n){return n&&(n.nextProducerIndex=0),O(n)}function fe(n,t){if(O(t),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(wt(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)ot(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function me(n){ht(n);for(let t=0;t<n.producerNode.length;t++){const e=n.producerNode[t],i=n.producerLastReadVersion[t];if(i!==e.version||(Y(e),i!==e.version))return!0}return!1}function we(n){if(ht(n),wt(n))for(let t=0;t<n.producerNode.length;t++)ot(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Ze(n,t,e){if(pt(n),0===n.liveConsumerNode.length&&mt(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=Ze(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(e),n.liveConsumerNode.push(t)-1}function ot(n,t){if(pt(n),1===n.liveConsumerNode.length&&mt(n))for(let i=0;i<n.producerNode.length;i++)ot(n.producerNode[i],n.producerIndexOfThis[i]);const e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[t],r=n.liveConsumerNode[t];ht(r),r.producerIndexOfThis[i]=t}}function wt(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function ht(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function pt(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function mt(n){return void 0!==n.producerNode}const Je=Symbol("UNSET"),st=Symbol("COMPUTING"),Fe=Symbol("ERRORED"),ze={...P,value:Je,dirty:!0,error:null,equal:ae,producerMustRecompute:n=>n.value===Je||n.value===st,producerRecomputeValue(n){if(n.value===st)throw new Error("Detected cycle in computations.");const t=n.value;n.value=st;const e=se(n);let i;try{i=n.computation()}catch(r){i=Fe,n.error=r}finally{fe(n,e)}t!==Je&&t!==Fe&&i!==Fe&&n.equal(t,i)?n.value=t:(n.value=i,n.version++)}};let jt=function Dt(){throw new Error};function Tt(){jt()}let Le=null;function bn(n,t){ne()||Tt(),n.equal(n.value,t)||(n.value=t,function Ui(n){n.version++,function W(){Q++}(),G(n),Le?.()}(n))}const ki={...P,equal:ae,value:void 0};const ei=()=>{},Xn={...P,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{null!==n.schedule&&n.schedule(n.ref)},hasRun:!1,cleanupFn:ei};function An(n){return"function"==typeof n}function Jn(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const kn=Jn(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Gt(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class Zt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(An(i))try{i()}catch(o){t=o instanceof kn?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{gi(o)}catch(s){t=t??[],s instanceof kn?t=[...t,...s.errors]:t.push(s)}}if(t)throw new kn(t)}}add(t){var e;if(t&&t!==this)if(this.closed)gi(t);else{if(t instanceof Zt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Gt(e,t)}remove(t){const{_finalizers:e}=this;e&&Gt(e,t),t instanceof Zt&&t._removeParent(this)}}Zt.EMPTY=(()=>{const n=new Zt;return n.closed=!0,n})();const fi=Zt.EMPTY;function Bi(n){return n instanceof Zt||n&&"closed"in n&&An(n.remove)&&An(n.add)&&An(n.unsubscribe)}function gi(n){An(n)?n():n.unsubscribe()}const Di={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},nr={setTimeout(n,t,...e){const{delegate:i}=nr;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=nr;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ao(n){nr.setTimeout(()=>{const{onUnhandledError:t}=Di;if(!t)throw n;t(n)})}function Pr(){}const Qr=jn("C",void 0,void 0);function jn(n,t,e){return{kind:n,value:t,error:e}}let ai=null;function mi(n){if(Di.useDeprecatedSynchronousErrorHandling){const t=!ai;if(t&&(ai={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=ai;if(ai=null,e)throw i}}else n()}class sr extends Zt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Bi(t)&&t.add(this)):this.destination=Wo}static create(t,e,i){return new Tr(t,e,i)}next(t){this.isStopped?Io(function Qn(n){return jn("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Io(function zi(n){return jn("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Io(Qr,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const gr=Function.prototype.bind;function _r(n,t){return gr.call(n,t)}class Lr{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){mo(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){mo(i)}else mo(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){mo(e)}}}class Tr extends sr{constructor(t,e,i){let r;if(super(),An(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&Di.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&_r(t.next,o),error:t.error&&_r(t.error,o),complete:t.complete&&_r(t.complete,o)}):r=t}this.destination=new Lr(r)}}function mo(n){Di.useDeprecatedSynchronousErrorHandling?function wi(n){Di.useDeprecatedSynchronousErrorHandling&&ai&&(ai.errorThrown=!0,ai.error=n)}(n):Ao(n)}function Io(n,t){const{onStoppedNotification:e}=Di;e&&nr.setTimeout(()=>e(n,t))}const Wo={closed:!0,next:Pr,error:function Jr(n){throw n},complete:Pr},oo="function"==typeof Symbol&&Symbol.observable||"@@observable";function To(n){return n}function $o(n){return 0===n.length?To:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let pr=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function U(n){return n&&n instanceof sr||function so(n){return n&&An(n.next)&&An(n.error)&&An(n.complete)}(n)&&Bi(n)}(e)?e:new Tr(e,i,r);return mi(()=>{const{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=Ss(i))((r,o)=>{const s=new Tr({next:c=>{try{e(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[oo](){return this}pipe(...e){return $o(e)(this)}toPromise(e){return new(e=Ss(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=t=>new n(t),n})();function Ss(n){var t;return null!==(t=n??Di.Promise)&&void 0!==t?t:Promise}const K=Jn(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let $=(()=>{class n extends pr{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new he(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new K}next(e){mi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){mi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){mi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?fi:(this.currentObservers=null,o.push(e),new Zt(()=>{this.currentObservers=null,Gt(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new pr;return e.source=this,e}}return n.create=(t,e)=>new he(t,e),n})();class he extends ${constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:fi}}class de extends ${constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function Pe(n){return An(n?.lift)}function Qe(n){return t=>{if(Pe(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ge(n,t,e,i,r){return new Ve(n,t,e,i,r)}class Ve extends sr{constructor(t,e,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(c){try{e(c)}catch(u){t.error(u)}}:super._next,this._error=r?function(c){try{r(c)}catch(u){t.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function We(n,t){return Qe((e,i)=>{let r=0;e.subscribe(ge(i,o=>{i.next(n.call(t,o,r++))}))})}typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const Gu="https://g.co/ng/security#xss";class an extends Error{constructor(t,e){super(function Ml(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function Da(n){return{toString:n}.toString()}const ec="__parameters__";function wc(n,t,e){return Da(()=>{const i=function bd(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return c.annotation=s,c;function c(u,g,w){const T=u.hasOwnProperty(ec)?u[ec]:Object.defineProperty(u,ec,{value:[]})[ec];for(;T.length<=w;)T.push(null);return(T[w]=T[w]||[]).push(s),u}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}const Uo=globalThis;function So(n){for(let t in n)if(n[t]===So)return t;throw Error("Could not find renamed property on target object.")}function kh(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Xo(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Xo).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function xc(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const Yd=So({__forward_ref__:So});function Ir(n){return n.__forward_ref__=Ir,n.toString=function(){return Xo(this())},n}function fr(n){return go(n)?n():n}function go(n){return"function"==typeof n&&n.hasOwnProperty(Yd)&&n.__forward_ref__===Ir}function Nn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function di(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ra(n){return Yn(n,wp)||Yn(n,Bl)}function Yn(n,t){return n.hasOwnProperty(t)?n[t]:null}function Rh(n){return n&&(n.hasOwnProperty(ic)||n.hasOwnProperty(uA))?n[ic]:null}const wp=So({\u0275prov:So}),ic=So({\u0275inj:So}),Bl=So({ngInjectableDef:So}),uA=So({ngInjectorDef:So});class Wt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Nn({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ec(n){return n&&!!n.\u0275providers}const Rs=So({\u0275cmp:So}),Ol=So({\u0275dir:So}),Hc=So({\u0275pipe:So}),qc=So({\u0275mod:So}),Ms=So({\u0275fac:So}),xd=So({__NG_ELEMENT_ID__:So}),Vi=So({__NG_ENV_ID__:So});function Bn(n){return"string"==typeof n?n:null==n?"":String(n)}function xp(n,t){throw new an(-201,!1)}var Li=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Li||{});let ta;function pg(){return ta}function Vs(n){const t=ta;return ta=n,t}function lm(n,t,e){const i=Ra(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Li.Optional?null:void 0!==t?t:void xp()}const qu={},ml="__NG_DI_FLAG__",Bh="ngTempTokenPath",Af=/\n/gm,Ph="__source";let rc;function Ll(n){const t=rc;return rc=n,t}function Ed(n,t=Li.Default){if(void 0===rc)throw new an(-203,!1);return null===rc?lm(n,void 0,t):rc.get(n,t&Li.Optional?null:void 0,t)}function Ct(n,t=Li.Default){return(pg()||Ed)(fr(n),t)}function Ht(n,t=Li.Default){return Ct(n,Ku(t))}function Ku(n){return typeof n>"u"||"number"==typeof n?n:(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Wu(n){const t=[];for(let e=0;e<n.length;e++){const i=fr(n[e]);if(Array.isArray(i)){if(0===i.length)throw new an(900,!1);let r,o=Li.Default;for(let s=0;s<i.length;s++){const c=i[s],u=Ep(c);"number"==typeof u?-1===u?r=c.token:o|=u:r=c}t.push(Ct(r,o))}else t.push(Ct(i))}return t}function Oh(n,t){return n[ml]=t,n.prototype[ml]=t,n}function Ep(n){return n[ml]}const _=Oh(wc("Optional"),8),D=Oh(wc("SkipSelf"),4);function z(n,t){return n.hasOwnProperty(Ms)?n[Ms]:null}function Ce(n,t){n.forEach(e=>Array.isArray(e)?Ce(e,t):t(e))}function Se(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function ke(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function At(n,t,e){let i=rn(n,t);return i>=0?n[1|i]=e:(i=~i,function Ue(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function Ot(n,t){const e=rn(n,t);if(e>=0)return n[1|e]}function rn(n,t){return function un(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<e];if(t===s)return o<<e;s>t?r=o:i=o+1}return~(r<<e)}(n,t,1)}const Cn={},wn=[],Un=new Wt(""),ci=new Wt("",-1),Oi=new Wt("");class Qi{get(t,e=qu){if(e===qu){const i=new Error(`NullInjectorError: No provider for ${Xo(t)}!`);throw i.name="NullInjectorError",i}return e}}var Ni=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Ni||{}),Sr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Sr||{}),oi=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(oi||{});function Ar(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}function br(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const o=e[i++],s=e[i++],c=e[i++];n.setAttribute(t,s,c,o)}else{const o=r,s=e[++i];tr(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),i++}}return i}function er(n){return 3===n||4===n||6===n}function tr(n){return 64===n.charCodeAt(0)}function vr(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||Zi(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function Zi(n,t,e,i,r){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const c=n[o++];if("number"==typeof c){if(c===t){s=-1;break}if(c>t){s=o-1;break}}}for(;o<n.length;){const c=n[o];if("number"==typeof c)break;if(c===e){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const qi="ng-template";function hs(n,t,e,i){let r=0;if(i){for(;r<t.length&&"string"==typeof t[r];r+=2)if("class"===t[r]&&-1!==Ar(t[r+1].toLowerCase(),e,0))return!0}else if(ss(n))return!1;if(r=t.indexOf(1,r),r>-1){let o;for(;++r<t.length&&"string"==typeof(o=t[r]);)if(o.toLowerCase()===e)return!0}return!1}function ss(n){return 4===n.type&&n.value!==qi}function ll(n,t,e){return t===(4!==n.type||e?n.value:qi)}function Ma(n,t,e){let i=4;const r=n.attrs,o=null!==r?function Jd(n){for(let t=0;t<n.length;t++)if(er(n[t]))return t;return n.length}(r):0;let s=!1;for(let c=0;c<t.length;c++){const u=t[c];if("number"!=typeof u){if(!s)if(4&i){if(i=2|1&i,""!==u&&!ll(n,u,e)||""===u&&1===t.length){if(bo(i))return!1;s=!0}}else if(8&i){if(null===r||!hs(n,r,u,e)){if(bo(i))return!1;s=!0}}else{const g=t[++c],w=ws(u,r,ss(n),e);if(-1===w){if(bo(i))return!1;s=!0;continue}if(""!==g){let T;if(T=w>o?"":r[w+1].toLowerCase(),2&i&&g!==T){if(bo(i))return!1;s=!0}}}}else{if(!s&&!bo(i)&&!bo(u))return!1;if(s&&bo(u))continue;s=!1,i=u|1&i}}return bo(i)||s}function bo(n){return!(1&n)}function ws(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){const s=t[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let c=t[++r];for(;"string"==typeof c;)c=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function cl(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function gl(n,t,e=!1){for(let i=0;i<t.length;i++)if(Ma(n,t[i],e))return!0;return!1}function wu(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function Nl(n,t){return n?":not("+t.trim()+")":t}function gf(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&i){const c=n[++e];r+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!bo(s)&&(t+=Nl(o,r),r=""),i=s,o=o||!bo(i);e++}return""!==r&&(t+=Nl(o,r)),t}function Ii(n){return Da(()=>{const t=th(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Ni.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Sr.Emulated,styles:n.styles||wn,_:null,schemas:n.schemas||null,tView:null,id:""};pA(e);const i=n.dependencies;return e.directiveDefs=Fh(i,!1),e.pipeDefs=Fh(i,!0),e.id=function Lh(n){let t=0;const e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of e)t=Math.imul(31,t)+r.charCodeAt(0)|0;return t+=2147483648,"c"+t}(e),e})}function Cd(n){return Nr(n)||cs(n)}function Xu(n){return null!==n}function bi(n){return Da(()=>({type:n.type,bootstrap:n.bootstrap||wn,declarations:n.declarations||wn,imports:n.imports||wn,exports:n.exports||wn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Tc(n,t){if(null==n)return Cn;const e={};for(const i in n)if(n.hasOwnProperty(i)){const r=n[i];let o,s,c=oi.None;Array.isArray(r)?(c=r[0],o=r[1],s=r[2]??o):(o=r,s=r),t?(e[o]=c!==oi.None?[i,c]:i,t[o]=s):e[o]=i}return e}function zn(n){return Da(()=>{const t=th(n);return pA(t),t})}function Bs(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Nr(n){return n[Rs]||null}function cs(n){return n[Ol]||null}function wr(n){return n[Hc]||null}function Yo(n,t){const e=n[qc]||null;if(!e&&!0===t)throw new Error(`Type ${Xo(n)} does not have '\u0275mod' property.`);return e}function th(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||Cn,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||wn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Tc(n.inputs,t),outputs:Tc(n.outputs),debugInfo:null}}function pA(n){n.features?.forEach(t=>t(n))}function Fh(n,t){if(!n)return null;const e=t?wr:Cd;return()=>("function"==typeof n?n():n).map(i=>e(i)).filter(Xu)}function Nh(n){return{\u0275providers:n}}function Cp(...n){return{\u0275providers:nh(0,n),\u0275fromNgModule:!0}}function nh(n,...t){const e=[],i=new Set;let r;const o=s=>{e.push(s)};return Ce(t,s=>{const c=s;Yu(c,o,[],i)&&(r||=[],r.push(c))}),void 0!==r&&fg(r,o),e}function fg(n,t){for(let e=0;e<n.length;e++){const{ngModule:i,providers:r}=n[e];um(r,o=>{t(o,i)})}}function Yu(n,t,e,i){if(!(n=fr(n)))return!1;let r=null,o=Rh(n);const s=!o&&Nr(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const u=n.ngModule;if(o=Rh(u),!o)return!1;r=u}const c=i.has(r);if(s){if(c)return!1;if(i.add(r),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const g of u)Yu(g,t,e,i)}}else{if(!o)return!1;{if(null!=o.imports&&!c){let g;i.add(r);try{Ce(o.imports,w=>{Yu(w,t,e,i)&&(g||=[],g.push(w))})}finally{}void 0!==g&&fg(g,t)}if(!c){const g=z(r)||(()=>new r);t({provide:r,useFactory:g,deps:wn},r),t({provide:Oi,useValue:r,multi:!0},r),t({provide:Un,useValue:()=>Ct(r),multi:!0},r)}const u=o.providers;if(null!=u&&!c){const g=n;um(u,w=>{t(w,g)})}}}return r!==n&&void 0!==n.providers}function um(n,t){for(let e of n)Ec(e)&&(e=e.\u0275providers),Array.isArray(e)?um(e,t):t(e)}const j_=So({provide:String,useValue:So});function dm(n){return null!==n&&"object"==typeof n&&j_ in n}function Ip(n){return"function"==typeof n}const G_=new Wt(""),Tp={},mg={};let ih;function Sp(){return void 0===ih&&(ih=new Qi),ih}class oc{}class kp extends oc{get destroyed(){return this._destroyed}constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,K_(t,s=>this.processProvider(s)),this.records.set(ci,Uh(void 0,this)),r.has("environment")&&this.records.set(oc,Uh(void 0,this));const o=this.records.get(G_);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Oi,wn,Li.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=O(null);try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),O(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=Ll(this),i=Vs(void 0);try{return t()}finally{Ll(e),Vs(i)}}get(t,e=qu,i=Li.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Vi))return t[Vi](this);i=Ku(i);const o=Ll(this),s=Vs(void 0);try{if(!(i&Li.SkipSelf)){let u=this.records.get(t);if(void 0===u){const g=function fA(n){return"function"==typeof n||"object"==typeof n&&n instanceof Wt}(t)&&Ra(t);u=g&&this.injectableDefInScope(g)?Uh(H_(t),Tp):null,this.records.set(t,u)}if(null!=u)return this.hydrate(t,u)}return(i&Li.Self?Sp():this.parent).get(t,e=i&Li.Optional&&e===qu?null:e)}catch(c){if("NullInjectorError"===c.name){if((c[Bh]=c[Bh]||[]).unshift(Xo(t)),o)throw c;return function h(n,t,e,i){const r=n[Bh];throw t[Ph]&&r.unshift(t[Ph]),n.message=function f(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Xo(t);if(Array.isArray(t))r=t.map(Xo).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let c=t[s];o.push(s+":"+("string"==typeof c?JSON.stringify(c):Xo(c)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(Af,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[Bh]=null,n}(c,t,"R3InjectorError",this.source)}throw c}finally{Vs(s),Ll(o)}}resolveInjectorInitializers(){const t=O(null),e=Ll(this),i=Vs(void 0);try{const o=this.get(Un,wn,Li.Self);for(const s of o)s()}finally{Ll(e),Vs(i),O(t)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(Xo(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new an(205,!1)}processProvider(t){let e=Ip(t=fr(t))?t:fr(t&&t.provide);const i=function zy(n){return dm(n)?Uh(void 0,n.useValue):Uh(Gy(n),Tp)}(t);if(!Ip(t)&&!0===t.multi){let r=this.records.get(e);r||(r=Uh(void 0,Tp,!0),r.factory=()=>Wu(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){const i=O(null);try{return e.value===Tp&&(e.value=mg,e.value=e.factory()),"object"==typeof e.value&&e.value&&function K1(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{O(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;const e=fr(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function H_(n){const t=Ra(n),e=null!==t?t.factory:z(n);if(null!==e)return e;if(n instanceof Wt)throw new an(204,!1);if(n instanceof Function)return function q1(n){if(n.length>0)throw new an(204,!1);const e=function cA(n){return n&&(n[wp]||n[Bl])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new an(204,!1)}function Gy(n,t,e){let i;if(Ip(n)){const r=fr(n);return z(r)||H_(r)}if(dm(n))i=()=>fr(n.useValue);else if(function z_(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Wu(n.deps||[]));else if(function jy(n){return!(!n||!n.useExisting)}(n))i=()=>Ct(fr(n.useExisting));else{const r=fr(n&&(n.useClass||n.provide));if(!function q_(n){return!!n.deps}(n))return z(r)||H_(r);i=()=>new r(...Wu(n.deps))}return i}function Uh(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function K_(n,t){for(const e of n)Array.isArray(e)?K_(e,t):e&&Ec(e)?K_(e.\u0275providers,t):t(e)}function Go(n,t){n instanceof kp&&n.assertNotDestroyed();const i=Ll(n),r=Vs(void 0);try{return t()}finally{Ll(i),Vs(r)}}function hm(){return void 0!==pg()||null!=function cm(){return rc}()}function pm(n){if(!hm())throw new an(-203,!1)}const Vo=0,ii=1,xr=2,Ba=3,Zu=4,qa=5,Ka=6,gm=7,ps=8,ba=9,$c=10,Fr=11,mA=12,yf=13,gA=14,Ps=15,Id=16,sc=17,rh=18,_A=19,Y1=20,Ju=21,Td=22,ed=23,lr=25,_m=1,xu=7,vA=9,Ws=10;var ym=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(ym||{});function yl(n){return Array.isArray(n)&&"object"==typeof n[_m]}function ul(n){return Array.isArray(n)&&!0===n[_m]}function X_(n){return!!(4&n.flags)}function bf(n){return n.componentOffset>-1}function _g(n){return!(1&~n.flags)}function td(n){return!!n.template}function bm(n){return!!(512&n[xr])}class Ky{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function xm(n,t,e,i){null!==t?t.applyValueToInputSignal(t,i):n[e]=i}function Qs(){return xf}function xf(n){return n.type.prototype.ngOnChanges&&(n.setInput=ac),Em}function Em(){const n=ns(this),t=n?.current;if(t){const e=n.previous;if(e===Cn)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function ac(n,t,e,i,r){const o=this.declaredInputs[i],s=ns(n)||function Bp(n,t){return n[Ef]=t}(n,{previous:Cn,current:null}),c=s.current||(s.current={}),u=s.previous,g=u[o];c[o]=new Ky(g&&g.currentValue,e,u===Cn),xm(n,t,r,e)}Qs.ngInherit=!0;const Ef="__ngSimpleChanges__";function ns(n){return n[Ef]||null}const Eu=function(n,t,e){},Cm="svg";function Po(n){for(;Array.isArray(n);)n=n[Vo];return n}function Xc(n,t){return Po(t[n])}function lc(n,t){return Po(t[n.index])}function oh(n,t){return n.data[t]}function Qh(n,t){return n[t]}function kc(n,t){const e=t[n];return yl(e)?e:e[Vo]}function Tm(n){return!(128&~n[xr])}function Cu(n,t){return null==t?null:n[t]}function Sd(n){n[sc]=0}function If(n){1024&n[xr]||(n[xr]|=1024,Tm(n)&&Tf(n))}function wA(n){return!!(9216&n[xr]||n[ed]?.dirty)}function wg(n){n[$c].changeDetectionScheduler?.notify(7),64&n[xr]&&(n[xr]|=1024),wA(n)&&Tf(n)}function Tf(n){n[$c].changeDetectionScheduler?.notify(0);let t=nd(n);for(;null!==t&&!(8192&t[xr])&&(t[xr]|=8192,Tm(t));)t=nd(t)}function Sf(n,t){if(!(256&~n[xr]))throw new an(911,!1);null===n[Ju]&&(n[Ju]=[]),n[Ju].push(t)}function nd(n){const t=n[Ba];return ul(t)?t[Ba]:t}const kr={lFrame:EA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let x=!1;function Vt(){return kr.bindingsEnabled}function In(){return null!==kr.skipHydrationRootTNode}function vn(){return kr.lFrame.lView}function Yr(){return kr.lFrame.tView}function mn(n){return kr.lFrame.contextLView=n,n[ps]}function pn(n){return kr.lFrame.contextLView=null,n}function Qo(){let n=wo();for(;null!==n&&64===n.type;)n=n.parent;return n}function wo(){return kr.lFrame.currentTNode}function Yc(n,t){const e=kr.lFrame;e.currentTNode=n,e.isParent=t}function sh(){return kr.lFrame.isParent}function Eg(){kr.lFrame.isParent=!1}function iI(){return x}function rI(n){x=n}function Zc(){const n=kr.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function ah(){return kr.lFrame.bindingIndex++}function lh(n){const t=kr.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function Cg(n,t){const e=kr.lFrame;e.bindingIndex=e.bindingRootIndex=n,ra(t)}function ra(n){kr.lFrame.currentDirectiveIndex=n}function us(n){const t=kr.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function Jy(){return kr.lFrame.currentQueryIndex}function J_(n){kr.lFrame.currentQueryIndex=n}function sI(n){const t=n[ii];return 2===t.type?t.declTNode:1===t.type?n[qa]:null}function iw(n,t,e){if(e&Li.SkipSelf){let r=t,o=n;for(;!(r=r.parent,null!==r||e&Li.Host||(r=sI(o),null===r||(o=o[gA],10&r.type))););if(null===r)return!1;t=r,n=o}const i=kr.lFrame=t0();return i.currentTNode=t,i.lView=n,!0}function e0(n){const t=t0(),e=n[ii];kr.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function t0(){const n=kr.lFrame,t=null===n?null:n.child;return null===t?EA(n):t}function EA(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function CA(){const n=kr.lFrame;return kr.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const rw=CA;function oa(){const n=CA();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function sa(){return kr.lFrame.selectedIndex}function Op(n){kr.lFrame.selectedIndex=n}function xs(){const n=kr.lFrame;return oh(n.tView,n.selectedIndex)}function wa(){kr.lFrame.currentNamespace=Cm}function ch(){!function aI(){kr.lFrame.currentNamespace=null}()}let lI=!0;function aa(){return lI}function Rc(n){lI=n}function a(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:g,ngOnDestroy:w}=o;s&&(n.contentHooks??=[]).push(-e,s),c&&((n.contentHooks??=[]).push(e,c),(n.contentCheckHooks??=[]).push(e,c)),u&&(n.viewHooks??=[]).push(-e,u),g&&((n.viewHooks??=[]).push(e,g),(n.viewCheckHooks??=[]).push(e,g)),null!=w&&(n.destroyHooks??=[]).push(e,w)}}function l(n,t,e){b(n,t,3,e)}function d(n,t,e,i){(3&n[xr])===e&&b(n,t,e,i)}function m(n,t){let e=n[xr];(3&e)===t&&(e&=16383,e+=1,n[xr]=e)}function b(n,t,e,i){const o=i??-1,s=t.length-1;let c=0;for(let u=void 0!==i?65535&n[sc]:0;u<s;u++)if("number"==typeof t[u+1]){if(c=t[u],null!=i&&c>=i)break}else t[u]<0&&(n[sc]+=65536),(c<o||-1==o)&&(S(n,e,t,u),n[sc]=(4294901760&n[sc])+u+2),u++}function E(n,t){Eu(4,n,t);const e=O(null);try{t.call(n)}finally{O(e),Eu(5,n,t)}}function S(n,t,e,i){const r=e[i]<0,o=e[i+1],c=n[r?-e[i]:e[i]];r?n[xr]>>14<n[sc]>>16&&(3&n[xr])===t&&(n[xr]+=16384,E(c,o)):E(c,o)}const B=-1;class q{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}const dt={};class it{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=Ku(i);const r=this.injector.get(t,dt,i);return r!==dt||e===dt?r:this.parentInjector.get(t,e,i)}}function Bt(n){return n!==B}function Nt(n){return 32767&n}function nn(n,t){let e=function $t(n){return n>>16}(n),i=t;for(;e>0;)i=i[gA],e--;return i}let Vn=!0;function ti(n){const t=Vn;return Vn=n,t}const hi=255,Hi=5;let pi=0;const yr={};function xi(n,t){const e=Dr(n,t);if(-1!==e)return e;const i=t[ii];i.firstCreatePass&&(n.injectorIndex=t.length,Ur(i.data,n),Ur(t,null),Ur(i.blueprint,null));const r=zr(n,t),o=n.injectorIndex;if(Bt(r)){const s=Nt(r),c=nn(r,t),u=c[ii].data;for(let g=0;g<8;g++)t[o+g]=c[s+g]|u[s+g]}return t[o+8]=r,o}function Ur(n,t){n.push(0,0,0,0,0,0,0,0,t)}function Dr(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function zr(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=bl(r),null===i)return B;if(e++,r=r[gA],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return B}function Ji(n,t,e){!function rr(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(xd)&&(i=e[xd]),null==i&&(i=e[xd]=pi++);const r=i&hi;t.data[n+(r>>Hi)]|=1<<r}(n,t,e)}function fs(n,t,e){if(e&Li.Optional||void 0!==n)return n;xp()}function js(n,t,e,i){if(e&Li.Optional&&void 0===i&&(i=null),!(e&(Li.Self|Li.Host))){const r=n[ba],o=Vs(void 0);try{return r?r.get(t,i,e&Li.Optional):lm(t,i,e&Li.Optional)}finally{Vs(o)}}return fs(i,0,e)}function Os(n,t,e,i=Li.Default,r){if(null!==n){if(2048&t[xr]&&!(i&Li.Self)){const s=function Mc(n,t,e,i,r){let o=n,s=t;for(;null!==o&&null!==s&&2048&s[xr]&&!(512&s[xr]);){const c=As(o,s,e,i|Li.Self,yr);if(c!==yr)return c;let u=o.parent;if(!u){const g=s[Y1];if(g){const w=g.get(e,yr,i);if(w!==yr)return w}u=bl(s),s=s[gA]}o=u}return r}(n,t,e,i,yr);if(s!==yr)return s}const o=As(n,t,e,i,yr);if(o!==yr)return o}return js(t,e,i,r)}function As(n,t,e,i,r){const o=function cc(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(xd)?n[xd]:void 0;return"number"==typeof t?t>=0?t&hi:is:t}(e);if("function"==typeof o){if(!iw(t,n,i))return i&Li.Host?fs(r,0,i):js(t,e,i,r);try{let s;if(s=o(i),null!=s||i&Li.Optional)return s;xp()}finally{rw()}}else if("number"==typeof o){let s=null,c=Dr(n,t),u=B,g=i&Li.Host?t[Ps][qa]:null;for((-1===c||i&Li.SkipSelf)&&(u=-1===c?zr(n,t):t[c+8],u!==B&&Ul(i,!1)?(s=t[ii],c=Nt(u),t=nn(u,t)):c=-1);-1!==c;){const w=t[ii];if($a(o,c,w.data)){const T=$s(c,t,e,s,i,g);if(T!==yr)return T}u=t[c+8],u!==B&&Ul(i,t[ii].data[c+8]===g)&&$a(o,c,t)?(s=w,c=Nt(u),t=nn(u,t)):c=-1}}return r}function $s(n,t,e,i,r,o){const s=t[ii],c=s.data[n+8],w=la(c,s,e,null==i?bf(c)&&Vn:i!=s&&!!(3&c.type),r&Li.Host&&o===c);return null!==w?Fs(t,s,w,c):yr}function la(n,t,e,i,r){const o=n.providerIndexes,s=t.data,c=1048575&o,u=n.directiveStart,w=o>>20,F=r?c+w:n.directiveEnd;for(let H=i?c:c+w;H<F;H++){const ee=s[H];if(H<u&&e===ee||H>=u&&ee.type===e)return H}if(r){const H=s[u];if(H&&td(H)&&H.type===e)return u}return null}function Fs(n,t,e,i){let r=n[e];const o=t.data;if(function J(n){return n instanceof q}(r)){const s=r;s.resolving&&function Ga(n,t){throw t&&t.join(" > "),new an(-200,n)}(function ko(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Bn(n)}(o[e]));const c=ti(s.canSeeViewProviders);s.resolving=!0;const g=s.injectImpl?Vs(s.injectImpl):null;iw(n,i,Li.Default);try{r=n[e]=s.factory(void 0,o,n,i),t.firstCreatePass&&e>=i.directiveStart&&function cI(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const s=xf(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}r&&(e.preOrderHooks??=[]).push(0-n,r),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}(e,o[e],t)}finally{null!==g&&Vs(g),ti(c),s.resolving=!1,rw()}}return r}function $a(n,t,e){return!!(e[t+(n>>Hi)]&1<<n)}function Ul(n,t){return!(n&Li.Self||n&Li.Host&&t)}class ar{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return Os(this._tNode,this._lView,t,Ku(i),e)}}function is(){return new ar(Qo(),vn())}function Fi(n){return Da(()=>{const t=n.prototype.constructor,e=t[Ms]||io(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[Ms]||io(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function io(n){return go(n)?()=>{const t=io(fr(n));return t&&t()}:z(n)}function bl(n){const t=n[ii],e=t.type;return 2===e?t.declTNode:1===e?n[qa]:null}function _o(n){return function xo(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const o=e[r];if(er(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(o===t)return e[r+1];r+=2}}}return null}(Qo(),n)}function nv(n,t=null,e=null,i){const r=km(n,t,e,i);return r.resolveInjectorInitializers(),r}function km(n,t=null,e=null,i,r=new Set){const o=[e||wn,Cp(n)];return i=i||("object"==typeof n?void 0:Xo(n)),new kp(o,t||Sp(),i||null,r)}class ho{static#e=this.THROW_IF_NOT_FOUND=qu;static#t=this.NULL=new Qi;static create(t,e){if(Array.isArray(t))return nv({name:""},e,t,"");{const i=t.name??"";return nv({name:i},t.parent,t.providers,i)}}static#n=this.\u0275prov=Nn({token:ho,providedIn:"any",factory:()=>Ct(ci)});static#i=this.__NG_ELEMENT_ID__=-1}new Wt("").__NG_ELEMENT_ID__=n=>{const t=Qo();if(null===t)throw new an(204,!1);if(2&t.type)return t.value;if(n&Li.Optional)return null;throw new an(204,!1)};function Np(n){return n.ngOriginalError}let Up=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=o0;static#t=this.__NG_ENV_ID__=e=>e}return n})();class r0 extends Up{constructor(t){super(),this._lView=t}onDestroy(t){return Sf(this._lView,t),()=>function xg(n,t){if(null===n[Ju])return;const e=n[Ju].indexOf(t);-1!==e&&n[Ju].splice(e,1)}(this._lView,t)}}function o0(){return new r0(vn())}let Md=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new de(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275prov=Nn({token:n,providedIn:"root",factory:()=>new n})}return n})();const ni=class a0 extends ${constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,hm()&&(this.destroyRef=Ht(Up,{optional:!0})??void 0,this.pendingTasks=Ht(Md,{optional:!0})??void 0)}emit(t){const e=O(null);try{super.next(t)}finally{O(e)}}subscribe(t,e,i){let r=t,o=e||(()=>null),s=i;if(t&&"object"==typeof t){const u=t;r=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));const c=super.subscribe({next:r,error:o,complete:s});return t instanceof Zt&&t.add(c),c}wrapInTimeout(t){return e=>{const i=this.pendingTasks?.add();setTimeout(()=>{t(e),void 0!==i&&this.pendingTasks?.remove(i)})}}};function SA(...n){}function Dg(n){let t,e;function i(){n=SA;try{void 0!==e&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(e),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),i()}),"function"==typeof requestAnimationFrame&&(e=requestAnimationFrame(()=>{n(),i()})),()=>i()}function rv(n){return queueMicrotask(()=>n()),()=>{n=SA}}class Ri{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ni(!1),this.onMicrotaskEmpty=new ni(!1),this.onStable=new ni(!1),this.onError=new ni(!1),typeof Zone>"u")throw new an(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.callbackScheduled=!1,function sv(n){const t=()=>{!function Rm(n){n.isCheckStableRunning||n.callbackScheduled||(n.callbackScheduled=!0,Zone.root.run(()=>{Dg(()=>{n.callbackScheduled=!1,kA(n),n.isCheckStableRunning=!0,Dm(n),n.isCheckStableRunning=!1})}),kA(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,c)=>{if(function uI(n){return dI(n,"__ignore_ng_zone__")}(c))return e.invokeTask(r,o,s,c);try{return l0(n),e.invokeTask(r,o,s,c)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),aw(n)}},onInvoke:(e,i,r,o,s,c,u)=>{try{return l0(n),e.invoke(r,o,s,c,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!function lw(n){return dI(n,"__scheduler_tick__")}(c)&&t(),aw(n)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,kA(n),Dm(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ri.isInAngularZone())throw new an(909,!1)}static assertNotInAngularZone(){if(Ri.isInAngularZone())throw new an(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,Rg,SA,SA);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const Rg={};function Dm(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function kA(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&!0===n.callbackScheduled)}function l0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function aw(n){n._nesting--,Dm(n)}class av{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ni,this.onMicrotaskEmpty=new ni,this.onStable=new ni,this.onError=new ni}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}function dI(n,t){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0]?.data?.[t]}class Do{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&Np(t);for(;e&&Np(e);)e=Np(e);return e||null}}const jh=new Wt("",{providedIn:"root",factory:()=>{const n=Ht(Ri),t=Ht(Do);return e=>n.runOutsideAngular(()=>t.handleError(e))}});function c0(){return Vp(Qo(),vn())}function Vp(n,t){return new or(lc(n,t))}let or=(()=>{class n{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=c0}return n})();function cv(n){return n instanceof or?n.nativeElement:n}function uw(){return this._results[Symbol.iterator]()}class Bm{static#e=Symbol.iterator;get changes(){return this._changes??=new ni}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const e=Bm.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=uw)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;const i=function ue(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function ie(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(this._results,i,e))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function uv(n){return!(128&~n.flags)}const Jc=new Map;let u0=0;const Mf="__ngContext__";function Bc(n,t){yl(t)?(n[Mf]=t[_A],function Qp(n){Jc.set(n[_A],n)}(t)):n[Mf]=t}function Mg(n){return hv(n[mA])}function mw(n){return hv(n[Zu])}function hv(n){for(;null!==n&&!ul(n);)n=n[Zu];return n}let JD;const m0=new Wt("",{providedIn:"root",factory:()=>bte}),bte="ng",X3=new Wt(""),Pa=new Wt("",{providedIn:"platform",factory:()=>"unknown"}),eu=new Wt(""),eR=new Wt("",{providedIn:"root",factory:()=>function Bg(){if(void 0!==JD)return JD;if(typeof document<"u")return document;throw new an(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Y3=()=>null;function aR(n,t,e=!1){return Y3(n,t,e)}const s5=new Wt("",{providedIn:"root",factory:()=>!1});let PI,OI;function v0(n){return function hR(){if(void 0===PI&&(PI=null,Uo.trustedTypes))try{PI=Uo.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return PI}()?.createHTML(n)||n}function d5(n){return function pR(){if(void 0===OI&&(OI=null,Uo.trustedTypes))try{OI=Uo.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return OI}()?.createScriptURL(n)||n}class Av{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Gu})`}}class Ote extends Av{getTypeName(){return"HTML"}}class Fte extends Av{getTypeName(){return"Style"}}class Lte extends Av{getTypeName(){return"Script"}}class Nte extends Av{getTypeName(){return"URL"}}class Ute extends Av{getTypeName(){return"ResourceURL"}}function zh(n){return n instanceof Av?n.changingThisBreaksApplicationSecurity:n}function RA(n,t){const e=function Vte(n){return n instanceof Av&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${Gu})`)}return e===t}class qte{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(v0(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class Kte{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=v0(t),e}}const $te=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function FI(n){return(n=String(n)).match($te)?n:"unsafe:"+n}function Lm(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function Ew(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const p5=Lm("area,br,col,hr,img,wbr"),f5=Lm("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),A5=Lm("rp,rt"),fR=Ew(p5,Ew(f5,Lm("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ew(A5,Lm("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ew(A5,f5)),AR=Lm("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),m5=Ew(AR,Lm("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Lm("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Xte=Lm("script,style,template");class Yte{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0,r=[];for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)r.push(e),e=ene(e);else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=Jte(e);if(o){e=o;break}e=r.pop()}return this.buf.join("")}startElement(t){const e=g5(t).toLowerCase();if(!fR.hasOwnProperty(e))return this.sanitizedSomething=!0,!Xte.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,c=s.toLowerCase();if(!m5.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let u=o.value;AR[c]&&(u=FI(u)),this.buf.push(" ",s,'="',v5(u),'"')}return this.buf.push(">"),!0}endElement(t){const e=g5(t).toLowerCase();fR.hasOwnProperty(e)&&!p5.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(v5(t))}}function Jte(n){const t=n.nextSibling;if(t&&n!==t.previousSibling)throw _5(t);return t}function ene(n){const t=n.firstChild;if(t&&function Zte(n,t){return(n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(n,t))throw _5(t);return t}function g5(n){const t=n.nodeName;return"string"==typeof t?t:"FORM"}function _5(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}const tne=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,nne=/([^\#-~ |!])/g;function v5(n){return n.replace(/&/g,"&amp;").replace(tne,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(nne,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let LI;function y5(n,t){let e=null;try{LI=LI||function h5(n){const t=new Kte(n);return function Wte(){try{return!!(new window.DOMParser).parseFromString(v0(""),"text/html")}catch{return!1}}()?new qte(t):t}(n);let i=t?String(t):"";e=LI.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=LI.getInertBodyElement(i)}while(i!==o);return v0((new Yte).sanitizeChildren(mR(e)||e))}finally{if(e){const i=mR(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function mR(n){return"content"in n&&function ine(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Tu=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Tu||{});function y0(n){const t=Cw();return t?t.sanitize(Tu.URL,n)||"":RA(n,"URL")?zh(n):FI(Bn(n))}function b5(n){const t=Cw();if(t)return d5(t.sanitize(Tu.RESOURCE_URL,n)||"");if(RA(n,"ResourceURL"))return d5(zh(n));throw new an(904,!1)}function Cw(){const n=vn();return n&&n[$c].sanitizer}const une=/^>|^->|<!--|-->|--!>|<!-$/g,dne=/(<|>)/g,hne="\u200b$1\u200b";function T5(n){return n.ownerDocument}function Gh(n){return n instanceof Function?n():n}function uh(n){return"browser"===(n??Ht(ho)).get(Pa)}var Pg=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Pg||{});let vR;function yR(n,t){return vR(n,t)}function w0(n,t,e,i,r){if(null!=i){let o,s=!1;ul(i)?o=i:yl(i)&&(s=!0,i=i[Vo]);const c=Po(i);0===n&&null!==e?null==r?F5(t,e,c):mv(t,e,c,r||null,!0):1===n&&null!==e?mv(t,e,c,r||null,!0):2===n?function Tw(n,t,e){const i=jI(n,t);i&&function kne(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,c,s):3===n&&t.destroyNode(c),null!=o&&function Mne(n,t,e,i,r){const o=e[xu];o!==Po(e)&&w0(t,n,i,o,r);for(let c=Ws;c<e.length;c++){const u=e[c];GI(u[ii],u,n,t,i,o)}}(t,n,o,e,r)}}function wR(n,t){return n.createComment(function x5(n){return n.replace(une,t=>t.replace(dne,hne))}(t))}function VI(n,t,e){return n.createElement(t,e)}function B5(n,t){t[$c].changeDetectionScheduler?.notify(8),GI(n,t,t[Fr],2,null,null)}function P5(n,t){const e=n[vA],i=t[Ba];(yl(i)||t[Ps]!==i[Ba][Ps])&&(n[xr]|=ym.HasTransplantedViews),null===e?n[vA]=[t]:e.push(t)}function xR(n,t){const e=n[vA],i=e.indexOf(t);e.splice(i,1)}function Iw(n,t){if(n.length<=Ws)return;const e=Ws+t,i=n[e];if(i){const r=i[Id];null!==r&&r!==n&&xR(r,i),t>0&&(n[e-1][Zu]=i[Zu]);const o=ke(n,Ws+t);!function xne(n,t){B5(n,t),t[Vo]=null,t[qa]=null}(i[ii],i);const s=o[rh];null!==s&&s.detachView(o[ii]),i[Ba]=null,i[Zu]=null,i[xr]&=-129}return i}function QI(n,t){if(!(256&t[xr])){const e=t[Fr];e.destroyNode&&GI(n,t,e,3,null,null),function Cne(n){let t=n[mA];if(!t)return ER(n[ii],n);for(;t;){let e=null;if(yl(t))e=t[mA];else{const i=t[Ws];i&&(e=i)}if(!e){for(;t&&!t[Zu]&&t!==n;)yl(t)&&ER(t[ii],t),t=t[Ba];null===t&&(t=n),yl(t)&&ER(t[ii],t),e=t&&t[Zu]}t=e}}(t)}}function ER(n,t){if(256&t[xr])return;const e=O(null);try{t[xr]&=-129,t[xr]|=256,t[ed]&&we(t[ed]),function Sne(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof q)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const c=r[o[s]],u=o[s+1];Eu(4,c,u);try{u.call(c)}finally{Eu(5,c,u)}}else{Eu(4,r,o);try{o.call(r)}finally{Eu(5,r,o)}}}}}(n,t),function Tne(n,t){const e=n.cleanup,i=t[gm];if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else e[o].call(i[e[o+1]]);null!==i&&(t[gm]=null);const r=t[Ju];if(null!==r){t[Ju]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,t),1===t[ii].type&&t[Fr].destroy();const i=t[Id];if(null!==i&&ul(t[Ba])){i!==t[Ba]&&xR(i,t);const r=t[rh];null!==r&&r.detachView(n)}!function gI(n){Jc.delete(n[_A])}(t)}finally{O(e)}}function CR(n,t,e){return function O5(n,t,e){let i=t;for(;null!==i&&168&i.type;)i=(t=i).parent;if(null===i)return e[Vo];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===Sr.None||o===Sr.Emulated)return null}return lc(i,e)}}(n,t.parent,e)}function mv(n,t,e,i,r){n.insertBefore(t,e,i,r)}function F5(n,t,e){n.appendChild(t,e)}function L5(n,t,e,i,r){null!==i?mv(n,t,e,i,r):F5(n,t,e)}function jI(n,t){return n.parentNode(t)}function N5(n,t,e){return V5(n,t,e)}let IR,V5=function U5(n,t,e){return 40&n.type?lc(n,e):null};function zI(n,t,e,i){const r=CR(n,i,t),o=t[Fr],c=N5(i.parent||t[qa],i,t);if(null!=r)if(Array.isArray(e))for(let u=0;u<e.length;u++)L5(o,r,e[u],c,!1);else L5(o,r,e,c,!1);void 0!==IR&&IR(o,i,t,e,r)}function gv(n,t){if(null!==t){const e=t.type;if(3&e)return lc(t,n);if(4&e)return TR(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return gv(n,i);{const r=n[t.index];return ul(r)?TR(-1,r):Po(r)}}if(128&e)return gv(n,t.next);if(32&e)return yR(t,n)()||Po(n[t.index]);{const i=j5(n,t);return null!==i?Array.isArray(i)?i[0]:gv(nd(n[Ps]),i):gv(n,t.next)}}return null}function j5(n,t){return null!==t?n[Ps][qa].projection[t.projection]:null}function TR(n,t){const e=Ws+n+1;if(e<t.length){const i=t[e],r=i[ii].firstChild;if(null!==r)return gv(i,r)}return t[xu]}function SR(n,t,e,i,r,o,s){for(;null!=e;){if(128===e.type){e=e.next;continue}const c=i[e.index],u=e.type;if(s&&0===t&&(c&&Bc(Po(c),i),e.flags|=2),32&~e.flags)if(8&u)SR(n,t,e.child,i,r,o,!1),w0(t,n,r,c,o);else if(32&u){const g=yR(e,i);let w;for(;w=g();)w0(t,n,r,w,o);w0(t,n,r,c,o)}else 16&u?G5(n,t,i,e,r,o):w0(t,n,r,c,o);e=s?e.projectionNext:e.next}}function GI(n,t,e,i,r,o){SR(e,i,n.firstChild,t,r,o,!1)}function G5(n,t,e,i,r,o){const s=e[Ps],u=s[qa].projection[i.projection];if(Array.isArray(u))for(let g=0;g<u.length;g++)w0(t,n,r,u[g],o);else{let g=u;const w=s[Ba];uv(i)&&(g.flags|=128),SR(n,t,g,w,r,o,!0)}}function H5(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function q5(n,t,e){const{mergedAttrs:i,classes:r,styles:o}=e;null!==i&&br(n,t,i),null!==r&&H5(n,t,r),null!==o&&function Pne(n,t,e){n.setAttribute(t,"style",e)}(n,t,o)}const ro={};function Ie(n=1){K5(Yr(),vn(),sa()+n,!1)}function K5(n,t,e,i){if(!i)if(3&~t[xr]){const o=n.preOrderHooks;null!==o&&d(t,o,0,e)}else{const o=n.preOrderCheckHooks;null!==o&&l(t,o,e)}Op(e)}function Re(n,t=Li.Default){const e=vn();return null===e?Ct(n,t):Os(Qo(),e,fr(n),t)}function kR(){throw new Error("invalid")}function W5(n,t,e,i,r,o){const s=O(null);try{let c=null;r&oi.SignalBased&&(c=t[i][v]),null!==c&&void 0!==c.transformFn&&(o=c.transformFn(o)),r&oi.HasDecoratorInputTransform&&(o=n.inputTransforms[i].call(t,o)),null!==n.setInput?n.setInput(t,c,o,e,i):xm(t,c,i,o)}finally{O(s)}}function HI(n,t,e,i,r,o,s,c,u,g,w){const T=t.blueprint.slice();return T[Vo]=r,T[xr]=204|i,(null!==g||n&&2048&n[xr])&&(T[xr]|=2048),Sd(T),T[Ba]=T[gA]=n,T[ps]=e,T[$c]=s||n&&n[$c],T[Fr]=c||n&&n[Fr],T[ba]=u||n&&n[ba]||null,T[qa]=o,T[_A]=function AI(){return u0++}(),T[Ka]=w,T[Y1]=g,T[Ps]=2==t.type?n[Ps]:T,T}function _v(n,t,e,i,r){let o=n.data[t];if(null===o)o=function DR(n,t,e,i,r){const o=wo(),s=sh(),u=n.data[t]=function jne(n,t,e,i,r,o){let s=t?t.injectorIndex:-1,c=0;return In()&&(c|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(n,t,e,i,r),function Sm(){return kr.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=function xA(){const n=kr.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Yc(o,!0),o}function Sw(n,t,e,i){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function $5(n,t,e,i,r){const o=sa(),s=2&i;try{Op(-1),s&&t.length>lr&&K5(n,t,lr,!1),Eu(s?2:0,r),e(i,r)}finally{Op(o),Eu(s?3:1,r)}}function RR(n,t,e){if(X_(t)){const i=O(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const c=n.data[s];c.contentQueries&&c.contentQueries(1,e[s],s)}}finally{O(i)}}}function MR(n,t,e){Vt()&&(function $ne(n,t,e,i){const r=e.directiveStart,o=e.directiveEnd;bf(e)&&function nie(n,t,e){const i=lc(t,n),r=X5(e);let s=16;e.signals?s=4096:e.onPush&&(s=64);const c=qI(n,HI(n,r,null,s,i,t,null,n[$c].rendererFactory.createRenderer(i,e),null,null,null));n[t.index]=c}(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||xi(e,t),Bc(i,t);const s=e.initialInputs;for(let c=r;c<o;c++){const u=n.data[c],g=Fs(t,n,c,e);Bc(g,t),null!==s&&iie(0,c-r,g,u,0,s),td(u)&&(kc(e.index,t)[ps]=Fs(t,n,c,e))}}(n,t,e,lc(e,t)),!(64&~e.flags)&&t8(n,t,e))}function BR(n,t,e=lc){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],c=-1===s?e(t,n):n[s];n[r++]=c}}}function X5(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=PR(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function PR(n,t,e,i,r,o,s,c,u,g,w){const T=lr+i,F=T+r,H=function Fne(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:ro);return e}(T,F),ee="function"==typeof g?g():g;return H[ii]={type:n,blueprint:H,template:e,queries:null,viewQuery:c,declTNode:t,data:H.slice().fill(null,T),bindingStartIndex:T,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:ee,incompleteFirstPass:!1,ssrId:w}}let Y5=()=>null;function Z5(n,t,e,i,r){for(let o in t){if(!t.hasOwnProperty(o))continue;const s=t[o];if(void 0===s)continue;i??={};let c,u=oi.None;Array.isArray(s)?(c=s[0],u=s[1]):c=s;let g=o;if(null!==r){if(!r.hasOwnProperty(o))continue;g=r[o]}0===n?J5(i,e,g,c,u):J5(i,e,g,c)}return i}function J5(n,t,e,i,r){let o;n.hasOwnProperty(e)?(o=n[e]).push(t,i):o=n[e]=[t,i],void 0!==r&&o.push(r)}function dh(n,t,e,i,r,o,s,c){const u=lc(t,e);let w,g=t.inputs;!c&&null!=g&&(w=g[i])?(UR(n,e,w,i,r),bf(t)&&function Hne(n,t){const e=kc(t,n);16&e[xr]||(e[xr]|=64)}(e,t.index)):3&t.type&&(i=function Gne(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,t.value||"",i):r,o.setProperty(u,i,r))}function OR(n,t,e,i){if(Vt()){const r=null===i?null:{"":-1},o=function Yne(n,t){const e=n.directiveRegistry;let i=null,r=null;if(e)for(let o=0;o<e.length;o++){const s=e[o];if(gl(t,s.selectors,!1))if(i||(i=[]),td(s))if(null!==s.findHostDirectiveDefs){const c=[];r=r||new Map,s.findHostDirectiveDefs(s,c,r),i.unshift(...c,s),FR(n,t,c.length)}else i.unshift(s),FR(n,t,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,e);let s,c;null===o?s=c=null:[s,c]=o,null!==s&&e8(n,t,e,s,r,c),r&&function Zne(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new an(-301,!1);i.push(t[r],o)}}}(e,i,r)}e.mergedAttrs=vr(e.mergedAttrs,e.attrs)}function e8(n,t,e,i,r,o){for(let g=0;g<i.length;g++)Ji(xi(e,t),n,i[g].type);!function eie(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let g=0;g<i.length;g++){const w=i[g];w.providersResolver&&w.providersResolver(w)}let s=!1,c=!1,u=Sw(n,t,i.length,null);for(let g=0;g<i.length;g++){const w=i[g];e.mergedAttrs=vr(e.mergedAttrs,w.hostAttrs),tie(n,e,t,u,w),Jne(u,w,r),null!==w.contentQueries&&(e.flags|=4),(null!==w.hostBindings||null!==w.hostAttrs||0!==w.hostVars)&&(e.flags|=64);const T=w.type.prototype;!s&&(T.ngOnChanges||T.ngOnInit||T.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),s=!0),!c&&(T.ngOnChanges||T.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),c=!0),u++}!function zne(n,t,e){const r=t.directiveEnd,o=n.data,s=t.attrs,c=[];let u=null,g=null;for(let w=t.directiveStart;w<r;w++){const T=o[w],F=e?e.get(T):null,ee=F?F.outputs:null;u=Z5(0,T.inputs,w,u,F?F.inputs:null),g=Z5(1,T.outputs,w,g,ee);const Ae=null===u||null===s||ss(t)?null:rie(u,w,s);c.push(Ae)}null!==u&&(u.hasOwnProperty("class")&&(t.flags|=8),u.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=c,t.inputs=u,t.outputs=g}(n,e,o)}function t8(n,t,e){const i=e.directiveStart,r=e.directiveEnd,o=e.index,s=function oI(){return kr.lFrame.currentDirectiveIndex}();try{Op(o);for(let c=i;c<r;c++){const u=n.data[c],g=t[c];ra(c),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&Xne(u,g)}}finally{Op(-1),ra(s)}}function Xne(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function FR(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function Jne(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;td(t)&&(e[""]=n)}}function tie(n,t,e,i,r){n.data[i]=r;const o=r.factory||(r.factory=z(r.type)),s=new q(o,td(r),Re);n.blueprint[i]=s,e[i]=s,function Kne(n,t,e,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const c=~t.index;(function Wne(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(s)!=c&&s.push(c),s.push(e,i,o)}}(n,t,i,Sw(n,e,r.hostVars,ro),r)}function MA(n,t,e,i,r,o){const s=lc(n,t);!function LR(n,t,e,i,r,o,s){if(null==o)n.removeAttribute(t,r,e);else{const c=null==s?Bn(o):s(o,i||"",r);n.setAttribute(t,r,c,e)}}(t[Fr],s,o,n.value,e,i,r)}function iie(n,t,e,i,r,o){const s=o[t];if(null!==s)for(let c=0;c<s.length;)W5(i,e,s[c++],s[c++],s[c++],s[c++])}function rie(n,t,e){let i=null,r=0;for(;r<e.length;){const o=e[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let c=0;c<s.length;c+=3)if(s[c]===t){i.push(o,s[c+1],s[c+2],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function n8(n,t,e,i){return[n,!0,0,t,null,i,null,e,null,null]}function i8(n,t){const e=n.contentQueries;if(null!==e){const i=O(null);try{for(let r=0;r<e.length;r+=2){const s=e[r+1];if(-1!==s){const c=n.data[s];J_(e[r]),c.contentQueries(2,t[s],s)}}}finally{O(i)}}}function qI(n,t){return n[mA]?n[yf][Zu]=t:n[mA]=t,n[yf]=t,t}function NR(n,t,e){J_(0);const i=O(null);try{t(n,e)}finally{O(i)}}function r8(n){return n[gm]??=[]}function o8(n){return n.cleanup??=[]}function s8(n,t,e){return(null===n||td(n))&&(e=function Im(n){for(;Array.isArray(n);){if("object"==typeof n[_m])return n;n=n[Vo]}return null}(e[t.index])),e[Fr]}function KI(n,t){const e=n[ba],i=e?e.get(Do,null):null;i&&i.handleError(t)}function UR(n,t,e,i,r){for(let o=0;o<e.length;){const s=e[o++],c=e[o++],u=e[o++];W5(n.data[s],t[s],i,c,u,r)}}function Nm(n,t,e){const i=Xc(t,n);!function M5(n,t,e){n.setValue(t,e)}(n[Fr],i,e)}function oie(n,t){const e=kc(t,n),i=e[ii];!function sie(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}(i,e);const r=e[Vo];null!==r&&null===e[Ka]&&(e[Ka]=aR(r,e[ba])),VR(i,e,e[ps])}function VR(n,t,e){e0(t);try{const i=n.viewQuery;null!==i&&NR(1,i,e);const r=n.template;null!==r&&$5(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[rh]?.finishViewCreation(n),n.staticContentQueries&&i8(n,t),n.staticViewQueries&&NR(2,n.viewQuery,e);const o=n.components;null!==o&&function aie(n,t){for(let e=0;e<t.length;e++)oie(n,t[e])}(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[xr]&=-5,oa()}}function x0(n,t,e,i){const r=O(null);try{const o=t.tView,u=HI(n,o,e,4096&n[xr]?4096:16,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null);u[Id]=n[t.index];const w=n[rh];return null!==w&&(u[rh]=w.createEmbeddedView(o)),VR(o,u,e),u}finally{O(r)}}function vv(n,t){return!t||null===t.firstChild||uv(n)}function E0(n,t,e,i=!0){const r=t[ii];if(function Ine(n,t,e,i){const r=Ws+i,o=e.length;i>0&&(e[r-1][Zu]=t),i<o-Ws?(t[Zu]=e[r],Se(e,Ws+i,t)):(e.push(t),t[Zu]=null),t[Ba]=e;const s=t[Id];null!==s&&e!==s&&P5(s,t);const c=t[rh];null!==c&&c.insertView(n),wg(t),t[xr]|=128}(r,t,n,e),i){const s=TR(e,n),c=t[Fr],u=jI(c,n[xu]);null!==u&&function Ene(n,t,e,i,r,o){i[Vo]=r,i[qa]=t,GI(n,i,e,1,r,o)}(r,n[qa],c,t,u,s)}const o=t[Ka];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function kw(n,t,e,i,r=!1){for(;null!==e;){if(128===e.type){e=r?e.projectionNext:e.next;continue}const o=t[e.index];null!==o&&i.push(Po(o)),ul(o)&&l8(o,i);const s=e.type;if(8&s)kw(n,t,e.child,i);else if(32&s){const c=yR(e,t);let u;for(;u=c();)i.push(u)}else if(16&s){const c=j5(t,e);if(Array.isArray(c))i.push(...c);else{const u=nd(t[Ps]);kw(u[ii],u,c,i,!0)}}e=r?e.projectionNext:e.next}return i}function l8(n,t){for(let e=Ws;e<n.length;e++){const i=n[e],r=i[ii].firstChild;null!==r&&kw(i[ii],i,r,t)}n[xu]!==n[Vo]&&t.push(n[xu])}let c8=[];const die={...P,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Tf(n.lView)},consumerOnSignalRead(){this.lView[ed]=this}},pie={...P,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let t=nd(n.lView);for(;t&&!u8(t[ii]);)t=nd(t);t&&If(t)},consumerOnSignalRead(){this.lView[ed]=this}};function u8(n){return 2!==n.type}const fie=100;function WI(n,t=!0,e=0){const i=n[$c],r=i.rendererFactory;r.begin?.();try{!function Aie(n,t){const e=iI();try{rI(!0),jR(n,t);let i=0;for(;wA(n);){if(i===fie)throw new an(103,!1);i++,jR(n,1)}}finally{rI(e)}}(n,e)}catch(s){throw t&&KI(n,s),s}finally{r.end?.(),i.inlineEffectRunner?.flush()}}function mie(n,t,e,i){const r=t[xr];if(!(256&~r))return;t[$c].inlineEffectRunner?.flush(),e0(t);let c=!0,u=null,g=null;u8(n)?(g=function lie(n){return n[ed]??function cie(n){const t=c8.pop()??Object.create(die);return t.lView=n,t}(n)}(t),u=se(g)):null===function V(){return ui}()?(c=!1,g=function hie(n){const t=n[ed]??Object.create(pie);return t.lView=n,t}(t),u=se(g)):t[ed]&&(we(t[ed]),t[ed]=null);try{Sd(t),function nw(n){return kr.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&$5(n,t,e,2,i);const w=!(3&~r);if(w){const H=n.preOrderCheckHooks;null!==H&&l(t,H,null)}else{const H=n.preOrderHooks;null!==H&&d(t,H,0,null),m(t,0)}if(function gie(n){for(let t=Mg(n);null!==t;t=mw(t)){if(!(t[xr]&ym.HasTransplantedViews))continue;const e=t[vA];for(let i=0;i<e.length;i++)If(e[i])}}(t),h8(t,0),null!==n.contentQueries&&i8(n,t),w){const H=n.contentCheckHooks;null!==H&&l(t,H)}else{const H=n.contentHooks;null!==H&&d(t,H,1),m(t,1)}!function One(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)Op(~r);else{const o=r,s=e[++i],c=e[++i];Cg(s,o),c(2,t[o])}}}finally{Op(-1)}}(n,t);const T=n.components;null!==T&&f8(t,T,0);const F=n.viewQuery;if(null!==F&&NR(2,F,i),w){const H=n.viewCheckHooks;null!==H&&l(t,H)}else{const H=n.viewHooks;null!==H&&d(t,H,2),m(t,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[Td]){for(const H of t[Td])H();t[Td]=null}t[xr]&=-73}catch(w){throw Tf(t),w}finally{null!==g&&(fe(g,u),c&&function uie(n){n.lView[ed]!==n&&(n.lView=null,c8.push(n))}(g)),oa()}}function h8(n,t){for(let e=Mg(n);null!==e;e=mw(e))for(let i=Ws;i<e.length;i++)p8(e[i],t)}function _ie(n,t,e){p8(kc(t,n),e)}function p8(n,t){Tm(n)&&jR(n,t)}function jR(n,t){const i=n[ii],r=n[xr],o=n[ed];let s=!!(0===t&&16&r);if(s||=!!(64&r&&0===t),s||=!!(1024&r),s||=!(!o?.dirty||!me(o)),s||=!1,o&&(o.dirty=!1),n[xr]&=-9217,s)mie(i,n,i.template,n[ps]);else if(8192&r){h8(n,1);const c=i.components;null!==c&&f8(n,c,1)}}function f8(n,t,e){for(let i=0;i<t.length;i++)_ie(n,t[i],e)}function Dw(n,t){const e=iI()?64:1088;for(n[$c].changeDetectionScheduler?.notify(t);n;){n[xr]|=e;const i=nd(n);if(bm(n)&&!i)return n;n=i}return null}class Rw{get rootNodes(){const t=this._lView,e=t[ii];return kw(e,t,e.firstChild,[])}constructor(t,e,i=!0){this._lView=t,this._cdRefInjectingView=e,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ps]}set context(t){this._lView[ps]=t}get destroyed(){return!(256&~this._lView[xr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Ba];if(ul(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(Iw(t,i),ke(e,i))}this._attachedToViewContainer=!1}QI(this._lView[ii],this._lView)}onDestroy(t){Sf(this._lView,t)}markForCheck(){Dw(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[xr]&=-129}reattach(){wg(this._lView),this._lView[xr]|=128}detectChanges(){this._lView[xr]|=1024,WI(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new an(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=bm(this._lView),e=this._lView[Id];null!==e&&!t&&xR(e,this._lView),B5(this._lView[ii],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new an(902,!1);this._appRef=t;const e=bm(this._lView),i=this._lView[Id];null!==i&&!e&&P5(i,this._lView),wg(this._lView)}}let Hh=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=bie}return n})();const vie=Hh,yie=class extends vie{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,i){const r=x0(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:e,dehydratedView:i});return new Rw(r)}};function bie(){return $I(Qo(),vn())}function $I(n,t){return 4&n.type?new yie(t,n,Vp(n,t)):null}let O8=()=>null;function bv(n,t){return O8(n,t)}class I0{}const Uw=new Wt("",{providedIn:"root",factory:()=>!1}),F8=new Wt("");class pre{}class L8{}class Are{resolveComponentFactory(t){throw function fre(n){const t=Error(`No component factory found for ${Xo(n)}.`);return t.ngComponent=n,t}(t)}}class T0{static#e=this.NULL=new Are}class t2{}let tu=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function mre(){const n=vn(),e=kc(Qo().index,n);return(yl(e)?e:n)[Fr]}()}return n})(),gre=(()=>{class n{static#e=this.\u0275prov=Nn({token:n,providedIn:"root",factory:()=>null})}return n})();const U8=new Set;function Bd(n){U8.has(n)||(U8.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Pd=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Pd||{});const V8={destroy(){}};function Og(n,t){!t&&pm();const e=t?.injector??Ht(ho);return uh(e)?(Bd("NgAfterNextRender"),j8(n,e,!0,t?.phase??Pd.MixedReadWrite)):V8}function j8(n,t,e,i){const r=function _re(n,t){if(n instanceof Function)switch(t){case Pd.EarlyRead:return{earlyRead:n};case Pd.Write:return{write:n};case Pd.MixedReadWrite:return{mixedReadWrite:n};case Pd.Read:return{read:n}}return n}(n,i),o=t.get(n2),s=o.handler??=new yre,c=[],u=[],g=()=>{for(const H of u)s.unregister(H);w()},w=t.get(Up).onDestroy(g);let T=0;const F=(H,ee)=>{if(!ee)return;const Ae=e?(...et)=>(T--,T<1&&g(),ee(...et)):ee,xe=Go(t,()=>new vre(H,c,Ae));s.register(xe),u.push(xe),T++};return F(Pd.EarlyRead,r.earlyRead),F(Pd.Write,r.write),F(Pd.MixedReadWrite,r.mixedReadWrite),F(Pd.Read,r.read),{destroy:g}}class vre{constructor(t,e,i){this.phase=t,this.pipelinedArgs=e,this.callbackFn=i,this.zone=Ht(Ri),this.errorHandler=Ht(Do,{optional:!0}),Ht(I0,{optional:!0})?.notify(6)}invoke(){try{const t=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,t)}catch(t){this.errorHandler?.handleError(t)}}}class yre{constructor(){this.executingCallbacks=!1,this.buckets={[Pd.EarlyRead]:new Set,[Pd.Write]:new Set,[Pd.MixedReadWrite]:new Set,[Pd.Read]:new Set},this.deferredCallbacks=new Set}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(const t of Object.values(this.buckets))for(const e of t)e.invoke();this.executingCallbacks=!1;for(const t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(const t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}}let n2=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const e=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const i of e)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=Nn({token:n,providedIn:"root",factory:()=>new n})}return n})();function o2(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const c=t[s];"number"==typeof c?o=c:1==o?r=xc(r,c):2==o&&(i=xc(i,c+": "+t[++s]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}class H8 extends T0{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Nr(t);return new jw(e,this.ngModule)}}function q8(n,t){const e=[];for(const i in n){if(!n.hasOwnProperty(i))continue;const r=n[i];if(void 0===r)continue;const o=Array.isArray(r),s=o?r[0]:r;e.push(t?{propName:s,templateName:i,isSignal:!!((o?r[1]:oi.None)&oi.SignalBased)}:{propName:s,templateName:i})}return e}class jw extends L8{get inputs(){const t=this.componentDef,e=t.inputTransforms,i=q8(t.inputs,!0);if(null!==e)for(const r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return q8(this.componentDef.outputs,!1)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function eh(n){return n.map(gf).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,r){const o=O(null);try{let s=(r=r||this.ngModule)instanceof oc?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const c=s?new it(t,s):t,u=c.get(t2,null);if(null===u)throw new an(407,!1);const g=c.get(gre,null),F={rendererFactory:u,sanitizer:g,inlineEffectRunner:null,afterRenderEventManager:c.get(n2,null),changeDetectionScheduler:c.get(I0,null)},H=u.createRenderer(null,this.componentDef),ee=this.componentDef.selectors[0][0]||"div",Ae=i?function Lne(n,t,e,i){const o=i.get(s5,!1)||e===Sr.ShadowDom,s=n.selectRootElement(t,o);return function Nne(n){Y5(n)}(s),s}(H,i,this.componentDef.encapsulation,c):VI(H,ee,function xre(n){const t=n.toLowerCase();return"svg"===t?Cm:"math"===t?"math":null}(ee));let xe=512;this.componentDef.signals?xe|=4096:this.componentDef.onPush||(xe|=16);let et=null;null!==Ae&&(et=aR(Ae,c,!0));const Ye=PR(0,null,null,1,0,null,null,null,null,null,null),yt=HI(null,Ye,null,xe,null,null,F,H,c,null,et);let cn,$n;e0(yt);try{const si=this.componentDef;let bt,nt=null;si.findHostDirectiveDefs?(bt=[],nt=new Map,si.findHostDirectiveDefs(si,bt,nt),bt.push(si)):bt=[si];const xt=function Cre(n,t){const e=n[ii],i=lr;return n[i]=t,_v(e,i,2,"#host",null)}(yt,Ae),Ft=function Ire(n,t,e,i,r,o,s){const c=r[ii];!function Tre(n,t,e,i){for(const r of n)t.mergedAttrs=vr(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(o2(t,t.mergedAttrs,!0),null!==e&&q5(i,e,t))}(i,n,t,s);let u=null;null!==t&&(u=aR(t,r[ba]));const g=o.rendererFactory.createRenderer(t,e);let w=16;e.signals?w=4096:e.onPush&&(w=64);const T=HI(r,X5(e),null,w,r[n.index],n,o,g,null,null,u);return c.firstCreatePass&&FR(c,n,i.length-1),qI(r,T),r[n.index]=T}(xt,Ae,si,bt,yt,F,H);$n=oh(Ye,lr),Ae&&function kre(n,t,e,i){if(i)br(n,e,["ng-version","18.1.3"]);else{const{attrs:r,classes:o}=function $u(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&t.push(o,n[++i]):8===r&&e.push(o);else{if(!bo(r))break;r=o}i++}return{attrs:t,classes:e}}(t.selectors[0]);r&&br(n,e,r),o&&o.length>0&&H5(n,e,o.join(" "))}}(H,si,Ae,i),void 0!==e&&function Dre(n,t,e){const i=n.projection=[];for(let r=0;r<t.length;r++){const o=e[r];i.push(null!=o?Array.from(o):null)}}($n,this.ngContentSelectors,e),cn=function Sre(n,t,e,i,r,o){const s=Qo(),c=r[ii],u=lc(s,r);e8(c,r,s,e,null,i);for(let w=0;w<e.length;w++)Bc(Fs(r,c,s.directiveStart+w,s),r);t8(c,r,s),u&&Bc(u,r);const g=Fs(r,c,s.directiveStart+s.componentOffset,s);if(n[ps]=r[ps]=g,null!==o)for(const w of o)w(g,t);return RR(c,s,r),g}(Ft,si,bt,nt,yt,[Rre]),VR(Ye,yt,null)}finally{oa()}return new Ere(this.componentType,cn,Vp($n,yt),yt,$n)}finally{O(o)}}}class Ere extends pre{constructor(t,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new Rw(r,void 0,!1),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const o=this._rootLView;UR(o[ii],o,r,t,e),this.previousInputValues.set(t,e),Dw(kc(this._tNode.index,o),1)}}get injector(){return new ar(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Rre(){const n=Qo();a(vn()[ii],n)}let hh=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Mre}return n})();function Mre(){return $8(Qo(),vn())}const Bre=hh,K8=class extends Bre{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Vp(this._hostTNode,this._hostLView)}get injector(){return new ar(this._hostTNode,this._hostLView)}get parentInjector(){const t=zr(this._hostTNode,this._hostLView);if(Bt(t)){const e=nn(t,this._hostLView),i=Nt(t);return new ar(e[ii].data[i+8],e)}return new ar(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=W8(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-Ws}createEmbeddedView(t,e,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const s=bv(this._lContainer,t.ssrId),c=t.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(c,r,vv(this._hostTNode,s)),c}createComponent(t,e,i,r,o){const s=t&&!function _f(n){return"function"==typeof n}(t);let c;if(s)c=e;else{const ee=e||{};c=ee.index,i=ee.injector,r=ee.projectableNodes,o=ee.environmentInjector||ee.ngModuleRef}const u=s?t:new jw(Nr(t)),g=i||this.parentInjector;if(!o&&null==u.ngModule){const Ae=(s?g:this.parentInjector).get(oc,null);Ae&&(o=Ae)}const w=Nr(u.componentType??{}),T=bv(this._lContainer,w?.id??null),H=u.create(g,r,T?.firstChild??null,o);return this.insertImpl(H.hostView,c,vv(this._hostTNode,T)),H}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,i){const r=t._lView;if(function bg(n){return ul(n[Ba])}(r)){const c=this.indexOf(t);if(-1!==c)this.detach(c);else{const u=r[Ba],g=new K8(u,u[qa],u[Ba]);g.detach(g.indexOf(t))}}const o=this._adjustIndex(e),s=this._lContainer;return E0(s,r,o,i),t.attachToViewContainerRef(),Se(nM(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=W8(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=Iw(this._lContainer,e);i&&(ke(nM(this._lContainer),e),QI(i[ii],i))}detach(t){const e=this._adjustIndex(t,-1),i=Iw(this._lContainer,e);return i&&null!=ke(nM(this._lContainer),e)?new Rw(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function W8(n){return n[8]}function nM(n){return n[8]||(n[8]=[])}function $8(n,t){let e;const i=t[n.index];return ul(i)?e=i:(e=n8(i,t,null,n),t[n.index]=e,qI(t,e)),X8(e,t,n,i),new K8(e,n,t)}let X8=function Z8(n,t,e,i){if(n[xu])return;let r;r=8&e.type?Po(i):function Pre(n,t){const e=n[Fr],i=e.createComment(""),r=lc(t,n);return mv(e,jI(e,r),i,function Dne(n,t){return n.nextSibling(t)}(e,r),!1),i}(t,e),n[xu]=r},iM=()=>!1;class rM{constructor(t){this.queryList=t,this.matches=null}clone(){return new rM(this.queryList)}setDirty(){this.queryList.setDirty()}}class oM{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new oM(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==uM(t,e).matches&&this.queries[e].setDirty()}}class J8{constructor(t,e,i=null){this.flags=e,this.read=i,this.predicate="string"==typeof t?function jre(n){return n.split(",").map(t=>t.trim())}(t):t}}class sM{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new sM(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class aM{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new aM(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,e,Nre(e,o)),this.matchTNodeWithReadOption(t,e,la(e,t,o,!1,!1))}else i===Hh?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,la(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===or||r===hh||r===Hh&&4&e.type)this.addMatch(e.index,-2);else{const o=la(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Nre(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function Vre(n,t,e,i){return-1===e?function Ure(n,t){return 11&n.type?Vp(n,t):4&n.type?$I(n,t):null}(t,n):-2===e?function Qre(n,t,e){return e===or?Vp(t,n):e===Hh?$I(t,n):e===hh?$8(t,n):void 0}(n,t,i):Fs(n,n[ii],e,t)}function eU(n,t,e,i){const r=t[rh].queries[i];if(null===r.matches){const o=n.data,s=e.matches,c=[];for(let u=0;null!==s&&u<s.length;u+=2){const g=s[u];c.push(g<0?null:Vre(t,o[g],s[u+1],e.metadata.read))}r.matches=c}return r.matches}function lM(n,t,e,i){const r=n.queries.getByIndex(e),o=r.matches;if(null!==o){const s=eU(n,t,r,e);for(let c=0;c<o.length;c+=2){const u=o[c];if(u>0)i.push(s[c/2]);else{const g=o[c+1],w=t[-u];for(let T=Ws;T<w.length;T++){const F=w[T];F[Id]===F[Ba]&&lM(F[ii],F,g,i)}if(null!==w[vA]){const T=w[vA];for(let F=0;F<T.length;F++){const H=T[F];lM(H[ii],H,g,i)}}}}}return i}function tU(n,t,e){const i=new Bm(!(4&~e));return function Qne(n,t,e,i){const r=r8(t);r.push(e),n.firstCreatePass&&o8(n).push(i,r.length-1)}(n,t,i,i.destroy),(t[rh]??=new oM).queries.push(new rM(i))-1}function rU(n,t,e){null===n.queries&&(n.queries=new sM),n.queries.track(new aM(t,e))}function uM(n,t){return n.queries.getByIndex(t)}function oU(n,t){const e=n[ii],i=uM(e,t);return i.crossesNgTemplate?lM(e,n,t,[]):eU(e,n,i,t)}function s2(n){return"function"==typeof n&&void 0!==n[v]}function Od(n,t){Bd("NgSignals");const e=function gt(n){const t=Object.create(ki);t.value=n;const e=()=>(N(t),t.value);return e[v]=t,e}(n),i=e[v];return t?.equal&&(i.equal=t.equal),e.set=r=>bn(i,r),e.update=r=>function on(n,t){ne()||Tt(),bn(n,t(n.value))}(i,r),e.asReadonly=sU.bind(e),e}function sU(){const n=this[v];if(void 0===n.readonlyFn){const t=()=>this();t[v]=n,n.readonlyFn=t}return n.readonlyFn}function aU(n){return s2(n)&&"function"==typeof n.set}function cr(n){let t=function _U(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(td(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new an(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const s=n;s.inputs=l2(n.inputs),s.inputTransforms=l2(n.inputTransforms),s.declaredInputs=l2(n.declaredInputs),s.outputs=l2(n.outputs);const c=r.hostBindings;c&&ioe(n,c);const u=r.viewQuery,g=r.contentQueries;if(u&&toe(n,u),g&&noe(n,g),Jre(n,r),kh(n.outputs,r.outputs),td(r)&&r.data.animation){const w=n.data;w.animation=(w.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const c=o[s];c&&c.ngInherit&&c(n),c===cr&&(e=!1)}}t=Object.getPrototypeOf(t)}!function eoe(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=vr(r.hostAttrs,e=vr(e,r.hostAttrs))}}(i)}function Jre(n,t){for(const e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;const i=t.inputs[e];if(void 0!==i&&(n.inputs[e]=i,n.declaredInputs[e]=t.declaredInputs[e],null!==t.inputTransforms)){const r=Array.isArray(i)?i[0]:i;if(!t.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=t.inputTransforms[r]}}}function l2(n){return n===Cn?{}:n===wn?[]:n}function toe(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function noe(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,o)=>{t(i,r,o),e(i,r,o)}:t}function ioe(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}function vU(n){const t=e=>{const i=(Array.isArray(n)?n:n()).map(r=>"function"==typeof r?{directive:fr(r),inputs:Cn,outputs:Cn}:{directive:fr(r.directive),inputs:bU(r.inputs),outputs:bU(r.outputs)});null===e.hostDirectives?(e.findHostDirectiveDefs=yU,e.hostDirectives=i):e.hostDirectives.unshift(...i)};return t.ngInherit=!0,t}function yU(n,t,e){if(null!==n.hostDirectives)for(const i of n.hostDirectives){const r=cs(i.directive);aoe(r.declaredInputs,i.inputs),yU(r,t,e),e.set(r,i),t.push(r)}}function bU(n){if(void 0===n||0===n.length)return Cn;const t={};for(let e=0;e<n.length;e+=2)t[n[e]]=n[e+1];return t}function aoe(n,t){for(const e in t)t.hasOwnProperty(e)&&(n[t[e]]=n[e])}function ao(n){const t=n.inputConfig,e={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i];Array.isArray(r)&&r[3]&&(e[i]=r[3])}n.inputTransforms=e}class wv{}class xU{}class hM extends wv{constructor(t,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new H8(this);const r=Yo(t);this._bootstrapComponents=Gh(r.bootstrap),this._r3Injector=km(t,e,[{provide:wv,useValue:this},{provide:T0,useValue:this.componentFactoryResolver},...i],Xo(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class pM extends xU{constructor(t){super(),this.moduleType=t}create(t){return new hM(this.moduleType,t,[])}}class EU extends wv{constructor(t){super(),this.componentFactoryResolver=new H8(this),this.instance=null;const e=new kp([...t.providers,{provide:wv,useValue:this},{provide:T0,useValue:this.componentFactoryResolver}],t.parent||Sp(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function c2(n,t,e=null){return new EU({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}function u2(n){return!!fM(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function fM(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function BA(n,t,e){return n[t]=e}function Ql(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function xv(n,t,e,i){const r=Ql(n,t,e);return Ql(n,t+1,i)||r}function Hw(n,t,e,i,r,o,s,c,u,g){const w=e+lr,T=t.firstCreatePass?function foe(n,t,e,i,r,o,s,c,u){const g=t.consts,w=_v(t,n,4,s||null,c||null);OR(t,e,w,Cu(g,u)),a(t,w);const T=w.tView=PR(2,w,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,g,null);return null!==t.queries&&(t.queries.template(t,w),T.queries=t.queries.embeddedTView(w)),w}(w,t,n,i,r,o,s,c,u):t.data[w];Yc(T,!1);const F=CU(t,n,T,e);aa()&&zI(t,n,F,T),Bc(F,n);const H=n8(F,n,F,T);return n[w]=H,qI(n,H),function Y8(n,t,e){return iM(n,t,e)}(H,T,n),_g(T)&&MR(t,n,T),null!=u&&BR(n,T,g),T}function Kt(n,t,e,i,r,o,s,c){const u=vn(),g=Yr();return Hw(u,g,n,t,e,i,r,Cu(g.consts,o),s,c),Kt}let CU=function IU(n,t,e,i){return Rc(!0),t[Fr].createComment("")};function Qt(n,t,e,i){const r=vn();return Ql(r,ah(),t)&&(Yr(),MA(xs(),r,n,t,e,i)),Qt}function L0(n,t,e,i){return Ql(n,ah(),e)?t+Bn(e)+i:ro}function N0(n,t,e,i,r,o){const c=xv(n,function Pp(){return kr.lFrame.bindingIndex}(),e,r);return lh(2),c?t+Bn(e)+i+Bn(r)+o:ro}function g2(n,t){return n<<17|t<<2}function Ug(n){return n>>17&32767}function CM(n){return 2|n}function Cv(n){return(131068&n)>>2}function IM(n,t){return-131069&n|t<<2}function TM(n){return 1|n}function i6(n,t,e,i){const r=n[e+1],o=null===t;let s=i?Ug(r):Cv(r),c=!1;for(;0!==s&&(!1===c||o);){const g=n[s+1];Joe(n[s],t)&&(c=!0,n[s+1]=i?TM(g):CM(g)),s=i?Ug(g):Cv(g)}c&&(n[e+1]=i?CM(r):TM(r))}function Joe(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&rn(n,t)>=0}const Pc={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function r6(n){return n.substring(Pc.key,Pc.keyEnd)}function ese(n){return n.substring(Pc.value,Pc.valueEnd)}function o6(n,t){const e=Pc.textEnd;return e===t?-1:(t=Pc.keyEnd=function ise(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,Pc.key=t,e),H0(n,t,e))}function s6(n,t){const e=Pc.textEnd;let i=Pc.key=H0(n,t,e);return e===i?-1:(i=Pc.keyEnd=function rse(n,t,e){let i;for(;t<e&&(45===(i=n.charCodeAt(t))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)t++;return t}(n,i,e),i=l6(n,i,e),i=Pc.value=H0(n,i,e),i=Pc.valueEnd=function ose(n,t,e){let i=-1,r=-1,o=-1,s=t,c=s;for(;s<e;){const u=n.charCodeAt(s++);if(59===u)return c;34===u||39===u?c=s=c6(n,u,s,e):t===s-4&&85===o&&82===r&&76===i&&40===u?c=s=c6(n,41,s,e):u>32&&(c=s),o=r,r=i,i=-33&u}return c}(n,i,e),l6(n,i,e))}function a6(n){Pc.key=0,Pc.keyEnd=0,Pc.value=0,Pc.valueEnd=0,Pc.textEnd=n.length}function H0(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function l6(n,t,e,i){return(t=H0(n,t,e))<e&&t++,t}function c6(n,t,e,i){let r=-1,o=e;for(;o<i;){const s=n.charCodeAt(o++);if(s==t&&92!==r)return o;r=92==s&&92===r?0:s}throw new Error}function be(n,t,e){const i=vn();return Ql(i,ah(),t)&&dh(Yr(),xs(),i,n,t,i[Fr],e,!1),be}function SM(n,t,e,i,r){const s=r?"class":"style";UR(n,e,t.inputs[s],s,i)}function Of(n,t,e){return Ff(n,t,e,!1),Of}function Ho(n,t){return Ff(n,t,null,!0),Ho}function nu(n){Lf(h6,sse,n,!1)}function sse(n,t){for(let e=function nse(n){return a6(n),s6(n,H0(n,0,Pc.textEnd))}(t);e>=0;e=s6(t,e))h6(n,r6(t),ese(t))}function jr(n){Lf(hse,PA,n,!0)}function PA(n,t){for(let e=function tse(n){return a6(n),o6(n,H0(n,0,Pc.textEnd))}(t);e>=0;e=o6(t,e))At(n,r6(t),!0)}function Ff(n,t,e,i){const r=vn(),o=Yr(),s=lh(2);o.firstUpdatePass&&d6(o,n,s,i),t!==ro&&Ql(r,s,t)&&p6(o,o.data[sa()],r,r[Fr],n,r[s+1]=function fse(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Xo(zh(n)))),n}(t,e),i,s)}function Lf(n,t,e,i){const r=Yr(),o=lh(2);r.firstUpdatePass&&d6(r,null,o,i);const s=vn();if(e!==ro&&Ql(s,o,e)){const c=r.data[sa()];if(A6(c,i)&&!u6(r,o)){let u=i?c.classesWithoutHost:c.stylesWithoutHost;null!==u&&(e=xc(u,e||"")),SM(r,c,s,e,i)}else!function pse(n,t,e,i,r,o,s,c){r===ro&&(r=wn);let u=0,g=0,w=0<r.length?r[0]:null,T=0<o.length?o[0]:null;for(;null!==w||null!==T;){const F=u<r.length?r[u+1]:void 0,H=g<o.length?o[g+1]:void 0;let Ae,ee=null;w===T?(u+=2,g+=2,F!==H&&(ee=T,Ae=H)):null===T||null!==w&&w<T?(u+=2,ee=w):(g+=2,ee=T,Ae=H),null!==ee&&p6(n,t,e,i,ee,Ae,s,c),w=u<r.length?r[u]:null,T=g<o.length?o[g]:null}}(r,c,s,s[Fr],s[o+1],s[o+1]=function dse(n,t,e){if(null==e||""===e)return wn;const i=[],r=zh(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,o)}}function u6(n,t){return t>=n.expandoStartIndex}function d6(n,t,e,i){const r=n.data;if(null===r[e+1]){const o=r[sa()],s=u6(n,e);A6(o,i)&&null===t&&!s&&(t=!1),t=function ase(n,t,e,i){const r=us(n);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=$w(e=kM(null,n,t,e,i),t.attrs,i),o=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==r)if(e=kM(r,n,t,e,i),null===o){let u=function lse(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==Cv(i))return n[Ug(i)]}(n,t,i);void 0!==u&&Array.isArray(u)&&(u=kM(null,n,t,u[1],i),u=$w(u,t.attrs,i),function cse(n,t,e,i){n[Ug(e?t.classBindings:t.styleBindings)]=i}(n,t,i,u))}else o=function use(n,t,e){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=$w(i,n[o].hostAttrs,e);return $w(i,t.attrs,e)}(n,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),e}(r,o,t,i),function Yoe(n,t,e,i,r,o){let s=o?t.classBindings:t.styleBindings,c=Ug(s),u=Cv(s);n[i]=e;let w,g=!1;if(Array.isArray(e)?(w=e[1],(null===w||rn(e,w)>0)&&(g=!0)):w=e,r)if(0!==u){const F=Ug(n[c+1]);n[i+1]=g2(F,c),0!==F&&(n[F+1]=IM(n[F+1],i)),n[c+1]=function $oe(n,t){return 131071&n|t<<17}(n[c+1],i)}else n[i+1]=g2(c,0),0!==c&&(n[c+1]=IM(n[c+1],i)),c=i;else n[i+1]=g2(u,0),0===c?c=i:n[u+1]=IM(n[u+1],i),u=i;g&&(n[i+1]=CM(n[i+1])),i6(n,w,i,!0),i6(n,w,i,!1),function Zoe(n,t,e,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&rn(o,t)>=0&&(e[i+1]=TM(e[i+1]))}(t,w,n,i,o),s=g2(c,u),o?t.classBindings=s:t.styleBindings=s}(r,o,t,e,s,i)}}function kM(n,t,e,i,r){let o=null;const s=e.directiveEnd;let c=e.directiveStylingLast;for(-1===c?c=e.directiveStart:c++;c<s&&(o=t[c],i=$w(i,o.hostAttrs,r),o!==n);)c++;return null!==n&&(e.directiveStylingLast=c),i}function $w(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),At(n,s,!!e||t[++o]))}return void 0===n?null:n}function h6(n,t,e){At(n,t,zh(e))}function hse(n,t,e){const i=String(t);""!==i&&!i.includes(" ")&&At(n,i,e)}function p6(n,t,e,i,r,o,s,c){if(!(3&t.type))return;const u=n.data,g=u[c+1],w=function Xoe(n){return!(1&~n)}(g)?f6(u,t,e,r,Cv(g),s):void 0;_2(w)||(_2(o)||function Woe(n){return!(2&~n)}(g)&&(o=f6(u,null,e,r,c,s)),function Bne(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let o=-1===i.indexOf("-")?void 0:Pg.DashCase;null==r?n.removeStyle(e,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Pg.Important),n.setStyle(e,i,r,o))}}(i,s,Xc(sa(),e),r,o))}function f6(n,t,e,i,r,o){const s=null===t;let c;for(;r>0;){const u=n[r],g=Array.isArray(u),w=g?u[1]:u,T=null===w;let F=e[r+1];F===ro&&(F=T?wn:void 0);let H=T?Ot(F,i):w===i?F:void 0;if(g&&!_2(H)&&(H=Ot(u,i)),_2(H)&&(c=H,s))return c;const ee=n[r+1];r=s?Ug(ee):Cv(ee)}if(null!==t){let u=o?t.residualClasses:t.residualStyles;null!=u&&(c=Ot(u,i))}return c}function _2(n){return void 0!==n}function A6(n,t){return!!(n.flags&(t?8:16))}function Oc(n,t){Bd("NgControlFlow");const e=vn(),i=ah(),r=e[i]!==ro?e[i]:-1,o=-1!==r?v2(e,lr+r):void 0;if(Ql(e,i,n)){const c=O(null);try{if(void 0!==o&&function QR(n,t){const e=Iw(n,t);return void 0!==e&&QI(e[ii],e),e}(o,0),-1!==n){const u=lr+n,g=v2(e,u),w=function MM(n,t){return oh(n,t)}(e[ii],u),T=bv(g,w.tView.ssrId);E0(g,x0(e,w,t,{dehydratedView:T}),0,vv(w,T))}}finally{O(c)}}else if(void 0!==o){const c=function a8(n,t){const e=Ws+t;if(e<n.length)return n[e]}(o,0);void 0!==c&&(c[ps]=t)}}function v2(n,t){return n[t]}function $e(n,t,e,i){const r=vn(),o=Yr(),s=lr+n,c=r[Fr],u=o.firstCreatePass?function Fse(n,t,e,i,r,o){const s=t.consts,u=_v(t,n,2,i,Cu(s,r));return OR(t,e,u,Cu(s,o)),null!==u.attrs&&o2(u,u.attrs,!1),null!==u.mergedAttrs&&o2(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(s,o,r,t,e,i):o.data[s],g=v6(o,r,u,c,t,n);r[s]=g;const w=_g(u);return Yc(u,!0),q5(c,g,u),!function k0(n){return!(32&~n.flags)}(u)&&aa()&&zI(o,r,g,u),0===function te(){return kr.lFrame.elementDepthCount}()&&Bc(g,r),function ye(){kr.lFrame.elementDepthCount++}(),w&&(MR(o,r,u),RR(o,u,r)),null!==i&&BR(r,u),$e}function rt(){let n=Qo();sh()?Eg():(n=n.parent,Yc(n,!1));const t=n;(function yi(n){return kr.skipHydrationRootTNode===n})(t)&&function kd(){kr.skipHydrationRootTNode=null}(),function ft(){kr.lFrame.elementDepthCount--}();const e=Yr();return e.firstCreatePass&&(a(e,n),X_(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function _e(n){return!!(8&n.flags)}(t)&&SM(e,t,vn(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Ee(n){return!!(16&n.flags)}(t)&&SM(e,t,vn(),t.stylesWithoutHost,!1),rt}function Pn(n,t,e,i){return $e(n,t,e,i),rt(),Pn}let v6=(n,t,e,i,r,o)=>(Rc(!0),VI(i,r,function ow(){return kr.lFrame.currentNamespace}()));function lo(n,t,e){const i=vn(),r=Yr(),o=n+lr,s=r.firstCreatePass?function Use(n,t,e,i,r){const o=t.consts,s=Cu(o,i),c=_v(t,n,8,"ng-container",s);return null!==s&&o2(c,s,!0),OR(t,e,c,Cu(o,r)),null!==t.queries&&t.queries.elementStart(t,c),c}(o,r,i,t,e):r.data[o];Yc(s,!0);const c=y6(r,i,s,n);return i[o]=c,aa()&&zI(r,i,c,s),Bc(c,i),_g(s)&&(MR(r,i,s),RR(r,s,i)),null!=e&&BR(i,s),lo}function co(){let n=Qo();const t=Yr();return sh()?Eg():(n=n.parent,Yc(n,!1)),t.firstCreatePass&&(a(t,n),X_(n)&&t.queries.elementEnd(n)),co}function rs(n,t,e){return lo(n,t,e),co(),rs}let y6=(n,t,e,i)=>(Rc(!0),wR(t[Fr],""));function ur(){return vn()}function Nf(n,t,e){const i=vn();return Ql(i,ah(),t)&&dh(Yr(),xs(),i,n,t,i[Fr],e,!0),Nf}function BM(n,t,e){const i=vn();if(Ql(i,ah(),t)){const o=Yr(),s=xs();dh(o,s,i,n,t,s8(us(o.data),s,i),e,!0)}return BM}const Iv=void 0;var zse=["en",[["a","p"],["AM","PM"],Iv],[["AM","PM"],Iv,Iv],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Iv,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Iv,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Iv,"{1} 'at' {0}",Iv],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function jse(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let q0={};function Fd(n){const t=function Gse(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=w6(t);if(e)return e;const i=t.split("-")[0];if(e=w6(i),e)return e;if("en"===i)return zse;throw new an(701,!1)}function w6(n){return n in q0||(q0[n]=Uo.ng&&Uo.ng.common&&Uo.ng.common.locales&&Uo.ng.common.locales[n]),q0[n]}var Ea=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Ea||{});const K0="en-US";let x6=K0;let j6=(n,t,e)=>{};function Hn(n,t,e,i){const r=vn(),o=Yr(),s=Qo();return LM(o,r,r[Fr],s,n,t,i),Hn}function FM(n,t){const e=Qo(),i=vn(),r=Yr();return LM(r,i,s8(us(r.data),e,i),e,n,t),FM}function LM(n,t,e,i,r,o,s){const c=_g(i),g=n.firstCreatePass&&o8(n),w=t[ps],T=r8(t);let F=!0;if(3&i.type||s){const Ae=lc(i,t),xe=s?s(Ae):Ae,et=T.length,Ye=s?cn=>s(Po(cn[i.index])):i.index;let yt=null;if(!s&&c&&(yt=function Rae(n,t,e,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const c=t[gm],u=r[o+2];return c.length>u?c[u]:null}"string"==typeof s&&(o+=2)}return null}(n,t,r,i.index)),null!==yt)(yt.__ngLastListenerFn__||yt).__ngNextListenerFn__=o,yt.__ngLastListenerFn__=o,F=!1;else{o=H6(i,t,w,o),j6(Ae,r,o);const cn=e.listen(xe,r,o);T.push(o,cn),g&&g.push(r,Ye,et,et+1)}}else o=H6(i,t,w,o);const H=i.outputs;let ee;if(F&&null!==H&&(ee=H[r])){const Ae=ee.length;if(Ae)for(let xe=0;xe<Ae;xe+=2){const $n=t[ee[xe]][ee[xe+1]].subscribe(o),si=T.length;T.push(o,$n),g&&g.push(r,i.index,si,-(si+1))}}}function G6(n,t,e,i){const r=O(null);try{return Eu(6,t,e),!1!==e(i)}catch(o){return KI(n,o),!1}finally{Eu(7,t,e),O(r)}}function H6(n,t,e,i){return function r(o){if(o===Function)return i;Dw(n.componentOffset>-1?kc(n.index,t):t,5);let c=G6(t,e,i,o),u=r.__ngNextListenerFn__;for(;u;)c=G6(t,e,u,o)&&c,u=u.__ngNextListenerFn__;return c}}function He(n=1){return function ev(n){return(kr.lFrame.contextLView=function Z_(n,t){for(;n>0;)t=t[gA],n--;return t}(n,kr.lFrame.contextLView))[ps]}(n)}function Mae(n,t){let e=null;const i=function _l(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?gl(n,o,!0):wu(i,o))return r}else e=r}return e}function zs(n){const t=vn()[Ps][qa];if(!t.projection){const i=t.projection=function qe(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}(n?n.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){if(128!==o.type){const s=n?Mae(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function Zr(n,t=0,e,i,r,o){const s=vn(),c=Yr(),u=i?n+1:null;null!==u&&Hw(s,c,u,i,r,o,null,e);const g=_v(c,lr+n,16,null,e||null);null===g.projection&&(g.projection=t),Eg();const T=!s[Ka]||In();null===s[Ps][qa].projection[g.projection]&&null!==u?function Bae(n,t,e){const i=lr+e,r=t.data[i],o=n[i],s=bv(o,r.tView.ssrId);E0(o,x0(n,r,void 0,{dehydratedView:s}),0,vv(r,s))}(s,c,u):T&&32&~g.flags&&function Rne(n,t,e){G5(t[Fr],0,t,e,CR(n,e,t),N5(e.parent||t[qa],e,t))}(c,s,g)}function NM(n,t,e){return UM(n,"",t,"",e),NM}function UM(n,t,e,i,r){const o=vn(),s=L0(o,t,e,i);return s!==ro&&dh(Yr(),xs(),o,n,s,o[Fr],r,!1),UM}function jo(n,t,e,i){!function iU(n,t,e,i){const r=Yr();if(r.firstCreatePass){const o=Qo();rU(r,new J8(t,e,i),o.index),function zre(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),!(2&~e)&&(r.staticContentQueries=!0)}return tU(r,vn(),e)}(n,t,e,i)}function po(n,t,e){!function nU(n,t,e){const i=Yr();return i.firstCreatePass&&(rU(i,new J8(n,t,e),-1),!(2&~t)&&(i.staticViewQueries=!0)),tU(i,vn(),t)}(n,t,e)}function Ti(n){const t=vn(),e=Yr(),i=Jy();J_(i+1);const r=uM(e,i);if(n.dirty&&function Dc(n){return!(4&~n[xr])}(t)===!(2&~r.metadata.flags)){if(null===r.matches)n.reset([]);else{const o=oU(t,i);n.reset(o,cv),n.notifyOnChanges()}return!0}return!1}function Si(){return function cM(n,t){return n[rh].queries[t].queryList}(vn(),Jy())}function ua(n){return Qh(function Xy(){return kr.lFrame.contextLView}(),lr+n)}function $i(n,t=""){const e=vn(),i=Yr(),r=n+lr,o=i.firstCreatePass?_v(i,r,1,t,null):i.data[r],s=cV(i,e,o,t,n);e[r]=s,aa()&&zI(i,e,s,o),Yc(o,!1)}let cV=(n,t,e,i,r)=>(Rc(!0),function bR(n,t){return n.createText(t)}(t[Fr],i));function Oa(n){return fh("",n,""),Oa}function fh(n,t,e){const i=vn(),r=L0(i,n,t,e);return r!==ro&&Nm(i,sa(),r),fh}function QM(n,t,e,i,r){const o=vn(),s=N0(o,n,t,e,i,r);return s!==ro&&Nm(o,sa(),s),QM}function Kh(n,t,e){aU(t)&&(t=t());const i=vn();return Ql(i,ah(),t)&&dh(Yr(),xs(),i,n,t,i[Fr],e,!1),Kh}function zp(n,t){const e=aU(n);return e&&n.set(t),e}function Wh(n,t){const e=vn(),i=Yr(),r=Qo();return LM(i,e,e[Fr],r,n,t),Wh}function jM(n,t,e,i,r){if(n=fr(n),Array.isArray(n))for(let o=0;o<n.length;o++)jM(n[o],t,e,i,r);else{const o=Yr(),s=vn(),c=Qo();let u=Ip(n)?n:fr(n.provide);const g=Gy(n),w=1048575&c.providerIndexes,T=c.directiveStart,F=c.providerIndexes>>20;if(Ip(n)||!n.multi){const H=new q(g,r,Re),ee=GM(u,t,r?w:w+F,T);-1===ee?(Ji(xi(c,s),o,u),zM(o,n,t.length),t.push(u),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(H),s.push(H)):(e[ee]=H,s[ee]=H)}else{const H=GM(u,t,w+F,T),ee=GM(u,t,w,w+F),xe=ee>=0&&e[ee];if(r&&!xe||!r&&!(H>=0&&e[H])){Ji(xi(c,s),o,u);const et=function Jae(n,t,e,i,r){const o=new q(n,e,Re);return o.multi=[],o.index=t,o.componentProviders=0,vV(o,r,i&&!e),o}(r?Zae:Yae,e.length,r,i,g);!r&&xe&&(e[ee].providerFactory=et),zM(o,n,t.length,0),t.push(u),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(et),s.push(et)}else zM(o,n,H>-1?H:ee,vV(e[r?ee:H],g,!r&&i));!r&&i&&xe&&e[ee].componentProviders++}}}function zM(n,t,e,i){const r=Ip(t),o=function Ag(n){return!!n.useClass}(t);if(r||o){const u=(o?fr(t.useClass):t).prototype.ngOnDestroy;if(u){const g=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const w=g.indexOf(e);-1===w?g.push(e,[i,u]):g[w+1].push(i,u)}else g.push(e,u)}}}function vV(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function GM(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function Yae(n,t,e,i){return HM(this.multi,[])}function Zae(n,t,e,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,c=Fs(e,e[ii],this.providerFactory.index,i);o=c.slice(0,s),HM(r,o);for(let u=s;u<c.length;u++)o.push(c[u])}else o=[],HM(r,o);return o}function HM(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Vr(n,t=[]){return e=>{e.providersResolver=(i,r)=>function Xae(n,t,e){const i=Yr();if(i.firstCreatePass){const r=td(n);jM(e,i.data,i.blueprint,r,!0),jM(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}let ele=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=nh(0,e.type),r=i.length>0?c2([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Nn({token:n,providedIn:"environment",factory:()=>new n(Ct(oc))})}return n})();function vo(n){Bd("NgStandalone"),n.getStandaloneInjector=t=>t.get(ele).getOrCreateStandaloneInjector(n)}function $h(n,t,e){const i=Zc()+n,r=vn();return r[i]===ro?BA(r,i,e?t.call(e):t()):function Gw(n,t){return n[t]}(r,i)}function gs(n,t,e,i){return function xV(n,t,e,i,r,o){const s=t+e;return Ql(n,s,r)?BA(n,s+1,o?i.call(o,r):i(r)):tx(n,s+1)}(vn(),Zc(),n,t,e,i)}function Xa(n,t,e,i,r){return EV(vn(),Zc(),n,t,e,i,r)}function Gp(n,t,e,i,r,o){return function CV(n,t,e,i,r,o,s,c){const u=t+e;return function d2(n,t,e,i,r){const o=xv(n,t,e,i);return Ql(n,t+2,r)||o}(n,u,r,o,s)?BA(n,u+3,c?i.call(c,r,o,s):i(r,o,s)):tx(n,u+3)}(vn(),Zc(),n,t,e,i,r,o)}function W0(n,t,e,i,r,o,s){return function IV(n,t,e,i,r,o,s,c,u){const g=t+e;return function jp(n,t,e,i,r,o){const s=xv(n,t,e,i);return xv(n,t+2,r,o)||s}(n,g,r,o,s,c)?BA(n,g+4,u?i.call(u,r,o,s,c):i(r,o,s,c)):tx(n,g+4)}(vn(),Zc(),n,t,e,i,r,o,s)}function wV(n,t,e,i){return function TV(n,t,e,i,r,o){let s=t+e,c=!1;for(let u=0;u<r.length;u++)Ql(n,s++,r[u])&&(c=!0);return c?BA(n,s,i.apply(o,r)):tx(n,s)}(vn(),Zc(),n,t,e,i)}function tx(n,t){const e=n[t];return e===ro?void 0:e}function EV(n,t,e,i,r,o,s){const c=t+e;return xv(n,c,r,o)?BA(n,c+2,s?i.call(s,r,o):i(r,o)):tx(n,c+2)}function qM(n,t){const e=Yr();let i;const r=n+lr;e.firstCreatePass?(i=function lle(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];const o=i.factory||(i.factory=z(i.type)),c=Vs(Re);try{const u=ti(!1),g=o();return ti(u),function VM(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,vn(),r,g),g}finally{Vs(c)}}function KM(n,t,e,i){const r=n+lr,o=vn(),s=Qh(o,r);return function nx(n,t){return n[ii].data[t].pure}(o,r)?EV(o,Zc(),t,s.transform,e,i,s):s.transform(e,i)}function id(n,t){return $I(n,t)}class Vg{constructor(t){this.full=t;const e=t.split(".");this.major=e[0],this.minor=e[1],this.patch=e.slice(2).join(".")}}const Ple=new Vg("18.1.3");let I2=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const KV=new Wt(""),S2=new Wt("");let tB,JM=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,tB||(function sce(n){tB=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ri.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e()},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(Ri),Ct(eB),Ct(S2))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac})}return n})(),eB=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return tB?.findTestabilityInTree(this,e,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function ox(n){return!!n&&"function"==typeof n.then}function WV(n){return!!n&&"function"==typeof n.subscribe}const k2=new Wt("");let nB=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=Ht(k2,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const o=r();if(ox(o))e.push(o);else if(WV(o)){const s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});e.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const D2=new Wt("");function YV(n,t){return Array.isArray(t)?t.reduce(YV,n):{...n,...t}}let Ah=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ht(jh),this.afterRenderEffectManager=Ht(n2),this.zonelessEnabled=Ht(Uw),this.externalTestViews=new Set,this.beforeRender=new $,this.afterTick=new $,this.componentTypes=[],this.components=[],this.isStable=Ht(Md).hasPendingTasks.pipe(We(e=>!e)),this._injector=Ht(oc)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof L8;if(!this._injector.get(nB).done)throw!r&&function na(n){const t=Nr(n)||cs(n)||wr(n);return null!==t&&t.standalone}(e),new an(405,!1);let s;s=r?e:this._injector.get(T0).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const c=function ace(n){return n.isBoundToModule}(s)?void 0:this._injector.get(wv),g=s.create(ho.NULL,[],i||s.selector,c),w=g.location.nativeElement,T=g.injector.get(KV,null);return T?.registerApplication(w),g.onDestroy(()=>{this.detachView(g.hostView),R2(this.components,g),T?.unregisterApplication(w)}),this._loadComponent(g),g}tick(){this._tick(!0)}_tick(e){if(this._runningTick)throw new an(101,!1);const i=O(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(e)}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,O(i),this.afterTick.next()}}detectChangesInAttachedViews(e){let i=null;this._injector.destroyed||(i=this._injector.get(t2,null,{optional:!0}));let r=0;const o=this.afterRenderEffectManager;for(;r<10;){const s=0===r;if(e||!s){this.beforeRender.next(s);for(let{_lView:c,notifyErrorHandler:u}of this._views)cce(c,u,s,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(r++,o.executeInternalCallbacks(),!this.allViews.some(({_lView:c})=>wA(c))&&(o.execute(),!this.allViews.some(({_lView:c})=>wA(c))))break}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;R2(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(D2,[]);[...this._bootstrapListeners,...i].forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>R2(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new an(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function R2(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function cce(n,t,e,i){(e||wA(n))&&WI(n,t,e&&!i?0:1)}class uce{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let JV=(()=>{class n{compileModuleSync(e){return new pM(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),o=Gh(Yo(e).declarations).reduce((s,c)=>{const u=Nr(c);return u&&s.push(new jw(u)),s},[]);return new uce(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pce=(()=>{class n{constructor(){this.zone=Ht(Ri),this.changeDetectionScheduler=Ht(I0),this.applicationRef=Ht(Ah)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function iB({ngZoneFactory:n,ignoreChangesOutsideZone:t}){return n??=()=>new Ri(rB()),[{provide:Ri,useFactory:n},{provide:Un,multi:!0,useFactory:()=>{const e=Ht(pce,{optional:!0});return()=>e.initialize()}},{provide:Un,multi:!0,useFactory:()=>{const e=Ht(Ace);return()=>{e.initialize()}}},!0===t?{provide:F8,useValue:!0}:[]]}function rB(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}let Ace=(()=>{class n{constructor(){this.subscription=new Zt,this.initialized=!1,this.zone=Ht(Ri),this.pendingTasks=Ht(Md)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ri.assertNotInAngularZone(),queueMicrotask(()=>{null!==e&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ri.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sx=(()=>{class n{constructor(){this.appRef=Ht(Ah),this.taskService=Ht(Md),this.ngZone=Ht(Ri),this.zonelessEnabled=Ht(Uw),this.disableScheduling=Ht(F8,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Zt,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof av||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&5===e)return;switch(e){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const i=this.useMicrotaskScheduler?rv:Dg;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Ri.isInAngularZone())}tick(e){if(this.runningTick||this.appRef.destroyed)return;const i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(e)},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(i),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,rv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const OA=new Wt("",{providedIn:"root",factory:()=>Ht(OA,Li.Optional|Li.SkipSelf)||function mce(){return typeof $localize<"u"&&$localize.locale||K0}()}),sB=new Wt("");let iQ=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function lv(n="zone.js",t){return"noop"===n?new av:"zone.js"===n?new Ri(t):n}(i?.ngZone,rB({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=i?.ignoreChangesOutsideZone,s=function coe(n,t,e){return new hM(n,t,e)}(e.moduleType,this.injector,[...iB({ngZoneFactory:()=>r,ignoreChangesOutsideZone:o}),{provide:I0,useExisting:sx}]),c=s.injector.get(Do,null);return r.runOutsideAngular(()=>{const u=r.onError.subscribe({next:g=>{c.handleError(g)}});s.onDestroy(()=>{R2(this._modules,s),u.unsubscribe()})}),function XV(n,t,e){try{const i=e();return ox(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(c,r,()=>{const u=s.injector.get(nB);return u.runInitializers(),u.donePromise.then(()=>(function E6(n){"string"==typeof n&&(x6=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(OA,K0)||K0),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,i=[]){const r=YV({},i);return function hce(n,t,e){const i=new pM(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get(Ah);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new an(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new an(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(sB,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(ho))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Qg=null;const rQ=new Wt("");function oQ(n,t,e=[]){const i=`Platform: ${t}`,r=new Wt(i);return(o=[])=>{let s=aB();if(!s||s.injector.get(rQ,!1)){const c=[...e,...o,{provide:r,useValue:!0}];n?n(c):function vce(n){if(Qg&&!Qg.get(rQ,!1))throw new an(400,!1);(function $V(){!function yn(n){jt=n}(()=>{throw new an(600,!1)})})(),Qg=n;const t=n.get(iQ);(function aQ(n){n.get(X3,null)?.forEach(e=>e())})(n)}(function sQ(n=[],t){return ho.create({name:t,providers:[{provide:G_,useValue:"platform"},{provide:sB,useValue:new Set([()=>Qg=null])},...n]})}(c,i))}return function yce(n){const t=aB();if(!t)throw new an(401,!1);return t}()}}function aB(){return Qg?.get(iQ)??null}let qo=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=wce}return n})();function wce(n){return function xce(n,t,e){if(bf(n)&&!e){const i=kc(n.index,t);return new Rw(i,i)}return 175&n.type?new Rw(t[Ps],t):null}(Qo(),vn(),!(16&~n))}class hQ{constructor(){}supports(t){return u2(t)}create(t){return new Sce(t)}}const Tce=(n,t)=>t;class Sce{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Tce}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const s=!i||e&&e.currentIndex<fQ(i,r,o)?e:i,c=fQ(s,r,o),u=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const g=c-r,w=u-r;if(g!=w){for(let F=0;F<g;F++){const H=F<o.length?o[F]:o[F]=0,ee=H+F;w<=ee&&ee<g&&(o[F]=H+1)}o[s.previousIndex]=w-g}}c!==u&&t(s,c,u)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!u2(t))throw new an(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,s,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let c=0;c<this.length;c++)o=t[c],s=this._trackByFn(c,o),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,o,s,c)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,c),i=!0),e=e._next}else r=0,function hoe(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,c=>{s=this._trackByFn(r,c),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,c,s,r)),Object.is(e.item,c)||this._addIdentityChange(e,c)):(e=this._mismatch(e,c,s,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new kce(e,i),o,r),t}_verifyReinsertion(t,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new pQ),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pQ),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class kce{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Dce{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class pQ{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new Dce,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fQ(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class AQ{constructor(){}supports(t){return t instanceof Map||fM(t)}create(){return new Rce}}class Rce{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||fM(t)))throw new an(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new Mce(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class Mce{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function mQ(){return new pB([new hQ])}let pB=(()=>{class n{static#e=this.\u0275prov=Nn({token:n,providedIn:"root",factory:mQ});constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||mQ()),deps:[[n,new D,new _]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new an(901,!1)}}return n})();function gQ(){return new O2([new AQ])}let O2=(()=>{class n{static#e=this.\u0275prov=Nn({token:n,providedIn:"root",factory:gQ});constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||gQ()),deps:[[n,new D,new _]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new an(901,!1)}}return n})();const Oce=oQ(null,"core",[]);let Fce=(()=>{class n{constructor(e){}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(Ah))};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({})}return n})();const PQ=new Wt("");function xn(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function Eo(n,t=NaN){return isNaN(parseFloat(n))||isNaN(Number(n))?t:Number(n)}function Y0(n,t){Bd("NgSignals");const e=function vt(n){const t=Object.create(ze);t.computation=n;const e=()=>{if(Y(t),N(t),t.value===Fe)throw t.error;return t.value};return e[v]=t,e}(n);return t?.equal&&(e[v].equal=t.equal),e}function Uf(n){const t=O(null);try{return n()}finally{O(t)}}const _ue=new Wt("",{providedIn:"root",factory:()=>Ht(vue)});let vue=(()=>{class n{static#e=this.\u0275prov=Nn({token:n,providedIn:"root",factory:()=>new yue})}return n})();class yue{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=Ht(Md),this.taskId=null}scheduleEffect(t){if(this.enqueue(t),null===this.taskId){const e=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(e),this.taskId=null})}}enqueue(t){const e=t.creationZone;this.queues.has(e)||this.queues.set(e,new Set);const i=this.queues.get(e);i.has(t)||(this.queuedEffectCount++,i.add(t))}flush(){for(;this.queuedEffectCount>0;)for(const[t,e]of this.queues)null===t?this.flushQueue(e):t.run(()=>this.flushQueue(e))}flushQueue(t){for(const e of t)t.delete(e),this.queuedEffectCount--,e.run()}}class bue{constructor(t,e,i,r,o,s){this.scheduler=t,this.effectFn=e,this.creationZone=i,this.injector=o,this.watcher=function Wn(n,t,e){const i=Object.create(Xn);e&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=t;const r=u=>{i.cleanupFn=u};return i.ref={notify:()=>Z(i),run:()=>{if(null===i.fn)return;if(function A(){return j}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(i.dirty=!1,i.hasRun&&!me(i))return;i.hasRun=!0;const u=se(i);try{i.cleanupFn(),i.cleanupFn=ei,i.fn(r)}finally{fe(i,u)}},cleanup:()=>i.cleanupFn(),destroy:()=>function s(u){(function o(u){return null===u.fn&&null===u.schedule})(u)||(we(u),u.cleanupFn(),u.fn=null,u.schedule=null,u.cleanupFn=ei)}(i),[v]:i},i.ref}(c=>this.runEffect(c),()=>this.schedule(),s),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(t){try{this.effectFn(t)}catch(e){this.injector.get(Do,null,{optional:!0})?.handleError(e)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}let HQ=null;function jg(){return HQ}class Eue{}const Rr=new Wt("");let gB=(()=>{class n{historyGo(e){throw new Error("")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Nn({token:n,factory:()=>Ht(Iue),providedIn:"platform"})}return n})();const Cue=new Wt("");let Iue=(()=>{class n extends gB{constructor(){super(),this._doc=Ht(Rr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return jg().getBaseHref(this._doc)}onPopState(e){const i=jg().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=jg().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Nn({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function _B(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function qQ(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Um(n){return n&&"?"!==n[0]?"?"+n:n}let zg=(()=>{class n{historyGo(e){throw new Error("")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Nn({token:n,factory:()=>Ht(WQ),providedIn:"root"})}return n})();const KQ=new Wt("");let WQ=(()=>{class n extends zg{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Ht(Rr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return _B(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Um(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const s=this.prepareExternalUrl(r+Um(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){const s=this.prepareExternalUrl(r+Um(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(gB),Ct(KQ,8))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$Q=(()=>{class n extends zg{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){const i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=_B(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+Um(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+Um(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(gB),Ct(KQ,8))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac})}return n})(),Sv=(()=>{class n{constructor(e){this._subject=new ni,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function kue(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(qQ(XQ(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Um(i))}normalize(e){return n.stripTrailingSlash(function Sue(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,XQ(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Um(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Um(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static#e=this.normalizeQueryParams=Um;static#t=this.joinWithSlash=_B;static#n=this.stripTrailingSlash=qQ;static#i=this.\u0275fac=function(i){return new(i||n)(Ct(zg))};static#r=this.\u0275prov=Nn({token:n,factory:()=>function Tue(){return new Sv(Ct(zg))}(),providedIn:"root"})}return n})();function XQ(n){return n.replace(/\/index.html$/,"")}var j2=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(j2||{});const uc={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Hp(n,t){const e=Fd(n),i=e[Ea.NumberSymbols][t];if(typeof i>"u"){if(t===uc.CurrencyDecimal)return e[Ea.NumberSymbols][uc.Decimal];if(t===uc.CurrencyGroup)return e[Ea.NumberSymbols][uc.Group]}return i}const nde=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function IB(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}function o9(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}const SB=/\s+/,s9=[];let Gl=(()=>{class n{constructor(e,i){this._ngEl=e,this._renderer=i,this.initialClasses=s9,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(SB):s9}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(SB):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(SB).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(Re(or),Re(tu))};static#t=this.\u0275dir=zn({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class fde{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Qf=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new fde(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const c=i.get(o);i.move(c,s),l9(c,r)}});for(let r=0,o=i.length;r<o;r++){const c=i.get(r).context;c.index=r,c.count=o,c.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{l9(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(Re(hh),Re(Hh),Re(pB))};static#t=this.\u0275dir=zn({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function l9(n,t){n.context.$implicit=t.item}let xl=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Ade,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){c9("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){c9("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(Re(hh),Re(Hh))};static#t=this.\u0275dir=zn({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class Ade{constructor(){this.$implicit=null,this.ngIf=null}}function c9(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Xo(t)}'.`)}let Su=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,o]=e.split("."),s=-1===r.indexOf("-")?void 0:Pg.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static#e=this.\u0275fac=function(i){return new(i||n)(Re(or),Re(O2),Re(tu))};static#t=this.\u0275dir=zn({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return n})(),ku=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(this._shouldRecreateView(e)){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,i,r)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,i,r),get:(e,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static#e=this.\u0275fac=function(i){return new(i||n)(Re(hh))};static#t=this.\u0275dir=zn({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Qs]})}return n})();let h9=(()=>{class n{constructor(e){this._locale=e}transform(e,i,r){if(!function RB(n){return!(null==n||""===n||n!=n)}(e))return null;r||=this._locale;try{return function lde(n,t,e){return function EB(n,t,e,i,r,o,s=!1){let c="",u=!1;if(isFinite(n)){let g=function ude(n){let i,r,o,s,c,t=Math.abs(n)+"",e=0;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(o=t.search(/e/i))>0?(r<0&&(r=o),r+=+t.slice(o+1),t=t.substring(0,o)):r<0&&(r=t.length),o=0;"0"===t.charAt(o);o++);if(o===(c=t.length))i=[0],r=1;else{for(c--;"0"===t.charAt(c);)c--;for(r-=o,i=[],s=0;o<=c;o++,s++)i[s]=Number(t.charAt(o))}return r>22&&(i=i.splice(0,21),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);s&&(g=function cde(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(g));let w=t.minInt,T=t.minFrac,F=t.maxFrac;if(o){const Ye=o.match(nde);if(null===Ye)throw new Error(`${o} is not a valid digit info`);const yt=Ye[1],cn=Ye[3],$n=Ye[5];null!=yt&&(w=IB(yt)),null!=cn&&(T=IB(cn)),null!=$n?F=IB($n):null!=cn&&T>F&&(F=T)}!function dde(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const o=Math.min(Math.max(t,r),e);let s=o+n.integerLen,c=i[s];if(s>0){i.splice(Math.max(n.integerLen,s));for(let T=s;T<i.length;T++)i[T]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let T=1;T<s;T++)i[T]=0}if(c>=5)if(s-1<0){for(let T=0;T>s;T--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let u=0!==o;const g=t+n.integerLen,w=i.reduceRight(function(T,F,H,ee){return ee[H]=(F+=T)<10?F:F-10,u&&(0===ee[H]&&H>=g?ee.pop():u=!1),F>=10?1:0},0);w&&(i.unshift(w),n.integerLen++)}(g,T,F);let H=g.digits,ee=g.integerLen;const Ae=g.exponent;let xe=[];for(u=H.every(Ye=>!Ye);ee<w;ee++)H.unshift(0);for(;ee<0;ee++)H.unshift(0);ee>0?xe=H.splice(ee,H.length):(xe=H,H=[0]);const et=[];for(H.length>=t.lgSize&&et.unshift(H.splice(-t.lgSize,H.length).join(""));H.length>t.gSize;)et.unshift(H.splice(-t.gSize,H.length).join(""));H.length&&et.unshift(H.join("")),c=et.join(Hp(e,i)),xe.length&&(c+=Hp(e,r)+xe.join("")),Ae&&(c+=Hp(e,uc.Exponential)+"+"+Ae)}else c=Hp(e,uc.Infinity);return c=n<0&&!u?t.negPre+c+t.negSuf:t.posPre+c+t.posSuf,c}(n,function CB(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],o=i[1],s=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],c=s[0],u=s[1]||"";e.posPre=c.substring(0,c.indexOf("#"));for(let w=0;w<u.length;w++){const T=u.charAt(w);"0"===T?e.minFrac=e.maxFrac=w+1:"#"===T?e.maxFrac=w+1:e.posSuf+=T}const g=c.split(",");if(e.gSize=g[1]?g[1].length:0,e.lgSize=g[2]||g[1]?(g[2]||g[1]).length:0,o){const w=r.length-e.posPre.length-e.posSuf.length,T=o.indexOf("#");e.negPre=o.substring(0,T).replace(/'/g,""),e.negSuf=o.slice(T+w).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function vB(n,t){return Fd(n)[Ea.NumberFormats][t]}(t,j2.Decimal),Hp(t,uc.MinusSign)),t,uc.Group,uc.Decimal,e)}(function MB(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),r,i)}catch(o){throw function jf(n,t){return new an(2100,!1)}()}}static#e=this.\u0275fac=function(i){return new(i||n)(Re(OA,16))};static#t=this.\u0275pipe=Bs({name:"number",type:n,pure:!0,standalone:!0})}return n})();let Gs=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({})}return n})();const p9="browser";function Du(n){return n===p9}function J2(n){return"server"===n}let Qde=(()=>{class n{static#e=this.\u0275prov=Nn({token:n,providedIn:"root",factory:()=>Du(Ht(Pa))?new jde(Ht(Rr),window):new Gde})}return n})();class jde{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){const e=function zde(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}}class Gde{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}}class f9{}class _he extends Eue{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class FB extends _he{static makeCurrent(){!function xue(n){HQ??=n}(new FB)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function vhe(){return px=px||document.querySelector("base"),px?px.getAttribute("href"):null}();return null==e?null:function yhe(n){return new URL(n,document.baseURI).pathname}(e)}resetBaseElement(){px=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return o9(document.cookie,t)}}let px=null,whe=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac})}return n})();const fx=new Wt("");let E9=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new an(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(fx),Ct(Ri))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac})}return n})();class iT{constructor(t){this._doc=t}}const LB="ng-app-id";let C9=(()=>{class n{constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=J2(o),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${LB}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const o=r.get(e);return o.usage+=i,o.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===e)return r.delete(i),o.removeAttribute(LB),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(LB,this.appId),e.appendChild(s),s}}addStyleToHost(e,i){const r=this.getStyleElement(e,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(Rr),Ct(m0),Ct(eR,8),Ct(Pa))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac})}return n})();const NB={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},UB=/%COMP%/g,Ihe=new Wt("",{providedIn:"root",factory:()=>!0});function T9(n,t){return t.map(e=>e.replace(UB,n))}let VB=(()=>{class n{constructor(e,i,r,o,s,c,u,g=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=u,this.nonce=g,this.rendererByCompId=new Map,this.platformIsServer=J2(c),this.defaultRenderer=new QB(e,s,u,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Sr.ShadowDom&&(i={...i,encapsulation:Sr.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof k9?r.applyToHost(e):r instanceof jB&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,c=this.ngZone,u=this.eventManager,g=this.sharedStylesHost,w=this.removeStylesOnCompDestroy,T=this.platformIsServer;switch(i.encapsulation){case Sr.Emulated:o=new k9(u,g,i,this.appId,w,s,c,T);break;case Sr.ShadowDom:return new Dhe(u,g,e,i,s,c,this.nonce,T);default:o=new jB(u,g,i,w,s,c,T)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(E9),Ct(C9),Ct(m0),Ct(Ihe),Ct(Rr),Ct(Pa),Ct(Ri),Ct(eR))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac})}return n})();class QB{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(NB[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(S9(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(S9(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new an(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=NB[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=NB[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(Pg.DashCase|Pg.Important)?t.style.setProperty(e,i,r&Pg.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Pg.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){null!=t&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=jg().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function S9(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Dhe extends QB{constructor(t,e,i,r,o,s,c,u){super(t,o,s,u),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const g=T9(r.id,r.styles);for(const w of g){const T=document.createElement("style");c&&T.setAttribute("nonce",c),T.textContent=w,this.shadowRoot.appendChild(T)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class jB extends QB{constructor(t,e,i,r,o,s,c,u){super(t,o,s,c),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=u?T9(u,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class k9 extends jB{constructor(t,e,i,r,o,s,c,u){const g=r+"-"+i.id;super(t,e,i,o,s,c,u,g),this.contentAttr=function The(n){return"_ngcontent-%COMP%".replace(UB,n)}(g),this.hostAttr=function She(n){return"_nghost-%COMP%".replace(UB,n)}(g)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let Rhe=(()=>{class n extends iT{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(Rr))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac})}return n})(),Mhe=(()=>{class n extends iT{constructor(e){super(e),this.delegate=Ht(PQ,{optional:!0})}supports(e){return!!this.delegate&&this.delegate.supports(e)}addEventListener(e,i,r){return this.delegate.addEventListener(e,i,r)}removeEventListener(e,i,r){return this.delegate.removeEventListener(e,i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(Rr))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac})}return n})();const D9=["alt","control","meta","shift"],Bhe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Phe={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ohe=(()=>{class n extends iT{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>jg().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),s="code."),D9.forEach(g=>{const w=i.indexOf(g);w>-1&&(i.splice(w,1),s+=g+".")}),s+=o,0!=i.length||0===o.length)return null;const u={};return u.domEventName=r,u.fullKey=s,u}static matchEventFullKeyCode(e,i){let r=Bhe[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),D9.forEach(s=>{s!==r&&(0,Phe[s])(e)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(Rr))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac})}return n})();const Uhe=oQ(Oce,"browser",[{provide:Pa,useValue:p9},{provide:X3,useValue:function Fhe(){FB.makeCurrent()},multi:!0},{provide:Rr,useFactory:function Nhe(){return function yte(n){JD=n}(document),document},deps:[]}]),Vhe=new Wt(""),B9=[{provide:S2,useClass:class bhe{addToWindow(t){Uo.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new an(5103,!1);return o},Uo.getAllAngularTestabilities=()=>t.getAllTestabilities(),Uo.getAllAngularRootElements=()=>t.getAllRootElements(),Uo.frameworkStabilizers||(Uo.frameworkStabilizers=[]),Uo.frameworkStabilizers.push(i=>{const r=Uo.getAllAngularTestabilities();let o=r.length;const s=function(){o--,0==o&&i()};r.forEach(c=>{c.whenStable(s)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?jg().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:KV,useClass:JM,deps:[Ri,eB,S2]},{provide:JM,useClass:JM,deps:[Ri,eB,S2]}],P9=[{provide:G_,useValue:"root"},{provide:Do,useFactory:function Lhe(){return new Do},deps:[]},{provide:fx,useClass:Rhe,multi:!0,deps:[Rr,Ri,Pa]},{provide:fx,useClass:Ohe,multi:!0,deps:[Rr]},{provide:fx,useClass:Mhe,multi:!0},VB,C9,E9,{provide:t2,useExisting:VB},{provide:f9,useClass:whe,deps:[]},[]];let O9=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:m0,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(Vhe,12))};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({providers:[...P9,...B9],imports:[Gs,Fce]})}return n})(),Qhe=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(Rr))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Hhe={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},zB=new Wt("HammerGestureConfig"),N9=new Wt("HammerLoader");let qhe=(()=>{class n{constructor(){this.events=[],this.overrides={}}buildHammer(e){const i=new Hammer(e,this.options);i.get("pinch").set({enable:!0}),i.get("rotate").set({enable:!0});for(const r in this.overrides)i.get(r).set(this.overrides[r]);return i}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac})}return n})(),Khe=(()=>{class n extends iT{constructor(e,i,r,o){super(e),this._config=i,this.console=r,this.loader=o,this._loaderPromise=null}supports(e){return!(!Hhe.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader)}addEventListener(e,i,r){const o=this.manager.getZone();if(i=i.toLowerCase(),!window.Hammer&&this.loader){this._loaderPromise=this._loaderPromise||o.runOutsideAngular(()=>this.loader());let s=!1,c=()=>{s=!0};return o.runOutsideAngular(()=>this._loaderPromise.then(()=>{window.Hammer?s||(c=this.addEventListener(e,i,r)):c=()=>{}}).catch(()=>{c=()=>{}})),()=>{c()}}return o.runOutsideAngular(()=>{const s=this._config.buildHammer(e),c=function(u){o.runGuarded(function(){r(u)})};return s.on(i,c),()=>{s.off(i,c),"function"==typeof s.destroy&&s.destroy()}})}isCustomEvent(e){return this._config.events.indexOf(e)>-1}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(Rr),Ct(zB),Ct(I2),Ct(N9,8))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac})}return n})(),Whe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({providers:[{provide:fx,useClass:Khe,multi:!0,deps:[Rr,zB,I2,[new _,N9]]},{provide:zB,useClass:qhe,deps:[]}]})}return n})(),GB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Nn({token:n,factory:function(i){let r=null;return r=i?new(i||n):Ct($he),r},providedIn:"root"})}return n})(),$he=(()=>{class n extends GB{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case Tu.NONE:return i;case Tu.HTML:return RA(i,"HTML")?zh(i):y5(this._doc,String(i)).toString();case Tu.STYLE:return RA(i,"Style")?zh(i):i;case Tu.SCRIPT:if(RA(i,"Script"))return zh(i);throw new an(5200,!1);case Tu.URL:return RA(i,"URL")?zh(i):FI(String(i));case Tu.RESOURCE_URL:if(RA(i,"ResourceURL"))return zh(i);throw new an(5201,!1);default:throw new an(5202,!1)}}bypassSecurityTrustHtml(e){return function Qte(n){return new Ote(n)}(e)}bypassSecurityTrustStyle(e){return function jte(n){return new Fte(n)}(e)}bypassSecurityTrustScript(e){return function zte(n){return new Lte(n)}(e)}bypassSecurityTrustUrl(e){return function Gte(n){return new Nte(n)}(e)}bypassSecurityTrustResourceUrl(e){return function Hte(n){return new Ute(n)}(e)}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(Rr))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var eb=hr(635);const HB=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function V9(n){return An(n?.then)}function Q9(n){return An(n[oo])}function j9(n){return Symbol.asyncIterator&&An(n?.[Symbol.asyncIterator])}function z9(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const G9=function Xhe(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function H9(n){return An(n?.[G9])}function q9(n){return(0,eb.AQ)(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,eb.N3)(e.read());if(r)return yield(0,eb.N3)(void 0);yield yield(0,eb.N3)(i)}}finally{e.releaseLock()}})}function K9(n){return An(n?.getReader)}function iu(n){if(n instanceof pr)return n;if(null!=n){if(Q9(n))return function Yhe(n){return new pr(t=>{const e=n[oo]();if(An(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(HB(n))return function Zhe(n){return new pr(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(V9(n))return function Jhe(n){return new pr(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Ao)})}(n);if(j9(n))return W9(n);if(H9(n))return function epe(n){return new pr(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(K9(n))return function tpe(n){return W9(q9(n))}(n)}throw z9(n)}function W9(n){return new pr(t=>{(function npe(n,t){var e,i,r,o;return(0,eb.sH)(this,void 0,void 0,function*(){try{for(e=(0,eb.xN)(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function jm(n,t,e,i=0,r=!1){const o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Gg(n,t=0){return Qe((e,i)=>{e.subscribe(ge(i,r=>jm(i,n,()=>i.next(r),t),()=>jm(i,n,()=>i.complete(),t),r=>jm(i,n,()=>i.error(r),t)))})}function tb(n,t=0){return Qe((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function $9(n,t){if(!n)throw new Error("Iterable cannot be null");return new pr(e=>{jm(e,t,()=>{const i=n[Symbol.asyncIterator]();jm(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function Ls(n,t){return t?function lpe(n,t){if(null!=n){if(Q9(n))return function ipe(n,t){return iu(n).pipe(tb(t),Gg(t))}(n,t);if(HB(n))return function ope(n,t){return new pr(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(V9(n))return function rpe(n,t){return iu(n).pipe(tb(t),Gg(t))}(n,t);if(j9(n))return $9(n,t);if(H9(n))return function spe(n,t){return new pr(e=>{let i;return jm(e,t,()=>{i=n[G9](),jm(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>An(i?.return)&&i.return()})}(n,t);if(K9(n))return function ape(n,t){return $9(q9(n),t)}(n,t)}throw z9(n)}(n,t):iu(n)}function X9(n){return n&&An(n.schedule)}function qB(n){return n[n.length-1]}function KB(n){return An(qB(n))?n.pop():void 0}function Ax(n){return X9(qB(n))?n.pop():void 0}function Xi(...n){return Ls(n,Ax(n))}const{isArray:upe}=Array,{getPrototypeOf:dpe,prototype:hpe,keys:ppe}=Object;function Y9(n){if(1===n.length){const t=n[0];if(upe(t))return{args:t,keys:null};if(function fpe(n){return n&&"object"==typeof n&&dpe(n)===hpe}(t)){const e=ppe(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:Ape}=Array;function WB(n){return We(t=>function mpe(n,t){return Ape(t)?n(...t):n(t)}(n,t))}function Z9(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function oT(...n){const t=Ax(n),e=KB(n),{args:i,keys:r}=Y9(n);if(0===i.length)return Ls([],t);const o=new pr(function gpe(n,t,e=To){return i=>{J9(t,()=>{const{length:r}=n,o=new Array(r);let s=r,c=r;for(let u=0;u<r;u++)J9(t,()=>{const g=Ls(n[u],t);let w=!1;g.subscribe(ge(i,T=>{o[u]=T,w||(w=!0,c--),c||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,t,r?s=>Z9(r,s):To));return e?o.pipe(WB(e)):o}function J9(n,t,e){n?jm(e,n,t):t()}const sT=Jn(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ru(n,t,e=1/0){return An(t)?ru((i,r)=>We((o,s)=>t(i,o,r,s))(iu(n(i,r))),e):("number"==typeof t&&(e=t),Qe((i,r)=>function _pe(n,t,e,i,r,o,s,c){const u=[];let g=0,w=0,T=!1;const F=()=>{T&&!u.length&&!g&&t.complete()},H=Ae=>g<i?ee(Ae):u.push(Ae),ee=Ae=>{o&&t.next(Ae),g++;let xe=!1;iu(e(Ae,w++)).subscribe(ge(t,et=>{r?.(et),o?H(et):t.next(et)},()=>{xe=!0},void 0,()=>{if(xe)try{for(g--;u.length&&g<i;){const et=u.shift();s?jm(t,s,()=>ee(et)):ee(et)}F()}catch(et){t.error(et)}}))};return n.subscribe(ge(t,H,()=>{T=!0,F()})),()=>{c?.()}}(i,r,n,e)))}function nb(n=1/0){return ru(To,n)}function ib(...n){return function vpe(){return nb(1)}()(Ls(n,Ax(n)))}function rb(n){return new pr(t=>{iu(n()).subscribe(t)})}function ob(n,t){const e=An(n)?n:()=>n,i=r=>r.error(e());return new pr(t?r=>t.schedule(i,0,r):i)}const zf=new pr(n=>n.complete());function $B(){return Qe((n,t)=>{let e=null;n._refCount++;const i=ge(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class XB extends pr{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Pe(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Zt;const e=this.getSubject();t.add(this.source.subscribe(ge(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Zt.EMPTY)}return t}refCount(){return $B()(this)}}function pa(n,t){return Qe((e,i)=>{let r=null,o=0,s=!1;const c=()=>s&&!r&&i.complete();e.subscribe(ge(i,u=>{r?.unsubscribe();let g=0;const w=o++;iu(n(u,w)).subscribe(r=ge(i,T=>i.next(t?t(u,T,w,g++):T),()=>{r=null,c()}))},()=>{s=!0,c()}))})}function El(n){return n<=0?()=>zf:Qe((t,e)=>{let i=0;t.subscribe(ge(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Gf(...n){const t=Ax(n);return Qe((e,i)=>{(t?ib(n,e,t):ib(n,e)).subscribe(i)})}function Ia(n,t){return Qe((e,i)=>{let r=0;e.subscribe(ge(i,o=>n.call(t,o,r++)&&i.next(o)))})}function aT(n){return Qe((t,e)=>{let i=!1;t.subscribe(ge(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function ej(n=bpe){return Qe((t,e)=>{let i=!1;t.subscribe(ge(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function bpe(){return new sT}function Hg(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Ia((r,o)=>n(r,o,i)):To,El(1),e?aT(t):ej(()=>new sT))}function sb(n,t){return An(t)?ru(n,t,1):ru(n,1)}function Hl(n,t,e){const i=An(n)||t||e?{next:n,error:t,complete:e}:n;return i?Qe((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let c=!0;r.subscribe(ge(o,u=>{var g;null===(g=i.next)||void 0===g||g.call(i,u),o.next(u)},()=>{var u;c=!1,null===(u=i.complete)||void 0===u||u.call(i),o.complete()},u=>{var g;c=!1,null===(g=i.error)||void 0===g||g.call(i,u),o.error(u)},()=>{var u,g;c&&(null===(u=i.unsubscribe)||void 0===u||u.call(i)),null===(g=i.finalize)||void 0===g||g.call(i)}))}):To}function Dv(n){return Qe((t,e)=>{let o,i=null,r=!1;i=t.subscribe(ge(e,void 0,void 0,s=>{o=iu(n(s,Dv(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function ab(n,t){return Qe(function wpe(n,t,e,i,r){return(o,s)=>{let c=e,u=t,g=0;o.subscribe(ge(s,w=>{const T=g++;u=c?n(u,w,T):(c=!0,w),i&&s.next(u)},r&&(()=>{c&&s.next(u),s.complete()})))}}(n,t,arguments.length>=2,!0))}function YB(n){return n<=0?()=>zf:Qe((t,e)=>{let i=[];t.subscribe(ge(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function tj(n){return We(()=>n)}function lb(n){return Qe((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function hc(n){return Qe((t,e)=>{iu(n).subscribe(ge(e,()=>e.complete(),Pr)),!e.closed&&t.subscribe(e)})}const Co="primary",mx=Symbol("RouteTitle");class Epe{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function cb(n){return new Epe(n)}function Cpe(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],c=n[o];if(":"===s[0])r[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function FA(n,t){const e=n?ZB(n):void 0,i=t?ZB(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!nj(n[r],t[r]))return!1;return!0}function ZB(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function nj(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function ij(n){return n.length>0?n[n.length-1]:null}function qg(n){return function U9(n){return!!n&&(n instanceof pr||An(n.lift)&&An(n.subscribe))}(n)?n:ox(n)?Ls(Promise.resolve(n)):Xi(n)}const Tpe={exact:function sj(n,t,e){if(!Mv(n.segments,t.segments)||!lT(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!sj(n.children[i],t.children[i],e))return!1;return!0},subset:aj},rj={exact:function Spe(n,t){return FA(n,t)},subset:function kpe(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>nj(n[e],t[e]))},ignored:()=>!0};function oj(n,t,e){return Tpe[e.paths](n.root,t.root,e.matrixParams)&&rj[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function aj(n,t,e){return lj(n,t,t.segments,e)}function lj(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Mv(r,e)||t.hasChildren()||!lT(r,e,i))}if(n.segments.length===e.length){if(!Mv(n.segments,e)||!lT(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!aj(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Mv(n.segments,r)&&lT(n.segments,r,i)&&n.children[Co])&&lj(n.children[Co],t,o,i)}}function lT(n,t,e){return t.every((i,r)=>rj[e](n[r].parameters,i.parameters))}class Rv{constructor(t=new Ys([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=cb(this.queryParams),this._queryParamMap}toString(){return Mpe.serialize(this)}}class Ys{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return uT(this)}}class gx{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=cb(this.parameters),this._parameterMap}toString(){return dj(this)}}function Mv(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let ub=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Nn({token:n,factory:()=>new cT,providedIn:"root"})}return n})();class cT{parse(t){const e=new zpe(t);return new Rv(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${_x(t.root,!0)}`,i=function Ope(n){const t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(r=>`${dT(e)}=${dT(r)}`).join("&"):`${dT(e)}=${dT(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Bpe(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Mpe=new cT;function uT(n){return n.segments.map(t=>dj(t)).join("/")}function _x(n,t){if(!n.hasChildren())return uT(n);if(t){const e=n.children[Co]?_x(n.children[Co],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==Co&&i.push(`${r}:${_x(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Rpe(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===Co&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Co&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===Co?[_x(n.children[Co],!1)]:[`${r}:${_x(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Co]?`${uT(n)}/${e[0]}`:`${uT(n)}/(${e.join("//")})`}}function cj(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dT(n){return cj(n).replace(/%3B/gi,";")}function JB(n){return cj(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hT(n){return decodeURIComponent(n)}function uj(n){return hT(n.replace(/\+/g,"%20"))}function dj(n){return`${JB(n.path)}${function Ppe(n){return Object.entries(n).map(([t,e])=>`;${JB(t)}=${JB(e)}`).join("")}(n.parameters)}`}const Fpe=/^[^\/()?;#]+/;function eP(n){const t=n.match(Fpe);return t?t[0]:""}const Lpe=/^[^\/()?;=#]+/,Upe=/^[^=?&#]+/,Qpe=/^[^&#]+/;class zpe{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ys([],{}):new Ys([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Co]=new Ys(t,e)),i}parseSegment(){const t=eP(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new an(4009,!1);return this.capture(t),new gx(hT(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function Npe(n){const t=n.match(Lpe);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=eP(this.remaining);r&&(i=r,this.capture(i))}t[hT(e)]=hT(i)}parseQueryParam(t){const e=function Vpe(n){const t=n.match(Upe);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=function jpe(n){const t=n.match(Qpe);return t?t[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=uj(e),o=uj(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=eP(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new an(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Co);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[Co]:new Ys([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new an(4011,!1)}}function hj(n){return n.segments.length>0?new Ys([],{[Co]:n}):n}function pj(n){const t={};for(const[i,r]of Object.entries(n.children)){const o=pj(r);if(i===Co&&0===o.segments.length&&o.hasChildren())for(const[s,c]of Object.entries(o.children))t[s]=c;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function Gpe(n){if(1===n.numberOfChildren&&n.children[Co]){const t=n.children[Co];return new Ys(n.segments.concat(t.segments),t.children)}return n}(new Ys(n.segments,t))}function Bv(n){return n instanceof Rv}function fj(n){let t;const r=hj(function e(o){const s={};for(const u of o.children){const g=e(u);s[u.outlet]=g}const c=new Ys(o.url,s);return o===n&&(t=c),c}(n.root));return t??r}function Aj(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return tP(r,r,r,e,i);const o=function qpe(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new gj(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const c={};return Object.entries(o.outlets).forEach(([u,g])=>{c[u]="string"==typeof g?g.split("/"):g}),[...r,{outlets:c}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((c,u)=>{0==u&&"."===c||(0==u&&""===c?e=!0:".."===c?t++:""!=c&&r.push(c))}),r):[...r,o]},[]);return new gj(e,t,i)}(t);if(o.toRoot())return tP(r,r,new Ys([],{}),e,i);const s=function Kpe(n,t,e){if(n.isAbsolute)return new fT(t,!0,0);if(!e)return new fT(t,!1,NaN);if(null===e.parent)return new fT(e,!0,0);const i=pT(n.commands[0])?0:1;return function Wpe(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new an(4005,!1);r=i.segments.length}return new fT(i,!1,r-o)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),c=s.processChildren?yx(s.segmentGroup,s.index,o.commands):_j(s.segmentGroup,s.index,o.commands);return tP(r,s.segmentGroup,c,e,i)}function pT(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function vx(n){return"object"==typeof n&&null!=n&&n.outlets}function tP(n,t,e,i,r){let s,o={};i&&Object.entries(i).forEach(([u,g])=>{o[u]=Array.isArray(g)?g.map(w=>`${w}`):`${g}`}),s=n===t?e:mj(n,t,e);const c=hj(pj(s));return new Rv(c,o,r)}function mj(n,t,e){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===t?e:mj(o,t,e)}),new Ys(n.segments,i)}class gj{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&pT(i[0]))throw new an(4003,!1);const r=i.find(vx);if(r&&r!==ij(i))throw new an(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fT{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function _j(n,t,e){if(n??=new Ys([],{}),0===n.segments.length&&n.hasChildren())return yx(n,t,e);const i=function Xpe(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const s=n.segments[r],c=e[i];if(vx(c))break;const u=`${c}`,g=i<e.length-1?e[i+1]:null;if(r>0&&void 0===u)break;if(u&&g&&"object"==typeof g&&void 0===g.outlets){if(!yj(u,g,s))return o;i+=2}else{if(!yj(u,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Ys(n.segments.slice(0,i.pathIndex),{});return o.children[Co]=new Ys(n.segments.slice(i.pathIndex),n.children),yx(o,0,r)}return i.match&&0===r.length?new Ys(n.segments,{}):i.match&&!n.hasChildren()?nP(n,t,e):i.match?yx(n,0,r):nP(n,t,e)}function yx(n,t,e){if(0===e.length)return new Ys(n.segments,{});{const i=function $pe(n){return vx(n[0])?n[0].outlets:{[Co]:n}}(e),r={};if(Object.keys(i).some(o=>o!==Co)&&n.children[Co]&&1===n.numberOfChildren&&0===n.children[Co].segments.length){const o=yx(n.children[Co],t,e);return new Ys(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=_j(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new Ys(n.segments,r)}}function nP(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(vx(o)){const u=Ype(o.outlets);return new Ys(i,u)}if(0===r&&pT(e[0])){i.push(new gx(n.segments[t].path,vj(e[0]))),r++;continue}const s=vx(o)?o.outlets[Co]:`${o}`,c=r<e.length-1?e[r+1]:null;s&&c&&pT(c)?(i.push(new gx(s,vj(c))),r+=2):(i.push(new gx(s,{})),r++)}return new Ys(i,{})}function Ype(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=nP(new Ys([],{}),0,i))}),t}function vj(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function yj(n,t,e){return n==e.path&&FA(t,e.parameters)}const bx="imperative";var os=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(os||{});class LA{constructor(t,e){this.id=t,this.url=e}}class AT extends LA{constructor(t,e,i="imperative",r=null){super(t,e),this.type=os.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zm extends LA{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=os.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Yh=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Yh||{}),mT=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(mT||{});class Pv extends LA{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=os.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class db extends LA{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=os.NavigationSkipped}}class iP extends LA{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=os.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class bj extends LA{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=os.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zpe extends LA{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=os.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jpe extends LA{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=os.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class efe extends LA{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=os.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tfe extends LA{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=os.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nfe{constructor(t){this.route=t,this.type=os.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ife{constructor(t){this.route=t,this.type=os.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class rfe{constructor(t){this.snapshot=t,this.type=os.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ofe{constructor(t){this.snapshot=t,this.type=os.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sfe{constructor(t){this.snapshot=t,this.type=os.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class afe{constructor(t){this.snapshot=t,this.type=os.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wj{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=os.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class rP{}class gT{constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}}function Hf(n){return n.outlet||Co}function wx(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class pfe{get injector(){return wx(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new xx(this.rootInjector),this.attachRef=null}}let xx=(()=>{class n{constructor(e){this.rootInjector=e,this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new pfe(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(oc))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class xj{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=oP(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=oP(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=sP(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return sP(t,this._root).map(e=>e.value)}}function oP(n,t){if(n===t.value)return t;for(const e of t.children){const i=oP(n,e);if(i)return i}return null}function sP(n,t){if(n===t.value)return[t];for(const e of t.children){const i=sP(n,e);if(i.length)return i.unshift(t),i}return[]}class qf{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function hb(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Ej extends xj{constructor(t,e){super(t),this.snapshot=e,aP(this,t)}toString(){return this.snapshot.toString()}}function Cj(n){const t=function ffe(n){const o=new vT([],{},{},"",{},Co,n,null,{});return new Ij("",new qf(o,[]))}(n),e=new de([new gx("",{})]),i=new de({}),r=new de({}),o=new de({}),s=new de(""),c=new pb(e,i,o,s,r,Co,n,t.root);return c.snapshot=t.root,new Ej(new qf(c,[]),t)}class pb{constructor(t,e,i,r,o,s,c,u){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(We(g=>g[mx]))??Xi(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(We(t=>cb(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(We(t=>cb(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _T(n,t,e="emptyOnly"){let i;const{routeConfig:r}=n;return i=null===t||"always"!==e&&""!==r?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.data,...r?.data,...n._resolvedData}},r&&Sj(r)&&(i.resolve[mx]=r.title),i}class vT{get title(){return this.data?.[mx]}constructor(t,e,i,r,o,s,c,u,g){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=cb(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=cb(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ij extends xj{constructor(t,e){super(e),this.url=t,aP(this,e)}toString(){return Tj(this._root)}}function aP(n,t){t.value._routerState=n,t.children.forEach(e=>aP(n,e))}function Tj(n){const t=n.children.length>0?` { ${n.children.map(Tj).join(", ")} } `:"";return`${n.value}${t}`}function lP(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,FA(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),FA(t.params,e.params)||n.paramsSubject.next(e.params),function Ipe(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!FA(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),FA(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function cP(n,t){const e=FA(n.params,t.params)&&function Dpe(n,t){return Mv(n,t)&&n.every((e,i)=>FA(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||cP(n.parent,t.parent))}function Sj(n){return"string"==typeof n.title||null===n.title}let uP=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Co,this.activateEvents=new ni,this.deactivateEvents=new ni,this.attachEvents=new ni,this.detachEvents=new ni,this.parentContexts=Ht(xx),this.location=Ht(hh),this.changeDetector=Ht(qo),this.inputBinder=Ht(yT,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new an(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new an(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new an(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new an(4013,!1);this._activatedRoute=e;const r=this.location,s=e.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new dP(e,c,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:u,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=zn({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Qs]})}return n})();class dP{__ngOutletInjector(t){return new dP(this.route,this.childContexts,t)}constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===pb?this.route:t===xx?this.childContexts:this.parent.get(t,e)}}const yT=new Wt("");let kj=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=oT([i.queryParams,i.params,i.data]).pipe(pa(([o,s,c],u)=>(c={...o,...s,...c},0===u?Xi(c):Promise.resolve(c)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const s=function wue(n){const t=Nr(n);if(!t)return null;const e=new jw(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(s)for(const{templateName:c}of s.inputs)e.activatedComponentRef.setInput(c,o[c]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac})}return n})();function Ex(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function mfe(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Ex(n,i,r);return Ex(n,i)})}(n,t,e);return new qf(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(c=>Ex(n,c)),s}}const i=function gfe(n){return new pb(new de(n.url),new de(n.params),new de(n.queryParams),new de(n.fragment),new de(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>Ex(n,o));return new qf(i,r)}}class hP{constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}}const Dj="ngNavigationCancelingError";function bT(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Bv(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Rj(!1,Yh.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function Rj(n,t){const e=new Error(`NavigationCancelingError: ${n||""}`);return e[Dj]=!0,e.cancellationCode=t,e}function Mj(n){return!!n&&n[Dj]}class yfe{constructor(t,e,i,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),lP(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=hb(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=hb(t);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){const s=i.outlet.detach(),c=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:c})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=hb(t);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=hb(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new afe(o.value.snapshot))}),t.children.length&&this.forwardEvent(new ofe(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(lP(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),lP(c.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,i)}}class Bj{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class wT{constructor(t,e){this.component=t,this.route=e}}function bfe(n,t,e){const i=n._root;return Cx(i,t?t._root:null,e,[i.value])}function fb(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function sm(n){return null!==Ra(n)}(n)?t.get(n):n:i}function Cx(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=hb(t);return n.children.forEach(s=>{(function xfe(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=t?t.value:null,c=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function Efe(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Mv(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Mv(n.url,t.url)||!FA(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cP(n,t)||!FA(n.queryParams,t.queryParams);default:return!cP(n,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?r.canActivateChecks.push(new Bj(i)):(o.data=s.data,o._resolvedData=s._resolvedData),Cx(n,t,o.component?c?c.children:null:e,i,r),u&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new wT(c.outlet.component,s))}else s&&Ix(t,c,r),r.canActivateChecks.push(new Bj(i)),Cx(n,null,o.component?c?c.children:null:e,i,r)})(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>Ix(c,e.getContext(s),r)),r}function Ix(n,t,e){const i=hb(n),r=n.value;Object.entries(i).forEach(([o,s])=>{Ix(s,r.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new wT(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Tx(n){return"function"==typeof n}function Pj(n){return n instanceof sT||"EmptyError"===n?.name}const xT=Symbol("INITIAL_VALUE");function Ab(){return pa(n=>oT(n.map(t=>t.pipe(El(1),Gf(xT)))).pipe(We(t=>{for(const e of t)if(!0!==e){if(e===xT)return xT;if(!1===e||Rfe(e))return e}return!0}),Ia(t=>t!==xT),El(1)))}function Rfe(n){return Bv(n)||n instanceof hP}function Oj(n){return function Ts(...n){return $o(n)}(Hl(t=>{if("boolean"!=typeof t)throw bT(0,t)}),We(t=>!0===t))}class pP{constructor(t){this.segmentGroup=t||null}}class ET extends Error{constructor(t){super(),this.urlTree=t}}function mb(n){return ob(new pP(n))}class Gfe{constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Xi(i);if(r.numberOfChildren>1||!r.children[Co])return ob(new an(4e3,!1));r=r.children[Co]}}applyRedirectCommands(t,e,i,r,o){if("string"!=typeof e){const c=e,{queryParams:u,fragment:g,routeConfig:w,url:T,outlet:F,params:H,data:ee,title:Ae}=r,xe=Go(o,()=>c({params:H,data:ee,queryParams:u,fragment:g,routeConfig:w,url:T,outlet:F,title:Ae}));if(xe instanceof Rv)throw new ET(xe);e=xe}const s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i);if("/"===e[0])throw new ET(s);return s}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new Rv(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,o])=>{if("string"==typeof o&&":"===o[0]){const c=o.substring(1);i[r]=e[c]}else i[r]=o}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let s={};return Object.entries(e.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(t,u,i,r)}),new Ys(o,s)}createSegments(t,e,i,r){return e.map(o=>":"===o.path[0]?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new an(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const fP={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Hfe(n,t,e,i,r){const o=AP(n,t,e);return o.matched?(i=function lfe(n,t){return n.providers&&!n._injector&&(n._injector=c2(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function Qfe(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Xi(r.map(s=>{const c=fb(s,n);return qg(function Dfe(n){return n&&Tx(n.canMatch)}(c)?c.canMatch(t,e):Go(n,()=>c(t,e)))})).pipe(Ab(),Oj()):Xi(!0)}(i,t,e).pipe(We(s=>!0===s?o:{...fP}))):Xi(o)}function AP(n,t,e){if("**"===t.path)return function qfe(n){return{matched:!0,parameters:n.length>0?ij(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(e);if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...fP}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Cpe)(e,n,t);if(!r)return{...fP};const o={};Object.entries(r.posParams??{}).forEach(([c,u])=>{o[c]=u.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function Fj(n,t,e,i){return e.length>0&&function $fe(n,t,e){return e.some(i=>CT(n,t,i)&&Hf(i)!==Co)}(n,e,i)?{segmentGroup:new Ys(t,Wfe(i,new Ys(e,n.children))),slicedSegments:[]}:0===e.length&&function Xfe(n,t,e){return e.some(i=>CT(n,t,i))}(n,e,i)?{segmentGroup:new Ys(n.segments,Kfe(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Ys(n.segments,n.children),slicedSegments:e}}function Kfe(n,t,e,i){const r={};for(const o of e)if(CT(n,t,o)&&!i[Hf(o)]){const s=new Ys([],{});r[Hf(o)]=s}return{...i,...r}}function Wfe(n,t){const e={};e[Co]=t;for(const i of n)if(""===i.path&&Hf(i)!==Co){const r=new Ys([],{});e[Hf(i)]=r}return e}function CT(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class Jfe{}class nAe{constructor(t,e,i,r,o,s,c){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new Gfe(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new an(4002,`'${t.segmentGroup}'`)}recognize(){const t=Fj(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(We(({children:e,rootSnapshot:i})=>{const r=new qf(i,e),o=new Ij("",r),s=function Hpe(n,t,e=null,i=null){return Aj(fj(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){const e=new vT([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Co,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Co,e).pipe(We(i=>({children:i,rootSnapshot:e})),Dv(i=>{if(i instanceof ET)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof pP?this.noMatchError(i):i}))}processSegmentGroup(t,e,i,r,o){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i,o):this.processSegment(t,e,i,i.segments,r,!0,o).pipe(We(s=>s instanceof qf?[s]:[]))}processChildren(t,e,i,r){const o=[];for(const s of Object.keys(i.children))"primary"===s?o.unshift(s):o.push(s);return Ls(o).pipe(sb(s=>{const c=i.children[s],u=function hfe(n,t){const e=n.filter(i=>Hf(i)===t);return e.push(...n.filter(i=>Hf(i)!==t)),e}(e,s);return this.processSegmentGroup(t,u,c,s,r)}),ab((s,c)=>(s.push(...c),s)),aT(null),function xpe(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Ia((r,o)=>n(r,o,i)):To,YB(1),e?aT(t):ej(()=>new sT))}(),ru(s=>{if(null===s)return mb(i);const c=Lj(s);return function iAe(n){n.sort((t,e)=>t.value.outlet===Co?-1:e.value.outlet===Co?1:t.value.outlet.localeCompare(e.value.outlet))}(c),Xi(c)}))}processSegment(t,e,i,r,o,s,c){return Ls(e).pipe(sb(u=>this.processSegmentAgainstRoute(u._injector??t,e,u,i,r,o,s,c).pipe(Dv(g=>{if(g instanceof pP)return Xi(null);throw g}))),Hg(u=>!!u),Dv(u=>{if(Pj(u))return function Zfe(n,t,e){return 0===t.length&&!n.children[e]}(i,r,o)?Xi(new Jfe):mb(i);throw u}))}processSegmentAgainstRoute(t,e,i,r,o,s,c,u){return function Yfe(n,t,e,i){return!!(Hf(n)===i||i!==Co&&CT(t,e,n))&&AP(t,n,e).matched}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,o,s,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,o,s,u):mb(r):mb(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s,c){const{matched:u,parameters:g,consumedSegments:w,positionalParamSegments:T,remainingSegments:F}=AP(e,r,o);if(!u)return mb(e);"string"==typeof r.redirectTo&&"/"===r.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const H=new vT(o,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Nj(r),Hf(r),r.component??r._loadedComponent??null,r,Uj(r)),ee=_T(H,c,this.paramsInheritanceStrategy);H.params=Object.freeze(ee.params),H.data=Object.freeze(ee.data);const Ae=this.applyRedirects.applyRedirectCommands(w,r.redirectTo,T,H,t);return this.applyRedirects.lineralizeSegments(r,Ae).pipe(ru(xe=>this.processSegment(t,i,e,xe.concat(F),s,!1,c)))}matchSegmentAgainstRoute(t,e,i,r,o,s){const c=Hfe(e,i,r,t);return"**"===i.path&&(e.children={}),c.pipe(pa(u=>u.matched?this.getChildConfig(t=i._injector??t,i,r).pipe(pa(({routes:g})=>{const w=i._loadedInjector??t,{parameters:T,consumedSegments:F,remainingSegments:H}=u,ee=new vT(F,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Nj(i),Hf(i),i.component??i._loadedComponent??null,i,Uj(i)),Ae=_T(ee,s,this.paramsInheritanceStrategy);ee.params=Object.freeze(Ae.params),ee.data=Object.freeze(Ae.data);const{segmentGroup:xe,slicedSegments:et}=Fj(e,F,H,g);if(0===et.length&&xe.hasChildren())return this.processChildren(w,g,xe,ee).pipe(We(yt=>new qf(ee,yt)));if(0===g.length&&0===et.length)return Xi(new qf(ee,[]));const Ye=Hf(i)===o;return this.processSegment(w,g,xe,et,Ye?Co:o,!0,ee).pipe(We(yt=>new qf(ee,yt instanceof qf?[yt]:[])))})):mb(e)))}getChildConfig(t,e,i){return e.children?Xi({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Xi({routes:e._loadedRoutes,injector:e._loadedInjector}):function Vfe(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Xi(!0):Xi(r.map(s=>{const c=fb(s,n);return qg(function Ife(n){return n&&Tx(n.canLoad)}(c)?c.canLoad(t,e):Go(n,()=>c(t,e)))})).pipe(Ab(),Oj())}(t,e,i).pipe(ru(r=>r?this.configLoader.loadChildren(t,e).pipe(Hl(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function zfe(n){return ob(Rj(!1,Yh.GuardRejected))}())):Xi({routes:[],injector:t})}}function rAe(n){const t=n.value.routeConfig;return t&&""===t.path}function Lj(n){const t=[],e=new Set;for(const i of n){if(!rAe(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=Lj(i.children);t.push(new qf(i.value,r))}return t.filter(i=>!e.has(i))}function Nj(n){return n.data||{}}function Uj(n){return n.resolve||{}}function Vj(n){const t=n.children.map(e=>Vj(e)).flat();return[n,...t]}function mP(n){return pa(t=>{const e=n(t);return e?Ls(e).pipe(We(()=>t)):Xi(t)})}let Qj=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Co);return i}getResolvedTitleForRoute(e){return e.data[mx]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Nn({token:n,factory:()=>Ht(uAe),providedIn:"root"})}return n})(),uAe=(()=>{class n extends Qj{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(Qhe))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const gb=new Wt("",{providedIn:"root",factory:()=>({})});let jj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Ii({type:n,selectors:[["ng-component"]],standalone:!0,features:[vo],decls:1,vars:0,template:function(i,r){1&i&&Pn(0,"router-outlet")},dependencies:[uP],encapsulation:2})}return n})();function gP(n){const t=n.children&&n.children.map(gP),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Co&&(e.component=jj),e}const _b=new Wt("");let _P=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ht(JV)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Xi(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=qg(e.loadComponent()).pipe(We(zj),Hl(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),lb(()=>{this.componentLoaders.delete(e)})),r=new XB(i,()=>new $).pipe($B());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Xi({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function dAe(n,t,e,i){return qg(n.loadChildren()).pipe(We(zj),ru(r=>r instanceof xU||Array.isArray(r)?Xi(r):Ls(t.compileModuleAsync(r))),We(r=>{i&&i(n);let o,s,c=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(e).injector,s=o.get(_b,[],{optional:!0,self:!0}).flat()),{routes:s.map(gP),injector:o}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(lb(()=>{this.childrenLoaders.delete(i)})),s=new XB(o,()=>new $).pipe($B());return this.childrenLoaders.set(i,s),s}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zj(n){return function hAe(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let vP=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Nn({token:n,factory:()=>Ht(pAe),providedIn:"root"})}return n})(),pAe=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Gj=new Wt(""),Hj=new Wt("");function fAe(n,t,e){const i=n.get(Hj),r=n.get(Rr);return n.get(Ri).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(g=>setTimeout(g));let o;const s=new Promise(g=>{o=g}),c=r.startViewTransition(()=>(o(),function AAe(n){return new Promise(t=>{Og({read:()=>setTimeout(t)},{injector:n})})}(n))),{onViewTransitionCreated:u}=i;return u&&Go(n,()=>u({transition:c,from:t,to:e})),s})}const qj=new Wt("");let IT=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new $,this.transitionAbortSubject=new $,this.configLoader=Ht(_P),this.environmentInjector=Ht(oc),this.urlSerializer=Ht(ub),this.rootContexts=Ht(xx),this.location=Ht(Sv),this.inputBindingEnabled=null!==Ht(yT,{optional:!0}),this.titleStrategy=Ht(Qj),this.options=Ht(gb,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Ht(vP),this.createViewTransition=Ht(Gj,{optional:!0}),this.navigationErrorHandler=Ht(qj,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Xi(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new ife(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new nfe(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new de({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:bx,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ia(o=>0!==o.id),We(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),pa(o=>{let s=!1,c=!1;return Xi(o).pipe(pa(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Yh.SupersededByNewNavigation),zf;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:"string"==typeof u.extras.browserUrl?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const g=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!g&&"reload"!==(u.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const T="";return this.events.next(new db(u.id,this.urlSerializer.serialize(u.rawUrl),T,mT.IgnoredSameUrlNavigation)),u.resolve(!1),zf}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Xi(u).pipe(pa(T=>{const F=this.transitions?.getValue();return this.events.next(new AT(T.id,this.urlSerializer.serialize(T.extractedUrl),T.source,T.restoredState)),F!==this.transitions?.getValue()?zf:Promise.resolve(T)}),function oAe(n,t,e,i,r,o){return ru(s=>function eAe(n,t,e,i,r,o,s="emptyOnly"){return new nAe(n,t,e,i,r,s,o).recognize()}(n,t,e,i,s.extractedUrl,r,o).pipe(We(({state:c,tree:u})=>({...s,targetSnapshot:c,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Hl(T=>{o.targetSnapshot=T.targetSnapshot,o.urlAfterRedirects=T.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:T.urlAfterRedirects};const F=new bj(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(F)}));if(g&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:T,extractedUrl:F,source:H,restoredState:ee,extras:Ae}=u,xe=new AT(T,this.urlSerializer.serialize(F),H,ee);this.events.next(xe);const et=Cj(this.rootComponentType).snapshot;return this.currentTransition=o={...u,targetSnapshot:et,urlAfterRedirects:F,extras:{...Ae,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=F,Xi(o)}{const T="";return this.events.next(new db(u.id,this.urlSerializer.serialize(u.extractedUrl),T,mT.IgnoredByUrlHandlingStrategy)),u.resolve(!1),zf}}),Hl(u=>{const g=new Zpe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(g)}),We(u=>(this.currentTransition=o={...u,guards:bfe(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},o)),function Mfe(n,t){return ru(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?Xi({...e,guardsResult:!0}):function Bfe(n,t,e,i){return Ls(n).pipe(ru(r=>function Ufe(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Xi(o.map(c=>{const u=wx(t)??r,g=fb(c,u);return qg(function kfe(n){return n&&Tx(n.canDeactivate)}(g)?g.canDeactivate(n,t,e,i):Go(u,()=>g(n,t,e,i))).pipe(Hg())})).pipe(Ab()):Xi(!0)}(r.component,r.route,e,t,i)),Hg(r=>!0!==r,!0))}(s,i,r,n).pipe(ru(c=>c&&function Cfe(n){return"boolean"==typeof n}(c)?function Pfe(n,t,e,i){return Ls(t).pipe(sb(r=>ib(function Ffe(n,t){return null!==n&&t&&t(new rfe(n)),Xi(!0)}(r.route.parent,i),function Ofe(n,t){return null!==n&&t&&t(new sfe(n)),Xi(!0)}(r.route,i),function Nfe(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function wfe(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>rb(()=>Xi(s.guards.map(u=>{const g=wx(s.node)??e,w=fb(u,g);return qg(function Sfe(n){return n&&Tx(n.canActivateChild)}(w)?w.canActivateChild(i,n):Go(g,()=>w(i,n))).pipe(Hg())})).pipe(Ab())));return Xi(o).pipe(Ab())}(n,r.path,e),function Lfe(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Xi(!0);const r=i.map(o=>rb(()=>{const s=wx(t)??e,c=fb(o,s);return qg(function Tfe(n){return n&&Tx(n.canActivate)}(c)?c.canActivate(t,n):Go(s,()=>c(t,n))).pipe(Hg())}));return Xi(r).pipe(Ab())}(n,r.route,e))),Hg(r=>!0!==r,!0))}(i,o,n,t):Xi(c)),We(c=>({...e,guardsResult:c})))})}(this.environmentInjector,u=>this.events.next(u)),Hl(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&"boolean"!=typeof u.guardsResult)throw bT(0,u.guardsResult);const g=new Jpe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(g)}),Ia(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",Yh.GuardRejected),!1)),mP(u=>{if(u.guards.canActivateChecks.length)return Xi(u).pipe(Hl(g=>{const w=new efe(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(w)}),pa(g=>{let w=!1;return Xi(g).pipe(function sAe(n,t){return ru(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Xi(e);const o=new Set(r.map(u=>u.route)),s=new Set;for(const u of o)if(!s.has(u))for(const g of Vj(u))s.add(g);let c=0;return Ls(s).pipe(sb(u=>o.has(u)?function aAe(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!Sj(r)&&(o[mx]=r.title),function lAe(n,t,e,i){const r=ZB(n);if(0===r.length)return Xi({});const o={};return Ls(r).pipe(ru(s=>function cAe(n,t,e,i){const r=wx(t)??i,o=fb(n,r);return qg(o.resolve?o.resolve(t,e):Go(r,()=>o(t,e)))}(n[s],t,e,i).pipe(Hg(),Hl(c=>{if(c instanceof hP)throw bT(new cT,c);o[s]=c}))),YB(1),tj(o),Dv(s=>Pj(s)?zf:ob(s)))}(o,n,t,i).pipe(We(s=>(n._resolvedData=s,n.data=_T(n,n.parent,e).resolve,null)))}(u,i,n,t):(u.data=_T(u,u.parent,n).resolve,Xi(void 0))),Hl(()=>c++),YB(1),ru(u=>c===s.size?Xi(e):zf))})}(this.paramsInheritanceStrategy,this.environmentInjector),Hl({next:()=>w=!0,complete:()=>{w||this.cancelNavigationTransition(g,"",Yh.NoDataFromResolver)}}))}),Hl(g=>{const w=new tfe(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(w)}))}),mP(u=>{const g=w=>{const T=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&T.push(this.configLoader.loadComponent(w.routeConfig).pipe(Hl(F=>{w.component=F}),We(()=>{})));for(const F of w.children)T.push(...g(F));return T};return oT(g(u.targetSnapshot.root)).pipe(aT(null),El(1))}),mP(()=>this.afterPreactivation()),pa(()=>{const{currentSnapshot:u,targetSnapshot:g}=o,w=this.createViewTransition?.(this.environmentInjector,u.root,g.root);return w?Ls(w).pipe(We(()=>o)):Xi(o)}),We(u=>{const g=function Afe(n,t,e){const i=Ex(n,t._root,e?e._root:void 0);return new Ej(i,t)}(e.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o={...u,targetRouterState:g},this.currentNavigation.targetRouterState=g,o}),Hl(()=>{this.events.next(new rP)}),((n,t,e,i)=>We(r=>(new yfe(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),El(1),Hl({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new zm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),hc(this.transitionAbortSubject.pipe(Hl(u=>{throw u}))),lb(()=>{!s&&!c&&this.cancelNavigationTransition(o,"",Yh.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Dv(u=>{if(c=!0,Mj(u))this.events.next(new Pv(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),function _fe(n){return Mj(n)&&Bv(n.url)}(u)?this.events.next(new gT(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{const g=new iP(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{const w=Go(this.environmentInjector,()=>this.navigationErrorHandler?.(g));if(w instanceof hP){const{message:T,cancellationCode:F}=bT(0,w);this.events.next(new Pv(o.id,this.urlSerializer.serialize(o.extractedUrl),T,F)),this.events.next(new gT(w.redirectTo,w.navigationBehaviorOptions))}else{this.events.next(g);const T=e.errorHandler(u);o.resolve(!!T)}}catch(w){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(w)}}return zf}))}))}cancelNavigationTransition(e,i,r){const o=new Pv(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mAe(n){return n!==bx}let gAe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Nn({token:n,factory:()=>Ht(vAe),providedIn:"root"})}return n})();class _Ae{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let vAe=(()=>{class n extends _Ae{static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Fi(n)))(r||n)}})();static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Kj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Nn({token:n,factory:()=>Ht(yAe),providedIn:"root"})}return n})(),yAe=(()=>{class n extends Kj{constructor(){super(...arguments),this.location=Ht(Sv),this.urlSerializer=Ht(ub),this.options=Ht(gb,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Ht(vP),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Rv,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Cj(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{"popstate"===i.type&&e(i.url,i.state)})}handleRouterEvent(e,i){if(e instanceof AT)this.stateMemento=this.createStateMemento();else if(e instanceof db)this.rawUrlTree=i.initialUrl;else if(e instanceof bj){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else e instanceof rP?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):e instanceof Pv&&(e.code===Yh.GuardRejected||e.code===Yh.NoDataFromResolver)?this.restoreHistory(i):e instanceof iP?this.restoreHistory(i,!0):e instanceof zm&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,i){const r=e instanceof Rv?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&0===o&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Fi(n)))(r||n)}})();static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Sx=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Sx||{});function Wj(n,t){n.events.pipe(Ia(e=>e instanceof zm||e instanceof Pv||e instanceof iP||e instanceof db),We(e=>e instanceof zm||e instanceof db?Sx.COMPLETE:e instanceof Pv&&(e.code===Yh.Redirect||e.code===Yh.SupersededByNewNavigation)?Sx.REDIRECTING:Sx.FAILED),Ia(e=>e!==Sx.REDIRECTING),El(1)).subscribe(()=>{t()})}function bAe(n){throw n}const wAe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xAe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let rd=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=Ht(I2),this.stateManager=Ht(Kj),this.options=Ht(gb,{optional:!0})||{},this.pendingTasks=Ht(Md),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Ht(IT),this.urlSerializer=Ht(ub),this.location=Ht(Sv),this.urlHandlingStrategy=Ht(vP),this._events=new $,this.errorHandler=this.options.errorHandler||bAe,this.navigated=!1,this.routeReuseStrategy=Ht(gAe),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Ht(_b,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Ht(yT,{optional:!0}),this.eventsSubscription=new Zt,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==r&&null!==o)if(this.stateManager.handleRouterEvent(i,o),i instanceof Pv&&i.code!==Yh.Redirect&&i.code!==Yh.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof zm)this.navigated=!0;else if(i instanceof gT){const s=i.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),u={browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||"eager"===this.urlUpdateStrategy||mAe(r.source),...s};this.scheduleNavigation(c,bx,null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function CAe(n){return!(n instanceof rP||n instanceof gT)})(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),bx,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",i)},0)})}navigateToSyncWithBrowser(e,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const u={...r};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const c=this.parseUrl(e);this.scheduleNavigation(c,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(gP),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:u}=i,g=u?this.currentUrlTree.fragment:s;let T,w=null;switch(c){case"merge":w={...this.currentUrlTree.queryParams,...o};break;case"preserve":w=this.currentUrlTree.queryParams;break;default:w=o||null}null!==w&&(w=this.removeEmptyProps(w));try{T=fj(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||"/"!==e[0][0])&&(e=[]),T=this.currentUrlTree.root}return Aj(T,e,w,g??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Bv(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,bx,null,i)}navigate(e,i={skipLocationChange:!1}){return function EAe(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new an(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let r;if(r=!0===i?{...wAe}:!1===i?{...xAe}:i,Bv(e))return oj(this.currentUrlTree,e,r);const o=this.parseUrl(e);return oj(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,o])=>(null!=o&&(i[r]=o),i),{})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let c,u,g;s?(c=s.resolve,u=s.reject,g=s.promise):g=new Promise((T,F)=>{c=T,u=F});const w=this.pendingTasks.add();return Wj(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(w))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:c,reject:u,promise:g,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),g.catch(T=>Promise.reject(T))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kx=(()=>{class n{constructor(e,i,r,o,s,c){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=c,this.href=null,this.onChanges=new $,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=e.events.subscribe(g=>{g instanceof zm&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null==e?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Bv(e)||Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,i,r,o,s){const c=this.urlTree;return!!(null===c||this.isAnchorElement&&(0!==e||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(c,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const e=this.urlTree;this.href=null!==e&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;const i=null===this.href?null:function w5(n,t,e){return function cne(n,t){return"src"===t&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===t&&("base"===n||"link"===n)?b5:y0}(t,e)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(e,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return null===this.routerLinkInput?null:Bv(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(Re(rd),Re(pb),_o("tabindex"),Re(tu),Re(or),Re(zg))};static#t=this.\u0275dir=zn({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&Hn("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&i&&Qt("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",xn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",xn],replaceUrl:[2,"replaceUrl","replaceUrl",xn],routerLink:"routerLink"},standalone:!0,features:[ao,Qs]})}return n})();class $j{}let SAe=(()=>{class n{constructor(e,i,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ia(e=>e instanceof zm),sb(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=c2(o.providers,e,`Route: ${o.path}`));const s=o._injector??e,c=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(c,o.children??o._loadedRoutes))}return Ls(r).pipe(nb())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Xi(null);const o=r.pipe(ru(s=>null===s?Xi(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return i.loadComponent&&!i._loadedComponent?Ls([o,this.loader.loadComponent(i)]).pipe(nb()):o})}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(rd),Ct(JV),Ct(oc),Ct($j),Ct(_P))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const yP=new Wt("");let Xj=(()=>{class n{constructor(e,i,r,o,s={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof AT?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof zm?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof db&&e.code===mT.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof wj&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new wj(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){kR()};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac})}return n})();function NA(n,t){return{\u0275kind:n,\u0275providers:t}}function Zj(){const n=Ht(ho);return t=>{const e=n.get(Ah);if(t!==e.components[0])return;const i=n.get(rd),r=n.get(Jj);1===n.get(bP)&&i.initialNavigation(),n.get(ez,null,Li.Optional)?.setUpPreloading(),n.get(yP,null,Li.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const Jj=new Wt("",{factory:()=>new $}),bP=new Wt("",{providedIn:"root",factory:()=>1}),ez=new Wt("");function MAe(n){return NA(0,[{provide:ez,useExisting:SAe},{provide:$j,useExisting:n}])}function PAe(n){return NA(9,[{provide:Gj,useValue:fAe},{provide:Hj,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const tz=new Wt("ROUTER_FORROOT_GUARD"),OAe=[Sv,{provide:ub,useClass:cT},rd,xx,{provide:pb,useFactory:function Yj(n){return n.routerState.root},deps:[rd]},_P,[]];let TT=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[OAe,[],{provide:_b,multi:!0,useValue:e},{provide:tz,useFactory:UAe,deps:[[rd,new _,new D]]},{provide:gb,useValue:i||{}},i?.useHash?{provide:zg,useClass:$Q}:{provide:zg,useClass:WQ},{provide:yP,useFactory:()=>{const n=Ht(Qde),t=Ht(Ri),e=Ht(gb),i=Ht(IT),r=Ht(ub);return e.scrollOffset&&n.setOffset(e.scrollOffset),new Xj(r,i,n,t,e)}},i?.preloadingStrategy?MAe(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?VAe(i):[],i?.bindToComponentInputs?NA(8,[kj,{provide:yT,useExisting:kj}]).\u0275providers:[],i?.enableViewTransitions?PAe().\u0275providers:[],[{provide:nz,useFactory:Zj},{provide:D2,multi:!0,useExisting:nz}]]}}static forChild(e){return{ngModule:n,providers:[{provide:_b,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(tz,8))};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({})}return n})();function UAe(n){return"guarded"}function VAe(n){return["disabled"===n.initialNavigation?NA(3,[{provide:k2,multi:!0,useFactory:()=>{const t=Ht(rd);return()=>{t.setUpLocationChangeListener()}}},{provide:bP,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?NA(2,[{provide:bP,useValue:0},{provide:k2,multi:!0,deps:[ho],useFactory:t=>{const e=t.get(Cue,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(rd),o=t.get(Jj);Wj(r,()=>{i(!0)}),t.get(IT).afterPreactivation=()=>(i(!0),o.closed?Xi(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const nz=new Wt("");function iz(...n){const t=KB(n),{args:e,keys:i}=Y9(n),r=new pr(o=>{const{length:s}=e;if(!s)return void o.complete();const c=new Array(s);let u=s,g=s;for(let w=0;w<s;w++){let T=!1;iu(e[w]).subscribe(ge(o,F=>{T||(T=!0,g--),c[w]=F},()=>u--,void 0,()=>{(!u||!T)&&(g||o.next(i?Z9(i,c):c),o.complete())}))}});return t?r.pipe(WB(t)):r}let rz=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(i){return new(i||n)(Re(tu),Re(or))};static#t=this.\u0275dir=zn({type:n})}return n})(),Ov=(()=>{class n extends rz{static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Fi(n)))(r||n)}})();static#t=this.\u0275dir=zn({type:n,features:[cr]})}return n})();const fa=new Wt(""),zAe={provide:fa,useExisting:Ir(()=>vb),multi:!0},HAe=new Wt("");let vb=(()=>{class n extends rz{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function GAe(){const n=jg()?jg().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||n)(Re(tu),Re(or),Re(HAe,8))};static#t=this.\u0275dir=zn({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&Hn("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Vr([zAe]),cr]})}return n})();function Kg(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function sz(n){return null!=n&&"number"==typeof n.length}const ql=new Wt(""),Wg=new Wt(""),qAe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Dx{static min(t){return az(t)}static max(t){return lz(t)}static required(t){return cz(t)}static requiredTrue(t){return function uz(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function dz(n){return Kg(n.value)||qAe.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function hz(n){return t=>Kg(t.value)||!sz(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return pz(t)}static pattern(t){return function fz(n){if(!n)return ST;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Kg(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return yz(t)}static composeAsync(t){return bz(t)}}function az(n){return t=>{if(Kg(t.value)||Kg(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function lz(n){return t=>{if(Kg(t.value)||Kg(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function cz(n){return Kg(n.value)?{required:!0}:null}function pz(n){return t=>sz(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function ST(n){return null}function Az(n){return null!=n}function mz(n){return ox(n)?Ls(n):n}function gz(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function _z(n,t){return t.map(e=>e(n))}function vz(n){return n.map(t=>function KAe(n){return!n.validate}(t)?t:e=>t.validate(e))}function yz(n){if(!n)return null;const t=n.filter(Az);return 0==t.length?null:function(e){return gz(_z(e,t))}}function wP(n){return null!=n?yz(vz(n)):null}function bz(n){if(!n)return null;const t=n.filter(Az);return 0==t.length?null:function(e){return iz(_z(e,t).map(mz)).pipe(We(gz))}}function xP(n){return null!=n?bz(vz(n)):null}function wz(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function xz(n){return n._rawValidators}function Ez(n){return n._rawAsyncValidators}function EP(n){return n?Array.isArray(n)?n:[n]:[]}function kT(n,t){return Array.isArray(n)?n.includes(t):n===t}function Cz(n,t){const e=EP(t);return EP(n).forEach(r=>{kT(e,r)||e.push(r)}),e}function Iz(n,t){return EP(t).filter(e=>!kT(n,e))}class Tz{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=wP(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=xP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Ud extends Tz{get formDirective(){return null}get path(){return null}}class Kf extends Tz{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Sz{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let Rx=(()=>{class n extends Sz{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(Re(Kf,2))};static#t=this.\u0275dir=zn({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&Ho("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[cr]})}return n})(),CP=(()=>{class n extends Sz{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(Re(Ud,10))};static#t=this.\u0275dir=zn({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&Ho("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[cr]})}return n})();const Mx="VALID",RT="INVALID",yb="PENDING",Bx="DISABLED";class bb{}class Dz extends bb{constructor(t,e){super(),this.value=t,this.source=e}}class SP extends bb{constructor(t,e){super(),this.pristine=t,this.source=e}}class kP extends bb{constructor(t,e){super(),this.touched=t,this.source=e}}class MT extends bb{constructor(t,e){super(),this.status=t,this.source=e}}class ZAe extends bb{constructor(t){super(),this.source=t}}class JAe extends bb{constructor(t){super(),this.source=t}}function DP(n){return(BT(n)?n.validators:n)||null}function RP(n,t){return(BT(t)?t.asyncValidators:n)||null}function BT(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Rz(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new an(1e3,"");if(!i[e])throw new an(1001,"")}function Mz(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new an(1002,"")})}class PT{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Y0(()=>this.statusReactive()),this.statusReactive=Od(void 0),this._pristine=Y0(()=>this.pristineReactive()),this.pristineReactive=Od(!0),this._touched=Y0(()=>this.touchedReactive()),this.touchedReactive=Od(!1),this._events=new $,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Uf(this.statusReactive)}set status(t){Uf(()=>this.statusReactive.set(t))}get valid(){return this.status===Mx}get invalid(){return this.status===RT}get pending(){return this.status==yb}get disabled(){return this.status===Bx}get enabled(){return this.status!==Bx}get pristine(){return Uf(this.pristineReactive)}set pristine(t){Uf(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return Uf(this.touchedReactive)}set touched(t){Uf(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Cz(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Cz(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Iz(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Iz(t,this._rawAsyncValidators))}hasValidator(t){return kT(this._rawValidators,t)}hasAsyncValidator(t){return kT(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){const e=!1===this.touched;this.touched=!0;const i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched({...t,sourceControl:i}),e&&!1!==t.emitEvent&&this._events.next(new kP(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){const e=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&!1!==t.emitEvent&&this._events.next(new kP(!1,i))}markAsDirty(t={}){const e=!0===this.pristine;this.pristine=!1;const i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty({...t,sourceControl:i}),e&&!1!==t.emitEvent&&this._events.next(new SP(!1,i))}markAsPristine(t={}){const e=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&!1!==t.emitEvent&&this._events.next(new SP(!0,i))}markAsPending(t={}){this.status=yb;const e=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new MT(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending({...t,sourceControl:e})}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Bx,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue();const i=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new Dz(this.value,i)),this._events.next(new MT(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e},this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Mx,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e},this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mx||this.status===yb)&&this._runAsyncValidator(i,t.emitEvent)}const e=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new Dz(this.value,e)),this._events.next(new MT(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity({...t,sourceControl:e})}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bx:Mx}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=yb,this._hasOwnPendingAsyncValidator={emitEvent:!1!==e};const i=mz(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent,this,e.shouldHaveEmitted)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new MT(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new ni,this.statusChanges=new ni}_calculateStatus(){return this._allControlsDisabled()?Bx:this.errors?RT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yb)?yb:this._anyControlsHaveStatus(RT)?RT:Mx}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){const i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new SP(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new kP(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){BT(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function eme(n){return Array.isArray(n)?wP(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function tme(n){return Array.isArray(n)?xP(n):n||null}(this._rawAsyncValidators)}}class Px extends PT{constructor(t,e,i){super(DP(e),RP(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Mz(this,0,t),Object.keys(t).forEach(i=>{Rz(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class Bz extends Px{}const Fv=new Wt("CallSetDisabledState",{providedIn:"root",factory:()=>Ox}),Ox="always";function OT(n,t){return[...t.path,n]}function Fx(n,t,e=Ox){MP(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function ime(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Pz(n,t)})}(n,t),function ome(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function rme(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Pz(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function nme(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function FT(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),NT(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function LT(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function MP(n,t){const e=xz(n);null!==t.validator?n.setValidators(wz(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=Ez(n);null!==t.asyncValidator?n.setAsyncValidators(wz(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();LT(t._rawValidators,r),LT(t._rawAsyncValidators,r)}function NT(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=xz(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=Ez(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return LT(t._rawValidators,i),LT(t._rawAsyncValidators,i),e}function Pz(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function PP(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function OP(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===vb?e=o:function lme(n){return Object.getPrototypeOf(n.constructor)===Ov}(o)?i=o:r=o}),r||i||e||null}function Lz(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function Nz(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}Promise.resolve();const Nx=class extends PT{constructor(t=null,e,i){super(DP(e),RP(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),BT(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Nz(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Lz(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Lz(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Nz(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},pme={provide:Kf,useExisting:Ir(()=>Ux)},Qz=Promise.resolve();let Ux=(()=>{class n extends Kf{constructor(e,i,r,o,s,c){super(),this._changeDetectorRef=s,this.callSetDisabledState=c,this.control=new Nx,this._registered=!1,this.name="",this.update=new ni,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=OP(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),PP(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Fx(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Qz.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&xn(i);Qz.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?OT(e,this._parent):[e]}static#e=this.\u0275fac=function(i){return new(i||n)(Re(Ud,9),Re(ql,10),Re(Wg,10),Re(fa,10),Re(qo,8),Re(Fv,8))};static#t=this.\u0275dir=zn({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Vr([pme]),cr,Qs]})}return n})(),FP=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=zn({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const fme={provide:fa,useExisting:Ir(()=>LP),multi:!0};let LP=(()=>{class n extends Ov{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Fi(n)))(r||n)}})();static#t=this.\u0275dir=zn({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&Hn("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[Vr([fme]),cr]})}return n})();const NP=new Wt(""),vme={provide:Ud,useExisting:Ir(()=>wb)};let wb=(()=>{class n extends Ud{get submitted(){return Uf(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}constructor(e,i,r){super(),this.callSetDisabledState=r,this._submitted=Y0(()=>this._submittedReactive()),this._submittedReactive=Od(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ni,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(NT(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Fx(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){FT(e.control||null,e,!1),function cme(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),function Fz(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new ZAe(this.control)),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new JAe(this.form))}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(FT(i||null,e),(n=>n instanceof Nx)(r)&&(Fx(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);(function Oz(n,t){MP(n,t)})(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function sme(n,t){return NT(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){MP(this.form,this),this._oldForm&&NT(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(Re(ql,10),Re(Wg,10),Re(Fv,8))};static#t=this.\u0275dir=zn({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&Hn("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Vr([vme]),cr,Qs]})}return n})();const wme={provide:Kf,useExisting:Ir(()=>VT)};let VT=(()=>{class n extends Kf{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new ni,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=OP(0,o)}ngOnChanges(e){this._added||this._setUpControl(),PP(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return OT(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(i){return new(i||n)(Re(Ud,13),Re(ql,10),Re(Wg,10),Re(fa,10),Re(NP,8))};static#n=this.\u0275dir=zn({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Vr([wme]),cr,Qs]})}return n})();function $z(n){return"number"==typeof n?n:parseFloat(n)}let Lv=(()=>{class n{constructor(){this._validator=ST}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):ST,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=zn({type:n,features:[Qs]})}return n})();const kme={provide:ql,useExisting:Ir(()=>zP),multi:!0};let zP=(()=>{class n extends Lv{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>$z(e),this.createValidator=e=>lz(e)}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Fi(n)))(r||n)}})();static#t=this.\u0275dir=zn({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&Qt("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[Vr([kme]),cr]})}return n})();const Dme={provide:ql,useExisting:Ir(()=>GP),multi:!0};let GP=(()=>{class n extends Lv{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>$z(e),this.createValidator=e=>az(e)}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Fi(n)))(r||n)}})();static#t=this.\u0275dir=zn({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&Qt("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[Vr([Dme]),cr]})}return n})();const Rme={provide:ql,useExisting:Ir(()=>QT),multi:!0};let QT=(()=>{class n extends Lv{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=xn,this.createValidator=e=>cz}enabled(e){return e}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Fi(n)))(r||n)}})();static#t=this.\u0275dir=zn({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&Qt("required",r._enabled?"":null)},inputs:{required:"required"},features:[Vr([Rme]),cr]})}return n})();const Ome={provide:ql,useExisting:Ir(()=>HP),multi:!0};let HP=(()=>{class n extends Lv{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function Wz(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>pz(e)}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Fi(n)))(r||n)}})();static#t=this.\u0275dir=zn({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&Qt("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Vr([Ome]),cr]})}return n})(),Jz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({})}return n})();class e7 extends PT{constructor(t,e,i){super(DP(e),RP(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Mz(this,0,t),t.forEach((i,r)=>{Rz(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function t7(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let n7=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let o={};return t7(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Px(r,o)}record(e,i=null){const r=this._reduceControls(e);return new Bz(r,i)}control(e,i,r){let o={};return this.useNonNullable?(t7(i)?o=i:(o.validators=i,o.asyncValidators=r),new Nx(e,{...o,nonNullable:!0})):new Nx(e,i,r)}array(e,i,r){const o=e.map(s=>this._createControl(s));return new e7(o,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof Nx||e instanceof PT?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Lme=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Fv,useValue:e.callSetDisabledState??Ox}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({imports:[Jz]})}return n})(),Nme=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:NP,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Fv,useValue:e.callSetDisabledState??Ox}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({imports:[Jz]})}return n})();class Wr{static isArray(t,e=!0){return Array.isArray(t)&&(e||0!==t.length)}static isObject(t,e=!0){return"object"==typeof t&&!Array.isArray(t)&&null!=t&&(e||0!==Object.keys(t).length)}static equals(t,e,i){return i?this.resolveFieldData(t,i)===this.resolveFieldData(e,i):this.equalsByValue(t,e)}static equalsByValue(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var o,s,c,i=Array.isArray(t),r=Array.isArray(e);if(i&&r){if((s=t.length)!=e.length)return!1;for(o=s;0!=o--;)if(!this.equalsByValue(t[o],e[o]))return!1;return!0}if(i!=r)return!1;var u=this.isDate(t),g=this.isDate(e);if(u!=g)return!1;if(u&&g)return t.getTime()==e.getTime();var w=t instanceof RegExp,T=e instanceof RegExp;if(w!=T)return!1;if(w&&T)return t.toString()==e.toString();var F=Object.keys(t);if((s=F.length)!==Object.keys(e).length)return!1;for(o=s;0!=o--;)if(!Object.prototype.hasOwnProperty.call(e,F[o]))return!1;for(o=s;0!=o--;)if(!this.equalsByValue(t[c=F[o]],e[c]))return!1;return!0}return t!=t&&e!=e}static resolveFieldData(t,e){if(t&&e){if(this.isFunction(e))return e(t);if(-1==e.indexOf("."))return t[e];{let i=e.split("."),r=t;for(let o=0,s=i.length;o<s;++o){if(null==r)return null;r=r[i[o]]}return r}}return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,e,i){t&&e!==i&&(i>=t.length&&(i%=t.length,e%=t.length),t.splice(i,0,t.splice(e,1)[0]))}static insertIntoOrderedArray(t,e,i,r){if(i.length>0){let o=!1;for(let s=0;s<i.length;s++)if(this.findIndexInList(i[s],r)>e){i.splice(s,0,t),o=!0;break}o||i.push(t)}else i.push(t)}static findIndexInList(t,e){let i=-1;if(e)for(let r=0;r<e.length;r++)if(e[r]==t){i=r;break}return i}static contains(t,e){if(null!=t&&e&&e.length)for(let i of e)if(this.equals(t,i))return!0;return!1}static removeAccents(t){return t&&(t=t.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),t}static isDate(t){return"[object Date]"===Object.prototype.toString.call(t)}static isEmpty(t){return null==t||""===t||Array.isArray(t)&&0===t.length||!this.isDate(t)&&"object"==typeof t&&0===Object.keys(t).length}static isNotEmpty(t){return!this.isEmpty(t)}static compare(t,e,i,r=1){let o=-1;const s=this.isEmpty(t),c=this.isEmpty(e);return o=s&&c?0:s?r:c?-r:"string"==typeof t&&"string"==typeof e?t.localeCompare(e,i,{numeric:!0}):t<e?-1:t>e?1:0,o}static sort(t,e,i=1,r,o=1){const s=Wr.compare(t,e,r,i);let c=i;return(Wr.isEmpty(t)||Wr.isEmpty(e))&&(c=1===o?i:o),c*s}static merge(t,e){if(null!=t||null!=e)return null!=t&&"object"!=typeof t||null!=e&&"object"!=typeof e?null!=t&&"string"!=typeof t||null!=e&&"string"!=typeof e?e||t:[t||"",e||""].join(" "):{...t||{},...e||{}}}static isPrintableCharacter(t=""){return this.isNotEmpty(t)&&1===t.length&&t.match(/\S| /)}static getItemValue(t,...e){return this.isFunction(t)?t(...e):t}static findLastIndex(t,e){let i=-1;if(this.isNotEmpty(t))try{i=t.findLastIndex(e)}catch{i=t.lastIndexOf([...t].reverse().find(e))}return i}static findLast(t,e){let i;if(this.isNotEmpty(t))try{i=t.findLast(e)}catch{i=[...t].reverse().find(e)}return i}static deepEquals(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var o,s,c,i=Array.isArray(t),r=Array.isArray(e);if(i&&r){if((s=t.length)!=e.length)return!1;for(o=s;0!=o--;)if(!this.deepEquals(t[o],e[o]))return!1;return!0}if(i!=r)return!1;var u=t instanceof Date,g=e instanceof Date;if(u!=g)return!1;if(u&&g)return t.getTime()==e.getTime();var w=t instanceof RegExp,T=e instanceof RegExp;if(w!=T)return!1;if(w&&T)return t.toString()==e.toString();var F=Object.keys(t);if((s=F.length)!==Object.keys(e).length)return!1;for(o=s;0!=o--;)if(!Object.prototype.hasOwnProperty.call(e,F[o]))return!1;for(o=s;0!=o--;)if(!this.deepEquals(t[c=F[o]],e[c]))return!1;return!0}return t!=t&&e!=e}}var i7=0;function Ru(n="pn_id_"){return`${n}${++i7}`}var $g=function Ume(){let n=[];const r=o=>o&&parseInt(o.style.zIndex,10)||0;return{get:r,set:(o,s,c)=>{s&&(s.style.zIndex=String(((o,s)=>{let c=n.length>0?n[n.length-1]:{key:o,value:s},u=c.value+(c.key===o?0:s)+2;return n.push({key:o,value:u}),u})(o,c)))},clear:o=>{o&&((o=>{n=n.filter(s=>s.value!==o)})(r(o)),o.style.zIndex="")},getCurrent:()=>n.length>0?n[n.length-1].value:0}}();const r7=["*"];let od=(()=>class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"})(),Qme=(()=>{class n{filter(e,i,r,o,s){let c=[];if(e)for(let u of e)for(let g of i){let w=Wr.resolveFieldData(u,g);if(this.filters[o](w,r,s)){c.push(u);break}}return c}filters={startsWith:(e,i,r)=>{if(null==i||""===i.trim())return!0;if(null==e)return!1;let o=Wr.removeAccents(i.toString()).toLocaleLowerCase(r);return Wr.removeAccents(e.toString()).toLocaleLowerCase(r).slice(0,o.length)===o},contains:(e,i,r)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==e)return!1;let o=Wr.removeAccents(i.toString()).toLocaleLowerCase(r);return-1!==Wr.removeAccents(e.toString()).toLocaleLowerCase(r).indexOf(o)},notContains:(e,i,r)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==e)return!1;let o=Wr.removeAccents(i.toString()).toLocaleLowerCase(r);return-1===Wr.removeAccents(e.toString()).toLocaleLowerCase(r).indexOf(o)},endsWith:(e,i,r)=>{if(null==i||""===i.trim())return!0;if(null==e)return!1;let o=Wr.removeAccents(i.toString()).toLocaleLowerCase(r),s=Wr.removeAccents(e.toString()).toLocaleLowerCase(r);return-1!==s.indexOf(o,s.length-o.length)},equals:(e,i,r)=>null==i||"string"==typeof i&&""===i.trim()||null!=e&&(e.getTime&&i.getTime?e.getTime()===i.getTime():e==i||Wr.removeAccents(e.toString()).toLocaleLowerCase(r)==Wr.removeAccents(i.toString()).toLocaleLowerCase(r)),notEquals:(e,i,r)=>!(null==i||"string"==typeof i&&""===i.trim()||null!=e&&(e.getTime&&i.getTime?e.getTime()===i.getTime():e==i||Wr.removeAccents(e.toString()).toLocaleLowerCase(r)==Wr.removeAccents(i.toString()).toLocaleLowerCase(r))),in:(e,i)=>{if(null==i||0===i.length)return!0;for(let r=0;r<i.length;r++)if(Wr.equals(e,i[r]))return!0;return!1},between:(e,i)=>null==i||null==i[0]||null==i[1]||null!=e&&(e.getTime?i[0].getTime()<=e.getTime()&&e.getTime()<=i[1].getTime():i[0]<=e&&e<=i[1]),lt:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()<i.getTime():e<i),lte:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()<=i.getTime():e<=i),gt:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()>i.getTime():e>i),gte:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()>=i.getTime():e>=i),is:(e,i,r)=>this.filters.equals(e,i,r),isNot:(e,i,r)=>this.filters.notEquals(e,i,r),before:(e,i,r)=>this.filters.lt(e,i,r),after:(e,i,r)=>this.filters.gt(e,i,r),dateIs:(e,i)=>null==i||null!=e&&e.toDateString()===i.toDateString(),dateIsNot:(e,i)=>null==i||null!=e&&e.toDateString()!==i.toDateString(),dateBefore:(e,i)=>null==i||null!=e&&e.getTime()<i.getTime(),dateAfter:(e,i)=>{if(null==i)return!0;if(null==e)return!1;const r=new Date(e);return r.setHours(0,0,0,0),r.getTime()>i.getTime()}};register(e,i){this.filters[e]=i}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qP=(()=>{class n{messageSource=new $;clearSource=new $;messageObserver=this.messageSource.asObservable();clearObserver=this.clearSource.asObservable();add(e){e&&this.messageSource.next(e)}addAll(e){e&&e.length&&this.messageSource.next(e)}clear(e){this.clearSource.next(e||null)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Nn({token:n,factory:n.\u0275fac})}return n})(),Wf=(()=>{class n{ripple=!1;inputStyle=Od("outlined");overlayOptions={};csp=Od({nonce:void 0});filterMatchModeOptions={text:[od.STARTS_WITH,od.CONTAINS,od.NOT_CONTAINS,od.ENDS_WITH,od.EQUALS,od.NOT_EQUALS],numeric:[od.EQUALS,od.NOT_EQUALS,od.LESS_THAN,od.LESS_THAN_OR_EQUAL_TO,od.GREATER_THAN,od.GREATER_THAN_OR_EQUAL_TO],date:[od.DATE_IS,od.DATE_IS_NOT,od.DATE_BEFORE,od.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new $;translationObserver=this.translationSource.asObservable();getTranslation(e){return this.translation[e]}setTranslation(e){this.translation={...this.translation,...e},this.translationSource.next(this.translation)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),o7=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Ii({type:n,selectors:[["p-header"]],standalone:!0,features:[vo],ngContentSelectors:r7,decls:1,vars:0,template:function(i,r){1&i&&(zs(),Zr(0))},encapsulation:2})}return n})(),s7=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Ii({type:n,selectors:[["p-footer"]],standalone:!0,features:[vo],ngContentSelectors:r7,decls:1,vars:0,template:function(i,r){1&i&&(zs(),Zr(0))},encapsulation:2})}return n})(),sd=(()=>{class n{template;type;name;constructor(e){this.template=e}getType(){return this.name}static \u0275fac=function(i){return new(i||n)(Re(Hh))};static \u0275dir=zn({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[0,"pTemplate","name"]},standalone:!0})}return n})(),dl=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=bi({type:n});static \u0275inj=di({})}return n})(),a7=(()=>class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"})(),zT=(()=>{class n{el;ngModel;cd;config;variant="outlined";filled;constructor(e,i,r,o){this.el=e,this.ngModel=i,this.cd=r,this.config=o}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}static \u0275fac=function(i){return new(i||n)(Re(or),Re(Ux,8),Re(qo),Re(Wf))};static \u0275dir=zn({type:n,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(i,r){1&i&&Hn("input",function(s){return r.onInput(s)}),2&i&&Ho("p-filled",r.filled)("p-variant-filled","filled"===r.variant||"filled"===r.config.inputStyle())},inputs:{variant:"variant"}})}return n})(),l7=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=bi({type:n});static \u0275inj=di({imports:[Gs]})}return n})(),_n=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(e,i){e&&i&&(e.classList?e.classList.add(i):e.className+=" "+i)}static addMultipleClasses(e,i){if(e&&i)if(e.classList){let r=i.trim().split(" ");for(let o=0;o<r.length;o++)e.classList.add(r[o])}else{let r=i.split(" ");for(let o=0;o<r.length;o++)e.className+=" "+r[o]}}static removeClass(e,i){e&&i&&(e.classList?e.classList.remove(i):e.className=e.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(e,i){e&&i&&[i].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(o=>this.removeClass(e,o)))}static hasClass(e,i){return!(!e||!i)&&(e.classList?e.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(e.className))}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(i){return i!==e})}static find(e,i){return Array.from(e.querySelectorAll(i))}static findSingle(e,i){return this.isElement(e)?e.querySelector(i):null}static index(e){let i=e.parentNode.childNodes,r=0;for(var o=0;o<i.length;o++){if(i[o]==e)return r;1==i[o].nodeType&&r++}return-1}static indexWithinGroup(e,i){let r=e.parentNode?e.parentNode.childNodes:[],o=0;for(var s=0;s<r.length;s++){if(r[s]==e)return o;r[s].attributes&&r[s].attributes[i]&&1==r[s].nodeType&&o++}return-1}static appendOverlay(e,i,r="self"){"self"!==r&&e&&i&&this.appendChild(e,i)}static alignOverlay(e,i,r="self",o=!0){e&&i&&(o&&(e.style.minWidth=`${n.getOuterWidth(i)}px`),"self"===r?this.relativePosition(e,i):this.absolutePosition(e,i))}static relativePosition(e,i,r=!0){const o=Ye=>{if(Ye)return"relative"===getComputedStyle(Ye).getPropertyValue("position")?Ye:o(Ye.parentElement)},s=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),c=i.offsetHeight??i.getBoundingClientRect().height,u=i.getBoundingClientRect(),g=this.getWindowScrollTop(),w=this.getWindowScrollLeft(),T=this.getViewport(),H=o(e)?.getBoundingClientRect()||{top:-1*g,left:-1*w};let ee,Ae;u.top+c+s.height>T.height?(ee=u.top-H.top-s.height,e.style.transformOrigin="bottom",u.top+ee<0&&(ee=-1*u.top)):(ee=c+u.top-H.top,e.style.transformOrigin="top");const xe=u.left+s.width-T.width;Ae=s.width>T.width?-1*(u.left-H.left):xe>0?u.left-H.left-xe:u.left-H.left,e.style.top=ee+"px",e.style.left=Ae+"px",r&&(e.style.marginTop="bottom"===origin?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(e,i,r=!0){const o=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=o.height,c=o.width,u=i.offsetHeight??i.getBoundingClientRect().height,g=i.offsetWidth??i.getBoundingClientRect().width,w=i.getBoundingClientRect(),T=this.getWindowScrollTop(),F=this.getWindowScrollLeft(),H=this.getViewport();let ee,Ae;w.top+u+s>H.height?(ee=w.top+T-s,e.style.transformOrigin="bottom",ee<0&&(ee=T)):(ee=u+w.top+T,e.style.transformOrigin="top"),Ae=w.left+c>H.width?Math.max(0,w.left+F+g-c):w.left+F,e.style.top=ee+"px",e.style.left=Ae+"px",r&&(e.style.marginTop="bottom"===origin?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(e,i=[]){return null===e.parentNode?i:this.getParents(e.parentNode,i.concat([e.parentNode]))}static getScrollableParents(e){let i=[];if(e){let r=this.getParents(e);const o=/(auto|scroll)/,s=c=>{let u=window.getComputedStyle(c,null);return o.test(u.getPropertyValue("overflow"))||o.test(u.getPropertyValue("overflowX"))||o.test(u.getPropertyValue("overflowY"))};for(let c of r){let u=1===c.nodeType&&c.dataset.scrollselectors;if(u){let g=u.split(",");for(let w of g){let T=this.findSingle(c,w);T&&s(T)&&i.push(T)}}9!==c.nodeType&&s(c)&&i.push(c)}}return i}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementDimensions(e){let i={};return e.style.visibility="hidden",e.style.display="block",i.width=e.offsetWidth,i.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",i}static scrollInView(e,i){let r=getComputedStyle(e).getPropertyValue("borderTopWidth"),o=r?parseFloat(r):0,s=getComputedStyle(e).getPropertyValue("paddingTop"),c=s?parseFloat(s):0,u=e.getBoundingClientRect(),w=i.getBoundingClientRect().top+document.body.scrollTop-(u.top+document.body.scrollTop)-o-c,T=e.scrollTop,F=e.clientHeight,H=this.getOuterHeight(i);w<0?e.scrollTop=T+w:w+H>F&&(e.scrollTop=T+w-F+H)}static fadeIn(e,i){e.style.opacity=0;let r=+new Date,o=0,s=function(){o=+e.style.opacity.replace(",",".")+((new Date).getTime()-r)/i,e.style.opacity=o,r=+new Date,+o<1&&(window.requestAnimationFrame&&requestAnimationFrame(s)||setTimeout(s,16))};s()}static fadeOut(e,i){var r=1,c=50/i;let u=setInterval(()=>{(r-=c)<=0&&(r=0,clearInterval(u)),e.style.opacity=r},50)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,i){var r=Element.prototype;return(r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(s){return-1!==[].indexOf.call(document.querySelectorAll(s),this)}).call(e,i)}static getOuterWidth(e,i){let r=e.offsetWidth;if(i){let o=getComputedStyle(e);r+=parseFloat(o.marginLeft)+parseFloat(o.marginRight)}return r}static getHorizontalPadding(e){let i=getComputedStyle(e);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(e){let i=getComputedStyle(e);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(e,i){let r=e.offsetHeight;if(i){let o=getComputedStyle(e);r+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return r}static getHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let e=window,i=document,r=i.documentElement,o=i.getElementsByTagName("body")[0];return{width:e.innerWidth||r.clientWidth||o.clientWidth,height:e.innerHeight||r.clientHeight||o.clientHeight}}static getOffset(e){var i=e.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,i){let r=e.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,e)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,i){if(this.isElement(i))i.appendChild(e);else{if(!(i&&i.el&&i.el.nativeElement))throw"Cannot append "+i+" to "+e;i.el.nativeElement.appendChild(e)}}static removeChild(e,i){if(this.isElement(i))i.removeChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+e+" from "+i;i.el.nativeElement.removeChild(e)}}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}static calculateScrollbarWidth(e){if(e){let i=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let i=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(e,i,r){e[i].apply(e,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return!e||null===e.offsetParent}static isVisible(e){return e&&null!=e.offsetParent}static isExist(e){return null!==e&&typeof e<"u"&&e.nodeName&&e.parentNode}static focus(e,i){e&&document.activeElement!==e&&e.focus(i)}static getFocusableSelectorString(e=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e}`}static getFocusableElements(e,i=""){let r=this.find(e,this.getFocusableSelectorString(i)),o=[];for(let s of r){const c=getComputedStyle(s);this.isVisible(s)&&"none"!=c.display&&"hidden"!=c.visibility&&o.push(s)}return o}static getFocusableElement(e,i=""){let r=this.findSingle(e,this.getFocusableSelectorString(i));if(r){const o=getComputedStyle(r);if(this.isVisible(r)&&"none"!=o.display&&"hidden"!=o.visibility)return r}return null}static getFirstFocusableElement(e,i=""){const r=this.getFocusableElements(e,i);return r.length>0?r[0]:null}static getLastFocusableElement(e,i){const r=this.getFocusableElements(e,i);return r.length>0?r[r.length-1]:null}static getNextFocusableElement(e,i=!1){const r=n.getFocusableElements(e);let o=0;if(r&&r.length>0){const s=r.indexOf(r[0].ownerDocument.activeElement);i?o=-1==s||0===s?r.length-1:s-1:-1!=s&&s!==r.length-1&&(o=s+1)}return r[o]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(e,i){if(!e)return null;switch(e){case"document":return document;case"window":return window;case"@next":return i?.nextElementSibling;case"@prev":return i?.previousElementSibling;case"@parent":return i?.parentElement;case"@grandparent":return i?.parentElement.parentElement;default:const r=typeof e;if("string"===r)return document.querySelector(e);if("object"===r&&e.hasOwnProperty("nativeElement"))return this.isExist(e.nativeElement)?e.nativeElement:void 0;const s=(c=e)&&c.constructor&&c.call&&c.apply?e():e;return s&&9===s.nodeType||this.isExist(s)?s:null}var c}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(e,i){if(e){const r=e.getAttribute(i);return isNaN(r)?"true"===r||"false"===r?"true"===r:r:+r}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(e="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)}static unblockBodyScroll(e="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}static createElement(e,i={},...r){if(e){const o=document.createElement(e);return this.setAttributes(o,i),o.append(...r),o}}static setAttribute(e,i="",r){this.isElement(e)&&null!=r&&e.setAttribute(i,r)}static setAttributes(e,i={}){if(this.isElement(e)){const r=(o,s)=>{const c=e?.$attrs?.[o]?[e?.$attrs?.[o]]:[];return[s].flat().reduce((u,g)=>{if(null!=g){const w=typeof g;if("string"===w||"number"===w)u.push(g);else if("object"===w){const T=Array.isArray(g)?r(o,g):Object.entries(g).map(([F,H])=>"style"!==o||!H&&0!==H?H?F:void 0:`${F.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${H}`);u=T.length?u.concat(T.filter(F=>!!F)):u}}return u},c)};Object.entries(i).forEach(([o,s])=>{if(null!=s){const c=o.match(/^on(.+)/);c?e.addEventListener(c[1].toLowerCase(),s):"pBind"===o?this.setAttributes(e,s):(s="class"===o?[...new Set(r("class",s))].join(" ").trim():"style"===o?r("style",s).join(";").trim():s,(e.$attrs=e.$attrs||{})&&(e.$attrs[o]=s),e.setAttribute(o,s))}})}}static isFocusableElement(e,i=""){return!!this.isElement(e)&&e.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i}`)}}return n})();class jme{element;listener;scrollableParents;constructor(t,e=(()=>{})){this.element=t,this.listener=e}bindScrollListener(){this.scrollableParents=_n.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}let Gm=(()=>{class n{autofocus=!1;focused=!1;platformId=Ht(Pa);document=Ht(Rr);host=Ht(or);ngAfterContentChecked(){!1===this.autofocus?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){Du(this.platformId)&&this.autofocus&&setTimeout(()=>{const e=_n.getFocusableElements(this.host?.nativeElement);0===e.length&&this.host.nativeElement.focus(),e.length>0&&e[0].focus(),this.focused=!0})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=zn({type:n,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:[2,"autofocus","autofocus",xn]},standalone:!0,features:[ao]})}return n})(),Xg=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=bi({type:n});static \u0275inj=di({})}return n})();const zme=["*"];let mh=(()=>{class n{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){const e=Wr.isEmpty(this.label);this.role=e?void 0:"img",this.ariaLabel=e?void 0:this.label,this.ariaHidden=e}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Ii({type:n,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:[2,"spin","spin",xn],styleClass:"styleClass"},standalone:!0,features:[ao,vo],ngContentSelectors:zme,decls:1,vars:0,template:function(i,r){1&i&&(zs(),Zr(0))},encapsulation:2,changeDetection:0})}return n})(),KP=(()=>{class n extends mh{pathId;ngOnInit(){this.pathId="url(#"+Ru()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fi(n)))(r||n)}})();static \u0275cmp=Ii({type:n,selectors:[["SpinnerIcon"]],standalone:!0,features:[cr,vo],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){1&i&&(wa(),$e(0,"svg",0)(1,"g"),Pn(2,"path",1),rt(),$e(3,"defs")(4,"clipPath",2),Pn(5,"rect",3),rt()()()),2&i&&(jr(r.getClassNames()),Qt("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),Ie(),Qt("clip-path",r.pathId),Ie(3),be("id",r.pathId))},encapsulation:2})}return n})(),Nv=(()=>{class n{document;platformId;renderer;el;zone;config;constructor(e,i,r,o,s,c){this.document=e,this.platformId=i,this.renderer=r,this.el=o,this.zone=s,this.config=c}animationListener;mouseDownListener;timeout;ngAfterViewInit(){Du(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(e){let i=this.getInk();if(!i||"none"===this.document.defaultView?.getComputedStyle(i,null).display)return;if(_n.removeClass(i,"p-ink-active"),!_n.getHeight(i)&&!_n.getWidth(i)){let c=Math.max(_n.getOuterWidth(this.el.nativeElement),_n.getOuterHeight(this.el.nativeElement));i.style.height=c+"px",i.style.width=c+"px"}let r=_n.getOffset(this.el.nativeElement),o=e.pageX-r.left+this.document.body.scrollTop-_n.getWidth(i)/2,s=e.pageY-r.top+this.document.body.scrollLeft-_n.getHeight(i)/2;this.renderer.setStyle(i,"top",s+"px"),this.renderer.setStyle(i,"left",o+"px"),_n.addClass(i,"p-ink-active"),this.timeout=setTimeout(()=>{let c=this.getInk();c&&_n.removeClass(c,"p-ink-active")},401)}getInk(){const e=this.el.nativeElement.children;for(let i=0;i<e.length;i++)if("string"==typeof e[i].className&&-1!==e[i].className.indexOf("p-ink"))return e[i];return null}resetInk(){let e=this.getInk();e&&_n.removeClass(e,"p-ink-active")}onAnimationEnd(e){this.timeout&&clearTimeout(this.timeout),_n.removeClass(e.currentTarget,"p-ink-active")}create(){let e=this.renderer.createElement("span");this.renderer.addClass(e,"p-ink"),this.renderer.appendChild(this.el.nativeElement,e),this.renderer.setAttribute(e,"aria-hidden","true"),this.renderer.setAttribute(e,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(e,"animationend",this.onAnimationEnd.bind(this)))}remove(){let e=this.getInk();e&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,_n.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(i){return new(i||n)(Re(Rr),Re(Pa),Re(tu),Re(or),Re(Ri),Re(Wf,8))};static \u0275dir=zn({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"],standalone:!0})}return n})(),Yg=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=bi({type:n});static \u0275inj=di({})}return n})();const Gme=["*"],c7=n=>({class:n});function Hme(n,t){1&n&&rs(0)}function qme(n,t){1&n&&Pn(0,"span",8),2&n&&(be("ngClass",He(3).iconClass()),Qt("aria-hidden",!0)("data-pc-section","loadingicon"))}function Kme(n,t){1&n&&Pn(0,"SpinnerIcon",9),2&n&&(be("styleClass",He(3).spinnerIconClass())("spin",!0),Qt("aria-hidden",!0)("data-pc-section","loadingicon"))}function Wme(n,t){if(1&n&&(lo(0),Kt(1,qme,1,3,"span",6)(2,Kme,1,4,"SpinnerIcon",7),co()),2&n){const e=He(2);Ie(),be("ngIf",e.loadingIcon),Ie(),be("ngIf",!e.loadingIcon)}}function $me(n,t){}function Xme(n,t){1&n&&Kt(0,$me,0,0,"ng-template",10),2&n&&be("ngIf",He(2).loadingIconTemplate)}function Yme(n,t){if(1&n&&(lo(0),Kt(1,Wme,3,2,"ng-container",2)(2,Xme,1,1,null,5),co()),2&n){const e=He();Ie(),be("ngIf",!e.loadingIconTemplate),Ie(),be("ngTemplateOutlet",e.loadingIconTemplate)("ngTemplateOutletContext",gs(3,c7,e.iconClass()))}}function Zme(n,t){1&n&&Pn(0,"span",8),2&n&&(be("ngClass",He(2).iconClass()),Qt("data-pc-section","icon"))}function Jme(n,t){}function ege(n,t){if(1&n&&Kt(0,Jme,0,0,"ng-template",10),2&n){const e=He(2);be("ngIf",!e.icon&&e.iconTemplate)}}function tge(n,t){if(1&n&&(lo(0),Kt(1,Zme,1,2,"span",6)(2,ege,1,1,null,5),co()),2&n){const e=He();Ie(),be("ngIf",e.icon&&!e.iconTemplate),Ie(),be("ngTemplateOutlet",e.iconTemplate)("ngTemplateOutletContext",gs(3,c7,e.iconClass()))}}function nge(n,t){if(1&n&&($e(0,"span",11),$i(1),rt()),2&n){const e=He();Qt("aria-hidden",e.icon&&!e.label)("data-pc-section","label"),Ie(),Oa(e.label)}}function ige(n,t){if(1&n&&($e(0,"span",8),$i(1),rt()),2&n){const e=He();jr(e.badgeClass),be("ngClass",e.badgeStyleClass()),Qt("data-pc-section","badge"),Ie(),Oa(e.badge)}}const Zg={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"};let rge=(()=>{class n{el;document;iconPos="left";loadingIcon;get label(){return this._label}set label(e){this._label=e,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}severity;raised=!1;rounded=!1;text=!1;outlined=!1;size=null;plain=!1;_label;_icon;_loading=!1;initialized;get htmlElement(){return this.el.nativeElement}_internalClasses=Object.values(Zg);constructor(e,i){this.el=e,this.document=i}ngAfterViewInit(){_n.addMultipleClasses(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){const e=[Zg.button,Zg.component];return this.icon&&!this.label&&Wr.isEmpty(this.htmlElement.textContent)&&e.push(Zg.iconOnly),this.loading&&(e.push(Zg.disabled,Zg.loading),!this.icon&&this.label&&e.push(Zg.labelOnly),this.icon&&!this.label&&!Wr.isEmpty(this.htmlElement.textContent)&&e.push(Zg.iconOnly)),this.text&&e.push("p-button-text"),this.severity&&e.push(`p-button-${this.severity}`),this.plain&&e.push("p-button-plain"),this.raised&&e.push("p-button-raised"),this.size&&e.push(`p-button-${this.size}`),this.outlined&&e.push("p-button-outlined"),this.rounded&&e.push("p-button-rounded"),"small"===this.size&&e.push("p-button-sm"),"large"===this.size&&e.push("p-button-lg"),e}setStyleClass(){const e=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...e)}createLabel(){if(!_n.findSingle(this.htmlElement,".p-button-label")&&this.label){let i=this.document.createElement("span");this.icon&&!this.label&&i.setAttribute("aria-hidden","true"),i.className="p-button-label",i.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(i)}}createIcon(){if(!_n.findSingle(this.htmlElement,".p-button-icon")&&(this.icon||this.loading)){let i=this.document.createElement("span");i.className="p-button-icon",i.setAttribute("aria-hidden","true");let r=this.label?"p-button-icon-"+this.iconPos:null;r&&_n.addClass(i,r);let o=this.getIconClass();o&&_n.addMultipleClasses(i,o),this.htmlElement.insertBefore(i,this.htmlElement.firstChild)}}updateLabel(){let e=_n.findSingle(this.htmlElement,".p-button-label");this.label?e?e.textContent=this.label:this.createLabel():e&&this.htmlElement.removeChild(e)}updateIcon(){let e=_n.findSingle(this.htmlElement,".p-button-icon"),i=_n.findSingle(this.htmlElement,".p-button-label");e?e.className=this.iconPos?"p-button-icon "+(i?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIcon()}getIconClass(){return this.loading?"p-button-loading-icon pi-spin "+(this.loadingIcon??"pi pi-spinner"):this.icon||"p-hidden"}ngOnDestroy(){this.initialized=!1}static \u0275fac=function(i){return new(i||n)(Re(or),Re(Rr))};static \u0275dir=zn({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading",severity:"severity",raised:[2,"raised","raised",xn],rounded:[2,"rounded","rounded",xn],text:[2,"text","text",xn],outlined:[2,"outlined","outlined",xn],size:"size",plain:[2,"plain","plain",xn]},standalone:!0,features:[ao]})}return n})(),xb=(()=>{class n{el;type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;style;styleClass;badgeClass;ariaLabel;autofocus;onClick=new ni;onFocus=new ni;onBlur=new ni;contentTemplate;loadingIconTemplate;iconTemplate;templates;constructor(e){this.el=e}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,e])=>!!e).reduce((e,[i])=>e+` ${i}`,"p-button-loading-icon")}iconClass(){const e={"p-button-icon":!0,"p-button-icon-left":"left"===this.iconPos&&this.label,"p-button-icon-right":"right"===this.iconPos&&this.label,"p-button-icon-top":"top"===this.iconPos&&this.label,"p-button-icon-bottom":"bottom"===this.iconPos&&this.label};return this.loading?e[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]=!0:this.icon&&(e[this.icon]=!0),e}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate)&&!this.label,"p-button-vertical":("top"===this.iconPos||"bottom"===this.iconPos)&&this.label,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&"left"===this.iconPos,"p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text,"p-button-outlined":this.outlined,"p-button-sm":"small"===this.size,"p-button-lg":"large"===this.size,"p-button-plain":this.plain,[`${this.styleClass}`]:this.styleClass}}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":default:this.contentTemplate=e.template;break;case"icon":this.iconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}focus(){this.el.nativeElement.firstChild.focus()}static \u0275fac=function(i){return new(i||n)(Re(or))};static \u0275cmp=Ii({type:n,selectors:[["p-button"]],contentQueries:function(i,r,o){if(1&i&&jo(o,sd,4),2&i){let s;Ti(s=Si())&&(r.templates=s)}},hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(i,r){2&i&&Ho("p-disabled",r.disabled)},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[2,"disabled","disabled",xn],loading:[2,"loading","loading",xn],loadingIcon:"loadingIcon",raised:[2,"raised","raised",xn],rounded:[2,"rounded","rounded",xn],text:[2,"text","text",xn],plain:[2,"plain","plain",xn],severity:"severity",outlined:[2,"outlined","outlined",xn],link:[2,"link","link",xn],tabindex:[2,"tabindex","tabindex",Eo],size:"size",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel",autofocus:[2,"autofocus","autofocus",xn]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},standalone:!0,features:[ao,vo],ngContentSelectors:Gme,decls:7,vars:14,consts:[["pRipple","","pAutoFocus","",3,"click","focus","blur","ngStyle","disabled","ngClass","autofocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[1,"p-button-label"]],template:function(i,r){1&i&&(zs(),$e(0,"button",0),Hn("click",function(s){return r.onClick.emit(s)})("focus",function(s){return r.onFocus.emit(s)})("blur",function(s){return r.onBlur.emit(s)}),Zr(1),Kt(2,Hme,1,0,"ng-container",1)(3,Yme,3,5,"ng-container",2)(4,tge,3,5,"ng-container",2)(5,nge,2,3,"span",3)(6,ige,2,5,"span",4),rt()),2&i&&(be("ngStyle",r.style)("disabled",r.disabled||r.loading)("ngClass",r.buttonClass)("autofocus",r.autofocus),Qt("type",r.type)("aria-label",r.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",r.tabindex),Ie(2),be("ngTemplateOutlet",r.contentTemplate),Ie(),be("ngIf",r.loading),Ie(),be("ngIf",!r.loading),Ie(),be("ngIf",!r.contentTemplate&&r.label),Ie(),be("ngIf",!r.contentTemplate&&r.badge))},dependencies:[xl,ku,Su,Gl,Nv,Gm,KP],encapsulation:2,changeDetection:0})}return n})(),u7=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=bi({type:n});static \u0275inj=di({imports:[xb,dl]})}return n})();var $r=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}($r||{});const Hm="*";function Uv(n,t){return{type:$r.Trigger,name:n,definitions:t,options:{}}}function $f(n,t=null){return{type:$r.Animate,styles:t,timings:n}}function Cl(n){return{type:$r.Style,styles:n,offset:null}}function Eb(n,t,e){return{type:$r.State,name:n,styles:t,options:e}}function h7(n){return{type:$r.Keyframes,steps:n}}function Kp(n,t,e=null){return{type:$r.Transition,expr:n,animation:t,options:e}}function p7(n,t=null){return{type:$r.Reference,animation:n,options:t}}function WP(n=null){return{type:$r.AnimateChild,options:n}}function f7(n,t=null){return{type:$r.AnimateRef,animation:n,options:t}}function $P(n,t,e=null){return{type:$r.Query,selector:n,animation:t,options:e}}class Vx{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class A7{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,c)=>Math.max(s,c.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}let uge=(()=>{class n{pFocusTrapDisabled=!1;platformId=Ht(Pa);host=Ht(or);document=Ht(Rr);firstHiddenFocusableElement;lastHiddenFocusableElement;ngOnInit(){Du(this.platformId)&&!this.pFocusTrapDisabled&&!this.firstHiddenFocusableElement&&!this.lastHiddenFocusableElement&&this.createHiddenFocusableElements()}ngOnChanges(e){e.pFocusTrapDisabled&&Du(this.platformId)&&(e.pFocusTrapDisabled.currentValue?this.removeHiddenFocusableElements():this.createHiddenFocusableElements())}removeHiddenFocusableElements(){this.firstHiddenFocusableElement&&this.firstHiddenFocusableElement.parentNode&&this.firstHiddenFocusableElement.parentNode.removeChild(this.firstHiddenFocusableElement),this.lastHiddenFocusableElement&&this.lastHiddenFocusableElement.parentNode&&this.lastHiddenFocusableElement.parentNode.removeChild(this.lastHiddenFocusableElement)}getComputedSelector(e){return`:not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])${e??""}`}createHiddenFocusableElements(){const i=r=>_n.createElement("span",{class:"p-hidden-accessible p-hidden-focusable",tabindex:"0",role:"presentation","data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:r?.bind(this)});this.firstHiddenFocusableElement=i(this.onFirstHiddenElementFocus),this.lastHiddenFocusableElement=i(this.onLastHiddenElementFocus),this.firstHiddenFocusableElement.setAttribute("data-pc-section","firstfocusableelement"),this.lastHiddenFocusableElement.setAttribute("data-pc-section","lastfocusableelement"),this.host.nativeElement.prepend(this.firstHiddenFocusableElement),this.host.nativeElement.append(this.lastHiddenFocusableElement)}onFirstHiddenElementFocus(e){const{currentTarget:i,relatedTarget:r}=e,o=r!==this.lastHiddenFocusableElement&&this.host.nativeElement?.contains(r)?this.lastHiddenFocusableElement:_n.getFirstFocusableElement(i.parentElement,":not(.p-hidden-focusable)");_n.focus(o)}onLastHiddenElementFocus(e){const{currentTarget:i,relatedTarget:r}=e,o=r!==this.firstHiddenFocusableElement&&this.host.nativeElement?.contains(r)?this.firstHiddenFocusableElement:_n.getLastFocusableElement(i.parentElement,":not(.p-hidden-focusable)");_n.focus(o)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=zn({type:n,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],inputs:{pFocusTrapDisabled:[2,"pFocusTrapDisabled","pFocusTrapDisabled",xn]},features:[ao,Qs]})}return n})(),dge=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=bi({type:n});static \u0275inj=di({imports:[Gs]})}return n})(),Vv=(()=>{class n extends mh{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fi(n)))(r||n)}})();static \u0275cmp=Ii({type:n,selectors:[["TimesIcon"]],standalone:!0,features:[cr,vo],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(i,r){1&i&&(wa(),$e(0,"svg",0),Pn(1,"path",1),rt()),2&i&&(jr(r.getClassNames()),Qt("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})(),m7=(()=>{class n extends mh{pathId;ngOnInit(){this.pathId="url(#"+Ru()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fi(n)))(r||n)}})();static \u0275cmp=Ii({type:n,selectors:[["WindowMaximizeIcon"]],standalone:!0,features:[cr,vo],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14ZM9.77805 7.42192C9.89013 7.534 10.0415 7.59788 10.2 7.59995C10.3585 7.59788 10.5099 7.534 10.622 7.42192C10.7341 7.30985 10.798 7.15844 10.8 6.99995V3.94242C10.8066 3.90505 10.8096 3.86689 10.8089 3.82843C10.8079 3.77159 10.7988 3.7157 10.7824 3.6623C10.756 3.55552 10.701 3.45698 10.622 3.37798C10.5099 3.2659 10.3585 3.20202 10.2 3.19995H7.00002C6.84089 3.19995 6.68828 3.26317 6.57576 3.37569C6.46324 3.48821 6.40002 3.64082 6.40002 3.79995C6.40002 3.95908 6.46324 4.11169 6.57576 4.22422C6.68828 4.33674 6.84089 4.39995 7.00002 4.39995H8.80006L6.19997 7.00005C6.10158 7.11005 6.04718 7.25246 6.04718 7.40005C6.04718 7.54763 6.10158 7.69004 6.19997 7.80005C6.30202 7.91645 6.44561 7.98824 6.59997 8.00005C6.75432 7.98824 6.89791 7.91645 6.99997 7.80005L9.60002 5.26841V6.99995C9.6021 7.15844 9.66598 7.30985 9.77805 7.42192ZM1.4 14H3.8C4.17066 13.9979 4.52553 13.8498 4.78763 13.5877C5.04973 13.3256 5.1979 12.9707 5.2 12.6V10.2C5.1979 9.82939 5.04973 9.47452 4.78763 9.21242C4.52553 8.95032 4.17066 8.80215 3.8 8.80005H1.4C1.02934 8.80215 0.674468 8.95032 0.412371 9.21242C0.150274 9.47452 0.00210008 9.82939 0 10.2V12.6C0.00210008 12.9707 0.150274 13.3256 0.412371 13.5877C0.674468 13.8498 1.02934 13.9979 1.4 14ZM1.25858 10.0586C1.29609 10.0211 1.34696 10 1.4 10H3.8C3.85304 10 3.90391 10.0211 3.94142 10.0586C3.97893 10.0961 4 10.147 4 10.2V12.6C4 12.6531 3.97893 12.704 3.94142 12.7415C3.90391 12.779 3.85304 12.8 3.8 12.8H1.4C1.34696 12.8 1.29609 12.779 1.25858 12.7415C1.22107 12.704 1.2 12.6531 1.2 12.6V10.2C1.2 10.147 1.22107 10.0961 1.25858 10.0586Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){1&i&&(wa(),$e(0,"svg",0)(1,"g"),Pn(2,"path",1),rt(),$e(3,"defs")(4,"clipPath",2),Pn(5,"rect",3),rt()()()),2&i&&(jr(r.getClassNames()),Qt("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),Ie(),Qt("clip-path",r.pathId),Ie(3),be("id",r.pathId))},encapsulation:2})}return n})(),g7=(()=>{class n extends mh{pathId;ngOnInit(){this.pathId="url(#"+Ru()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fi(n)))(r||n)}})();static \u0275cmp=Ii({type:n,selectors:[["WindowMinimizeIcon"]],standalone:!0,features:[cr,vo],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0ZM6.368 7.952C6.44137 7.98326 6.52025 7.99958 6.6 8H9.8C9.95913 8 10.1117 7.93678 10.2243 7.82426C10.3368 7.71174 10.4 7.55913 10.4 7.4C10.4 7.24087 10.3368 7.08826 10.2243 6.97574C10.1117 6.86321 9.95913 6.8 9.8 6.8H8.048L10.624 4.224C10.73 4.11026 10.7877 3.95982 10.7849 3.80438C10.7822 3.64894 10.7192 3.50063 10.6093 3.3907C10.4994 3.28077 10.3511 3.2178 10.1956 3.21506C10.0402 3.21232 9.88974 3.27002 9.776 3.376L7.2 5.952V4.2C7.2 4.04087 7.13679 3.88826 7.02426 3.77574C6.91174 3.66321 6.75913 3.6 6.6 3.6C6.44087 3.6 6.28826 3.66321 6.17574 3.77574C6.06321 3.88826 6 4.04087 6 4.2V7.4C6.00042 7.47975 6.01674 7.55862 6.048 7.632C6.07656 7.70442 6.11971 7.7702 6.17475 7.82524C6.2298 7.88029 6.29558 7.92344 6.368 7.952ZM1.4 8.80005H3.8C4.17066 8.80215 4.52553 8.95032 4.78763 9.21242C5.04973 9.47452 5.1979 9.82939 5.2 10.2V12.6C5.1979 12.9707 5.04973 13.3256 4.78763 13.5877C4.52553 13.8498 4.17066 13.9979 3.8 14H1.4C1.02934 13.9979 0.674468 13.8498 0.412371 13.5877C0.150274 13.3256 0.00210008 12.9707 0 12.6V10.2C0.00210008 9.82939 0.150274 9.47452 0.412371 9.21242C0.674468 8.95032 1.02934 8.80215 1.4 8.80005ZM3.94142 12.7415C3.97893 12.704 4 12.6531 4 12.6V10.2C4 10.147 3.97893 10.0961 3.94142 10.0586C3.90391 10.0211 3.85304 10 3.8 10H1.4C1.34696 10 1.29609 10.0211 1.25858 10.0586C1.22107 10.0961 1.2 10.147 1.2 10.2V12.6C1.2 12.6531 1.22107 12.704 1.25858 12.7415C1.29609 12.779 1.34696 12.8 1.4 12.8H3.8C3.85304 12.8 3.90391 12.779 3.94142 12.7415Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){1&i&&(wa(),$e(0,"svg",0)(1,"g"),Pn(2,"path",1),rt(),$e(3,"defs")(4,"clipPath",2),Pn(5,"rect",3),rt()()()),2&i&&(jr(r.getClassNames()),Qt("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),Ie(),Qt("clip-path",r.pathId),Ie(3),be("id",r.pathId))},encapsulation:2})}return n})();const hge=["titlebar"],pge=["content"],fge=["footer"],Age=["*",[["p-header"]],[["p-footer"]]],mge=["*","p-header","p-footer"],gge=(n,t,e,i,r,o,s,c,u,g)=>({"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter":n,"p-dialog-mask-scrollblocker":t,"p-dialog-left":e,"p-dialog-right":i,"p-dialog-top":r,"p-dialog-top-left":o,"p-dialog-top-right":s,"p-dialog-bottom":c,"p-dialog-bottom-left":u,"p-dialog-bottom-right":g}),_ge=(n,t,e,i)=>({"p-dialog p-component":!0,"p-dialog-rtl":n,"p-dialog-draggable":t,"p-dialog-resizable":e,"p-dialog-maximized":i}),vge=(n,t)=>({transform:n,transition:t}),yge=n=>({value:"visible",params:n}),bge=()=>({"p-dialog-header-icon p-dialog-header-maximize p-link":!0}),wge=()=>({"p-dialog-header-icon p-dialog-header-close p-link":!0}),xge=()=>({"min-width":0});function Ege(n,t){1&n&&rs(0)}function Cge(n,t){if(1&n&&(lo(0),Kt(1,Ege,1,0,"ng-container",10),co()),2&n){const e=He(3);Ie(),be("ngTemplateOutlet",e.headlessTemplate)}}function Ige(n,t){if(1&n){const e=ur();$e(0,"div",15),Hn("mousedown",function(r){return mn(e),pn(He(4).initResize(r))}),rt()}}function Tge(n,t){if(1&n&&($e(0,"span",21),$i(1),rt()),2&n){const e=He(5);be("id",e.ariaLabelledBy),Ie(),Oa(e.header)}}function Sge(n,t){1&n&&($e(0,"span",21),Zr(1,1),rt()),2&n&&be("id",He(5).ariaLabelledBy)}function kge(n,t){1&n&&rs(0)}function Dge(n,t){if(1&n&&Pn(0,"span",25),2&n){const e=He(6);be("ngClass",e.maximized?e.minimizeIcon:e.maximizeIcon)}}function Rge(n,t){1&n&&Pn(0,"WindowMaximizeIcon",27),2&n&&be("styleClass","p-dialog-header-maximize-icon")}function Mge(n,t){1&n&&Pn(0,"WindowMinimizeIcon",27),2&n&&be("styleClass","p-dialog-header-maximize-icon")}function Bge(n,t){if(1&n&&(lo(0),Kt(1,Rge,1,1,"WindowMaximizeIcon",26)(2,Mge,1,1,"WindowMinimizeIcon",26),co()),2&n){const e=He(6);Ie(),be("ngIf",!e.maximized&&!e.maximizeIconTemplate),Ie(),be("ngIf",e.maximized&&!e.minimizeIconTemplate)}}function Pge(n,t){}function Oge(n,t){1&n&&Kt(0,Pge,0,0,"ng-template")}function Fge(n,t){if(1&n&&(lo(0),Kt(1,Oge,1,0,null,10),co()),2&n){const e=He(6);Ie(),be("ngTemplateOutlet",e.maximizeIconTemplate)}}function Lge(n,t){}function Nge(n,t){1&n&&Kt(0,Lge,0,0,"ng-template")}function Uge(n,t){if(1&n&&(lo(0),Kt(1,Nge,1,0,null,10),co()),2&n){const e=He(6);Ie(),be("ngTemplateOutlet",e.minimizeIconTemplate)}}function Vge(n,t){if(1&n){const e=ur();$e(0,"button",22),Hn("click",function(){return mn(e),pn(He(5).maximize())})("keydown.enter",function(){return mn(e),pn(He(5).maximize())}),Kt(1,Dge,1,1,"span",23)(2,Bge,3,2,"ng-container",24)(3,Fge,2,1,"ng-container",24)(4,Uge,2,1,"ng-container",24),rt()}if(2&n){const e=He(5);be("ngClass",$h(7,bge)),Qt("tabindex",e.maximizable?"0":"-1")("aria-label",e.maximizeLabel),Ie(),be("ngIf",e.maximizeIcon&&!e.maximizeIconTemplate&&!e.minimizeIconTemplate),Ie(),be("ngIf",!e.maximizeIcon),Ie(),be("ngIf",!e.maximized),Ie(),be("ngIf",e.maximized)}}function Qge(n,t){1&n&&Pn(0,"span",30),2&n&&be("ngClass",He(7).closeIcon)}function jge(n,t){1&n&&Pn(0,"TimesIcon",27),2&n&&be("styleClass","p-dialog-header-close-icon")}function zge(n,t){if(1&n&&(lo(0),Kt(1,Qge,1,1,"span",29)(2,jge,1,1,"TimesIcon",26),co()),2&n){const e=He(6);Ie(),be("ngIf",e.closeIcon),Ie(),be("ngIf",!e.closeIcon)}}function Gge(n,t){}function Hge(n,t){1&n&&Kt(0,Gge,0,0,"ng-template")}function qge(n,t){if(1&n&&($e(0,"span"),Kt(1,Hge,1,0,null,10),rt()),2&n){const e=He(6);Ie(),be("ngTemplateOutlet",e.closeIconTemplate)}}function Kge(n,t){if(1&n){const e=ur();$e(0,"button",28),Hn("click",function(r){return mn(e),pn(He(5).close(r))})("keydown.enter",function(r){return mn(e),pn(He(5).close(r))}),Kt(1,zge,3,2,"ng-container",24)(2,qge,2,1,"span",24),rt()}if(2&n){const e=He(5);be("ngClass",$h(6,wge))("ngStyle",$h(7,xge)),Qt("aria-label",e.closeAriaLabel)("tabindex",e.closeTabindex),Ie(),be("ngIf",!e.closeIconTemplate),Ie(),be("ngIf",e.closeIconTemplate)}}function Wge(n,t){if(1&n){const e=ur();$e(0,"div",16,3),Hn("mousedown",function(r){return mn(e),pn(He(4).initDrag(r))}),Kt(2,Tge,2,2,"span",17)(3,Sge,2,1,"span",17)(4,kge,1,0,"ng-container",10),$e(5,"div",18),Kt(6,Vge,5,8,"button",19)(7,Kge,3,8,"button",20),rt()()}if(2&n){const e=He(4);Ie(2),be("ngIf",!e.headerFacet&&!e.headerTemplate),Ie(),be("ngIf",e.headerFacet),Ie(),be("ngTemplateOutlet",e.headerTemplate),Ie(2),be("ngIf",e.maximizable),Ie(),be("ngIf",e.closable)}}function $ge(n,t){1&n&&rs(0)}function Xge(n,t){1&n&&rs(0)}function Yge(n,t){if(1&n&&($e(0,"div",31,4),Zr(2,2),Kt(3,Xge,1,0,"ng-container",10),rt()),2&n){const e=He(4);Ie(3),be("ngTemplateOutlet",e.footerTemplate)}}function Zge(n,t){if(1&n&&(Kt(0,Ige,1,0,"div",11)(1,Wge,8,5,"div",12),$e(2,"div",13,2),Zr(4),Kt(5,$ge,1,0,"ng-container",10),rt(),Kt(6,Yge,4,1,"div",14)),2&n){const e=He(3);be("ngIf",e.resizable),Ie(),be("ngIf",e.showHeader),Ie(),jr(e.contentStyleClass),be("ngClass","p-dialog-content")("ngStyle",e.contentStyle),Ie(3),be("ngTemplateOutlet",e.contentTemplate),Ie(),be("ngIf",e.footerFacet||e.footerTemplate)}}function Jge(n,t){if(1&n){const e=ur();$e(0,"div",8,0),Hn("@animation.start",function(r){return mn(e),pn(He(2).onAnimationStart(r))})("@animation.done",function(r){return mn(e),pn(He(2).onAnimationEnd(r))}),Kt(2,Cge,2,1,"ng-container",9)(3,Zge,7,8,"ng-template",null,1,id),rt()}if(2&n){const e=ua(4),i=He(2);jr(i.styleClass),be("ngClass",W0(10,_ge,i.rtl,i.draggable,i.resizable,i.maximized))("ngStyle",i.style)("pFocusTrapDisabled",!1===i.focusTrap)("@animation",gs(18,yge,Xa(15,vge,i.transformOptions,i.transitionOptions))),Qt("aria-labelledby",i.ariaLabelledBy)("aria-modal",!0),Ie(2),be("ngIf",i.headlessTemplate)("ngIfElse",e)}}function e_e(n,t){if(1&n&&($e(0,"div",6),Kt(1,Jge,5,20,"div",7),rt()),2&n){const e=He();jr(e.maskStyleClass),be("ngStyle",e.maskStyle)("ngClass",wV(5,gge,[e.modal,e.modal||e.blockScroll,"left"===e.position,"right"===e.position,"top"===e.position,"topleft"===e.position||"top-left"===e.position,"topright"===e.position||"top-right"===e.position,"bottom"===e.position,"bottomleft"===e.position||"bottom-left"===e.position,"bottomright"===e.position||"bottom-right"===e.position])),Ie(),be("ngIf",e.visible)}}const t_e=p7([Cl({transform:"{{transform}}",opacity:0}),$f("{{transition}}")]),n_e=p7([$f("{{transition}}",Cl({transform:"{{transform}}",opacity:0}))]);let YP=(()=>{class n{document;platformId;el;renderer;zone;cd;config;header;draggable=!0;resizable=!0;get positionLeft(){return 0}set positionLeft(e){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(e){console.log("positionTop property is deprecated.")}contentStyle;contentStyleClass;modal=!1;closeOnEscape=!0;dismissableMask=!1;rtl=!1;closable=!0;get responsive(){return!1}set responsive(e){console.log("Responsive property is deprecated.")}appendTo;breakpoints;styleClass;maskStyleClass;maskStyle;showHeader=!0;get breakpoint(){return 649}set breakpoint(e){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}blockScroll=!1;autoZIndex=!0;baseZIndex=0;minX=0;minY=0;focusOnShow=!0;maximizable=!1;keepInViewport=!0;focusTrap=!0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";closeIcon;closeAriaLabel;closeTabindex="0";minimizeIcon;maximizeIcon;get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(e){e&&(this._style={...e},this.originalStyle=e)}get position(){return this._position}set position(e){switch(this._position=e,e){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}onShow=new ni;onHide=new ni;visibleChange=new ni;onResizeInit=new ni;onResizeEnd=new ni;onDragEnd=new ni;onMaximize=new ni;headerFacet;footerFacet;templates;headerViewChild;contentViewChild;footerViewChild;headerTemplate;contentTemplate;footerTemplate;maximizeIconTemplate;closeIconTemplate;minimizeIconTemplate;headlessTemplate;_visible=!1;maskVisible;container;wrapper;dragging;ariaLabelledBy=this.getAriaLabelledBy();documentDragListener;documentDragEndListener;resizing;documentResizeListener;documentResizeEndListener;documentEscapeListener;maskClickListener;lastPageX;lastPageY;preventVisibleChangePropagation;maximized;preMaximizeContentHeight;preMaximizeContainerWidth;preMaximizeContainerHeight;preMaximizePageX;preMaximizePageY;id=Ru();_style={};_position="center";originalStyle;transformOptions="scale(0.7)";styleElement;window;get maximizeLabel(){return this.config.getTranslation(a7.ARIA).maximizeLabel}constructor(e,i,r,o,s,c,u){this.document=e,this.platformId=i,this.el=r,this.renderer=o,this.zone=s,this.cd=c,this.config=u,this.window=this.document.defaultView}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":default:this.contentTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"closeicon":this.closeIconTemplate=e.template;break;case"maximizeicon":this.maximizeIconTemplate=e.template;break;case"minimizeicon":this.minimizeIconTemplate=e.template;break;case"headless":this.headlessTemplate=e.template}})}ngOnInit(){this.breakpoints&&this.createStyle()}getAriaLabelledBy(){return null!==this.header?Ru()+"_header":null}parseDurationToMilliseconds(e){const i=/([\d\.]+)(ms|s)\b/g;let o,r=0;for(;null!==(o=i.exec(e));){const s=parseFloat(o[1]),c=o[2];"ms"===c?r+=s:"s"===c&&(r+=1e3*s)}if(0!==r)return r}focus(e=this.contentViewChild?.nativeElement){const i=this.parseDurationToMilliseconds(this.transitionOptions);let r=_n.getFocusableElement(e,"[autofocus]");if(r)return void this.zone.runOutsideAngular(()=>{setTimeout(()=>r.focus(),i||5)});const o=_n.getFocusableElement(e);o?this.zone.runOutsideAngular(()=>{setTimeout(()=>o.focus(),i||5)}):this.footerViewChild&&e!==this.footerViewChild.nativeElement&&this.focus(this.footerViewChild.nativeElement)}close(e){this.visibleChange.emit(!1),e.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.close(e)})),this.modal&&_n.blockBodyScroll()}disableModality(){if(this.wrapper){this.dismissableMask&&this.unbindMaskClickListener();const e=document.querySelectorAll(".p-dialog-mask-scrollblocker");this.modal&&e&&1==e.length&&_n.unblockBodyScroll(),this.cd.destroyed||this.cd.detectChanges()}}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?_n.blockBodyScroll():_n.unblockBodyScroll()),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&($g.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if(Du(this.platformId)&&!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",_n.setAttribute(this.styleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.styleElement);let e="";for(let i in this.breakpoints)e+=`\n                        @media screen and (max-width: ${i}) {\n                            .p-dialog[${this.id}]:not(.p-dialog-maximized) {\n                                width: ${this.breakpoints[i]} !important;\n                            }\n                        }\n                    `;this.renderer.setProperty(this.styleElement,"innerHTML",e)}}initDrag(e){_n.hasClass(e.target,"p-dialog-header-icon")||_n.hasClass(e.target,"p-dialog-header-close-icon")||_n.hasClass(e.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,this.container.style.margin="0",_n.addClass(this.document.body,"p-unselectable-text"))}onDrag(e){if(this.dragging){const i=_n.getOuterWidth(this.container),r=_n.getOuterHeight(this.container),o=e.pageX-this.lastPageX,s=e.pageY-this.lastPageY,c=this.container.getBoundingClientRect(),u=getComputedStyle(this.container),g=parseFloat(u.marginLeft),w=parseFloat(u.marginTop),T=c.left+o-g,F=c.top+s-w,H=_n.getViewport();this.container.style.position="fixed",this.keepInViewport?(T>=this.minX&&T+i<H.width&&(this._style.left=`${T}px`,this.lastPageX=e.pageX,this.container.style.left=`${T}px`),F>=this.minY&&F+r<H.height&&(this._style.top=`${F}px`,this.lastPageY=e.pageY,this.container.style.top=`${F}px`)):(this.lastPageX=e.pageX,this.container.style.left=`${T}px`,this.lastPageY=e.pageY,this.container.style.top=`${F}px`)}}endDrag(e){this.dragging&&(this.dragging=!1,_n.removeClass(this.document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(e))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(e){this.resizable&&(this.resizing=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,_n.addClass(this.document.body,"p-unselectable-text"),this.onResizeInit.emit(e))}onResize(e){if(this.resizing){let i=e.pageX-this.lastPageX,r=e.pageY-this.lastPageY,o=_n.getOuterWidth(this.container),s=_n.getOuterHeight(this.container),c=_n.getOuterHeight(this.contentViewChild?.nativeElement),u=o+i,g=s+r,w=this.container.style.minWidth,T=this.container.style.minHeight,F=this.container.getBoundingClientRect(),H=_n.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(u+=i,g+=r),(!w||u>parseInt(w))&&F.left+u<H.width&&(this._style.width=u+"px",this.container.style.width=this._style.width),(!T||g>parseInt(T))&&F.top+g<H.height&&(this.contentViewChild.nativeElement.style.height=c+g-s+"px",this._style.height&&(this._style.height=g+"px",this.container.style.height=this._style.height)),this.lastPageX=e.pageX,this.lastPageY=e.pageY}}resizeEnd(e){this.resizing&&(this.resizing=!1,_n.removeClass(this.document.body,"p-unselectable-text"),this.onResizeEnd.emit(e))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.documentDragListener||this.zone.runOutsideAngular(()=>{this.documentDragListener=this.renderer.listen(this.window,"mousemove",this.onDrag.bind(this))})}unbindDocumentDragListener(){this.documentDragListener&&(this.documentDragListener(),this.documentDragListener=null)}bindDocumentDragEndListener(){this.documentDragEndListener||this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.renderer.listen(this.window,"mouseup",this.endDrag.bind(this))})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(this.documentDragEndListener(),this.documentDragEndListener=null)}bindDocumentResizeListeners(){!this.documentResizeListener&&!this.documentResizeEndListener&&this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.renderer.listen(this.window,"mousemove",this.onResize.bind(this)),this.documentResizeEndListener=this.renderer.listen(this.window,"mouseup",this.resizeEnd.bind(this))})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(this.documentResizeListener(),this.documentResizeEndListener(),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",i=>{"Escape"==i.key&&this.close(i)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&("body"===this.appendTo?this.renderer.appendChild(this.document.body,this.wrapper):_n.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.wrapper)}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container?.parentElement,this.moveOnTop(),this.appendContainer(),this.bindGlobalListeners(),this.container?.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&_n.addClass(this.document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus();break;case"void":this.wrapper&&this.modal&&_n.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(e){switch(e.toState){case"void":this.onContainerDestroy(),this.onHide.emit({}),this.cd.markForCheck();break;case"visible":this.onShow.emit({})}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(_n.removeClass(this.document.body,"p-overflow-hidden"),this.document.body.style.removeProperty("--scrollbar-width"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&_n.removeClass(this.document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&$g.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?{...this.originalStyle}:{}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}static \u0275fac=function(i){return new(i||n)(Re(Rr),Re(Pa),Re(or),Re(tu),Re(Ri),Re(qo),Re(Wf))};static \u0275cmp=Ii({type:n,selectors:[["p-dialog"]],contentQueries:function(i,r,o){if(1&i&&(jo(o,o7,5),jo(o,s7,5),jo(o,sd,4)),2&i){let s;Ti(s=Si())&&(r.headerFacet=s.first),Ti(s=Si())&&(r.footerFacet=s.first),Ti(s=Si())&&(r.templates=s)}},viewQuery:function(i,r){if(1&i&&(po(hge,5),po(pge,5),po(fge,5)),2&i){let o;Ti(o=Si())&&(r.headerViewChild=o.first),Ti(o=Si())&&(r.contentViewChild=o.first),Ti(o=Si())&&(r.footerViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",draggable:[2,"draggable","draggable",xn],resizable:[2,"resizable","resizable",xn],positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:[2,"modal","modal",xn],closeOnEscape:[2,"closeOnEscape","closeOnEscape",xn],dismissableMask:[2,"dismissableMask","dismissableMask",xn],rtl:[2,"rtl","rtl",xn],closable:[2,"closable","closable",xn],responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",maskStyle:"maskStyle",showHeader:[2,"showHeader","showHeader",xn],breakpoint:"breakpoint",blockScroll:[2,"blockScroll","blockScroll",xn],autoZIndex:[2,"autoZIndex","autoZIndex",xn],baseZIndex:[2,"baseZIndex","baseZIndex",Eo],minX:[2,"minX","minX",Eo],minY:[2,"minY","minY",Eo],focusOnShow:[2,"focusOnShow","focusOnShow",xn],maximizable:[2,"maximizable","maximizable",xn],keepInViewport:[2,"keepInViewport","keepInViewport",xn],focusTrap:[2,"focusTrap","focusTrap",xn],transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},features:[ao],ngContentSelectors:mge,decls:1,vars:1,consts:[["container",""],["notHeadless",""],["content",""],["titlebar",""],["footer",""],[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],["class","p-resizable-handle",3,"mousedown",4,"ngIf"],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["class","p-dialog-footer",4,"ngIf"],[1,"p-resizable-handle",3,"mousedown"],[1,"p-dialog-header",3,"mousedown"],["class","p-dialog-title",3,"id",4,"ngIf"],[1,"p-dialog-header-icons"],["role","button","type","button","pRipple","","pButton","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","pRipple","","pButton","",3,"ngClass","ngStyle","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title",3,"id"],["role","button","type","button","pRipple","","pButton","",3,"click","keydown.enter","ngClass"],["class","p-dialog-header-maximize-icon",3,"ngClass",4,"ngIf"],[4,"ngIf"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],["type","button","pRipple","","pButton","",3,"click","keydown.enter","ngClass","ngStyle"],["class","p-dialog-header-close-icon",3,"ngClass",4,"ngIf"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"]],template:function(i,r){1&i&&(zs(Age),Kt(0,e_e,2,16,"div",5)),2&i&&be("ngIf",r.maskVisible)},dependencies:()=>[Gl,xl,ku,Su,uge,rge,Nv,Vv,m7,g7],styles:["@layer primeng{.p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{-webkit-transition:none;transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}}\n"],encapsulation:2,data:{animation:[Uv("animation",[Kp("void => visible",[f7(t_e)]),Kp("visible => void",[f7(n_e)])])]},changeDetection:0})}return n})(),i_e=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=bi({type:n});static \u0275inj=di({imports:[Gs,dge,u7,Yg,Vv,m7,g7,dl]})}return n})();const r_e=["*"];let o_e=(()=>{class n{iconPosition="left";get containerClass(){return{"p-icon-field-left":"left"===this.iconPosition,"p-icon-field-right":"right"===this.iconPosition}}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Ii({type:n,selectors:[["p-iconField"]],inputs:{iconPosition:"iconPosition"},ngContentSelectors:r_e,decls:2,vars:1,consts:[[1,"p-icon-field",3,"ngClass"]],template:function(i,r){1&i&&(zs(),$e(0,"span",0),Zr(1),rt()),2&i&&be("ngClass",r.containerClass)},dependencies:[Gl],styles:["@layer primeng{.p-icon-field{position:relative}}\n"],encapsulation:2,changeDetection:0})}return n})(),s_e=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=bi({type:n});static \u0275inj=di({imports:[Gs,dl]})}return n})();const a_e=["*"];let l_e=(()=>{class n{styleClass;static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Ii({type:n,selectors:[["p-inputIcon"]],inputs:{styleClass:"styleClass"},ngContentSelectors:a_e,decls:2,vars:1,consts:[[1,"p-input-icon",3,"ngClass"]],template:function(i,r){1&i&&(zs(),$e(0,"span",0),Zr(1),rt()),2&i&&be("ngClass",r.styleClass)},dependencies:[Gl],styles:["@layer primeng{.p-fluid .p-icon-field-left,.p-fluid .p-icon-field-right{width:100%}}\n"],encapsulation:2,changeDetection:0})}return n})(),c_e=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=bi({type:n});static \u0275inj=di({imports:[Gs,dl]})}return n})();var gh=hr(852);(0,gh.registerVersion)("firebase","10.12.5","app");class h_e extends Zt{constructor(t,e){super()}schedule(t,e=0){return this}}const GT={setInterval(n,t,...e){const{delegate:i}=GT;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=GT;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class HT extends h_e{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,i=0){return GT.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&GT.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Gt(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const ZP={now:()=>(ZP.delegate||Date).now(),delegate:void 0};class Qx{constructor(t,e=Qx.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}Qx.now=ZP.now;class qT extends Qx{constructor(t,e=Qx.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const A_e=new class f_e extends qT{}(class p_e extends HT{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(t,e,i):(t.flush(this),0)}}),Qv=new qT(HT),m_e=Qv,KT=new Vg("ANGULARFIRE2_VERSION");class WT{constructor(){return((n,t)=>{const e=(0,gh.getApps)(),i=[];return e.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i})(__e)}}const __e="app-check";function Cb(){}class _7{zone;delegate;constructor(t,e=A_e){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{t.apply(this,[s])})},e,i)}}class v_e{zone;task=null;constructor(t){this.zone=t}call(t,e){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Cb,{},Cb,Cb)),e.pipe(Hl({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let $T=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new _7(Zone.current)),this.insideAngular=e.run(()=>new _7(Zone.current,Qv)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(Ct(Ri))};static \u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ib(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function v7(n){return n.pipe(Gg(Ib().outsideAngular))}function Kl(n){return function b_e(n){return function(e){return(e=e.lift(new v_e(n.ngZone))).pipe(tb(n.outsideAngular),Gg(n.insideAngular))}}(Ib())(n)}var Xf=hr(345);Xf.A.registerVersion("firebase","10.12.5","app-compat");const C_e=["ngOnDestroy"];class y7{constructor(t){return t}}const Tb=new Wt("angularfire2.app.options"),Sb=new Wt("angularfire2.app.name");function jx(n,t,e){const r="object"==typeof e&&e||{};r.name=r.name||"string"==typeof e&&e||"[DEFAULT]";const s=Xf.A.apps.filter(c=>c&&c.name===r.name)[0]||t.runOutsideAngular(()=>Xf.A.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){const c=!!module.hot;S_e("error",`${s.name} Firebase App already initialized with different options${c?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new y7(s)}const S_e=(n,...t)=>{},k_e={provide:y7,useFactory:jx,deps:[Tb,Ri,[new _,Sb]]};let D_e=(()=>{class n{static initializeApp(e,i){return{ngModule:n,providers:[{provide:Tb,useValue:e},{provide:Sb,useValue:i}]}}constructor(e){Xf.A.registerVersion("angularfire",KT.full,"core"),Xf.A.registerVersion("angularfire",KT.full,"app-compat"),Xf.A.registerVersion("angular",Ple.full,e.toString())}static \u0275fac=function(i){return new(i||n)(Ct(Pa))};static \u0275mod=bi({type:n});static \u0275inj=di({providers:[k_e]})}return n})();function XT(n,t,e,i,r){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(c=>c[0]===n)||[];if(o)return function R_e(n,t){try{return n.toString()===t.toString()}catch{return n===t}}(r,s)||(b7("error",`${t} was already initialized on the ${e} Firebase App with different settings.${M_e?" You may need to reload as Firebase is not HMR aware.":""}`),b7("warn",{is:r,was:s})),o;{const c=i();return globalThis.\u0275AngularfireInstanceCache.push([n,c,r]),c}}const M_e=typeof module<"u"&&!!module.hot,b7=(n,...t)=>{};function Yf(...n){const t=Ax(n),e=function cpe(n,t){return"number"==typeof qB(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?iu(i[0]):nb(e)(Ls(i,t)):zf}globalThis.\u0275AngularfireInstanceCache||=[],hr(254);class B_e extends ${constructor(t=1/0,e=1/0,i=ZP){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;e||(i.push(t),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=i?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=e.now();let c=0;for(let u=1;u<i.length&&i[u]<=s;u+=2)c=u;c&&i.splice(0,c+1)}}}function JP(n={}){const{connector:t=(()=>new $),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,c,u,g=0,w=!1,T=!1;const F=()=>{c?.unsubscribe(),c=void 0},H=()=>{F(),s=u=void 0,w=T=!1},ee=()=>{const Ae=s;H(),Ae?.unsubscribe()};return Qe((Ae,xe)=>{g++,!T&&!w&&F();const et=u=u??t();xe.add(()=>{g--,0===g&&!T&&!w&&(c=eO(ee,r))}),et.subscribe(xe),!s&&g>0&&(s=new Tr({next:Ye=>et.next(Ye),error:Ye=>{T=!0,F(),c=eO(H,e,Ye),et.error(Ye)},complete:()=>{w=!0,F(),c=eO(H,i),et.complete()}}),iu(Ae).subscribe(s))})(o)}}function eO(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new Tr({next:()=>{i.unsubscribe(),n()}});return iu(t(...e)).subscribe(i)}function w7(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,JP({connector:()=>new B_e(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function x7(n,t){return An(t)?pa(()=>n,t):pa(()=>n)}const tO=new Wt("angularfire2.auth.use-emulator"),nO=new Wt("angularfire2.auth.settings"),iO=new Wt("angularfire2.auth.tenant-id"),rO=new Wt("angularfire2.auth.langugage-code"),oO=new Wt("angularfire2.auth.use-device-language"),sO=new Wt("angularfire.auth.persistence"),aO=(n,t,e,i,r,o,s,c)=>XT(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const u=t.runOutsideAngular(()=>n.auth());if(e&&u.useEmulator(...e),i&&(u.tenantId=i),u.languageCode=r,o&&u.useDeviceLanguage(),s)for(const[g,w]of Object.entries(s))u.settings[g]=w;return c&&u.setPersistence(c),u},[e,i,r,o,s,c]);let lO=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(e,i,r,o,s,c,u,g,w,T,F,H){const ee=new $,Ae=Xi(void 0).pipe(Gg(s.outsideAngular),pa(()=>o.runOutsideAngular(()=>Promise.resolve().then(hr.bind(hr,254)))),We(()=>jx(e,o,i)),We(xe=>aO(xe,o,c,g,w,T,u,F)),w7({bufferSize:1,refCount:!1}));if(J2(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Xi(null);else{Ae.pipe(Hg()).subscribe();const xe=Ae.pipe(pa(yt=>yt.getRedirectResult().then(cn=>cn,()=>null)),Kl,w7({bufferSize:1,refCount:!1})),et=Ae.pipe(pa(yt=>new pr(cn=>({unsubscribe:o.runOutsideAngular(()=>yt.onAuthStateChanged($n=>cn.next($n),$n=>cn.error($n),()=>cn.complete()))})))),Ye=Ae.pipe(pa(yt=>new pr(cn=>({unsubscribe:o.runOutsideAngular(()=>yt.onIdTokenChanged($n=>cn.next($n),$n=>cn.error($n),()=>cn.complete()))}))));this.authState=xe.pipe(x7(et),tb(s.outsideAngular),Gg(s.insideAngular)),this.user=xe.pipe(x7(Ye),tb(s.outsideAngular),Gg(s.insideAngular)),this.idToken=this.user.pipe(pa(yt=>yt?Ls(yt.getIdToken()):Xi(null))),this.idTokenResult=this.user.pipe(pa(yt=>yt?Ls(yt.getIdTokenResult()):Xi(null))),this.credential=Yf(xe,ee,this.authState.pipe(Ia(yt=>!yt))).pipe(We(yt=>yt?.user?yt:null),tb(s.outsideAngular),Gg(s.insideAngular))}return((n,t,e,i={})=>new Proxy(n,{get:(r,o)=>e.runOutsideAngular(()=>{if(n[o])return i?.spy?.get&&i.spy.get(o,n[o]),n[o];if(C_e.indexOf(o)>-1)return()=>{};const s=t.toPromise().then(c=>{const u=c?.[o];return"function"==typeof u?u.bind(c):u?.then?u.then(g=>e.run(()=>g)):e.run(()=>u)});return new Proxy(()=>{},{get:(c,u)=>s[u],apply:(c,u,g)=>s.then(w=>{const T=w?.(...g);return i?.spy?.apply&&i.spy.apply(o,g,T),T})})})}))(this,Ae,o,{spy:{apply:(xe,et,Ye)=>{(xe.startsWith("signIn")||xe.startsWith("createUser"))&&Ye.then(yt=>ee.next(yt))}}})}static \u0275fac=function(i){return new(i||n)(Ct(Tb),Ct(Sb,8),Ct(Pa),Ct(Ri),Ct($T),Ct(tO,8),Ct(nO,8),Ct(iO,8),Ct(rO,8),Ct(oO,8),Ct(sO,8),Ct(WT,8))};static \u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();function cO(n,t=To){return n=n??L_e,Qe((e,i)=>{let r,o=!0;e.subscribe(ge(i,s=>{const c=t(s);(o||!n(r,c))&&(o=!1,r=c,i.next(s))}))})}function L_e(n,t){return n===t}var Zf=hr(362),Dn=hr(467),Oe=hr(76),Zh=hr(41);const E7="@firebase/database";let uO="";function dO(n){uO=n}class N_e{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,Oe.As)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,Oe.$L)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class U_e{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,Oe.gR)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const I7=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new N_e(t)}}catch{}return new U_e},zv=I7("localStorage"),hO=I7("sessionStorage"),kb=new Zh.Vy("@firebase/database"),T7=function(){let n=1;return function(){return n++}}(),S7=function(n){const t=(0,Oe.kj)(n),e=new Oe.gz;e.update(t);const i=e.digest();return Oe.K3.encodeByteArray(i)},zx=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=zx.apply(null,i):t+="object"==typeof i?(0,Oe.As)(i):i,t+=" "}return t};let Gv=null,k7=!0;const D7=function(n,t){(0,Oe.vA)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(kb.logLevel=Zh.$b.VERBOSE,Gv=kb.log.bind(kb),t&&hO.set("logging_enabled",!0)):"function"==typeof n?Gv=n:(Gv=null,hO.remove("logging_enabled"))},ou=function(...n){if(!0===k7&&(k7=!1,null===Gv&&!0===hO.get("logging_enabled")&&D7(!0)),Gv){const t=zx.apply(null,n);Gv(t)}},Gx=function(n){return function(...t){ou(n,...t)}},pO=function(...n){const t="FIREBASE INTERNAL ERROR: "+zx(...n);kb.error(t)},UA=function(...n){const t=`FIREBASE FATAL ERROR: ${zx(...n)}`;throw kb.error(t),new Error(t)},ad=function(...n){const t="FIREBASE WARNING: "+zx(...n);kb.warn(t)},YT=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Jg="[MIN_NAME]",qm="[MAX_NAME]",Hv=function(n,t){if(n===t)return 0;if(n===Jg||t===qm)return-1;if(t===Jg||n===qm)return 1;{const e=B7(n),i=B7(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},j_e=function(n,t){return n===t?0:n<t?-1:1},Hx=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,Oe.As)(t))},fO=function(n){if("object"!=typeof n||null===n)return(0,Oe.As)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,Oe.As)(t[i]),e+=":",e+=fO(n[t[i]]);return e+="}",e},R7=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function su(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const M7=function(n){(0,Oe.vA)(!YT(n),"Invalid JSON number");const i=1023;let r,o,s,c,u;0===n?(o=0,s=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(c=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=c+i,s=Math.round(n*Math.pow(2,52-c)-Math.pow(2,52))):(o=0,s=Math.round(n/Math.pow(2,-1074))));const g=[];for(u=52;u;u-=1)g.push(s%2?1:0),s=Math.floor(s/2);for(u=11;u;u-=1)g.push(o%2?1:0),o=Math.floor(o/2);g.push(r?1:0),g.reverse();const w=g.join("");let T="";for(u=0;u<64;u+=8){let F=parseInt(w.substr(u,8),2).toString(16);1===F.length&&(F="0"+F),T+=F}return T.toLowerCase()},q_e=new RegExp("^-?(0*)\\d{1,10}$"),B7=function(n){if(q_e.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},Db=function(n){try{n()}catch(t){setTimeout(()=>{throw ad("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},qx=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class X_e{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){ad(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Y_e{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(ou("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ad(t)}}let Kx=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const N7=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Q7="websocket",j7="long_polling";class mO{constructor(t,e,i,r,o=!1,s="",c=!1,u=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=zv.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&zv.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function z7(n,t,e){let i;if((0,Oe.vA)("string"==typeof t,"typeof type must == string"),(0,Oe.vA)("object"==typeof e,"typeof params must == object"),t===Q7)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==j7)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Z_e(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return su(e,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}class J_e{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,Oe.gR)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,Oe.A4)(this.counters_)}}const gO={},_O={};function vO(n){const t=n.toString();return gO[t]||(gO[t]=new J_e),gO[t]}class tve{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Db(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class e_{constructor(t,e,i,r,o,s,c){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Gx(t),this.stats_=vO(e),this.urlFn=u=>(this.appCheckToken&&(u.ac=this.appCheckToken),z7(e,j7,u))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new tve(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,Oe.$g)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new yO((...o)=>{const[s,c,u,g,w]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=c,this.password=u;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,c]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,c)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&N7.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e_.forceAllow_=!0}static forceDisallow(){e_.forceDisallow_=!0}static isAvailable(){return!((0,Oe.$g)()||!e_.forceAllow_&&(e_.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,Oe.As)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,Oe.KA)(e),r=R7(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,Oe.$g)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,Oe.As)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class yO{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Oe.$g)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=T7(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=yO.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(c){ou("frame writing exception"),c.stack&&ou(c.stack),ou(c)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||ou("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const s=this.pendingSegs.shift();i=i+"&seg"+r+"="+s.seg+"&ts"+r+"="+s.ts+"&d"+r+"="+s.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,Oe.$g)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{ou("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let JT=null;typeof MozWebSocket<"u"?JT=MozWebSocket:typeof WebSocket<"u"&&(JT=WebSocket);let Rb=(()=>{class n{constructor(e,i,r,o,s,c,u){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Gx(this.connId),this.stats_=vO(i),this.connURL=n.connectionURL_(i,c,u,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,s){const c={v:"5"};return!(0,Oe.$g)()&&typeof location<"u"&&location.hostname&&N7.test(location.hostname)&&(c.r="f"),i&&(c.s=i),r&&(c.ls=r),o&&(c.ac=o),s&&(c.p=s),z7(e,Q7,c)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,zv.set("previous_websocket_failure",!0);try{let r;if((0,Oe.$g)()){r={headers:{"User-Agent":`Firebase/5/${uO}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const s=process.env,c=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;c&&(r.proxy={origin:c})}this.mySock=new JT(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==JT&&!n.forceDisallow_}static previouslyFailed(){return zv.isInMemoryStorage||!0===zv.get("previous_websocket_failure")}markConnectionHealthy(){zv.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,Oe.$L)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,Oe.vA)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,Oe.As)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=R7(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),X7=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[e_,Rb]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=Rb&&Rb.isAvailable();let r=i&&!Rb.previouslyFailed();if(e.webSocketOnly&&(i||ad("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Rb];else{const o=this.transports_=[];for(const s of n.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class iG{constructor(t,e,i,r,o,s,c,u,g,w){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=c,this.onDisconnect_=u,this.onKill_=g,this.lastSessionId=w,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Gx("c:"+this.id+":"),this.transportManager_=new X7(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=qx(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Hx("t",t),i=Hx("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Hx("t",t),i=Hx("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Hx("t",t);if("d"in t){const i=t.d;if("h"===e){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?pO("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):pO("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&ad("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),qx(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):qx(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(zv.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class rG{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class oG{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,Oe.vA)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(t){(0,Oe.vA)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class eS extends oG{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,Oe.jZ)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new eS}getInitialEvent(t){return(0,Oe.vA)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Ns{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function _s(){return new Ns("")}function Oo(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function t_(n){return n.pieces_.length-n.pieceNum_}function Aa(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Ns(n.pieces_,t)}function wO(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Wx(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function lG(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Ns(t,0)}function Ya(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Ns)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Ns(e,0)}function Fo(n){return n.pieceNum_>=n.pieces_.length}function Vd(n,t){const e=Oo(n),i=Oo(t);if(null===e)return t;if(e===i)return Vd(Aa(n),Aa(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function xve(n,t){const e=Wx(n,0),i=Wx(t,0);for(let r=0;r<e.length&&r<i.length;r++){const o=Hv(e[r],i[r]);if(0!==o)return o}return e.length===i.length?0:e.length<i.length?-1:1}function xO(n,t){if(t_(n)!==t_(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Wp(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(t_(n)>t_(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class Eve{constructor(t,e){this.errorPrefix_=e,this.parts_=Wx(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,Oe.OE)(this.parts_[i]);cG(this)}}function cG(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+qv(n))}function qv(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class EO extends oG{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new EO}getInitialEvent(t){return(0,Oe.vA)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const $x=1e3;let nS,Kv=(()=>{class n extends rG{constructor(e,i,r,o,s,c,u,g){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=c,this.appCheckTokenProvider_=u,this.authOverride_=g,this.id=n.nextPersistentConnectionId_++,this.log_=Gx("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=$x,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g&&!(0,Oe.$g)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");EO.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&eS.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,s={r:o,a:e,b:i};this.log_((0,Oe.As)(s)),(0,Oe.vA)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new Oe.cY,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const u=c.d;"ok"===c.s?i.resolve(u):i.reject(u)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,o){this.initConnection_();const s=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+s),this.listens.has(c)||this.listens.set(c,new Map),(0,Oe.vA)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Oe.vA)(!this.listens.get(c).has(s),"listen() called twice for same path/queryId.");const u={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(c).set(s,u),this.connected_&&this.sendListen_(u)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const s={p:r};e.tag&&(s.q=i._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest("q",s,u=>{const g=u.d,w=u.s;n.warnOnListenWarnings_(g,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",u),"ok"!==w&&this.removeListen_(r,o),e.onComplete&&e.onComplete(w,g))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,Oe.gR)(e,"w")){const r=(0,Oe.yw)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();ad(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,Oe.qc)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,Oe.Cv)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const s=o.s,c=o.d||"error";this.authToken_===e&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,Oe.vA)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const s={p:e};o&&(s.q=r,s.t=o),this.sendRequest("n",s)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const s={p:i,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,c=>{o&&setTimeout(()=>{o(c.s,c.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,s){this.initConnection_();const c={p:i,d:r};void 0!==s&&(c.h=s),this.outstandingPuts_.push({action:e,request:c,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,Oe.As)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):pO("Unrecognized action received from server: "+(0,Oe.As)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,Oe.vA)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=$x,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=$x,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=$x),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Dn.A)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),s=e.id+":"+n.nextConnectionId_++,c=e.lastSessionId;let u=!1,g=null;const w=function(){g?g.close():(u=!0,o())};e.realtime_={close:w,sendRequest:function(H){(0,Oe.vA)(g,"sendRequest call when we're not connected not allowed."),g.sendRequest(H)}};const F=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[H,ee]=yield Promise.all([e.authTokenProvider_.getToken(F),e.appCheckTokenProvider_.getToken(F)]);u?ou("getToken() completed but was canceled"):(ou("getToken() completed. Creating connection."),e.authToken_=H&&H.accessToken,e.appCheckToken_=ee&&ee.token,g=new iG(s,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,o,Ae=>{ad(Ae+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},c))}catch(H){e.log_("Failed to get token: "+H),u||(e.repoInfo_.nodeAdmin&&ad(H),w())}}})()}interrupt(e){ou("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ou("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,Oe.Im)(this.interruptReasons_)&&(this.reconnectDelay_=$x,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(s=>fO(s)).join("$"):"default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new Ns(e).toString();let o;if(this.listens.has(r)){const s=this.listens.get(r);o=s.get(i),s.delete(i),0===s.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){ou("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){ou("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,Oe.$g)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+uO.replace(/\./g,"-")]=1,(0,Oe.jZ)()?e["framework.cordova"]=1:(0,Oe.lV)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=eS.getInstance().currentlyOnline();return(0,Oe.Im)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class zo{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new zo(t,e)}}class tS{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new zo(Jg,t),r=new zo(Jg,e);return 0!==this.compare(i,r)}minPost(){return zo.MIN}}class hG extends tS{static get __EMPTY_NODE(){return nS}static set __EMPTY_NODE(t){nS=t}compare(t,e){return Hv(t.name,e.name)}isDefinedOn(t){throw(0,Oe.Hk)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return zo.MIN}maxPost(){return new zo(qm,nS)}makePost(t,e){return(0,Oe.vA)("string"==typeof t,"KeyIndex indexValue must always be a string."),new zo(t,nS)}toString(){return".key"}}const VA=new hG;class iS{constructor(t,e,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,r&&(s*=-1),s<0)t=this.isReverse_?t.left:t.right;else{if(0===s){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let IO,Jf=(()=>{class n{constructor(e,i,r,o,s){this.key=e,this.value=i,this.color=r??n.RED,this.left=o??_h.EMPTY_NODE,this.right=s??_h.EMPTY_NODE}copy(e,i,r,o,s){return new n(e??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const s=r(e,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(e,i,r),null):0===s?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return _h.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return _h.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class _h{constructor(t,e=_h.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new _h(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Jf.BLACK,null,null))}remove(t){return new _h(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Jf.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new iS(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new iS(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new iS(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new iS(this.root_,null,this.comparator_,!0,t)}}function Mve(n,t){return Hv(n.name,t.name)}function CO(n,t){return Hv(n,t)}_h.EMPTY_NODE=new class Rve{copy(t,e,i,r,o){return this}insert(t,e,i){return new Jf(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const pG=function(n){return"number"==typeof n?"number:"+M7(n):"string:"+n},fG=function(n){if(n.isLeafNode()){const t=n.val();(0,Oe.vA)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,Oe.gR)(t,".sv"),"Priority must be a string or number.")}else(0,Oe.vA)(n===IO||n.isEmpty(),"priority of unexpected type.");(0,Oe.vA)(n===IO||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let AG,mG,gG,Mb=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,Oe.vA)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),fG(this.priorityNode_)}static set __childrenNodeConstructor(e){AG=e}static get __childrenNodeConstructor(){return AG}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Fo(e)?this:".priority"===Oo(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=Oo(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,Oe.vA)(".priority"!==r||1===t_(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Aa(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+pG(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?M7(this.value_):this.value_,this.lazyHash_=S7(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,Oe.vA)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),s=n.VALUE_TYPE_ORDER.indexOf(r);return(0,Oe.vA)(o>=0,"Unknown leaf type: "+i),(0,Oe.vA)(s>=0,"Unknown leaf type: "+r),o===s?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Ta=new class Fve extends tS{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),o=i.compareTo(r);return 0===o?Hv(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return zo.MIN}maxPost(){return new zo(qm,new Mb("[PRIORITY-POST]",gG))}makePost(t,e){const i=mG(t);return new zo(e,new Mb("[PRIORITY-POST]",i))}toString(){return".priority"}},Lve=Math.log(2);class Nve{constructor(t){this.count=parseInt(Math.log(t+1)/Lve,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const rS=function(n,t,e,i){n.sort(t);const r=function(u,g){const w=g-u;let T,F;if(0===w)return null;if(1===w)return T=n[u],F=e?e(T):T,new Jf(F,T.node,Jf.BLACK,null,null);{const H=parseInt(w/2,10)+u,ee=r(u,H),Ae=r(H+1,g);return T=n[H],F=e?e(T):T,new Jf(F,T.node,Jf.BLACK,ee,Ae)}},c=function(u){let g=null,w=null,T=n.length;const F=function(ee,Ae){const xe=T-ee,et=T;T-=ee;const Ye=r(xe+1,et),yt=n[xe],cn=e?e(yt):yt;H(new Jf(cn,yt.node,Ae,null,Ye))},H=function(ee){g?(g.left=ee,g=ee):(w=ee,g=ee)};for(let ee=0;ee<u.count;++ee){const Ae=u.nextBitIsOne(),xe=Math.pow(2,u.count-(ee+1));Ae?F(xe,Jf.BLACK):(F(xe,Jf.BLACK),F(xe,Jf.RED))}return w}(new Nve(n.length));return new _h(i||t,c)};let TO;const Bb={};class Km{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,Oe.vA)(Bb&&Ta,"ChildrenNode.ts has not been loaded"),TO=TO||new Km({".priority":Bb},{".priority":Ta}),TO}get(t){const e=(0,Oe.yw)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof _h?e:null}hasIndex(t){return(0,Oe.gR)(this.indexSet_,t.toString())}addIndex(t,e){(0,Oe.vA)(t!==VA,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=e.getIterator(zo.Wrap);let c,s=o.getNext();for(;s;)r=r||t.isDefinedOn(s.node),i.push(s),s=o.getNext();c=r?rS(i,t.getCompare()):Bb;const u=t.toString(),g=Object.assign({},this.indexSet_);g[u]=t;const w=Object.assign({},this.indexes_);return w[u]=c,new Km(w,g)}addToIndexes(t,e){const i=(0,Oe.kH)(this.indexes_,(r,o)=>{const s=(0,Oe.yw)(this.indexSet_,o);if((0,Oe.vA)(s,"Missing index implementation for "+o),r===Bb){if(s.isDefinedOn(t.node)){const c=[],u=e.getIterator(zo.Wrap);let g=u.getNext();for(;g;)g.name!==t.name&&c.push(g),g=u.getNext();return c.push(t),rS(c,s.getCompare())}return Bb}{const c=e.get(t.name);let u=r;return c&&(u=u.remove(new zo(t.name,c))),u.insert(t,t.node)}});return new Km(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,Oe.kH)(this.indexes_,r=>{if(r===Bb)return r;{const o=e.get(t.name);return o?r.remove(new zo(t.name,o)):r}});return new Km(i,this.indexSet_)}}let Xx,fo=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&fG(this.priorityNode_),this.children_.isEmpty()&&(0,Oe.vA)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Xx||(Xx=new n(new _h(CO),null,Km.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Xx}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?Xx:i}}getChild(e){const i=Oo(e);return null===i?this:this.getImmediateChild(i).getChild(Aa(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,Oe.vA)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new zo(e,i);let o,s;i.isEmpty()?(o=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),s=this.indexMap_.addToIndexes(r,this.children_));const c=o.isEmpty()?Xx:this.priorityNode_;return new n(o,c,s)}}updateChild(e,i){const r=Oo(e);if(null===r)return i;{(0,Oe.vA)(".priority"!==Oo(e)||1===t_(e),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Aa(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,s=!0;if(this.forEachChild(Ta,(c,u)=>{i[c]=u.val(e),r++,s&&n.INTEGER_REGEXP_.test(c)?o=Math.max(o,Number(c)):s=!1}),!e&&s&&o<2*r){const c=[];for(const u in i)c[u]=i[u];return c}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+pG(this.getPriority().val())+":"),this.forEachChild(Ta,(i,r)=>{const o=r.hash();""!==o&&(e+=":"+i+":"+o)}),this.lazyHash_=""===e?"":S7(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const s=o.getPredecessorKey(new zo(e,i));return s?s.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new zo(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new zo(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,zo.Wrap);let s=o.peek();for(;null!=s&&i.compare(s,e)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,zo.Wrap);let s=o.peek();for(;null!=s&&i.compare(s,e)>0;)o.getNext(),s=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Yx?-1:0}withIndex(e){if(e===VA||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===VA||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Ta),o=i.getIterator(Ta);let s=r.getNext(),c=o.getNext();for(;s&&c;){if(s.name!==c.name||!s.node.equals(c.node))return!1;s=r.getNext(),c=o.getNext()}return null===s&&null===c}return!1}return!1}}resolveIndex_(e){return e===VA?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Yx=new class Uve extends fo{constructor(){super(new _h(CO),fo.EMPTY_NODE,Km.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return fo.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(zo,{MIN:{value:new zo(Jg,fo.EMPTY_NODE)},MAX:{value:new zo(qm,Yx)}}),hG.__EMPTY_NODE=fo.EMPTY_NODE,Mb.__childrenNodeConstructor=fo,function Bve(n){IO=n}(Yx),function Ove(n){gG=n}(Yx);const Vve=!0;function hl(n,t=null){if(null===n)return fo.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,Oe.vA)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Mb(n,hl(t));if(n instanceof Array||!Vve){let e=fo.EMPTY_NODE;return su(n,(i,r)=>{if((0,Oe.gR)(n,i)&&"."!==i.substring(0,1)){const o=hl(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(hl(t))}{const e=[];let i=!1;if(su(n,(s,c)=>{if("."!==s.substring(0,1)){const u=hl(c);u.isEmpty()||(i=i||!u.getPriority().isEmpty(),e.push(new zo(s,u)))}}),0===e.length)return fo.EMPTY_NODE;const o=rS(e,Mve,s=>s.name,CO);if(i){const s=rS(e,Ta.getCompare());return new fo(o,hl(t),new Km({".priority":s},{".priority":Ta}))}return new fo(o,hl(t),Km.Default)}}!function Pve(n){mG=n}(hl);class SO extends tS{constructor(t){super(),this.indexPath_=t,(0,Oe.vA)(!Fo(t)&&".priority"!==Oo(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),o=i.compareTo(r);return 0===o?Hv(t.name,e.name):o}makePost(t,e){const i=hl(t),r=fo.EMPTY_NODE.updateChild(this.indexPath_,i);return new zo(e,r)}maxPost(){const t=fo.EMPTY_NODE.updateChild(this.indexPath_,Yx);return new zo(qm,t)}toString(){return Wx(this.indexPath_,0).join("/")}}const kO=new class Qve extends tS{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Hv(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return zo.MIN}maxPost(){return zo.MAX}makePost(t,e){const i=hl(t);return new zo(e,i)}toString(){return".value"}};function _G(n){return{type:"value",snapshotNode:n}}function Pb(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Zx(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Jx(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class DO{constructor(t){this.index_=t}updateChild(t,e,i,r,o,s){(0,Oe.vA)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=t.getImmediateChild(e);return c.getChild(r).equals(i.getChild(r))&&c.isEmpty()===i.isEmpty()||(null!=s&&(i.isEmpty()?t.hasChild(e)?s.trackChildChange(Zx(e,c)):(0,Oe.vA)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?s.trackChildChange(Pb(e,i)):s.trackChildChange(Jx(e,i,c))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(Ta,(r,o)=>{e.hasChild(r)||i.trackChildChange(Zx(r,o))}),e.isLeafNode()||e.forEachChild(Ta,(r,o)=>{if(t.hasChild(r)){const s=t.getImmediateChild(r);s.equals(o)||i.trackChildChange(Jx(r,o,s))}else i.trackChildChange(Pb(r,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?fo.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class eE{constructor(t){this.indexedFilter_=new DO(t.getIndex()),this.index_=t.getIndex(),this.startPost_=eE.getStartPost_(t),this.endPost_=eE.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,o,s){return this.matches(new zo(e,i))||(i=fo.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,o,s)}updateFullNode(t,e,i){e.isLeafNode()&&(e=fo.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(fo.EMPTY_NODE);const o=this;return e.forEachChild(Ta,(s,c)=>{o.matches(new zo(s,c))||(r=r.updateImmediateChild(s,fo.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class zve{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new eE(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,o,s){return this.rangedFilter_.matches(new zo(e,i))||(i=fo.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,o,s):this.fullLimitUpdateChild_(t,e,i,o,s)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=fo.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let o;r=fo.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const c=o.getNext();if(this.withinDirectionalStart(c)){if(!this.withinDirectionalEnd(c))break;r=r.updateImmediateChild(c.name,c.node),s++}}}else{let o;r=e.withIndex(this.index_),r=r.updatePriority(fo.EMPTY_NODE),o=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let s=0;for(;o.hasNext();){const c=o.getNext();s<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?s++:r=r.updateImmediateChild(c.name,fo.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,o){let s;if(this.reverse_){const T=this.index_.getCompare();s=(F,H)=>T(H,F)}else s=this.index_.getCompare();const c=t;(0,Oe.vA)(c.numChildren()===this.limit_,"");const u=new zo(e,i),g=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),w=this.rangedFilter_.matches(u);if(c.hasChild(e)){const T=c.getImmediateChild(e);let F=r.getChildAfterChild(this.index_,g,this.reverse_);for(;null!=F&&(F.name===e||c.hasChild(F.name));)F=r.getChildAfterChild(this.index_,F,this.reverse_);const H=null==F?1:s(F,u);if(w&&!i.isEmpty()&&H>=0)return o?.trackChildChange(Jx(e,i,T)),c.updateImmediateChild(e,i);{o?.trackChildChange(Zx(e,T));const Ae=c.updateImmediateChild(e,fo.EMPTY_NODE);return null!=F&&this.rangedFilter_.matches(F)?(o?.trackChildChange(Pb(F.name,F.node)),Ae.updateImmediateChild(F.name,F.node)):Ae}}return i.isEmpty()?t:w&&s(g,u)>=0?(null!=o&&(o.trackChildChange(Zx(g.name,g.node)),o.trackChildChange(Pb(e,i))),c.updateImmediateChild(e,i).updateImmediateChild(g.name,fo.EMPTY_NODE)):t}}class oS{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ta}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,Oe.vA)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,Oe.vA)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Jg}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,Oe.vA)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,Oe.vA)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:qm}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,Oe.vA)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ta}copy(){const t=new oS;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function RO(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function MO(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function sS(n,t){const e=n.copy();return e.index_=t,e}function vG(n){const t={};if(n.isDefault())return t;let e;if(n.index_===Ta?e="$priority":n.index_===kO?e="$value":n.index_===VA?e="$key":((0,Oe.vA)(n.index_ instanceof SO,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,Oe.As)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,Oe.As)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,Oe.As)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,Oe.As)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,Oe.As)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function yG(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Ta&&(t.i=n.index_.toString()),t}class aS extends rG{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Gx("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,Oe.vA)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const s=aS.getListenId_(t,i),c={};this.listens_[s]=c;const u=vG(t._queryParams);this.restRequest_(o+".json",u,(g,w)=>{let T=w;if(404===g&&(T=null,g=null),null===g&&this.onDataUpdate_(o,T,!1,i),(0,Oe.yw)(this.listens_,s)===c){let F;F=g?401===g?"permission_denied":"rest_error:"+g:"ok",r(F,null)}})}unlisten(t,e){const i=aS.getListenId_(t,e);delete this.listens_[i]}get(t){const e=vG(t._queryParams),i=t._path.toString(),r=new Oe.cY;return this.restRequest_(i+".json",e,(o,s)=>{let c=s;404===o&&(c=null,o=null),null===o?(this.onDataUpdate_(i,c,!1,null),r.resolve(c)):r.reject(new Error(c))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,Oe.Am)(e);this.log_("Sending REST request for "+s);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(i&&4===c.readyState){this.log_("REST Response for "+s+" received. status:",c.status,"response:",c.responseText);let u=null;if(c.status>=200&&c.status<300){try{u=(0,Oe.$L)(c.responseText)}catch{ad("Failed to parse JSON response for "+s+": "+c.responseText)}i(null,u)}else 401!==c.status&&404!==c.status&&ad("Got unsuccessful REST response for "+s+" Status: "+c.status),i(c.status);i=null}},c.open("GET",s,!0),c.send()})}}class $ve{constructor(){this.rootNode_=fo.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function lS(){return{value:null,children:new Map}}function Ob(n,t,e){if(Fo(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=Oo(t);n.children.has(i)||n.children.set(i,lS()),Ob(n.children.get(i),t=Aa(t),e)}}function BO(n,t){if(Fo(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Ta,(i,r)=>{Ob(n,new Ns(i),r)}),BO(n,t)}}if(n.children.size>0){const e=Oo(t);return t=Aa(t),n.children.has(e)&&BO(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function PO(n,t,e){null!==n.value?e(t,n.value):function Xve(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{PO(r,new Ns(t.toString()+"/"+i),e)})}class Yve{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&su(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class eye{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Yve(t);const i=1e4+2e4*Math.random();qx(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;su(t,(r,o)=>{o>0&&(0,Oe.gR)(this.statsToReport_,r)&&(e[r]=o,i=!0)}),i&&this.server_.reportStats(e),qx(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var QA=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(QA||{});function LO(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class cS{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=QA.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Fo(this.path)){if(null!=this.affectedTree.value)return(0,Oe.vA)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Ns(t));return new cS(_s(),e,this.revert)}}return(0,Oe.vA)(Oo(this.path)===t,"operationForChild called for unrelated child."),new cS(Aa(this.path),this.affectedTree,this.revert)}}class tE{constructor(t,e){this.source=t,this.path=e,this.type=QA.LISTEN_COMPLETE}operationForChild(t){return Fo(this.path)?new tE(this.source,_s()):new tE(this.source,Aa(this.path))}}class Wv{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=QA.OVERWRITE}operationForChild(t){return Fo(this.path)?new Wv(this.source,_s(),this.snap.getImmediateChild(t)):new Wv(this.source,Aa(this.path),this.snap)}}class Fb{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=QA.MERGE}operationForChild(t){if(Fo(this.path)){const e=this.children.subtree(new Ns(t));return e.isEmpty()?null:e.value?new Wv(this.source,_s(),e.value):new Fb(this.source,_s(),e)}return(0,Oe.vA)(Oo(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Fb(this.source,Aa(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class n_{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Fo(t))return this.isFullyInitialized()&&!this.filtered_;const e=Oo(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class tye{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function nE(n,t,e,i,r,o){const s=i.filter(c=>c.type===e);s.sort((c,u)=>function rye(n,t,e){if(null==t.childName||null==e.childName)throw(0,Oe.Hk)("Should only compare child_ events.");const i=new zo(t.childName,t.snapshotNode),r=new zo(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,c,u)),s.forEach(c=>{const u=function iye(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,c,o);r.forEach(g=>{g.respondsTo(c.type)&&t.push(g.createEvent(u,n.query_))})})}function uS(n,t){return{eventCache:n,serverCache:t}}function iE(n,t,e,i){return uS(new n_(t,e,i),n.serverCache)}function wG(n,t,e,i){return uS(n.eventCache,new n_(t,e,i))}function dS(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function $v(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let NO;class Sa{constructor(t,e=(()=>(NO||(NO=new _h(j_e)),NO))()){this.value=t,this.children=e}static fromObject(t){let e=new Sa(null);return su(t,(i,r)=>{e=e.set(new Ns(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:_s(),value:this.value};if(Fo(t))return null;{const i=Oo(t),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(Aa(t),e);return null!=o?{path:Ya(new Ns(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Fo(t))return this;{const e=Oo(t),i=this.children.get(e);return null!==i?i.subtree(Aa(t)):new Sa(null)}}set(t,e){if(Fo(t))return new Sa(e,this.children);{const i=Oo(t),o=(this.children.get(i)||new Sa(null)).set(Aa(t),e),s=this.children.insert(i,o);return new Sa(this.value,s)}}remove(t){if(Fo(t))return this.children.isEmpty()?new Sa(null):new Sa(null,this.children);{const e=Oo(t),i=this.children.get(e);if(i){const r=i.remove(Aa(t));let o;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&o.isEmpty()?new Sa(null):new Sa(this.value,o)}return this}}get(t){if(Fo(t))return this.value;{const e=Oo(t),i=this.children.get(e);return i?i.get(Aa(t)):null}}setTree(t,e){if(Fo(t))return e;{const i=Oo(t),o=(this.children.get(i)||new Sa(null)).setTree(Aa(t),e);let s;return s=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new Sa(this.value,s)}}fold(t){return this.fold_(_s(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Ya(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,_s(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(Fo(t))return null;{const o=Oo(t),s=this.children.get(o);return s?s.findOnPath_(Aa(t),Ya(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,_s(),e)}foreachOnPath_(t,e,i){if(Fo(t))return this;{this.value&&i(e,this.value);const r=Oo(t),o=this.children.get(r);return o?o.foreachOnPath_(Aa(t),Ya(e,r),i):new Sa(null)}}foreach(t){this.foreach_(_s(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Ya(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class eA{constructor(t){this.writeTree_=t}static empty(){return new eA(new Sa(null))}}function rE(n,t,e){if(Fo(t))return new eA(new Sa(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let o=i.value;const s=Vd(r,t);return o=o.updateChild(s,e),new eA(n.writeTree_.set(r,o))}{const r=new Sa(e),o=n.writeTree_.setTree(t,r);return new eA(o)}}}function UO(n,t,e){let i=n;return su(e,(r,o)=>{i=rE(i,Ya(t,r),o)}),i}function xG(n,t){if(Fo(t))return eA.empty();{const e=n.writeTree_.setTree(t,new Sa(null));return new eA(e)}}function VO(n,t){return null!=Xv(n,t)}function Xv(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Vd(e.path,t)):null}function EG(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Ta,(i,r)=>{t.push(new zo(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new zo(i,r.value))}),t}function i_(n,t){if(Fo(t))return n;{const e=Xv(n,t);return new eA(null!=e?new Sa(e):n.writeTree_.subtree(t))}}function QO(n){return n.writeTree_.isEmpty()}function Lb(n,t){return CG(_s(),n.writeTree_,t)}function CG(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{".priority"===r?((0,Oe.vA)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):e=CG(Ya(n,r),o,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Ya(n,".priority"),i)),e}}function hS(n,t){return DG(t,n)}function uye(n,t){if(n.snap)return Wp(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Wp(Ya(n.path,e),t))return!0;return!1}function hye(n){return n.visible}function IG(n,t,e){let i=eA.empty();for(let r=0;r<n.length;++r){const o=n[r];if(t(o)){const s=o.path;let c;if(o.snap)Wp(e,s)?(c=Vd(e,s),i=rE(i,c,o.snap)):Wp(s,e)&&(c=Vd(s,e),i=rE(i,_s(),o.snap.getChild(c)));else{if(!o.children)throw(0,Oe.Hk)("WriteRecord should have .snap or .children");if(Wp(e,s))c=Vd(e,s),i=UO(i,c,o.children);else if(Wp(s,e))if(c=Vd(s,e),Fo(c))i=UO(i,_s(),o.children);else{const u=(0,Oe.yw)(o.children,Oo(c));if(u){const g=u.getChild(Aa(c));i=rE(i,_s(),g)}}}}}return i}function TG(n,t,e,i,r){if(i||r){const o=i_(n.visibleWrites,t);return!r&&QO(o)?e:r||null!=e||VO(o,_s())?Lb(IG(n.allWrites,function(g){return(g.visible||r)&&(!i||!~i.indexOf(g.writeId))&&(Wp(g.path,t)||Wp(t,g.path))},t),e||fo.EMPTY_NODE):null}{const o=Xv(n.visibleWrites,t);if(null!=o)return o;{const s=i_(n.visibleWrites,t);return QO(s)?e:null!=e||VO(s,_s())?Lb(s,e||fo.EMPTY_NODE):null}}}function pS(n,t,e,i){return TG(n.writeTree,n.treePath,t,e,i)}function jO(n,t){return function pye(n,t,e){let i=fo.EMPTY_NODE;const r=Xv(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Ta,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(e){const o=i_(n.visibleWrites,t);return e.forEachChild(Ta,(s,c)=>{const u=Lb(i_(o,new Ns(s)),c);i=i.updateImmediateChild(s,u)}),EG(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}return EG(i_(n.visibleWrites,t)).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}(n.writeTree,n.treePath,t)}function SG(n,t,e,i){return function fye(n,t,e,i,r){(0,Oe.vA)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Ya(t,e);if(VO(n.visibleWrites,o))return null;{const s=i_(n.visibleWrites,o);return QO(s)?r.getChild(e):Lb(s,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function fS(n,t){return function mye(n,t){return Xv(n.visibleWrites,t)}(n.writeTree,Ya(n.treePath,t))}function zO(n,t,e){return function Aye(n,t,e,i){const r=Ya(t,e),o=Xv(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(e)?Lb(i_(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function kG(n,t){return DG(Ya(n.treePath,t),n.writeTree)}function DG(n,t){return{treePath:n,writeTree:t}}class yye{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,Oe.vA)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,Oe.vA)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(i,Jx(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(i,Zx(i,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(i,Pb(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,Oe.Hk)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,Jx(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const RG=new class bye{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class GO{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new n_(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return zO(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:$v(this.viewCache_),o=function vye(n,t,e,i,r,o){return function gye(n,t,e,i,r,o,s){let c;const u=i_(n.visibleWrites,t),g=Xv(u,_s());if(null!=g)c=g;else{if(null==e)return[];c=Lb(u,e)}if(c=c.withIndex(s),c.isEmpty()||c.isLeafNode())return[];{const w=[],T=s.getCompare(),F=o?c.getReverseIteratorFrom(i,s):c.getIteratorFrom(i,s);let H=F.getNext();for(;H&&w.length<r;)0!==T(H,i)&&w.push(H),H=F.getNext();return w}}(n.writeTree,n.treePath,t,e,i,r,o)}(this.writes_,r,e,1,i,t);return 0===o.length?null:o[0]}}function MG(n,t,e,i,r,o){const s=t.eventCache;if(null!=fS(i,e))return t;{let c,u;if(Fo(e))if((0,Oe.vA)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=$v(t),T=jO(i,g instanceof fo?g:fo.EMPTY_NODE);c=n.filter.updateFullNode(t.eventCache.getNode(),T,o)}else{const g=pS(i,$v(t));c=n.filter.updateFullNode(t.eventCache.getNode(),g,o)}else{const g=Oo(e);if(".priority"===g){(0,Oe.vA)(1===t_(e),"Can't have a priority with additional path components");const w=s.getNode();u=t.serverCache.getNode();const T=SG(i,e,w,u);c=null!=T?n.filter.updatePriority(w,T):s.getNode()}else{const w=Aa(e);let T;if(s.isCompleteForChild(g)){u=t.serverCache.getNode();const F=SG(i,e,s.getNode(),u);T=null!=F?s.getNode().getImmediateChild(g).updateChild(w,F):s.getNode().getImmediateChild(g)}else T=zO(i,g,t.serverCache);c=null!=T?n.filter.updateChild(s.getNode(),g,T,w,r,o):s.getNode()}}return iE(t,c,s.isFullyInitialized()||Fo(e),n.filter.filtersNodes())}}function AS(n,t,e,i,r,o,s,c){const u=t.serverCache;let g;const w=s?n.filter:n.filter.getIndexedFilter();if(Fo(e))g=w.updateFullNode(u.getNode(),i,null);else if(w.filtersNodes()&&!u.isFiltered()){const H=u.getNode().updateChild(e,i);g=w.updateFullNode(u.getNode(),H,null)}else{const H=Oo(e);if(!u.isCompleteForPath(e)&&t_(e)>1)return t;const ee=Aa(e),xe=u.getNode().getImmediateChild(H).updateChild(ee,i);g=".priority"===H?w.updatePriority(u.getNode(),xe):w.updateChild(u.getNode(),H,xe,ee,RG,null)}const T=wG(t,g,u.isFullyInitialized()||Fo(e),w.filtersNodes());return MG(n,T,e,r,new GO(r,T,o),c)}function HO(n,t,e,i,r,o,s){const c=t.eventCache;let u,g;const w=new GO(r,t,o);if(Fo(e))g=n.filter.updateFullNode(t.eventCache.getNode(),i,s),u=iE(t,g,!0,n.filter.filtersNodes());else{const T=Oo(e);if(".priority"===T)g=n.filter.updatePriority(t.eventCache.getNode(),i),u=iE(t,g,c.isFullyInitialized(),c.isFiltered());else{const F=Aa(e),H=c.getNode().getImmediateChild(T);let ee;if(Fo(F))ee=i;else{const Ae=w.getCompleteChild(T);ee=null!=Ae?".priority"===wO(F)&&Ae.getChild(lG(F)).isEmpty()?Ae:Ae.updateChild(F,i):fo.EMPTY_NODE}u=H.equals(ee)?t:iE(t,n.filter.updateChild(c.getNode(),T,ee,F,w,s),c.isFullyInitialized(),n.filter.filtersNodes())}}return u}function BG(n,t){return n.eventCache.isCompleteForChild(t)}function PG(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function qO(n,t,e,i,r,o,s,c){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let g,u=t;g=Fo(e)?i:new Sa(null).setTree(e,i);const w=t.serverCache.getNode();return g.children.inorderTraversal((T,F)=>{if(w.hasChild(T)){const ee=PG(0,t.serverCache.getNode().getImmediateChild(T),F);u=AS(n,u,new Ns(T),ee,r,o,s,c)}}),g.children.inorderTraversal((T,F)=>{const H=!t.serverCache.isCompleteForChild(T)&&null===F.value;if(!w.hasChild(T)&&!H){const Ae=PG(0,t.serverCache.getNode().getImmediateChild(T),F);u=AS(n,u,new Ns(T),Ae,r,o,s,c)}}),u}class Dye{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new DO(i.getIndex()),o=function Gve(n){return n.loadsAllData()?new DO(n.getIndex()):n.hasLimit()?new zve(n):new eE(n)}(i);this.processor_=function wye(n){return{filter:n}}(o);const s=e.serverCache,c=e.eventCache,u=r.updateFullNode(fo.EMPTY_NODE,s.getNode(),null),g=o.updateFullNode(fo.EMPTY_NODE,c.getNode(),null),w=new n_(u,s.isFullyInitialized(),r.filtersNodes()),T=new n_(g,c.isFullyInitialized(),o.filtersNodes());this.viewCache_=uS(T,w),this.eventGenerator_=new tye(this.query_)}get query(){return this.query_}}function Bye(n,t){const e=$v(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Fo(t)&&!e.getImmediateChild(Oo(t)).isEmpty())?e.getChild(t):null}function OG(n){return 0===n.eventRegistrations_.length}function FG(n,t,e){const i=[];if(e){(0,Oe.vA)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(e,r);s&&i.push(s)})}if(t){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const s=n.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}else r.push(s)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function LG(n,t,e,i){t.type===QA.MERGE&&null!==t.source.queryId&&((0,Oe.vA)($v(n.viewCache_),"We should always have a full cache before handling merges"),(0,Oe.vA)(dS(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function Eye(n,t,e,i,r){const o=new yye;let s,c;if(e.type===QA.OVERWRITE){const g=e;g.source.fromUser?s=HO(n,t,g.path,g.snap,i,r,o):((0,Oe.vA)(g.source.fromServer,"Unknown source."),c=g.source.tagged||t.serverCache.isFiltered()&&!Fo(g.path),s=AS(n,t,g.path,g.snap,i,r,c,o))}else if(e.type===QA.MERGE){const g=e;g.source.fromUser?s=function Iye(n,t,e,i,r,o,s){let c=t;return i.foreach((u,g)=>{const w=Ya(e,u);BG(t,Oo(w))&&(c=HO(n,c,w,g,r,o,s))}),i.foreach((u,g)=>{const w=Ya(e,u);BG(t,Oo(w))||(c=HO(n,c,w,g,r,o,s))}),c}(n,t,g.path,g.children,i,r,o):((0,Oe.vA)(g.source.fromServer,"Unknown source."),c=g.source.tagged||t.serverCache.isFiltered(),s=qO(n,t,g.path,g.children,i,r,c,o))}else if(e.type===QA.ACK_USER_WRITE){const g=e;s=g.revert?function kye(n,t,e,i,r,o){let s;if(null!=fS(i,e))return t;{const c=new GO(i,t,r),u=t.eventCache.getNode();let g;if(Fo(e)||".priority"===Oo(e)){let w;if(t.serverCache.isFullyInitialized())w=pS(i,$v(t));else{const T=t.serverCache.getNode();(0,Oe.vA)(T instanceof fo,"serverChildren would be complete if leaf node"),w=jO(i,T)}g=n.filter.updateFullNode(u,w,o)}else{const w=Oo(e);let T=zO(i,w,t.serverCache);null==T&&t.serverCache.isCompleteForChild(w)&&(T=u.getImmediateChild(w)),g=null!=T?n.filter.updateChild(u,w,T,Aa(e),c,o):t.eventCache.getNode().hasChild(w)?n.filter.updateChild(u,w,fo.EMPTY_NODE,Aa(e),c,o):u,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=pS(i,$v(t)),s.isLeafNode()&&(g=n.filter.updateFullNode(g,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=fS(i,_s()),iE(t,g,s,n.filter.filtersNodes())}}(n,t,g.path,i,r,o):function Tye(n,t,e,i,r,o,s){if(null!=fS(r,e))return t;const c=t.serverCache.isFiltered(),u=t.serverCache;if(null!=i.value){if(Fo(e)&&u.isFullyInitialized()||u.isCompleteForPath(e))return AS(n,t,e,u.getNode().getChild(e),r,o,c,s);if(Fo(e)){let g=new Sa(null);return u.getNode().forEachChild(VA,(w,T)=>{g=g.set(new Ns(w),T)}),qO(n,t,e,g,r,o,c,s)}return t}{let g=new Sa(null);return i.foreach((w,T)=>{const F=Ya(e,w);u.isCompleteForPath(F)&&(g=g.set(w,u.getNode().getChild(F)))}),qO(n,t,e,g,r,o,c,s)}}(n,t,g.path,g.affectedTree,i,r,o)}else{if(e.type!==QA.LISTEN_COMPLETE)throw(0,Oe.Hk)("Unknown operation type: "+e.type);s=function Sye(n,t,e,i,r){const o=t.serverCache;return MG(n,wG(t,o.getNode(),o.isFullyInitialized()||Fo(e),o.isFiltered()),e,i,RG,r)}(n,t,e.path,i,o)}const u=o.getChanges();return function Cye(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=dS(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(_G(dS(t)))}}(t,s,u),{viewCache:s,changes:u}}(n.processor_,r,t,e,i);return function xye(n,t){(0,Oe.vA)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,Oe.vA)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,Oe.vA)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,NG(n,o.changes,o.viewCache.eventCache.getNode(),null)}function NG(n,t,e,i){return function nye(n,t,e,i){const r=[],o=[];return t.forEach(s=>{"child_changed"===s.type&&n.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function jve(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(s.childName,s.snapshotNode))}),nE(n,r,"child_removed",t,i,e),nE(n,r,"child_added",t,i,e),nE(n,r,"child_moved",o,i,e),nE(n,r,"child_changed",t,i,e),nE(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let mS,_S;class UG{constructor(){this.views=new Map}}function KO(n,t,e,i){const r=t.source.queryId;if(null!==r){const o=n.views.get(r);return(0,Oe.vA)(null!=o,"SyncTree gave us an op for an invalid query."),LG(o,t,e,i)}{let o=[];for(const s of n.views.values())o=o.concat(LG(s,t,e,i));return o}}function VG(n,t,e,i,r){const s=n.views.get(t._queryIdentifier);if(!s){let c=pS(e,r?i:null),u=!1;c?u=!0:i instanceof fo?(c=jO(e,i),u=!1):(c=fo.EMPTY_NODE,u=!1);const g=uS(new n_(c,u,!1),new n_(i,r,!1));return new Dye(t,g)}return s}function QG(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function r_(n,t){let e=null;for(const i of n.views.values())e=e||Bye(i,t);return e}function jG(n,t){return t._queryParams.loadsAllData()?gS(n):n.views.get(t._queryIdentifier)}function zG(n,t){return null!=jG(n,t)}function o_(n){return null!=gS(n)}function gS(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let zye=1;class GG{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Sa(null),this.pendingWriteTree_=function _ye(){return{visibleWrites:eA.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function WO(n,t,e,i,r){return function sye(n,t,e,i,r){(0,Oe.vA)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=rE(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?Nb(n,new Wv({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function s_(n,t,e=!1){const i=function lye(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function cye(n,t){const e=n.allWrites.findIndex(c=>c.writeId===t);(0,Oe.vA)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,o=!1,s=n.allWrites.length-1;for(;r&&s>=0;){const c=n.allWrites[s];c.visible&&(s>=e&&uye(c,i.path)?r=!1:Wp(i.path,c.path)&&(o=!0)),s--}return!!r&&(o?(function dye(n){n.visibleWrites=IG(n.allWrites,hye,_s()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=xG(n.visibleWrites,i.path):su(i.children,u=>{n.visibleWrites=xG(n.visibleWrites,Ya(i.path,u))}),!0))}(n.pendingWriteTree_,t)){let o=new Sa(null);return null!=i.snap?o=o.set(_s(),!0):su(i.children,s=>{o=o.set(new Ns(s),!0)}),Nb(n,new cS(i.path,o,e))}return[]}function oE(n,t,e){return Nb(n,new Wv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function vS(n,t,e,i,r=!1){const o=t._path,s=n.syncPointTree_.get(o);let c=[];if(s&&("default"===t._queryIdentifier||zG(s,t))){const u=function Vye(n,t,e,i){const r=t._queryIdentifier,o=[];let s=[];const c=o_(n);if("default"===r)for(const[u,g]of n.views.entries())s=s.concat(FG(g,e,i)),OG(g)&&(n.views.delete(u),g.query._queryParams.loadsAllData()||o.push(g.query));else{const u=n.views.get(r);u&&(s=s.concat(FG(u,e,i)),OG(u)&&(n.views.delete(r),u.query._queryParams.loadsAllData()||o.push(u.query)))}return c&&!o_(n)&&o.push(new(function Lye(){return(0,Oe.vA)(mS,"Reference.ts has not been loaded"),mS}())(t._repo,t._path)),{removed:o,events:s}}(s,t,e,i);(function Nye(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const g=u.removed;if(c=u.events,!r){const w=-1!==g.findIndex(F=>F._queryParams.loadsAllData()),T=n.syncPointTree_.findOnPath(o,(F,H)=>o_(H));if(w&&!T){const F=n.syncPointTree_.subtree(o);if(!F.isEmpty()){const H=function Xye(n){return n.fold((t,e,i)=>{if(e&&o_(e))return[gS(e)];{let r=[];return e&&(r=QG(e)),su(i,(o,s)=>{r=r.concat(s)}),r}})}(F);for(let ee=0;ee<H.length;++ee){const Ae=H[ee],xe=Ae.query,et=WG(n,Ae);n.listenProvider_.startListening(aE(xe),sE(n,xe),et.hashFn,et.onComplete)}}}!T&&g.length>0&&!i&&(w?n.listenProvider_.stopListening(aE(t),null):g.forEach(F=>{const H=n.queryToTagMap.get(bS(F));n.listenProvider_.stopListening(aE(F),H)}))}!function Yye(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=bS(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}(n,g)}return c}function HG(n,t,e,i){const r=XO(n,i);if(null!=r){const o=YO(r),s=o.path,c=o.queryId,u=Vd(s,t);return ZO(n,s,new Wv(LO(c),u,e))}return[]}function $O(n,t,e,i=!1){const r=t._path;let o=null,s=!1;n.syncPointTree_.foreachOnPath(r,(F,H)=>{const ee=Vd(F,r);o=o||r_(H,ee),s=s||o_(H)});let u,c=n.syncPointTree_.get(r);c?(s=s||o_(c),o=o||r_(c,_s())):(c=new UG,n.syncPointTree_=n.syncPointTree_.set(r,c)),null!=o?u=!0:(u=!1,o=fo.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((H,ee)=>{const Ae=r_(ee,_s());Ae&&(o=o.updateImmediateChild(H,Ae))}));const g=zG(c,t);if(!g&&!t._queryParams.loadsAllData()){const F=bS(t);(0,Oe.vA)(!n.queryToTagMap.has(F),"View does not exist, but we have a tag");const H=function Zye(){return zye++}();n.queryToTagMap.set(F,H),n.tagToQueryMap.set(H,F)}let T=function Uye(n,t,e,i,r,o){const s=VG(n,t,i,r,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,s),function Pye(n,t){n.eventRegistrations_.push(t)}(s,e),function Oye(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Ta,(o,s)=>{i.push(Pb(o,s))}),e.isFullyInitialized()&&i.push(_G(e.getNode())),NG(n,i,e.getNode(),t)}(s,e)}(c,t,e,hS(n.pendingWriteTree_,r),o,u);if(!g&&!s&&!i){const F=jG(c,t);T=T.concat(function Jye(n,t,e){const i=t._path,r=sE(n,t),o=WG(n,e),s=n.listenProvider_.startListening(aE(t),r,o.hashFn,o.onComplete),c=n.syncPointTree_.subtree(i);if(r)(0,Oe.vA)(!o_(c.value),"If we're adding a query, it shouldn't be shadowed");else{const u=c.fold((g,w,T)=>{if(!Fo(g)&&w&&o_(w))return[gS(w).query];{let F=[];return w&&(F=F.concat(QG(w).map(H=>H.query))),su(T,(H,ee)=>{F=F.concat(ee)}),F}});for(let g=0;g<u.length;++g){const w=u[g];n.listenProvider_.stopListening(aE(w),sE(n,w))}}return s}(n,t,F))}return T}function yS(n,t,e){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(s,c)=>{const g=r_(c,Vd(s,t));if(g)return g});return TG(r,t,o,e,!0)}function Nb(n,t){return qG(t,n.syncPointTree_,null,hS(n.pendingWriteTree_,_s()))}function qG(n,t,e,i){if(Fo(n.path))return KG(n,t,e,i);{const r=t.get(_s());null==e&&null!=r&&(e=r_(r,_s()));let o=[];const s=Oo(n.path),c=n.operationForChild(s),u=t.children.get(s);if(u&&c){const g=e?e.getImmediateChild(s):null,w=kG(i,s);o=o.concat(qG(c,u,g,w))}return r&&(o=o.concat(KO(r,n,i,e))),o}}function KG(n,t,e,i){const r=t.get(_s());null==e&&null!=r&&(e=r_(r,_s()));let o=[];return t.children.inorderTraversal((s,c)=>{const u=e?e.getImmediateChild(s):null,g=kG(i,s),w=n.operationForChild(s);w&&(o=o.concat(KG(w,c,u,g)))}),r&&(o=o.concat(KO(r,n,i,e))),o}function WG(n,t){const e=t.query,i=sE(n,e);return{hashFn:()=>(function Rye(n){return n.viewCache_.serverCache.getNode()}(t)||fo.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function Kye(n,t,e){const i=XO(n,e);if(i){const r=YO(i),o=r.path,s=r.queryId,c=Vd(o,t);return ZO(n,o,new tE(LO(s),c))}return[]}(n,e._path,i):function qye(n,t){return Nb(n,new tE({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const o=function H_e(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return vS(n,e,null,o)}}}}function sE(n,t){const e=bS(t);return n.queryToTagMap.get(e)}function bS(n){return n._path.toString()+"$"+n._queryIdentifier}function XO(n,t){return n.tagToQueryMap.get(t)}function YO(n){const t=n.indexOf("$");return(0,Oe.vA)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Ns(n.substr(0,t))}}function ZO(n,t,e){const i=n.syncPointTree_.get(t);return(0,Oe.vA)(i,"Missing sync point for query tag that we're tracking"),KO(i,e,hS(n.pendingWriteTree_,t),null)}function aE(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function jye(){return(0,Oe.vA)(_S,"Reference.ts has not been loaded"),_S}())(n._repo,n._path):n}class JO{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new JO(e)}node(){return this.node_}}class eF{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Ya(this.path_,t);return new eF(this.syncTree_,e)}node(){return yS(this.syncTree_,this.path_)}}const e0e=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},$G=function(n,t,e){return n&&"object"==typeof n?((0,Oe.vA)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?t0e(n[".sv"],t,e):"object"==typeof n[".sv"]?n0e(n[".sv"],t):void(0,Oe.vA)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},t0e=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,Oe.vA)(!1,"Unexpected server value: "+n)},n0e=function(n,t,e){n.hasOwnProperty("increment")||(0,Oe.vA)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,Oe.vA)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,Oe.vA)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const s=r.getValue();return"number"!=typeof s?i:s+i},XG=function(n,t,e,i){return nF(t,new eF(e,n),i)},tF=function(n,t,e){return nF(n,new JO(t),e)};function nF(n,t,e){const i=n.getPriority().val(),r=$G(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const s=n,c=$G(s.getValue(),t,e);return c!==s.getValue()||r!==s.getPriority().val()?new Mb(c,hl(r)):n}{const s=n;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new Mb(r))),s.forEachChild(Ta,(c,u)=>{const g=nF(u,t.getImmediateChild(c),e);g!==u&&(o=o.updateImmediateChild(c,g))}),o}}class iF{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function wS(n,t){let e=t instanceof Ns?t:new Ns(t),i=n,r=Oo(e);for(;null!==r;){const o=(0,Oe.yw)(i.node.children,r)||{children:{},childCount:0};i=new iF(r,i,o),e=Aa(e),r=Oo(e)}return i}function Yv(n){return n.node.value}function rF(n,t){n.node.value=t,oF(n)}function YG(n){return n.node.childCount>0}function xS(n,t){su(n.node.children,(e,i)=>{t(new iF(e,n,i))})}function ZG(n,t,e,i){e&&!i&&t(n),xS(n,r=>{ZG(r,t,!0,i)}),e&&i&&t(n)}function lE(n){return new Ns(null===n.parent?n.name:lE(n.parent)+"/"+n.name)}function oF(n){null!==n.parent&&function o0e(n,t,e){const i=function i0e(n){return void 0===Yv(n)&&!YG(n)}(e),r=(0,Oe.gR)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,oF(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,oF(n))}(n.parent,n.name,n)}const s0e=/[\[\].#$\/\u0000-\u001F\u007F]/,a0e=/[\[\].#$\u0000-\u001F\u007F]/,sF=10485760,ES=function(n){return"string"==typeof n&&0!==n.length&&!s0e.test(n)},JG=function(n){return"string"==typeof n&&0!==n.length&&!a0e.test(n)},cE=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!YT(n)||n&&"object"==typeof n&&(0,Oe.gR)(n,".sv")},jA=function(n,t,e,i){i&&void 0===t||uE((0,Oe.dI)(n,"value"),t,e)},uE=function(n,t,e){const i=e instanceof Ns?new Eve(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+qv(i));if("function"==typeof t)throw new Error(n+"contains a function "+qv(i)+" with contents = "+t.toString());if(YT(t))throw new Error(n+"contains "+t.toString()+" "+qv(i));if("string"==typeof t&&t.length>sF/3&&(0,Oe.OE)(t)>sF)throw new Error(n+"contains a string greater than "+sF+" utf8 bytes "+qv(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(su(t,(s,c)=>{if(".value"===s)r=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!ES(s)))throw new Error(n+" contains an invalid key ("+s+") "+qv(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Cve(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,Oe.OE)(t),cG(n)})(i,s),uE(n,c,i),function Ive(n){const t=n.parts_.pop();n.byteLength_-=(0,Oe.OE)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+qv(i)+" in addition to actual children.")}},eH=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,Oe.dI)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];su(t,(s,c)=>{const u=new Ns(s);if(uE(r,c,Ya(e,u)),".priority"===wO(u)&&!cE(c))throw new Error(r+"contains an invalid value for '"+u.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(u)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const o=Wx(i);for(let s=0;s<o.length;s++)if((".priority"!==o[s]||s!==o.length-1)&&!ES(o[s]))throw new Error(n+"contains an invalid key ("+o[s]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(xve);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&Wp(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},aF=function(n,t,e){if(!e||void 0!==t){if(YT(t))throw new Error((0,Oe.dI)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!cE(t))throw new Error((0,Oe.dI)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},dE=function(n,t,e,i){if(!(i&&void 0===e||ES(e)))throw new Error((0,Oe.dI)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},hE=function(n,t,e,i){if(!(i&&void 0===e||JG(e)))throw new Error((0,Oe.dI)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},u0e=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),hE(n,t,e,i)},$p=function(n,t){if(".info"===Oo(t))throw new Error(n+" failed = Can't modify data under /.info/")},tH=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!ES(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),JG(n)}(e))throw new Error((0,Oe.dI)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class d0e{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function CS(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();null!==e&&!xO(o,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(r)}e&&n.eventLists_.push(e)}function nH(n,t,e){CS(n,e),iH(n,i=>xO(i,t))}function Jh(n,t,e){CS(n,e),iH(n,i=>Wp(i,t)||Wp(t,i))}function iH(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(h0e(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function h0e(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Gv&&ou("event: "+e.toString()),Db(i)}}}const rH="repo_interrupt",p0e=25;class f0e{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new d0e,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=lS(),this.transactionQueueTree_=new iF,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function oH(n){const e=n.infoData_.getNode(new Ns(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function pE(n){return e0e({timestamp:oH(n)})}function sH(n,t,e,i,r){n.dataUpdateCount++;const o=new Ns(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let s=[];if(r)if(i){const u=(0,Oe.kH)(e,g=>hl(g));s=function Wye(n,t,e,i){const r=XO(n,i);if(r){const o=YO(r),s=o.path,c=o.queryId,u=Vd(s,t),g=Sa.fromObject(e);return ZO(n,s,new Fb(LO(c),u,g))}return[]}(n.serverSyncTree_,o,u,r)}else{const u=hl(e);s=HG(n.serverSyncTree_,o,u,r)}else if(i){const u=(0,Oe.kH)(e,g=>hl(g));s=function Hye(n,t,e){const i=Sa.fromObject(e);return Nb(n,new Fb({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,o,u)}else{const u=hl(e);s=oE(n.serverSyncTree_,o,u)}let c=o;s.length>0&&(c=Vb(n,o)),Jh(n.eventQueue_,c,s)}function aH(n,t){lF(n,"connected",t),!1===t&&function v0e(n){Ub(n,"onDisconnectEvents");const t=pE(n),e=lS();PO(n.onDisconnect_,_s(),(r,o)=>{const s=XG(r,o,n.serverSyncTree_,t);Ob(e,r,s)});let i=[];PO(e,_s(),(r,o)=>{i=i.concat(oE(n.serverSyncTree_,r,o));const s=hF(n,r);Vb(n,s)}),n.onDisconnect_=lS(),Jh(n.eventQueue_,_s(),i)}(n)}function lF(n,t,e){const i=new Ns("/.info/"+t),r=hl(e);n.infoData_.updateSnapshot(i,r);const o=oE(n.infoSyncTree_,i,r);Jh(n.eventQueue_,i,o)}function IS(n){return n.nextWriteId_++}function cF(n,t,e,i,r){Ub(n,"set",{path:t.toString(),value:e,priority:i});const o=pE(n),s=hl(e,i),c=yS(n.serverSyncTree_,t),u=tF(s,c,o),g=IS(n),w=WO(n.serverSyncTree_,t,u,g,!0);CS(n.eventQueue_,w),n.server_.put(t.toString(),s.val(!0),(F,H)=>{const ee="ok"===F;ee||ad("set at "+t+" failed: "+F);const Ae=s_(n.serverSyncTree_,g,!ee);Jh(n.eventQueue_,t,Ae),a_(0,r,F,H)});const T=hF(n,t);Vb(n,T),Jh(n.eventQueue_,T,[])}function y0e(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&BO(n.onDisconnect_,t),a_(0,e,i,r)})}function lH(n,t,e,i){const r=hl(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(o,s)=>{"ok"===o&&Ob(n.onDisconnect_,t,r),a_(0,i,o,s)})}function uF(n,t,e){let i;i=".info"===Oo(t._path)?vS(n.infoSyncTree_,t,e):vS(n.serverSyncTree_,t,e),nH(n.eventQueue_,t._path,i)}function cH(n){n.persistentConnection_&&n.persistentConnection_.interrupt(rH)}function Ub(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),ou(e,...t)}function a_(n,t,e,i){t&&Db(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let o=r;i&&(o+=": "+i);const s=new Error(o);s.code=r,t(s)}})}function dF(n,t,e){return yS(n.serverSyncTree_,t,e)||fo.EMPTY_NODE}function TS(n,t=n.transactionQueueTree_){if(t||SS(n,t),Yv(t)){const e=dH(n,t);(0,Oe.vA)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function I0e(n,t,e){const i=e.map(g=>g.currentWriteId),r=dF(n,t,i);let o=r;const s=r.hash();for(let g=0;g<e.length;g++){const w=e[g];(0,Oe.vA)(0===w.status,"tryToSendTransactionQueue_: items in queue should all be run."),w.status=1,w.retryCount++;const T=Vd(t,w.path);o=o.updateChild(T,w.currentOutputSnapshotRaw)}const c=o.val(!0),u=t;n.server_.put(u.toString(),c,g=>{Ub(n,"transaction put response",{path:u.toString(),status:g});let w=[];if("ok"===g){const T=[];for(let F=0;F<e.length;F++)e[F].status=2,w=w.concat(s_(n.serverSyncTree_,e[F].currentWriteId)),e[F].onComplete&&T.push(()=>e[F].onComplete(null,!0,e[F].currentOutputSnapshotResolved)),e[F].unwatcher();SS(n,wS(n.transactionQueueTree_,t)),TS(n,n.transactionQueueTree_),Jh(n.eventQueue_,t,w);for(let F=0;F<T.length;F++)Db(T[F])}else{if("datastale"===g)for(let T=0;T<e.length;T++)e[T].status=3===e[T].status?4:0;else{ad("transaction at "+u.toString()+" failed: "+g);for(let T=0;T<e.length;T++)e[T].status=4,e[T].abortReason=g}Vb(n,t)}},s)}(n,lE(t),e)}else YG(t)&&xS(t,e=>{TS(n,e)})}function Vb(n,t){const e=uH(n,t),i=lE(e);return function T0e(n,t,e){if(0===t.length)return;const i=[];let r=[];const s=t.filter(c=>0===c.status).map(c=>c.currentWriteId);for(let c=0;c<t.length;c++){const u=t[c],g=Vd(e,u.path);let T,w=!1;if((0,Oe.vA)(null!==g,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)w=!0,T=u.abortReason,r=r.concat(s_(n.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=p0e)w=!0,T="maxretry",r=r.concat(s_(n.serverSyncTree_,u.currentWriteId,!0));else{const F=dF(n,u.path,s);u.currentInputSnapshot=F;const H=t[c].update(F.val());if(void 0!==H){uE("transaction failed: Data returned ",H,u.path);let ee=hl(H);"object"==typeof H&&null!=H&&(0,Oe.gR)(H,".priority")||(ee=ee.updatePriority(F.getPriority()));const xe=u.currentWriteId,et=pE(n),Ye=tF(ee,F,et);u.currentOutputSnapshotRaw=ee,u.currentOutputSnapshotResolved=Ye,u.currentWriteId=IS(n),s.splice(s.indexOf(xe),1),r=r.concat(WO(n.serverSyncTree_,u.path,Ye,u.currentWriteId,u.applyLocally)),r=r.concat(s_(n.serverSyncTree_,xe,!0))}else w=!0,T="nodata",r=r.concat(s_(n.serverSyncTree_,u.currentWriteId,!0))}Jh(n.eventQueue_,e,r),r=[],w&&(t[c].status=2,setTimeout(t[c].unwatcher,Math.floor(0)),t[c].onComplete&&i.push("nodata"===T?()=>t[c].onComplete(null,!1,t[c].currentInputSnapshot):()=>t[c].onComplete(new Error(T),!1,null)))}SS(n,n.transactionQueueTree_);for(let c=0;c<i.length;c++)Db(i[c]);TS(n,n.transactionQueueTree_)}(n,dH(n,e),i),i}function uH(n,t){let e,i=n.transactionQueueTree_;for(e=Oo(t);null!==e&&void 0===Yv(i);)i=wS(i,e),e=Oo(t=Aa(t));return i}function dH(n,t){const e=[];return hH(n,t,e),e.sort((i,r)=>i.order-r.order),e}function hH(n,t,e){const i=Yv(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);xS(t,r=>{hH(n,r,e)})}function SS(n,t){const e=Yv(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,rF(t,e.length>0?e:void 0)}xS(t,i=>{SS(n,i)})}function hF(n,t){const e=lE(uH(n,t)),i=wS(n.transactionQueueTree_,t);return function r0e(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{pF(n,r)}),pF(n,i),ZG(i,r=>{pF(n,r)}),e}function pF(n,t){const e=Yv(t);if(e){const i=[];let r=[],o=-1;for(let s=0;s<e.length;s++)3===e[s].status||(1===e[s].status?((0,Oe.vA)(o===s-1,"All SENT items should be at beginning of queue."),o=s,e[s].status=3,e[s].abortReason="set"):((0,Oe.vA)(0===e[s].status,"Unexpected transaction status in abort"),e[s].unwatcher(),r=r.concat(s_(n.serverSyncTree_,e[s].currentWriteId,!0)),e[s].onComplete&&i.push(e[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?rF(t,void 0):e.length=o+1,Jh(n.eventQueue_,lE(t),r);for(let s=0;s<i.length;s++)Db(i[s])}}const fF=function(n,t){const e=D0e(n),i=e.namespace;return"firebase.com"===e.domain&&UA(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&UA("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ad("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new mO(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Ns(e.pathString)}},D0e=function(n){let t="",e="",i="",r="",o="",s=!0,c="https",u=443;if("string"==typeof n){let g=n.indexOf("//");g>=0&&(c=n.substring(0,g-1),n=n.substring(g+2));let w=n.indexOf("/");-1===w&&(w=n.length);let T=n.indexOf("?");-1===T&&(T=n.length),t=n.substring(0,Math.min(w,T)),w<T&&(r=function S0e(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(w,T)));const F=function k0e(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):ad(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,T)));g=t.indexOf(":"),g>=0?(s="https"===c||"wss"===c,u=parseInt(t.substring(g+1),10)):g=t.length;const H=t.slice(0,g);if("localhost"===H.toLowerCase())e="localhost";else if(H.split(".").length<=2)e=H;else{const ee=t.indexOf(".");i=t.substring(0,ee).toLowerCase(),e=t.substring(ee+1),o=i}"ns"in F&&(o=F.ns)}return{host:t,port:u,domain:e,subdomain:i,secure:s,scheme:c,pathString:r,namespace:o}},pH="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",R0e=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const o=new Array(8);for(r=7;r>=0;r--)o[r]=pH.charAt(e%64),e=Math.floor(e/64);(0,Oe.vA)(0===e,"Cannot push at time == 0");let s=o.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=pH.charAt(t[r]);return(0,Oe.vA)(20===s.length,"nextPushId: Length should be 20."),s}}();class fH{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,Oe.As)(this.snapshot.exportVal())}}class AH{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class AF{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,Oe.vA)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class mH{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new Oe.cY;return y0e(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){$p("OnDisconnect.remove",this._path);const t=new Oe.cY;return lH(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){$p("OnDisconnect.set",this._path),jA("OnDisconnect.set",t,this._path,!1);const e=new Oe.cY;return lH(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){$p("OnDisconnect.setWithPriority",this._path),jA("OnDisconnect.setWithPriority",t,this._path,!1),aF("OnDisconnect.setWithPriority",e,!1);const i=new Oe.cY;return function b0e(n,t,e,i,r){const o=hl(e,i);n.server_.onDisconnectPut(t.toString(),o.val(!0),(s,c)=>{"ok"===s&&Ob(n.onDisconnect_,t,o),a_(0,r,s,c)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){$p("OnDisconnect.update",this._path),eH("OnDisconnect.update",t,this._path,!1);const e=new Oe.cY;return function w0e(n,t,e,i){if((0,Oe.Im)(e))return ou("onDisconnect().update() called with empty data.  Don't do anything."),void a_(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,o)=>{"ok"===r&&su(e,(s,c)=>{const u=hl(c);Ob(n.onDisconnect_,Ya(t,s),u)}),a_(0,i,r,o)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class vh{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return Fo(this._path)?null:wO(this._path)}get ref(){return new Xp(this._repo,this._path)}get _queryIdentifier(){const t=yG(this._queryParams),e=fO(t);return"{}"===e?"default":e}get _queryObject(){return yG(this._queryParams)}isEqual(t){if(!((t=(0,Oe.Ku)(t))instanceof vh))return!1;const e=this._repo===t._repo,i=xO(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function wve(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function kS(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function l_(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===VA){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Jg)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==qm)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===Ta){if(null!=t&&!cE(t)||null!=e&&!cE(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,Oe.vA)(n.getIndex()instanceof SO||n.getIndex()===kO,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function DS(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Xp extends vh{constructor(t,e){super(t,e,new oS,!1)}get parent(){const t=lG(this._path);return null===t?null:new Xp(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Zv{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Ns(t),i=Jv(this.ref,t);return new Zv(this._node.getChild(e),i,Ta)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new Zv(r,Jv(this.ref,i),Ta)))}hasChild(t){const e=new Ns(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function gH(n,t){return(n=(0,Oe.Ku)(n))._checkNotDeleted("ref"),void 0!==t?Jv(n._root,t):n._root}function _H(n,t){(n=(0,Oe.Ku)(n))._checkNotDeleted("refFromURL");const e=fF(t,n._repo.repoInfo_.nodeAdmin);tH("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&UA("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),gH(n,e.path.toString())}function Jv(n,t){return null===Oo((n=(0,Oe.Ku)(n))._path)?u0e("child","path",t,!1):hE("child","path",t,!1),new Xp(n._repo,Ya(n._path,t))}function mF(n,t){n=(0,Oe.Ku)(n),$p("set",n._path),jA("set",t,n._path,!1);const e=new Oe.cY;return cF(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function F0e(n,t){eH("update",t,n._path,!1);const e=new Oe.cY;return function _0e(n,t,e,i){Ub(n,"update",{path:t.toString(),value:e});let r=!0;const o=pE(n),s={};if(su(e,(c,u)=>{r=!1,s[c]=XG(Ya(t,c),hl(u),n.serverSyncTree_,o)}),r)ou("update() called with empty data.  Don't do anything."),a_(0,i,"ok",void 0);else{const c=IS(n),u=function Gye(n,t,e,i){!function aye(n,t,e,i){(0,Oe.vA)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=UO(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=Sa.fromObject(e);return Nb(n,new Fb({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,s,c);CS(n.eventQueue_,u),n.server_.merge(t.toString(),e,(g,w)=>{const T="ok"===g;T||ad("update at "+t+" failed: "+g);const F=s_(n.serverSyncTree_,c,!T),H=F.length>0?Vb(n,t):t;Jh(n.eventQueue_,H,F),a_(0,i,g,w)}),su(e,g=>{const w=hF(n,Ya(t,g));Vb(n,w)}),Jh(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function L0e(n){n=(0,Oe.Ku)(n);const t=new AF(()=>{}),e=new fE(t);return function g0e(n,t,e){const i=function $ye(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(g,w)=>{const T=Vd(g,e);i=i||r_(w,T)});let r=n.syncPointTree_.get(e);r?i=i||r_(r,_s()):(r=new UG,n.syncPointTree_=n.syncPointTree_.set(e,r));const o=null!=i,s=o?new n_(i,!0,!1):null;return function Mye(n){return dS(n.viewCache_)}(VG(r,t,hS(n.pendingWriteTree_,t._path),o?s.getNode():fo.EMPTY_NODE,o))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const o=hl(r).withIndex(t._queryParams.getIndex());let s;if($O(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())s=oE(n.serverSyncTree_,t._path,o);else{const c=sE(n.serverSyncTree_,t);s=HG(n.serverSyncTree_,t._path,o,c)}return Jh(n.eventQueue_,t._path,s),vS(n.serverSyncTree_,t,e,null,!0),o},r=>(Ub(n,"get for query "+(0,Oe.As)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new Zv(i,new Xp(n._repo,n._path),n._queryParams.getIndex()))}class fE{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new fH("value",this,new Zv(t.snapshotNode,new Xp(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new AH(this,t,e):null}matches(t){return t instanceof fE&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class RS{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new AH(this,t,e):null}createEvent(t,e){(0,Oe.vA)(null!=t.childName,"Child events should have a childName.");const i=Jv(new Xp(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new fH(t.type,this,new Zv(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof RS&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function AE(n,t,e,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const u=e,g=(w,T)=>{uF(n._repo,n,c),u(w,T)};g.userCallback=e.userCallback,g.context=e.context,e=g}const s=new AF(e,o||void 0),c="value"===t?new fE(s):new RS(t,s);return function x0e(n,t,e){let i;i=".info"===Oo(t._path)?$O(n.infoSyncTree_,t,e):$O(n.serverSyncTree_,t,e),nH(n.eventQueue_,t._path,i)}(n._repo,n,c),()=>uF(n._repo,n,c)}function gF(n,t,e,i){return AE(n,"value",t,e,i)}function vH(n,t,e,i){return AE(n,"child_added",t,e,i)}function yH(n,t,e,i){return AE(n,"child_changed",t,e,i)}function bH(n,t,e,i){return AE(n,"child_moved",t,e,i)}function wH(n,t,e,i){return AE(n,"child_removed",t,e,i)}function xH(n,t,e){let i=null;const r=e?new AF(e):null;"value"===t?i=new fE(r):t&&(i=new RS(t,r)),uF(n._repo,n,i)}class tA{}class EH extends tA{constructor(t,e){super(),this._value=t,this._key=e,this.type="endAt"}_apply(t){jA("endAt",this._value,t._path,!0);const e=MO(t._queryParams,this._value,this._key);if(DS(e),l_(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new vh(t._repo,t._path,e,t._orderByCalled)}}class U0e extends tA{constructor(t,e){super(),this._value=t,this._key=e,this.type="endBefore"}_apply(t){jA("endBefore",this._value,t._path,!1);const e=function Wve(n,t,e){let i;return i=MO(n,t,n.index_===VA||e?e:Jg),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(DS(e),l_(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new vh(t._repo,t._path,e,t._orderByCalled)}}class CH extends tA{constructor(t,e){super(),this._value=t,this._key=e,this.type="startAt"}_apply(t){jA("startAt",this._value,t._path,!0);const e=RO(t._queryParams,this._value,this._key);if(DS(e),l_(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new vh(t._repo,t._path,e,t._orderByCalled)}}class j0e extends tA{constructor(t,e){super(),this._value=t,this._key=e,this.type="startAfter"}_apply(t){jA("startAfter",this._value,t._path,!1);const e=function Kve(n,t,e){let i;return i=RO(n,t,n.index_===VA||e?e:qm),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(DS(e),l_(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new vh(t._repo,t._path,e,t._orderByCalled)}}class G0e extends tA{constructor(t){super(),this._limit=t,this.type="limitToFirst"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new vh(t._repo,t._path,function Hve(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class q0e extends tA{constructor(t){super(),this._limit=t,this.type="limitToLast"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new vh(t._repo,t._path,function qve(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class W0e extends tA{constructor(t){super(),this._path=t,this.type="orderByChild"}_apply(t){kS(t,"orderByChild");const e=new Ns(this._path);if(Fo(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new SO(e),r=sS(t._queryParams,i);return l_(r),new vh(t._repo,t._path,r,!0)}}class X0e extends tA{constructor(){super(...arguments),this.type="orderByKey"}_apply(t){kS(t,"orderByKey");const e=sS(t._queryParams,VA);return l_(e),new vh(t._repo,t._path,e,!0)}}class Z0e extends tA{constructor(){super(...arguments),this.type="orderByPriority"}_apply(t){kS(t,"orderByPriority");const e=sS(t._queryParams,Ta);return l_(e),new vh(t._repo,t._path,e,!0)}}class ebe extends tA{constructor(){super(...arguments),this.type="orderByValue"}_apply(t){kS(t,"orderByValue");const e=sS(t._queryParams,kO);return l_(e),new vh(t._repo,t._path,e,!0)}}class nbe extends tA{constructor(t,e){super(),this._value=t,this._key=e,this.type="equalTo"}_apply(t){if(jA("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new EH(this._value,this._key)._apply(new CH(this._value,this._key)._apply(t))}}function nA(n,...t){let e=(0,Oe.Ku)(n);for(const i of t)e=i._apply(e);return e}(function Fye(n){(0,Oe.vA)(!mS,"__referenceConstructor has already been defined"),mS=n})(Xp),function Qye(n){(0,Oe.vA)(!_S,"__referenceConstructor has already been defined"),_S=n}(Xp);const _F={};function vF(n,t,e,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||UA("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ou("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let u,g,s=fF(o,r),c=s.repoInfo;typeof process<"u"&&process.env&&(g=process.env.FIREBASE_DATABASE_EMULATOR_HOST),g?(u=!0,o=`http://${g}?ns=${c.namespace}`,s=fF(o,r),c=s.repoInfo):u=!s.repoInfo.secure;const w=r&&u?new Kx(Kx.OWNER):new Y_e(n.name,n.options,t);tH("Invalid Firebase Database URL",s),Fo(s.path)||UA("Database URL must point to the root of a Firebase Database (not including a child path).");const T=function abe(n,t,e,i){let r=_F[t.name];r||(r={},_F[t.name]=r);let o=r[n.toURLString()];return o&&UA("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new f0e(n,false,e,i),r[n.toURLString()]=o,o}(c,n,w,new X_e(n.name,e));return new cbe(T,n)}class cbe{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function A0e(n,t,e){if(n.stats_=vO(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new aS(n.repoInfo_,(i,r,o,s)=>{sH(n,i,r,o,s)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>aH(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Oe.As)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Kv(n.repoInfo_,t,(i,r,o,s)=>{sH(n,i,r,o,s)},i=>{aH(n,i)},i=>{!function m0e(n,t){su(t,(e,i)=>{lF(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function eve(n,t){const e=n.toString();return _O[e]||(_O[e]=t()),_O[e]}(n.repoInfo_,()=>new eye(n.stats_,n.server_)),n.infoData_=new $ve,n.infoSyncTree_=new GG({startListening:(i,r,o,s)=>{let c=[];const u=n.infoData_.getNode(i._path);return u.isEmpty()||(c=oE(n.infoSyncTree_,i._path,u),setTimeout(()=>{s("ok")},0)),c},stopListening:()=>{}}),lF(n,"connected",!1),n.serverSyncTree_=new GG({startListening:(i,r,o,s)=>(n.server_.listen(i,o,r,(c,u)=>{const g=s(c,u);Jh(n.eventQueue_,i._path,g)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Xp(this._repo,_s())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function sbe(n,t){const e=_F[t];(!e||e[n.key]!==n)&&UA(`Database ${t}(${n.repoInfo_}) has already been deleted.`),cH(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&UA("Cannot call "+t+" on a deleted database.")}}function TH(){X7.IS_TRANSPORT_INITIALIZED&&ad("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function ube(){TH(),e_.forceDisallow()}function dbe(){TH(),Rb.forceDisallow(),e_.forceAllow()}function fbe(n,t){D7(n,t)}const mbe={".sv":"timestamp"};class vbe{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Kv.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Kv.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function Abe(n){dO(gh.SDK_VERSION),(0,gh._registerComponent)(new Zf.uA("database",(t,{instanceIdentifier:e})=>vF(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,gh.registerVersion)(E7,"1.0.7",n),(0,gh.registerVersion)(E7,"1.0.7","esm2017")}();const xbe=new Zh.Vy("@firebase/database-compat"),kH=function(n){xbe.warn("FIREBASE WARNING: "+n)};class Ibe{constructor(t){this._delegate=t}cancel(t){(0,Oe.od)("OnDisconnect.cancel",0,1,arguments.length),(0,Oe.oD)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,Oe.od)("OnDisconnect.remove",0,1,arguments.length),(0,Oe.oD)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,Oe.od)("OnDisconnect.set",1,2,arguments.length),(0,Oe.oD)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,Oe.od)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,Oe.oD)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,e){if((0,Oe.od)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,kH("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,Oe.oD)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class Tbe{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,Oe.od)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class c_{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,Oe.od)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,Oe.od)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,Oe.od)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,Oe.od)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,Oe.od)("DataSnapshot.child",0,1,arguments.length),t=String(t),hE("DataSnapshot.child","path",t,!1),new c_(this._database,this._delegate.child(t))}hasChild(t){return(0,Oe.od)("DataSnapshot.hasChild",1,1,arguments.length),hE("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,Oe.od)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,Oe.od)("DataSnapshot.forEach",1,1,arguments.length),(0,Oe.oD)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new c_(this._database,e)))}hasChildren(){return(0,Oe.od)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,Oe.od)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,Oe.od)("DataSnapshot.ref",0,0,arguments.length),new ep(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Mu{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var o;(0,Oe.od)("Query.on",2,4,arguments.length),(0,Oe.oD)("Query.on","callback",e,!1);const s=Mu.getCancelAndContextArgs_("Query.on",i,r),c=(g,w)=>{e.call(s.context,new c_(this.database,g),w)};c.userCallback=e,c.context=s.context;const u=null===(o=s.cancel)||void 0===o?void 0:o.bind(s.context);switch(t){case"value":return gF(this._delegate,c,u),e;case"child_added":return vH(this._delegate,c,u),e;case"child_removed":return wH(this._delegate,c,u),e;case"child_changed":return yH(this._delegate,c,u),e;case"child_moved":return bH(this._delegate,c,u),e;default:throw new Error((0,Oe.dI)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,Oe.od)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,Oe.dI)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,Oe.oD)("Query.off","callback",e,!0),(0,Oe.HN)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,xH(this._delegate,t,r)}else xH(this._delegate,t)}get(){return L0e(this._delegate).then(t=>new c_(this.database,t))}once(t,e,i,r){(0,Oe.od)("Query.once",1,4,arguments.length),(0,Oe.oD)("Query.once","callback",e,!0);const o=Mu.getCancelAndContextArgs_("Query.once",i,r),s=new Oe.cY,c=(g,w)=>{const T=new c_(this.database,g);e&&e.call(o.context,T,w),s.resolve(T)};c.userCallback=e,c.context=o.context;const u=g=>{o.cancel&&o.cancel.call(o.context,g),s.reject(g)};switch(t){case"value":gF(this._delegate,c,u,{onlyOnce:!0});break;case"child_added":vH(this._delegate,c,u,{onlyOnce:!0});break;case"child_removed":wH(this._delegate,c,u,{onlyOnce:!0});break;case"child_changed":yH(this._delegate,c,u,{onlyOnce:!0});break;case"child_moved":bH(this._delegate,c,u,{onlyOnce:!0});break;default:throw new Error((0,Oe.dI)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(t){return(0,Oe.od)("Query.limitToFirst",1,1,arguments.length),new Mu(this.database,nA(this._delegate,function H0e(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new G0e(n)}(t)))}limitToLast(t){return(0,Oe.od)("Query.limitToLast",1,1,arguments.length),new Mu(this.database,nA(this._delegate,function K0e(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new q0e(n)}(t)))}orderByChild(t){return(0,Oe.od)("Query.orderByChild",1,1,arguments.length),new Mu(this.database,nA(this._delegate,function $0e(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return hE("orderByChild","path",n,!1),new W0e(n)}(t)))}orderByKey(){return(0,Oe.od)("Query.orderByKey",0,0,arguments.length),new Mu(this.database,nA(this._delegate,function Y0e(){return new X0e}()))}orderByPriority(){return(0,Oe.od)("Query.orderByPriority",0,0,arguments.length),new Mu(this.database,nA(this._delegate,function J0e(){return new Z0e}()))}orderByValue(){return(0,Oe.od)("Query.orderByValue",0,0,arguments.length),new Mu(this.database,nA(this._delegate,function tbe(){return new ebe}()))}startAt(t=null,e){return(0,Oe.od)("Query.startAt",0,2,arguments.length),new Mu(this.database,nA(this._delegate,function Q0e(n=null,t){return dE("startAt","key",t,!0),new CH(n,t)}(t,e)))}startAfter(t=null,e){return(0,Oe.od)("Query.startAfter",0,2,arguments.length),new Mu(this.database,nA(this._delegate,function z0e(n,t){return dE("startAfter","key",t,!0),new j0e(n,t)}(t,e)))}endAt(t=null,e){return(0,Oe.od)("Query.endAt",0,2,arguments.length),new Mu(this.database,nA(this._delegate,function N0e(n,t){return dE("endAt","key",t,!0),new EH(n,t)}(t,e)))}endBefore(t=null,e){return(0,Oe.od)("Query.endBefore",0,2,arguments.length),new Mu(this.database,nA(this._delegate,function V0e(n,t){return dE("endBefore","key",t,!0),new U0e(n,t)}(t,e)))}equalTo(t,e){return(0,Oe.od)("Query.equalTo",1,2,arguments.length),new Mu(this.database,nA(this._delegate,function ibe(n,t){return dE("equalTo","key",t,!0),new nbe(n,t)}(t,e)))}toString(){return(0,Oe.od)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,Oe.od)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,Oe.od)("Query.isEqual",1,1,arguments.length),!(t instanceof Mu))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,Oe.oD)(t,"cancel",r.cancel,!0),r.context=i,(0,Oe.HN)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,Oe.dI)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new ep(this.database,new Xp(this._delegate._repo,this._delegate._path))}}class ep extends Mu{constructor(t,e){super(t,new vh(e._repo,e._path,new oS,!1)),this.database=t,this._delegate=e}getKey(){return(0,Oe.od)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,Oe.od)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new ep(this.database,Jv(this._delegate,t))}getParent(){(0,Oe.od)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new ep(this.database,t):null}getRoot(){return(0,Oe.od)("Reference.root",0,0,arguments.length),new ep(this.database,this._delegate.root)}set(t,e){(0,Oe.od)("Reference.set",1,2,arguments.length),(0,Oe.oD)("Reference.set","onComplete",e,!0);const i=mF(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,Oe.od)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,kH("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}$p("Reference.update",this._delegate._path),(0,Oe.oD)("Reference.update","onComplete",e,!0);const i=F0e(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,Oe.od)("Reference.setWithPriority",2,3,arguments.length),(0,Oe.oD)("Reference.setWithPriority","onComplete",i,!0);const r=function O0e(n,t,e){if($p("setWithPriority",n._path),jA("setWithPriority",t,n._path,!1),aF("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new Oe.cY;return cF(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){(0,Oe.od)("Reference.remove",0,1,arguments.length),(0,Oe.oD)("Reference.remove","onComplete",t,!0);const e=function B0e(n){return $p("remove",n._path),mF(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,Oe.od)("Reference.transaction",1,3,arguments.length),(0,Oe.oD)("Reference.transaction","transactionUpdate",t,!1),(0,Oe.oD)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,Oe.dI)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function ybe(n,t,e){var i;if(n=(0,Oe.Ku)(n),$p("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,o=new Oe.cY,c=gF(n,()=>{});return function C0e(n,t,e,i,r,o){Ub(n,"transaction on "+t);const s={path:t,update:e,onComplete:i,status:null,order:T7(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=dF(n,t,void 0);s.currentInputSnapshot=c;const u=s.update(c.val());if(void 0===u)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{uE("transaction failed: Data returned ",u,s.path),s.status=0;const g=wS(n.transactionQueueTree_,t),w=Yv(g)||[];let T;w.push(s),rF(g,w),"object"==typeof u&&null!==u&&(0,Oe.gR)(u,".priority")?(T=(0,Oe.yw)(u,".priority"),(0,Oe.vA)(cE(T),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):T=(yS(n.serverSyncTree_,t)||fo.EMPTY_NODE).getPriority().val();const F=pE(n),H=hl(u,T),ee=tF(H,c,F);s.currentOutputSnapshotRaw=H,s.currentOutputSnapshotResolved=ee,s.currentWriteId=IS(n);const Ae=WO(n.serverSyncTree_,t,ee,s.currentWriteId,s.applyLocally);Jh(n.eventQueue_,t,Ae),TS(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(u,g,w)=>{let T=null;u?o.reject(u):(T=new Zv(w,new Xp(n._repo,n._path),Ta),o.resolve(new vbe(g,T)))},c,r),o.promise}(this._delegate,t,{applyLocally:i}).then(o=>new Tbe(o.committed,new c_(this.database,o.snapshot)));return e&&r.then(o=>e(null,o.committed,o.snapshot),o=>e(o,!1,null)),r}setPriority(t,e){(0,Oe.od)("Reference.setPriority",1,2,arguments.length),(0,Oe.oD)("Reference.setPriority","onComplete",e,!0);const i=function P0e(n,t){n=(0,Oe.Ku)(n),$p("setPriority",n._path),aF("setPriority",t,!1);const e=new Oe.cY;return cF(n._repo,Ya(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,Oe.od)("Reference.push",0,2,arguments.length),(0,Oe.oD)("Reference.push","onComplete",e,!0);const i=function M0e(n,t){n=(0,Oe.Ku)(n),$p("push",n._path),jA("push",t,n._path,!0);const e=oH(n._repo),i=R0e(e),r=Jv(n,i),o=Jv(n,i);let s;return s=null!=t?mF(o,t).then(()=>o):Promise.resolve(o),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),r}(this._delegate,t),r=i.then(s=>new ep(this.database,s));e&&r.then(()=>e(null),s=>e(s));const o=new ep(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return $p("Reference.onDisconnect",this._delegate._path),new Ibe(new mH(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class mE{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:ube,forceLongPolling:dbe}}useEmulator(t,e,i={}){!function SH(n,t,e,i={}){(n=(0,Oe.Ku)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&UA("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&UA('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Kx(Kx.OWNER);else if(i.mockUserToken){const s="string"==typeof i.mockUserToken?i.mockUserToken:(0,Oe.Fy)(i.mockUserToken,n.app.options.projectId);o=new Kx(s)}!function obe(n,t,e,i){n.repoInfo_=new mO(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,t,e,o)}(this._delegate,t,e,i)}ref(t){if((0,Oe.od)("database.ref",0,1,arguments.length),t instanceof ep){const e=_H(this._delegate,t.toString());return new ep(this,e)}{const e=gH(this._delegate,t);return new ep(this,e)}}refFromURL(t){(0,Oe.od)("database.refFromURL",1,1,arguments.length);const i=_H(this._delegate,t);return new ep(this,i)}goOffline(){return(0,Oe.od)("database.goOffline",0,0,arguments.length),function hbe(n){(n=(0,Oe.Ku)(n))._checkNotDeleted("goOffline"),cH(n._repo)}(this._delegate)}goOnline(){return(0,Oe.od)("database.goOnline",0,0,arguments.length),function pbe(n){(n=(0,Oe.Ku)(n))._checkNotDeleted("goOnline"),function E0e(n){n.persistentConnection_&&n.persistentConnection_.resume(rH)}(n._repo)}(this._delegate)}}mE.ServerValue={TIMESTAMP:function gbe(){return mbe}(),increment:n=>function _be(n){return{".sv":{increment:n}}}(n)};var kbe=Object.freeze({__proto__:null,initStandalone:function Sbe({app:n,url:t,version:e,customAuthImpl:i,customAppCheckImpl:r,namespace:o,nodeAdmin:s=!1}){dO(e);const c=new Zf.h1("database-standalone"),u=new Zf.Kq("auth-internal",c);let g;return u.setComponent(new Zf.uA("auth-internal",()=>i,"PRIVATE")),r&&(g=new Zf.Kq("app-check-internal",c),g.setComponent(new Zf.uA("app-check-internal",()=>r,"PRIVATE"))),{instance:new mE(vF(n,u,g,t,s),n),namespace:o}}});const Dbe=mE.ServerValue;function gE(n,t,e="on",i=Qv){return new pr(r=>{let o=null;return o=n[e](t,(s,c)=>{i.schedule(()=>{r.next({snapshot:s,prevKey:c})}),"once"===e&&i.schedule(()=>r.complete())},s=>{i.schedule(()=>r.error(s))}),"on"===e?{unsubscribe(){null!=o&&n.off(t,o)}}:{unsubscribe(){}}}).pipe(We(r=>{const{snapshot:o,prevKey:s}=r;let c=null;return o.exists()&&(c=o.key),{type:t,payload:o,prevKey:s,key:c}}),JP())}function DH(n){return null==n}function RH(n){return"function"==typeof n.set}function MH(n,t){return RH(t)?t:n.ref(t)}function BH(n,t){if(function Mbe(n){return"string"==typeof n}(n))return t.stringCase();if(RH(n))return t.firebaseCase();if(function Bbe(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function PH(n){return(DH(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function OH(n,t,e){return Yf(...(t=PH(t)).map(r=>gE(n,r,"on",e)))}function FH(n,t){return function(i,r){return BH(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function Lbe(n){return function(e){return e?BH(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function LH(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function Vbe(n,t){const{payload:e,prevKey:i,key:r}=t,o=LH(n,r),s=function Ube(n,t){if(DH(t))return 0;{const e=LH(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload?.exists()){let c=null;t.payload.forEach(u=>{const g={payload:u,type:"value",prevKey:c,key:u.key};return c=u.key,n=[...n,g],!1})}return n;case"child_added":if(o>-1)(n[o-1]?.key||null)!==i&&(n=n.filter(u=>u.payload.key!==e.key)).splice(s,0,t);else{if(null==i)return[t,...n];(n=n.slice()).splice(s,0,t)}return n;case"child_removed":return n.filter(c=>c.payload.key!==e.key);case"child_changed":return n.map(c=>c.payload.key===r?t:c);case"child_moved":if(o>-1){const c=n.splice(o,1)[0];return(n=n.slice()).splice(s,0,c),n}return n;default:return n}}function NH(n,t,e){return function Nbe(n,t,e){return gE(n,"value","once",e).pipe(pa(i=>{const r=[Xi(i)];return t.forEach(o=>r.push(gE(n,o,"on",e))),Yf(...r).pipe(ab(Vbe,[]))}),cO())}(n,t=PH(t),e)}function UH(n,t){return function(){return gE(n,"value","on",t)}}!function Rbe(n){n.INTERNAL.registerComponent(new Zf.uA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new mE(r,i)},"PUBLIC").setServiceProps({Reference:ep,Query:Mu,Database:mE,DataSnapshot:c_,enableLogging:fbe,INTERNAL:kbe,ServerValue:Dbe}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","1.0.7")}(Xf.A);const zbe=new Wt("angularfire2.realtimeDatabaseURL"),Gbe=new Wt("angularfire2.database.use-emulator");let _E=(()=>{class n{schedulers;database;constructor(e,i,r,o,s,c,u,g,w,T,F,H,ee,Ae,xe){this.schedulers=c;const et=u,Ye=jx(e,s,i);g&&aO(Ye,s,w,F,H,ee,T,Ae),this.database=XT(`${Ye.name}.database.${r}`,"AngularFireDatabase",Ye.name,()=>{const yt=s.runOutsideAngular(()=>Ye.database(r||void 0));return et&&yt.useEmulator(...et),yt},[et])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>MH(this.database,e));let o=r;return i&&(o=i(r)),function Qbe(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:FH(i,"update"),set:FH(i,"set"),push:r=>i.push(r),remove:Lbe(i),snapshotChanges:r=>NH(n,r,e).pipe(Kl),stateChanges:r=>OH(n,r,e).pipe(Kl),auditTrail:r=>function Pbe(n,t,e){return function Fbe(n,t,e){return function Obe(n,t){return gE(n,"value","on",t).pipe(We(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function O_e(...n){const t=KB(n);return Qe((e,i)=>{const r=n.length,o=new Array(r);let s=n.map(()=>!1),c=!1;for(let u=0;u<r;u++)iu(n[u]).subscribe(ge(i,g=>{o[u]=g,!c&&!s[u]&&(s[u]=!0,(c=s.every(To))&&(s=null))},Pr));e.subscribe(ge(i,u=>{if(c){const g=[u,...o];i.next(t?t(...g):g)}}))})}(t),We(([r,o])=>{const s=r.lastKeyToLoad,c=o.map(u=>u.key);return{actions:o,lastKeyToLoad:s,loadedKeys:c}}),function F_e(n){return Qe((t,e)=>{let i=!1,r=0;t.subscribe(ge(e,o=>(i||(i=!n(o,r++)))&&e.next(o)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),We(r=>r.actions))}(n,OH(n,t).pipe(ab((r,o)=>[...r,o],[])),e)}(n,r,e).pipe(Kl),valueChanges:(r,o)=>NH(n,r,e).pipe(We(c=>c.map(u=>o&&o.idField?{...u.payload.val(),[o.idField]:u.key}:u.payload.val())),Kl)}}(o,this)}object(e){return function jbe(n,t){return{query:n,snapshotChanges:()=>UH(n,t.schedulers.outsideAngular)().pipe(Kl),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>UH(n,t.schedulers.outsideAngular)().pipe(Kl,We(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>MH(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(i){return new(i||n)(Ct(Tb),Ct(Sb,8),Ct(zbe,8),Ct(Pa),Ct(Ri),Ct($T),Ct(Gbe,8),Ct(lO,8),Ct(tO,8),Ct(nO,8),Ct(iO,8),Ct(rO,8),Ct(oO,8),Ct(sO,8),Ct(WT,8))};static \u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();const Hbe={provide:ql,useExisting:Ir(()=>jH),multi:!0},VH={pint:/^[\d]*$/,int:/^[-]?[\d]*$/,pnum:/^[\d\.]*$/,money:/^[\d\.\s,]*$/,num:/^[-]?[\d\.]*$/,hex:/^[0-9a-f]*$/i,email:/^[a-z0-9_\.\-@]*$/i,alpha:/^[a-z_]*$/i,alphanum:/^[a-z0-9_]*$/i},QH={63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35};let jH=(()=>{class n{document;platformId;el;pValidateOnly;set pattern(e){this._pattern=e,this.regex=e instanceof RegExp?e:e in VH?VH[e]:/./}get pattern(){return this._pattern}ngModelChange=new ni;regex=/./;_pattern;isAndroid;lastValue;constructor(e,i,r){this.document=e,this.platformId=i,this.el=r,this.isAndroid=!!Du(this.platformId)&&_n.isAndroid()}isNavKeyPress(e){let i=e.keyCode;return i=_n.getBrowser().safari&&QH[i]||i,i>=33&&i<=40||13==i||9==i||27==i}isSpecialKey(e){let i=e.keyCode||e.charCode;return 9==i||13==i||27==i||16==i||17==i||i>=18&&i<=20||_n.getBrowser().opera&&!e.shiftKey&&(8==i||i>=33&&i<=35||i>=36&&i<=39||i>=44&&i<=45)}getKey(e){let i=e.keyCode||e.charCode;return _n.getBrowser().safari&&QH[i]||i}getCharCode(e){return e.charCode||e.keyCode||e.which}findDelta(e,i){let r="";for(let o=0;o<e.length;o++)e.substr(0,o)+e.substr(o+e.length-i.length)===i&&(r=e.substr(o,e.length-i.length));return r}isValidChar(e){return this.regex.test(e)}isValidString(e){for(let i=0;i<e.length;i++)if(!this.isValidChar(e.substr(i,1)))return!1;return!0}onInput(e){if(this.isAndroid&&!this.pValidateOnly){let i=this.el.nativeElement.value,r=this.lastValue||"",o=this.findDelta(i,r),s=this.findDelta(r,i);o.length>1||!o&&!s?this.isValidString(i)||(this.el.nativeElement.value=r,this.ngModelChange.emit(r)):s||this.isValidChar(o)||(this.el.nativeElement.value=r,this.ngModelChange.emit(r)),i=this.el.nativeElement.value,this.isValidString(i)&&(this.lastValue=i)}}onKeyPress(e){if(this.isAndroid||this.pValidateOnly)return;let i=_n.getBrowser(),r=this.getKey(e);if(i.mozilla&&(e.ctrlKey||e.altKey))return;if(17==r||18==r||13==r)return;let o=this.getCharCode(e),s=String.fromCharCode(o),c=!0;if(!i.mozilla&&(this.isSpecialKey(e)||!s))return;let u=this.el.nativeElement.value||"";const w=e.currentTarget.selectionEnd||0;let T=u.substring(0,e.currentTarget.selectionStart||0)+s+u.substring(w);c=this.regex.test(T),c||e.preventDefault()}onPaste(e){const i=e.clipboardData||this.document.defaultView.clipboardData.getData("text");if(i){let r=/\{[0-9]+\}/;const o=i.getData("text");if(r.test(this.regex.toString())){if(!this.regex.test(o))return void e.preventDefault()}else for(let s of o.toString())if(!this.regex.test(s))return void e.preventDefault()}}validate(e){if(this.pValidateOnly){let i=this.el.nativeElement.value;if(i&&!this.regex.test(i))return{validatePattern:!1}}}static \u0275fac=function(i){return new(i||n)(Re(Rr),Re(Pa),Re(or))};static \u0275dir=zn({type:n,selectors:[["","pKeyFilter",""]],hostAttrs:[1,"p-element"],hostBindings:function(i,r){1&i&&Hn("input",function(s){return r.onInput(s)})("keypress",function(s){return r.onKeyPress(s)})("paste",function(s){return r.onPaste(s)})},inputs:{pValidateOnly:[2,"pValidateOnly","pValidateOnly",xn],pattern:[0,"pKeyFilter","pattern"]},outputs:{ngModelChange:"ngModelChange"},features:[Vr([Hbe]),ao]})}return n})(),qbe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=bi({type:n});static \u0275inj=di({imports:[Gs]})}return n})(),ey=(()=>{class n extends mh{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fi(n)))(r||n)}})();static \u0275cmp=Ii({type:n,selectors:[["CheckIcon"]],standalone:!0,features:[cr,vo],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(i,r){1&i&&(wa(),$e(0,"svg",0),Pn(1,"path",1),rt()),2&i&&(jr(r.getClassNames()),Qt("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})(),bF=(()=>{class n extends mh{pathId;ngOnInit(){this.pathId="url(#"+Ru()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fi(n)))(r||n)}})();static \u0275cmp=Ii({type:n,selectors:[["ExclamationTriangleIcon"]],standalone:!0,features:[cr,vo],decls:8,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.4018 13.1893H0.598161C0.49329 13.189 0.390283 13.1615 0.299143 13.1097C0.208003 13.0578 0.131826 12.9832 0.0780112 12.8932C0.0268539 12.8015 0 12.6982 0 12.5931C0 12.4881 0.0268539 12.3848 0.0780112 12.293L6.47985 1.08982C6.53679 1.00399 6.61408 0.933574 6.70484 0.884867C6.7956 0.836159 6.897 0.810669 7 0.810669C7.103 0.810669 7.2044 0.836159 7.29516 0.884867C7.38592 0.933574 7.46321 1.00399 7.52015 1.08982L13.922 12.293C13.9731 12.3848 14 12.4881 14 12.5931C14 12.6982 13.9731 12.8015 13.922 12.8932C13.8682 12.9832 13.792 13.0578 13.7009 13.1097C13.6097 13.1615 13.5067 13.189 13.4018 13.1893ZM1.63046 11.989H12.3695L7 2.59425L1.63046 11.989Z","fill","currentColor"],["d","M6.99996 8.78801C6.84143 8.78594 6.68997 8.72204 6.57787 8.60993C6.46576 8.49782 6.40186 8.34637 6.39979 8.18784V5.38703C6.39979 5.22786 6.46302 5.0752 6.57557 4.96265C6.68813 4.85009 6.84078 4.78686 6.99996 4.78686C7.15914 4.78686 7.31179 4.85009 7.42435 4.96265C7.5369 5.0752 7.60013 5.22786 7.60013 5.38703V8.18784C7.59806 8.34637 7.53416 8.49782 7.42205 8.60993C7.30995 8.72204 7.15849 8.78594 6.99996 8.78801Z","fill","currentColor"],["d","M6.99996 11.1887C6.84143 11.1866 6.68997 11.1227 6.57787 11.0106C6.46576 10.8985 6.40186 10.7471 6.39979 10.5885V10.1884C6.39979 10.0292 6.46302 9.87658 6.57557 9.76403C6.68813 9.65147 6.84078 9.58824 6.99996 9.58824C7.15914 9.58824 7.31179 9.65147 7.42435 9.76403C7.5369 9.87658 7.60013 10.0292 7.60013 10.1884V10.5885C7.59806 10.7471 7.53416 10.8985 7.42205 11.0106C7.30995 11.1227 7.15849 11.1866 6.99996 11.1887Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){1&i&&(wa(),$e(0,"svg",0)(1,"g"),Pn(2,"path",1)(3,"path",2)(4,"path",3),rt(),$e(5,"defs")(6,"clipPath",4),Pn(7,"rect",5),rt()()()),2&i&&(jr(r.getClassNames()),Qt("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),Ie(),Qt("clip-path",r.pathId),Ie(5),be("id",r.pathId))},encapsulation:2})}return n})(),wF=(()=>{class n extends mh{pathId;ngOnInit(){this.pathId="url(#"+Ru()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fi(n)))(r||n)}})();static \u0275cmp=Ii({type:n,selectors:[["InfoCircleIcon"]],standalone:!0,features:[cr,vo],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M3.11101 12.8203C4.26215 13.5895 5.61553 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.61553 13.5895 4.26215 12.8203 3.11101C12.0511 1.95987 10.9579 1.06266 9.67879 0.532846C8.3997 0.00303296 6.99224 -0.13559 5.63437 0.134506C4.2765 0.404603 3.02922 1.07129 2.05026 2.05026C1.07129 3.02922 0.404603 4.2765 0.134506 5.63437C-0.13559 6.99224 0.00303296 8.3997 0.532846 9.67879C1.06266 10.9579 1.95987 12.0511 3.11101 12.8203ZM3.75918 2.14976C4.71846 1.50879 5.84628 1.16667 7 1.16667C8.5471 1.16667 10.0308 1.78125 11.1248 2.87521C12.2188 3.96918 12.8333 5.45291 12.8333 7C12.8333 8.15373 12.4912 9.28154 11.8502 10.2408C11.2093 11.2001 10.2982 11.9478 9.23232 12.3893C8.16642 12.8308 6.99353 12.9463 5.86198 12.7212C4.73042 12.4962 3.69102 11.9406 2.87521 11.1248C2.05941 10.309 1.50384 9.26958 1.27876 8.13803C1.05367 7.00647 1.16919 5.83358 1.61071 4.76768C2.05222 3.70178 2.79989 2.79074 3.75918 2.14976ZM7.00002 4.8611C6.84594 4.85908 6.69873 4.79698 6.58977 4.68801C6.48081 4.57905 6.4187 4.43185 6.41669 4.27776V3.88888C6.41669 3.73417 6.47815 3.58579 6.58754 3.4764C6.69694 3.367 6.84531 3.30554 7.00002 3.30554C7.15473 3.30554 7.3031 3.367 7.4125 3.4764C7.52189 3.58579 7.58335 3.73417 7.58335 3.88888V4.27776C7.58134 4.43185 7.51923 4.57905 7.41027 4.68801C7.30131 4.79698 7.1541 4.85908 7.00002 4.8611ZM7.00002 10.6945C6.84594 10.6925 6.69873 10.6304 6.58977 10.5214C6.48081 10.4124 6.4187 10.2652 6.41669 10.1111V6.22225C6.41669 6.06754 6.47815 5.91917 6.58754 5.80977C6.69694 5.70037 6.84531 5.63892 7.00002 5.63892C7.15473 5.63892 7.3031 5.70037 7.4125 5.80977C7.52189 5.91917 7.58335 6.06754 7.58335 6.22225V10.1111C7.58134 10.2652 7.51923 10.4124 7.41027 10.5214C7.30131 10.6304 7.1541 10.6925 7.00002 10.6945Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){1&i&&(wa(),$e(0,"svg",0)(1,"g"),Pn(2,"path",1),rt(),$e(3,"defs")(4,"clipPath",2),Pn(5,"rect",3),rt()()()),2&i&&(jr(r.getClassNames()),Qt("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),Ie(),Qt("clip-path",r.pathId),Ie(3),be("id",r.pathId))},encapsulation:2})}return n})(),vE=(()=>{class n extends mh{pathId;ngOnInit(){this.pathId="url(#"+Ru()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fi(n)))(r||n)}})();static \u0275cmp=Ii({type:n,selectors:[["TimesCircleIcon"]],standalone:!0,features:[cr,vo],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){1&i&&(wa(),$e(0,"svg",0)(1,"g"),Pn(2,"path",1),rt(),$e(3,"defs")(4,"clipPath",2),Pn(5,"rect",3),rt()()()),2&i&&(jr(r.getClassNames()),Qt("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),Ie(),Qt("clip-path",r.pathId),Ie(3),be("id",r.pathId))},encapsulation:2})}return n})();const zH=["container"],Kbe=n=>[n,"p-toast-message"],Wbe=(n,t,e,i)=>({showTransformParams:n,hideTransformParams:t,showTransitionParams:e,hideTransitionParams:i}),$be=n=>({value:"visible",params:n}),Xbe=(n,t)=>({$implicit:n,closeFn:t}),Ybe=n=>({$implicit:n});function Zbe(n,t){1&n&&rs(0)}function Jbe(n,t){if(1&n&&(lo(0),Kt(1,Zbe,1,0,"ng-container",4),co()),2&n){const e=He();Ie(),be("ngTemplateOutlet",e.headlessTemplate)("ngTemplateOutletContext",Xa(2,Xbe,e.message,e.onCloseIconClick))}}function e1e(n,t){1&n&&Pn(0,"span"),2&n&&jr("p-toast-message-icon pi "+He(3).message.icon)}function t1e(n,t){1&n&&Pn(0,"CheckIcon"),2&n&&Qt("aria-hidden",!0)("data-pc-section","icon")}function n1e(n,t){1&n&&Pn(0,"InfoCircleIcon"),2&n&&Qt("aria-hidden",!0)("data-pc-section","icon")}function i1e(n,t){1&n&&Pn(0,"TimesCircleIcon"),2&n&&Qt("aria-hidden",!0)("data-pc-section","icon")}function r1e(n,t){1&n&&Pn(0,"ExclamationTriangleIcon"),2&n&&Qt("aria-hidden",!0)("data-pc-section","icon")}function o1e(n,t){if(1&n&&($e(0,"span",13),lo(1),Kt(2,t1e,1,2,"CheckIcon",6)(3,n1e,1,2,"InfoCircleIcon",6)(4,i1e,1,2,"TimesCircleIcon",6)(5,r1e,1,2,"ExclamationTriangleIcon",6),co(),rt()),2&n){const e=He(3);Qt("aria-hidden",!0)("data-pc-section","icon"),Ie(2),be("ngIf","success"===e.message.severity),Ie(),be("ngIf","info"===e.message.severity),Ie(),be("ngIf","error"===e.message.severity),Ie(),be("ngIf","warn"===e.message.severity)}}function s1e(n,t){if(1&n&&(lo(0),Kt(1,e1e,1,2,"span",8)(2,o1e,6,6,"span",9),$e(3,"div",10)(4,"div",11),$i(5),rt(),$e(6,"div",12),$i(7),rt()(),co()),2&n){const e=He(2);Ie(),be("ngIf",e.message.icon),Ie(),be("ngIf",!e.message.icon),Ie(),Qt("data-pc-section","text"),Ie(),Qt("data-pc-section","summary"),Ie(),Oa(e.message.summary),Ie(),Qt("data-pc-section","detail"),Ie(),Oa(e.message.detail)}}function a1e(n,t){1&n&&rs(0)}function l1e(n,t){1&n&&Pn(0,"span"),2&n&&jr("pt-1 text-base p-toast-message-icon pi "+He(3).message.closeIcon)}function c1e(n,t){1&n&&Pn(0,"TimesIcon",16),2&n&&(be("styleClass","p-toast-icon-close-icon"),Qt("aria-hidden",!0)("data-pc-section","closeicon"))}function u1e(n,t){if(1&n){const e=ur();$e(0,"button",14),Hn("click",function(r){return mn(e),pn(He(2).onCloseIconClick(r))})("keydown.enter",function(r){return mn(e),pn(He(2).onCloseIconClick(r))}),Kt(1,l1e,1,2,"span",8)(2,c1e,1,3,"TimesIcon",15),rt()}if(2&n){const e=He(2);Qt("aria-label",e.closeAriaLabel)("data-pc-section","closebutton"),Ie(),be("ngIf",e.message.closeIcon),Ie(),be("ngIf",!e.message.closeIcon)}}function d1e(n,t){if(1&n&&($e(0,"div",5),Kt(1,s1e,8,7,"ng-container",6)(2,a1e,1,0,"ng-container",4)(3,u1e,3,4,"button",7),rt()),2&n){const e=He();be("ngClass",null==e.message?null:e.message.contentStyleClass),Qt("data-pc-section","content"),Ie(),be("ngIf",!e.template),Ie(),be("ngTemplateOutlet",e.template)("ngTemplateOutletContext",gs(6,Ybe,e.message)),Ie(),be("ngIf",!1!==(null==e.message?null:e.message.closable))}}function h1e(n,t){if(1&n){const e=ur();$e(0,"p-toastItem",3),Hn("onClose",function(r){return mn(e),pn(He().onMessageClose(r))})("@toastAnimation.start",function(r){return mn(e),pn(He().onAnimationStart(r))})("@toastAnimation.done",function(r){return mn(e),pn(He().onAnimationEnd(r))}),rt()}if(2&n){const e=t.$implicit,i=t.index,r=He();be("message",e)("index",i)("life",r.life)("template",r.template)("headlessTemplate",r.headlessTemplate)("@toastAnimation",void 0)("showTransformOptions",r.showTransformOptions)("hideTransformOptions",r.hideTransformOptions)("showTransitionOptions",r.showTransitionOptions)("hideTransitionOptions",r.hideTransitionOptions)}}let p1e=(()=>{class n{zone;config;message;index;life;template;headlessTemplate;showTransformOptions;hideTransformOptions;showTransitionOptions;hideTransitionOptions;onClose=new ni;containerViewChild;timeout;constructor(e,i){this.zone=e,this.config=i}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message?.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message?.life||this.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick=e=>{this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),e.preventDefault()};get closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}ngOnDestroy(){this.clearTimeout()}static \u0275fac=function(i){return new(i||n)(Re(Ri),Re(Wf))};static \u0275cmp=Ii({type:n,selectors:[["p-toastItem"]],viewQuery:function(i,r){if(1&i&&po(zH,5),2&i){let o;Ti(o=Si())&&(r.containerViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:[2,"index","index",Eo],life:[2,"life","life",Eo],template:"template",headlessTemplate:"headlessTemplate",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},features:[ao],decls:5,vars:18,consts:[["container",""],["notHeadless",""],["role","alert","aria-live","assertive","aria-atomic","true",3,"mouseenter","mouseleave","ngClass"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"class",4,"ngIf"],["class","p-toast-message-icon",4,"ngIf"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],[1,"p-toast-message-icon"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],[3,"styleClass"]],template:function(i,r){if(1&i){const o=ur();$e(0,"div",2,0),Hn("mouseenter",function(){return mn(o),pn(r.onMouseEnter())})("mouseleave",function(){return mn(o),pn(r.onMouseLeave())}),Kt(2,Jbe,2,5,"ng-container",3)(3,d1e,4,8,"ng-template",null,1,id),rt()}if(2&i){const o=ua(4);jr(null==r.message?null:r.message.styleClass),be("ngClass",gs(9,Kbe,"p-toast-message-"+(null==r.message?null:r.message.severity)))("@messageState",gs(16,$be,W0(11,Wbe,r.showTransformOptions,r.hideTransformOptions,r.showTransitionOptions,r.hideTransitionOptions))),Qt("id",null==r.message?null:r.message.id)("data-pc-name","toast")("data-pc-section","root"),Ie(2),be("ngIf",r.headlessTemplate)("ngIfElse",o)}},dependencies:()=>[Gl,xl,ku,Nv,ey,wF,vE,bF,Vv],encapsulation:2,data:{animation:[Uv("messageState",[Eb("visible",Cl({transform:"translateY(0)",opacity:1})),Kp("void => *",[Cl({transform:"{{showTransformParams}}",opacity:0}),$f("{{showTransitionParams}}")]),Kp("* => void",[$f("{{hideTransitionParams}}",Cl({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0})}return n})(),f1e=(()=>{class n{document;renderer;messageService;cd;config;key;autoZIndex=!0;baseZIndex=0;life=3e3;style;styleClass;get position(){return this._position}set position(e){this._position=e,this.cd.markForCheck()}preventOpenDuplicates=!1;preventDuplicates=!1;showTransformOptions="translateY(100%)";hideTransformOptions="translateY(-100%)";showTransitionOptions="300ms ease-out";hideTransitionOptions="250ms ease-in";breakpoints;onClose=new ni;containerViewChild;templates;messageSubscription;clearSubscription;messages;messagesArchieve;template;headlessTemplate;_position="top-right";constructor(e,i,r,o,s){this.document=e,this.renderer=i,this.messageService=r,this.cd=o,this.config=s}styleElement;id=Ru();ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(e=>{if(e)if(Array.isArray(e)){const i=e.filter(r=>this.canAdd(r));this.add(i)}else this.canAdd(e)&&this.add([e])}),this.clearSubscription=this.messageService.clearObserver.subscribe(e=>{e?this.key===e&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(e){this.messages=this.messages?[...this.messages,...e]:[...e],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...e]:[...e]),this.cd.markForCheck()}canAdd(e){let i=this.key===e.key;return i&&this.preventOpenDuplicates&&(i=!this.containsMessage(this.messages,e)),i&&this.preventDuplicates&&(i=!this.containsMessage(this.messagesArchieve,e)),i}containsMessage(e,i){return!!e&&null!=e.find(r=>r.summary===i.summary&&r.detail==i.detail&&r.severity===i.severity)}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"message":default:this.template=e.template;break;case"headless":this.headlessTemplate=e.template}})}onMessageClose(e){this.messages?.splice(e.index,1),this.onClose.emit({message:e.message}),this.cd.detectChanges()}onAnimationStart(e){"void"===e.fromState&&(this.renderer.setAttribute(this.containerViewChild?.nativeElement,this.id,""),this.autoZIndex&&""===this.containerViewChild?.nativeElement.style.zIndex&&$g.set("modal",this.containerViewChild?.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(e){"void"===e.toState&&this.autoZIndex&&Wr.isEmpty(this.messages)&&$g.clear(this.containerViewChild?.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",_n.setAttribute(this.styleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.styleElement);let e="";for(let i in this.breakpoints){let r="";for(let o in this.breakpoints[i])r+=o+":"+this.breakpoints[i][o]+" !important;";e+=`\n                    @media screen and (max-width: ${i}) {\n                        .p-toast[${this.id}] {\n                           ${r}\n                        }\n                    }\n                `}this.renderer.setProperty(this.styleElement,"innerHTML",e)}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&$g.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}static \u0275fac=function(i){return new(i||n)(Re(Rr),Re(tu),Re(qP),Re(qo),Re(Wf))};static \u0275cmp=Ii({type:n,selectors:[["p-toast"]],contentQueries:function(i,r,o){if(1&i&&jo(o,sd,4),2&i){let s;Ti(s=Si())&&(r.templates=s)}},viewQuery:function(i,r){if(1&i&&po(zH,5),2&i){let o;Ti(o=Si())&&(r.containerViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:[2,"autoZIndex","autoZIndex",xn],baseZIndex:[2,"baseZIndex","baseZIndex",Eo],life:[2,"life","life",Eo],style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:[2,"preventOpenDuplicates","preventOpenDuplicates",xn],preventDuplicates:[2,"preventDuplicates","preventDuplicates",xn],showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},features:[ao],decls:3,vars:5,consts:[["container",""],[1,"p-toast","p-component",3,"ngClass","ngStyle"],[3,"message","index","life","template","headlessTemplate","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"onClose","message","index","life","template","headlessTemplate","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions"]],template:function(i,r){1&i&&($e(0,"div",1,0),Kt(2,h1e,1,10,"p-toastItem",2),rt()),2&i&&(jr(r.styleClass),be("ngClass","p-toast-"+r._position)("ngStyle",r.style),Ie(2),be("ngForOf",r.messages))},dependencies:[Gl,Qf,Su,p1e],styles:["@layer primeng{.p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;flex:none}.p-toast-icon-close.p-link{cursor:pointer}}\n"],encapsulation:2,data:{animation:[Uv("toastAnimation",[Kp(":enter, :leave",[$P("@*",WP())])])]},changeDetection:0})}return n})(),A1e=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=bi({type:n});static \u0275inj=di({imports:[Gs,Yg,ey,wF,vE,bF,Vv,dl]})}return n})(),GH=(()=>{class n{constructor(e,i,r,o){this.formBuilder=e,this.router=i,this.db=r,this.messageService=o}ngOnInit(){this.joinRoomForm=this.formBuilder.group({roomPin:["",[Dx.required,Dx.maxLength(6),Dx.minLength(6)]]}),this.savedName=localStorage.getItem("savedName")||""}isRoomPinValid(){const e=this.joinRoomForm.get("roomPin");return e&&e.value&&6===e.value.length}onJoinRoom(){if(this.joinRoomForm.valid){const e=this.joinRoomForm.get("roomPin")?.value,i=this.savedName;this.db.object(`rooms/${e}`).valueChanges().pipe(El(1)).subscribe(r=>{r?this.db.object(`rooms/${e}/users/${i}`).valueChanges().pipe(El(1)).subscribe(o=>{if(o&&o.name===i)this.messageService.add({severity:"error",summary:"Error",detail:"Name already exists. Please choose a different name."});else{localStorage.setItem("generatedCode",e),console.log("Join Room button clicked"),this.router.navigateByUrl("/room-overview");const s={name:i,userLevel:2,ready:!1};this.db.object(`rooms/${e}/users/${i}`).update(s).then(()=>{console.log("User added successfully to the room!")}).catch(c=>{console.error("Error adding user to the room:",c)})}}):this.messageService.add({severity:"error",summary:"Error",detail:"Room with the provided PIN does not exist."})})}}static#e=this.\u0275fac=function(i){return new(i||n)(Re(n7),Re(rd),Re(_E),Re(qP))};static#t=this.\u0275cmp=Ii({type:n,selectors:[["app-join-room"]],decls:7,vars:3,consts:[[1,"pageContainer"],["position","top-left"],[1,"formContainer",3,"ngSubmit","formGroup"],[1,"p-input-icon-left"],[1,"pi","pi-hashtag"],["pKeyFilter","int","placeholder","Room Pin","formControlName","roomPin","pInputText","","maxlength","6","required","",1,"p-inputtext-lg"],["type","submit","size","large","pRipple","","label","Join Room","icon","pi pi-plus",3,"rounded","disabled"]],template:function(i,r){1&i&&($e(0,"div",0),Pn(1,"p-toast",1),$e(2,"form",2),Hn("ngSubmit",function(){return r.onJoinRoom()}),$e(3,"span",3),Pn(4,"i",4)(5,"input",5),rt(),Pn(6,"p-button",6),rt()()),2&i&&(Ie(2),be("formGroup",r.joinRoomForm),Ie(4),be("rounded",!0)("disabled",r.joinRoomForm.invalid||!r.isRoomPinValid()))},dependencies:[FP,vb,Rx,CP,QT,HP,wb,VT,zT,xb,jH,f1e],styles:[".cancelButtonContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100vw}.cancelButton[_ngcontent-%COMP%]{position:absolute;margin-top:1em}.pageContainer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.cancel[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100vw;position:absolute}.formContainer[_ngcontent-%COMP%]{width:90vw;display:flex;flex-direction:column;align-items:center;padding:2em 0;border-radius:12px}.formContainer[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:80vw}.formContainer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-bottom:.5em}.formContainer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80vw;border-radius:20px}.formContainer[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]{margin:.5em}.formContainer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:80vw;height:3.5em;margin:.5em;border-radius:40px;font-size:16px;font-weight:700;background-color:#c7f3c5;color:#c7f3c5;border:none;padding:1em 0;display:flex;align-items:center;justify-content:center}"]})}return n})();const m1e=["formContainer"],g1e=()=>({width:"80%"});function _1e(n,t){1&n&&($e(0,"span")(1,"p-iconField",11),Pn(2,"p-inputIcon",12)(3,"input",13),rt()())}function v1e(n,t){if(1&n){const e=ur();$e(0,"p-button",14),Hn("click",function(){return mn(e),pn(He().onCreateRoom())}),rt()}if(2&n){const e=He();be("rounded",!0)("disabled",e.myForm.invalid)}}function y1e(n,t){if(1&n){const e=ur();$e(0,"p-button",15),Hn("click",function(){mn(e);const r=He();return r.showJoinRoom=!0,r.showCreateJoin=!1,pn(r.onJoinRoom())}),rt()}2&n&&be("disabled",He().myForm.invalid)("rounded",!0)}function b1e(n,t){if(1&n){const e=ur();$e(0,"div",16)(1,"p-button",17),Hn("click",function(){mn(e);const r=He();return r.showCreateJoin=!0,pn(r.showJoinRoom=!1)}),rt(),Pn(2,"app-join-room"),rt()}2&n&&(Ie(),be("text",!0))}let w1e=(()=>{class n{constructor(e,i){this.formBuilder=e,this.router=i,this.generatedCode="",this.savedCode="",this.showCreateJoin=!0,this.showJoinRoom=!1}ngOnInit(){this.myForm=this.formBuilder.group({name:[this.getSavedName(),Dx.required]});const i=navigator.standalone||window.matchMedia("(display-mode: standalone)").matches,r=/iPad|iPhone|iPod/.test(navigator.userAgent),o=/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent);r&&o&&!i&&(this.displayInstallPrompt=!0)}getSavedName(){return localStorage.getItem("savedName")||""}onFormSubmit(){if(this.myForm.valid){const e=this.myForm.get("name")?.value;localStorage.setItem("savedName",e),console.log("Form submitted successfully")}}onCreateRoom(){if(this.myForm.valid){const e=this.myForm.get("name")?.value;localStorage.setItem("savedName",e),console.log("Create Room button clicked"),this.router.navigateByUrl("/create-room")}}onJoinRoom(){if(this.myForm.valid){const e=this.myForm.get("name")?.value;localStorage.setItem("savedName",e),console.log("Join Room button clicked")}}hideInstallPrompt(){this.displayInstallPrompt=!1}static#e=this.\u0275fac=function(i){return new(i||n)(Re(n7),Re(rd))};static#t=this.\u0275cmp=Ii({type:n,selectors:[["app-home"]],viewQuery:function(i,r){if(1&i&&po(m1e,5),2&i){let o;Ti(o=Si())&&(r.cardImages=o.first)}},decls:16,vars:9,consts:[["formContainer",""],[1,"homePage"],[1,"topSection"],["src","../../assets/logo.png","alt","",1,"homeImage"],[1,"formContainer",3,"formGroup"],[4,"ngIf"],["size","large","pRipple","","label","Create Room","icon","pi pi-users",3,"rounded","disabled","click",4,"ngIf"],["size","large","pRipple","","label","Join Room","icon","pi pi-plus",3,"disabled","rounded","click",4,"ngIf"],["class","joinRoomContainer",4,"ngIf"],["header","Install Tastebuddy","closable","true",1,"dialog",3,"visibleChange","visible"],["src","../../assets/ios-share.svg","alt","iOS Share Icon"],["iconPosition","left"],["styleClass","pi pi-user"],["type","text","pInputText","","placeholder","Name","formControlName","name",1,"p-inputtext-lg"],["size","large","pRipple","","label","Create Room","icon","pi pi-users",3,"click","rounded","disabled"],["size","large","pRipple","","label","Join Room","icon","pi pi-plus",3,"click","disabled","rounded"],[1,"joinRoomContainer"],["size","large","pRipple","","label","Back","icon","pi pi-arrow-left",1,"backButton",3,"click","text"]],template:function(i,r){if(1&i){const o=ur();$e(0,"div",1)(1,"div",2),Pn(2,"img",3),rt(),$e(3,"form",4,0),Kt(5,_1e,4,0,"span",5)(6,v1e,1,2,"p-button",6)(7,y1e,1,2,"p-button",7)(8,b1e,3,1,"div",8),rt()(),$e(9,"p-dialog",9),Wh("visibleChange",function(c){return mn(o),zp(r.displayInstallPrompt,c)||(r.displayInstallPrompt=c),pn(c)}),$e(10,"p"),$i(11,"Install this application on your home screen for quick and easy access."),rt(),$e(12,"p"),$i(13,"Just tap "),Pn(14,"img",10),$i(15," then 'Add to Home Screen'"),rt()()}2&i&&(Ie(3),be("formGroup",r.myForm),Ie(2),be("ngIf",r.showCreateJoin),Ie(),be("ngIf",r.showCreateJoin),Ie(),be("ngIf",r.showCreateJoin),Ie(),be("ngIf",r.showJoinRoom),Ie(),nu($h(8,g1e)),Kh("visible",r.displayInstallPrompt))},dependencies:[xl,FP,vb,Rx,CP,wb,VT,zT,xb,YP,o_e,l_e,GH],styles:[".homePage[_ngcontent-%COMP%]{height:100vh;display:flex;flex-direction:column;align-items:center}.topSection[_ngcontent-%COMP%]{width:100vw;height:40vh;position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;margin-top:4em}.topSection[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.5em 0 0;font-family:Lilita One,sans-serif;font-weight:400;font-style:normal;color:#c7f3c5;font-size:50px}.topSection[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#c7f3c5}.topButtons[_ngcontent-%COMP%]{position:absolute;bottom:0}.homeImage[_ngcontent-%COMP%]{width:80%;border-radius:0 0 20px 20px}.formContainer[_ngcontent-%COMP%]{background-color:#fff;width:100vw;height:45vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:6em 0;border-radius:20px 20px 0 0;position:fixed;bottom:0}.formContainer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .formContainer[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:80%;margin-bottom:.5em}.formContainer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border-radius:20px}.formContainer[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]{margin:.5em;display:flex;align-items:center;justify-content:center;font-family:Modak,system-ui;font-weight:400;font-style:normal}.formContainer[_ngcontent-%COMP%]     .p-button{width:80vw;font-weight:700}.formContainer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:80%}.formContainer[_ngcontent-%COMP%]   .joinRoomContainer[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]{width:25vw}"]})}return n})();const HH_tomtom_key="3ZjdFz1Akj5Z0GXSGDoitGkGrmDvqK2x",HH_firebaseConfig={apiKey:"AIzaSyBreTje8FPghewOqokbeJ_pZp889l6CO94",authDomain:"tastebuddy-9e09e.firebaseapp.com",databaseURL:"https://tastebuddy-9e09e-default-rtdb.firebaseio.com",projectId:"tastebuddy-9e09e",storageBucket:"tastebuddy-9e09e.appspot.com",messagingSenderId:"767147367411",appId:"1:767147367411:web:8d801cd52fb73d0ab31086",measurementId:"G-N14T5FJ56B"};var x1e=hr(911),xF=hr.n(x1e);class MS{}class BS{}class Yp{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Yp?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Yp;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Yp?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(c=>-1===o.indexOf(c)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class E1e{encodeKey(t){return qH(t)}encodeValue(t){return qH(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const I1e=/%(\d[a-f0-9])/gi,T1e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function qH(n){return encodeURIComponent(n).replace(I1e,(t,e)=>T1e[e]??t)}function PS(n){return`${n}`}class Wm{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new E1e,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function C1e(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,c]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],u=e.get(s)||[];u.push(c),e.set(s,u)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(PS):[PS(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Wm({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(PS(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(PS(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class S1e{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function KH(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function WH(n){return typeof Blob<"u"&&n instanceof Blob}function $H(n){return typeof FormData<"u"&&n instanceof FormData}class yE{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function k1e(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Yp,this.context??=new S1e,this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const c=e.indexOf("?");this.urlWithParams=e+(-1===c?"?":c<e.length-1?"&":"")+s}}else this.params=new Wm,this.urlWithParams=e}serializeBody(){return null===this.body?null:"string"==typeof this.body||KH(this.body)||WH(this.body)||$H(this.body)||function D1e(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Wm?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||$H(this.body)?null:WH(this.body)?this.body.type||null:KH(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Wm?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=void 0!==t.body?t.body:this.body,c=t.withCredentials??this.withCredentials,u=t.reportProgress??this.reportProgress;let g=t.headers||this.headers,w=t.params||this.params;const T=t.context??this.context;return void 0!==t.setHeaders&&(g=Object.keys(t.setHeaders).reduce((F,H)=>F.set(H,t.setHeaders[H]),g)),t.setParams&&(w=Object.keys(t.setParams).reduce((F,H)=>F.set(H,t.setParams[H]),w)),new yE(e,i,s,{params:w,headers:g,context:T,reportProgress:u,responseType:r,withCredentials:c,transferCache:o})}}var u_=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(u_||{});class EF{constructor(t,e=200,i="OK"){this.headers=t.headers||new Yp,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class OS extends EF{constructor(t={}){super(t),this.type=u_.ResponseHeader}clone(t={}){return new OS({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ty extends EF{constructor(t={}){super(t),this.type=u_.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new ty({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Qb extends EF{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function CF(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let bE=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof yE)o=e;else{let u,g;u=r.headers instanceof Yp?r.headers:new Yp(r.headers),r.params&&(g=r.params instanceof Wm?r.params:new Wm({fromObject:r.params})),o=new yE(e,i,void 0!==r.body?r.body:null,{headers:u,context:r.context,params:g,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}const s=Xi(o).pipe(sb(u=>this.handler.handle(u)));if(e instanceof yE||"events"===r.observe)return s;const c=s.pipe(Ia(u=>u instanceof ty));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(We(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(We(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(We(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return c.pipe(We(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Wm).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,CF(r,i))}post(e,i,r={}){return this.request("POST",e,CF(r,i))}put(e,i,r={}){return this.request("PUT",e,CF(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(MS))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac})}return n})();const B1e=/^\)\]\}',?\n/;function YH(n){if(n.url)return n.url;const t="X-Request-URL".toLocaleLowerCase();return n.headers.get(t)}let IF=(()=>{class n{constructor(){this.fetchImpl=Ht(O1e,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=Ht(Ri)}handle(e){return new pr(i=>{const r=new AbortController;return this.doRequest(e,r.signal,i).then(TF,o=>i.error(new Qb({error:o}))),()=>r.abort()})}doRequest(e,i,r){var o=this;return(0,Dn.A)(function*(){const s=o.createRequestInit(e);let c;try{const ee=o.ngZone.runOutsideAngular(()=>o.fetchImpl(e.urlWithParams,{signal:i,...s}));(function F1e(n){n.then(TF,TF)})(ee),r.next({type:u_.Sent}),c=yield ee}catch(ee){return void r.error(new Qb({error:ee,status:ee.status??0,statusText:ee.statusText,url:e.urlWithParams,headers:ee.headers}))}const u=new Yp(c.headers),g=c.statusText,w=YH(c)??e.urlWithParams;let T=c.status,F=null;if(e.reportProgress&&r.next(new OS({headers:u,status:T,statusText:g,url:w})),c.body){const ee=c.headers.get("content-length"),Ae=[],xe=c.body.getReader();let Ye,yt,et=0;const cn=typeof Zone<"u"&&Zone.current;yield o.ngZone.runOutsideAngular((0,Dn.A)(function*(){for(;;){const{done:si,value:bt}=yield xe.read();if(si)break;if(Ae.push(bt),et+=bt.length,e.reportProgress){yt="text"===e.responseType?(yt??"")+(Ye??=new TextDecoder).decode(bt,{stream:!0}):void 0;const nt=()=>r.next({type:u_.DownloadProgress,total:ee?+ee:void 0,loaded:et,partialText:yt});cn?cn.run(nt):nt()}}}));const $n=o.concatChunks(Ae,et);try{const si=c.headers.get("Content-Type")??"";F=o.parseBody(e,$n,si)}catch(si){return void r.error(new Qb({error:si,headers:new Yp(c.headers),status:c.status,statusText:c.statusText,url:YH(c)??e.urlWithParams}))}}0===T&&(T=F?200:0),T>=200&&T<300?(r.next(new ty({body:F,headers:u,status:T,statusText:g,url:w})),r.complete()):r.error(new Qb({error:F,headers:u,status:T,statusText:g,url:w}))})()}parseBody(e,i,r){switch(e.responseType){case"json":const o=(new TextDecoder).decode(i).replace(B1e,"");return""===o?null:JSON.parse(o);case"text":return(new TextDecoder).decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer}}createRequestInit(e){const i={},r=e.withCredentials?"include":void 0;if(e.headers.forEach((o,s)=>i[o]=s.join(",")),e.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!e.headers.has("Content-Type")){const o=e.detectContentTypeHeader();null!==o&&(i["Content-Type"]=o)}return{body:e.serializeBody(),method:e.method,headers:i,credentials:r}}concatChunks(e,i){const r=new Uint8Array(i);let o=0;for(const s of e)r.set(s,o),o+=s.length;return r}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac})}return n})();class O1e{}function TF(){}function ZH(n,t){return t(n)}function L1e(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const U1e=new Wt(""),wE=new Wt(""),JH=new Wt(""),eq=new Wt("",{providedIn:"root",factory:()=>!0});function V1e(){let n=null;return(t,e)=>{null===n&&(n=(Ht(U1e,{optional:!0})??[]).reduceRight(L1e,ZH));const i=Ht(Md);if(Ht(eq)){const o=i.add();return n(t,e).pipe(lb(()=>i.remove(o)))}return n(t,e)}}let tq=(()=>{class n extends MS{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=Ht(Md),this.contributeToStability=Ht(eq)}handle(e){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(wE),...this.injector.get(JH,[])]));this.chain=i.reduceRight((r,o)=>function N1e(n,t,e){return(i,r)=>Go(e,()=>t(i,o=>n(o,r)))}(r,o,this.injector),ZH)}if(this.contributeToStability){const i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(lb(()=>this.pendingTasks.remove(i)))}return this.chain(e,i=>this.backend.handle(i))}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(BS),Ct(oc))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac})}return n})();const H1e=/^\)\]\}',?\n/;let iq=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new an(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?Ls(i.\u0275loadImpl()):Xi(null)).pipe(pa(()=>new pr(o=>{const s=i.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((Ae,xe)=>s.setRequestHeader(Ae,xe.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const Ae=e.detectContentTypeHeader();null!==Ae&&s.setRequestHeader("Content-Type",Ae)}if(e.responseType){const Ae=e.responseType.toLowerCase();s.responseType="json"!==Ae?Ae:"text"}const c=e.serializeBody();let u=null;const g=()=>{if(null!==u)return u;const Ae=s.statusText||"OK",xe=new Yp(s.getAllResponseHeaders()),et=function q1e(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||e.url;return u=new OS({headers:xe,status:s.status,statusText:Ae,url:et}),u},w=()=>{let{headers:Ae,status:xe,statusText:et,url:Ye}=g(),yt=null;204!==xe&&(yt=typeof s.response>"u"?s.responseText:s.response),0===xe&&(xe=yt?200:0);let cn=xe>=200&&xe<300;if("json"===e.responseType&&"string"==typeof yt){const $n=yt;yt=yt.replace(H1e,"");try{yt=""!==yt?JSON.parse(yt):null}catch(si){yt=$n,cn&&(cn=!1,yt={error:si,text:yt})}}cn?(o.next(new ty({body:yt,headers:Ae,status:xe,statusText:et,url:Ye||void 0})),o.complete()):o.error(new Qb({error:yt,headers:Ae,status:xe,statusText:et,url:Ye||void 0}))},T=Ae=>{const{url:xe}=g(),et=new Qb({error:Ae,status:s.status||0,statusText:s.statusText||"Unknown Error",url:xe||void 0});o.error(et)};let F=!1;const H=Ae=>{F||(o.next(g()),F=!0);let xe={type:u_.DownloadProgress,loaded:Ae.loaded};Ae.lengthComputable&&(xe.total=Ae.total),"text"===e.responseType&&s.responseText&&(xe.partialText=s.responseText),o.next(xe)},ee=Ae=>{let xe={type:u_.UploadProgress,loaded:Ae.loaded};Ae.lengthComputable&&(xe.total=Ae.total),o.next(xe)};return s.addEventListener("load",w),s.addEventListener("error",T),s.addEventListener("timeout",T),s.addEventListener("abort",T),e.reportProgress&&(s.addEventListener("progress",H),null!==c&&s.upload&&s.upload.addEventListener("progress",ee)),s.send(c),o.next({type:u_.Sent}),()=>{s.removeEventListener("error",T),s.removeEventListener("abort",T),s.removeEventListener("load",w),s.removeEventListener("timeout",T),e.reportProgress&&(s.removeEventListener("progress",H),null!==c&&s.upload&&s.upload.removeEventListener("progress",ee)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(f9))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac})}return n})();const SF=new Wt(""),rq=new Wt("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),oq=new Wt("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class sq{}let $1e=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=o9(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(Rr),Ct(Pa),Ct(rq))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac})}return n})();function X1e(n,t){const e=n.url.toLowerCase();if(!Ht(SF)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=Ht(sq).getToken(),r=Ht(oq);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var d_=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(d_||{});function Y1e(...n){const t=[bE,iq,tq,{provide:MS,useExisting:tq},{provide:BS,useFactory:()=>Ht(IF,{optional:!0})??Ht(iq)},{provide:wE,useValue:X1e,multi:!0},{provide:SF,useValue:!0},{provide:sq,useClass:$1e}];for(const e of n)t.push(...e.\u0275providers);return Nh(t)}const aq=new Wt("");function Z1e(){return function ny(n,t){return{\u0275kind:n,\u0275providers:t}}(d_.LegacyInterceptors,[{provide:aq,useFactory:V1e},{provide:wE,useExisting:aq,multi:!0}])}let Aq=(()=>{class n{constructor(e){this.http=e,this.yelpApiKey="BcGuIBO_29gP4DdK-1IHudB0S9CRw3WZUtwfxXCaMBOkGePM706cRTrUZVx6NWH-45LRox0LPhr1wb-e2SJOx2QjP4_2Id29SOmtlGaTsKxwnrxrpci9drKjCQ1pZXYx",this.foursquareApiKey="fsq3VafWAtizJQeLX/R+olKOCssXHE4XZ8EoNs+0/ihf8Ic=",this.foursquareClientId="0UKDM4WOVFXDDP3NY3NDCNMBPGAIL1FBKKWXYBH422PRPKFN",this.foursquareClientSecret="OQH32BYQDFTCBJ3WGLS34FXHX5BCR5XIEFRHVVBJBHKUVFHX",this.foursquareVersion="20220101",this.radarApiKey="prj_test_sk_a5703d6c41b2bc0c30e41f6d20196556af67552c",this.apiUrl="https://api.radar.io/v1/search/places",this.hereApiKey="0TzliL-sbXBbYM9I5JzoKgisyiPCp_bJumr78UTyCWA"}getRestaurants(e,i,r,o,s,c){const u=(new Wm).set("latitude",e.toString()).set("longitude",i.toString()).set("radius",r.toString()).set("open_now",o.toString()).set("price",s.toString()).set("categories",c),g="https://tastebuddyserver.onrender.com/api/restaurants",w=`${g}?${u.toString()}`;return console.log(w),this.http.get(g,{params:u})}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(bE))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const awe=["sliderHandle"],lwe=["sliderHandleStart"],cwe=["sliderHandleEnd"],uwe=(n,t,e,i)=>({"p-slider p-component":!0,"p-disabled":n,"p-slider-horizontal":t,"p-slider-vertical":e,"p-slider-animate":i}),dwe=(n,t)=>({left:n,width:t}),hwe=(n,t)=>({bottom:n,height:t}),pwe=n=>({height:n}),fwe=n=>({width:n}),kF=(n,t)=>({left:n,bottom:t}),mq=n=>({"p-slider-handle-active":n});function Awe(n,t){if(1&n&&Pn(0,"span",8),2&n){const e=He();be("ngStyle",Xa(2,dwe,null!=e.offset?e.offset+"%":e.handleValues[0]+"%",e.diff?e.diff+"%":e.handleValues[1]-e.handleValues[0]+"%")),Qt("data-pc-section","range")}}function mwe(n,t){if(1&n&&Pn(0,"span",8),2&n){const e=He();be("ngStyle",Xa(2,hwe,null!=e.offset?e.offset+"%":e.handleValues[0]+"%",e.diff?e.diff+"%":e.handleValues[1]-e.handleValues[0]+"%")),Qt("data-pc-section","range")}}function gwe(n,t){if(1&n&&Pn(0,"span",8),2&n){const e=He();be("ngStyle",gs(2,pwe,e.handleValue+"%")),Qt("data-pc-section","range")}}function _we(n,t){if(1&n&&Pn(0,"span",8),2&n){const e=He();be("ngStyle",gs(2,fwe,e.handleValue+"%")),Qt("data-pc-section","range")}}function vwe(n,t){if(1&n){const e=ur();$e(0,"span",9,0),Hn("touchstart",function(r){return mn(e),pn(He().onDragStart(r))})("touchmove",function(r){return mn(e),pn(He().onDrag(r))})("touchend",function(r){return mn(e),pn(He().onDragEnd(r))})("mousedown",function(r){return mn(e),pn(He().onMouseDown(r))})("keydown",function(r){return mn(e),pn(He().onKeyDown(r))}),rt()}if(2&n){const e=He();Of("transition",e.dragging?"none":null),be("ngStyle",Xa(12,kF,"horizontal"==e.orientation?e.handleValue+"%":null,"vertical"==e.orientation?e.handleValue+"%":null))("autofocus",e.autofocus),Qt("tabindex",e.disabled?null:e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)("aria-label",e.ariaLabel)("aria-orientation",e.orientation)("data-pc-section","handle")}}function ywe(n,t){if(1&n){const e=ur();$e(0,"span",10,1),Hn("keydown",function(r){return mn(e),pn(He().onKeyDown(r,0))})("mousedown",function(r){return mn(e),pn(He().onMouseDown(r,0))})("touchstart",function(r){return mn(e),pn(He().onDragStart(r,0))})("touchmove",function(r){return mn(e),pn(He().onDrag(r,0))})("touchend",function(r){return mn(e),pn(He().onDragEnd(r))}),rt()}if(2&n){const e=He();Of("transition",e.dragging?"none":null),be("ngStyle",Xa(13,kF,e.rangeStartLeft,e.rangeStartBottom))("ngClass",gs(16,mq,0==e.handleIndex))("autofocus",e.autofocus),Qt("tabindex",e.disabled?null:e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value?e.value[0]:null)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)("aria-label",e.ariaLabel)("aria-orientation",e.orientation)("data-pc-section","startHandler")}}function bwe(n,t){if(1&n){const e=ur();$e(0,"span",11,2),Hn("keydown",function(r){return mn(e),pn(He().onKeyDown(r,1))})("mousedown",function(r){return mn(e),pn(He().onMouseDown(r,1))})("touchstart",function(r){return mn(e),pn(He().onDragStart(r,1))})("touchmove",function(r){return mn(e),pn(He().onDrag(r,1))})("touchend",function(r){return mn(e),pn(He().onDragEnd(r))}),rt()}if(2&n){const e=He();Of("transition",e.dragging?"none":null),be("ngStyle",Xa(12,kF,e.rangeEndLeft,e.rangeEndBottom))("ngClass",gs(15,mq,1==e.handleIndex)),Qt("tabindex",e.disabled?null:e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value?e.value[1]:null)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)("aria-label",e.ariaLabel)("aria-orientation",e.orientation)("data-pc-section","endHandler")}}const wwe={provide:fa,useExisting:Ir(()=>gq),multi:!0};let gq=(()=>{class n{document;platformId;el;renderer;ngZone;cd;animate;disabled;min=0;max=100;orientation="horizontal";step;range;style;styleClass;ariaLabel;ariaLabelledBy;tabindex=0;autofocus;onChange=new ni;onSlideEnd=new ni;sliderHandle;sliderHandleStart;sliderHandleEnd;value;values;handleValue;handleValues=[];diff;offset;bottom;onModelChange=()=>{};onModelTouched=()=>{};dragging;dragListener;mouseupListener;initX;initY;barWidth;barHeight;sliderHandleClick;handleIndex=0;startHandleValue;startx;starty;constructor(e,i,r,o,s,c){this.document=e,this.platformId=i,this.el=r,this.renderer=o,this.ngZone=s,this.cd=c}onMouseDown(e,i){this.disabled||(this.dragging=!0,this.updateDomData(),this.sliderHandleClick=!0,this.handleIndex=this.range&&this.handleValues&&this.handleValues[0]===this.max?0:i,this.bindDragListeners(),e.target.focus(),e.preventDefault(),this.animate&&_n.removeClass(this.el.nativeElement.children[0],"p-slider-animate"))}onDragStart(e,i){if(!this.disabled){var r=e.changedTouches[0];this.startHandleValue=this.range?this.handleValues[i]:this.handleValue,this.dragging=!0,this.handleIndex=this.range&&this.handleValues&&this.handleValues[0]===this.max?0:i,"horizontal"===this.orientation?(this.startx=parseInt(r.clientX,10),this.barWidth=this.el.nativeElement.children[0].offsetWidth):(this.starty=parseInt(r.clientY,10),this.barHeight=this.el.nativeElement.children[0].offsetHeight),this.animate&&_n.removeClass(this.el.nativeElement.children[0],"p-slider-animate"),e.preventDefault()}}onDrag(e){if(!this.disabled){var r,i=e.changedTouches[0];r="horizontal"===this.orientation?Math.floor(100*(parseInt(i.clientX,10)-this.startx)/this.barWidth)+this.startHandleValue:Math.floor(100*(this.starty-parseInt(i.clientY,10))/this.barHeight)+this.startHandleValue,this.setValueFromHandle(e,r),e.preventDefault()}}onDragEnd(e){this.disabled||(this.dragging=!1,this.onSlideEnd.emit(this.range?{originalEvent:e,values:this.values}:{originalEvent:e,value:this.value}),this.animate&&_n.addClass(this.el.nativeElement.children[0],"p-slider-animate"),e.preventDefault())}onBarClick(e){this.disabled||(this.sliderHandleClick||(this.updateDomData(),this.handleChange(e),this.onSlideEnd.emit(this.range?{originalEvent:e,values:this.values}:{originalEvent:e,value:this.value})),this.sliderHandleClick=!1)}onKeyDown(e,i){switch(this.handleIndex=i,e.code){case"ArrowDown":case"ArrowLeft":this.decrementValue(e,i),e.preventDefault();break;case"ArrowUp":case"ArrowRight":this.incrementValue(e,i),e.preventDefault();break;case"PageDown":this.decrementValue(e,i,!0),e.preventDefault();break;case"PageUp":this.incrementValue(e,i,!0),e.preventDefault();break;case"Home":this.updateValue(this.min,e),e.preventDefault();break;case"End":this.updateValue(this.max,e),e.preventDefault();break;case"Tab":this.onDragEnd(e),e.preventDefault()}}decrementValue(e,i,r=!1){let o;o=this.range?this.step?this.values[i]-this.step:this.values[i]-1:this.step?this.value-this.step:!this.step&&r?this.value-10:this.value-1,this.updateValue(o,e),e.preventDefault()}incrementValue(e,i,r=!1){let o;o=this.range?this.step?this.values[i]+this.step:this.values[i]+1:this.step?this.value+this.step:!this.step&&r?this.value+10:this.value+1,this.updateValue(o,e),e.preventDefault()}handleChange(e){let i=this.calculateHandleValue(e);this.setValueFromHandle(e,i)}bindDragListeners(){Du(this.platformId)&&this.ngZone.runOutsideAngular(()=>{const e=this.el?this.el.nativeElement.ownerDocument:this.document;this.dragListener||(this.dragListener=this.renderer.listen(e,"mousemove",i=>{this.dragging&&this.ngZone.run(()=>{this.handleChange(i)})})),this.mouseupListener||(this.mouseupListener=this.renderer.listen(e,"mouseup",i=>{this.dragging&&(this.dragging=!1,this.ngZone.run(()=>{this.onSlideEnd.emit(this.range?{originalEvent:i,values:this.values}:{originalEvent:i,value:this.value}),this.animate&&_n.addClass(this.el.nativeElement.children[0],"p-slider-animate")}))}))})}unbindDragListeners(){this.dragListener&&(this.dragListener(),this.dragListener=null),this.mouseupListener&&(this.mouseupListener(),this.mouseupListener=null)}setValueFromHandle(e,i){let r=this.getValueFromHandle(i);this.range?this.step?this.handleStepChange(r,this.values[this.handleIndex]):(this.handleValues[this.handleIndex]=i,this.updateValue(r,e)):this.step?this.handleStepChange(r,this.value):(this.handleValue=i,this.updateValue(r,e)),this.cd.markForCheck()}handleStepChange(e,i){let r=e-i,o=i,s=this.step;r<0?o=i+Math.ceil(e/s-i/s)*s:r>0&&(o=i+Math.floor(e/s-i/s)*s),this.updateValue(o),this.updateHandleValue()}writeValue(e){this.range?this.values=e||[0,0]:this.value=e||0,this.updateHandleValue(),this.updateDiffAndOffset(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get rangeStartLeft(){return this.isVertical()?null:this.handleValues[0]>100?"100%":this.handleValues[0]+"%"}get rangeStartBottom(){return this.isVertical()?this.handleValues[0]+"%":"auto"}get rangeEndLeft(){return this.isVertical()?null:this.handleValues[1]+"%"}get rangeEndBottom(){return this.isVertical()?this.handleValues[1]+"%":"auto"}isVertical(){return"vertical"===this.orientation}updateDomData(){let e=this.el.nativeElement.children[0].getBoundingClientRect();this.initX=e.left+_n.getWindowScrollLeft(),this.initY=e.top+_n.getWindowScrollTop(),this.barWidth=this.el.nativeElement.children[0].offsetWidth,this.barHeight=this.el.nativeElement.children[0].offsetHeight}calculateHandleValue(e){return"horizontal"===this.orientation?100*(e.pageX-this.initX)/this.barWidth:100*(this.initY+this.barHeight-e.pageY)/this.barHeight}updateHandleValue(){this.range?(this.handleValues[0]=100*(this.values[0]<this.min?0:this.values[0]-this.min)/(this.max-this.min),this.handleValues[1]=100*(this.values[1]>this.max?100:this.values[1]-this.min)/(this.max-this.min)):this.handleValue=this.value<this.min?0:this.value>this.max?100:100*(this.value-this.min)/(this.max-this.min),this.step&&this.updateDiffAndOffset()}updateDiffAndOffset(){this.diff=this.getDiff(),this.offset=this.getOffset()}getDiff(){return Math.abs(this.handleValues[0]-this.handleValues[1])}getOffset(){return Math.min(this.handleValues[0],this.handleValues[1])}updateValue(e,i){if(this.range){let r=e;0==this.handleIndex?(r<this.min?(r=this.min,this.handleValues[0]=0):r>this.values[1]&&r>this.max&&(r=this.max,this.handleValues[0]=100),this.sliderHandleStart?.nativeElement.focus()):(r>this.max?(r=this.max,this.handleValues[1]=100,this.offset=this.handleValues[1]):r<this.min?(r=this.min,this.handleValues[1]=0):r<this.values[0]&&(this.offset=this.handleValues[1]),this.sliderHandleEnd?.nativeElement.focus()),this.step?this.updateHandleValue():this.updateDiffAndOffset(),this.values[this.handleIndex]=this.getNormalizedValue(r),this.onModelChange([this.minVal,this.maxVal]),this.onChange.emit({event:i,values:this.values})}else e<this.min?(e=this.min,this.handleValue=0):e>this.max&&(e=this.max,this.handleValue=100),this.value=this.getNormalizedValue(e),this.onModelChange(this.value),this.onChange.emit({event:i,value:this.value}),this.sliderHandle?.nativeElement.focus();this.updateHandleValue()}getValueFromHandle(e){return e/100*(this.max-this.min)+this.min}getDecimalsCount(e){return e&&Math.floor(e)!==e&&e.toString().split(".")[1].length||0}getNormalizedValue(e){let i=this.getDecimalsCount(this.step);return i>0?+parseFloat(e.toString()).toFixed(i):Math.floor(e)}ngOnDestroy(){this.unbindDragListeners()}get minVal(){return Math.min(this.values[1],this.values[0])}get maxVal(){return Math.max(this.values[1],this.values[0])}static \u0275fac=function(i){return new(i||n)(Re(Rr),Re(Pa),Re(or),Re(tu),Re(Ri),Re(qo))};static \u0275cmp=Ii({type:n,selectors:[["p-slider"]],viewQuery:function(i,r){if(1&i&&(po(awe,5),po(lwe,5),po(cwe,5)),2&i){let o;Ti(o=Si())&&(r.sliderHandle=o.first),Ti(o=Si())&&(r.sliderHandleStart=o.first),Ti(o=Si())&&(r.sliderHandleEnd=o.first)}},hostAttrs:[1,"p-element"],inputs:{animate:[2,"animate","animate",xn],disabled:[2,"disabled","disabled",xn],min:[2,"min","min",Eo],max:[2,"max","max",Eo],orientation:"orientation",step:[2,"step","step",Eo],range:[2,"range","range",xn],style:"style",styleClass:"styleClass",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",tabindex:[2,"tabindex","tabindex",Eo],autofocus:[2,"autofocus","autofocus",xn]},outputs:{onChange:"onChange",onSlideEnd:"onSlideEnd"},features:[Vr([wwe]),ao],decls:8,vars:18,consts:[["sliderHandle",""],["sliderHandleStart",""],["sliderHandleEnd",""],[3,"click","ngStyle","ngClass"],["class","p-slider-range",3,"ngStyle",4,"ngIf"],["class","p-slider-handle","role","slider","pAutoFocus","",3,"transition","ngStyle","autofocus","touchstart","touchmove","touchend","mousedown","keydown",4,"ngIf"],["class","p-slider-handle","role","slider","pAutoFocus","",3,"transition","ngStyle","ngClass","autofocus","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],["class","p-slider-handle",3,"transition","ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],[1,"p-slider-range",3,"ngStyle"],["role","slider","pAutoFocus","",1,"p-slider-handle",3,"touchstart","touchmove","touchend","mousedown","keydown","ngStyle","autofocus"],["role","slider","pAutoFocus","",1,"p-slider-handle",3,"keydown","mousedown","touchstart","touchmove","touchend","ngStyle","ngClass","autofocus"],[1,"p-slider-handle",3,"keydown","mousedown","touchstart","touchmove","touchend","ngStyle","ngClass"]],template:function(i,r){1&i&&($e(0,"div",3),Hn("click",function(s){return r.onBarClick(s)}),Kt(1,Awe,1,5,"span",4)(2,mwe,1,5,"span",4)(3,gwe,1,4,"span",4)(4,_we,1,4,"span",4)(5,vwe,2,15,"span",5)(6,ywe,2,18,"span",6)(7,bwe,2,17,"span",7),rt()),2&i&&(jr(r.styleClass),be("ngStyle",r.style)("ngClass",W0(13,uwe,r.disabled,"horizontal"==r.orientation,"vertical"==r.orientation,r.animate)),Qt("data-pc-name","slider")("data-pc-section","root"),Ie(),be("ngIf",r.range&&"horizontal"==r.orientation),Ie(),be("ngIf",r.range&&"vertical"==r.orientation),Ie(),be("ngIf",!r.range&&"vertical"==r.orientation),Ie(),be("ngIf",!r.range&&"horizontal"==r.orientation),Ie(),be("ngIf",!r.range),Ie(),be("ngIf",r.range),Ie(),be("ngIf",r.range))},dependencies:[Gl,xl,Su,Gm],styles:["@layer primeng{.p-slider{position:relative}.p-slider .p-slider-handle{position:absolute;cursor:grab;touch-action:none;display:block}.p-slider-range{position:absolute;display:block}.p-slider-horizontal .p-slider-range{top:0;left:0;height:100%}.p-slider-horizontal .p-slider-handle{top:50%}.p-slider-vertical{height:100px}.p-slider-vertical .p-slider-handle{left:50%}.p-slider-vertical .p-slider-range{bottom:0;left:0;width:100%}}\n"],encapsulation:2,changeDetection:0})}return n})(),xwe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=bi({type:n});static \u0275inj=di({imports:[Gs,Xg]})}return n})();const Ewe=["container"],Cwe=(n,t,e)=>({"p-highlight":n,"p-disabled":t,"p-button-icon-only":e}),Iwe=(n,t)=>({$implicit:n,index:t});function Twe(n,t){1&n&&Pn(0,"span",8),2&n&&(jr(He(2).$implicit.icon),be("ngClass","p-button-icon p-button-icon-left"),Qt("data-pc-section","icon"))}function Swe(n,t){if(1&n&&(lo(0),Kt(1,Twe,1,4,"span",6),$e(2,"span",7),$i(3),rt(),co()),2&n){const e=He().$implicit,i=He();Ie(),be("ngIf",e.icon),Ie(),Qt("data-pc-section","label"),Ie(),Oa(i.getOptionLabel(e))}}function kwe(n,t){1&n&&rs(0)}function Dwe(n,t){if(1&n&&Kt(0,kwe,1,0,"ng-container",9),2&n){const e=He(),i=e.$implicit,r=e.index;be("ngTemplateOutlet",He().selectButtonTemplate)("ngTemplateOutletContext",Xa(2,Iwe,i,r))}}function Rwe(n,t){if(1&n){const e=ur();$e(0,"div",4),Hn("click",function(r){const o=mn(e),s=o.$implicit,c=o.index;return pn(He().onOptionSelect(r,s,c))})("keydown",function(r){const o=mn(e),s=o.$implicit,c=o.index;return pn(He().onKeyDown(r,s,c))})("focus",function(r){const o=mn(e).index;return pn(He().onFocus(r,o))})("blur",function(){return mn(e),pn(He().onBlur())}),Kt(1,Swe,4,3,"ng-container",5)(2,Dwe,1,5,"ng-template",null,1,id),rt()}if(2&n){const e=t.$implicit,i=t.index,r=ua(3),o=He();jr(e.styleClass),be("role",o.multiple?"checkbox":"radio")("ngClass",Gp(14,Cwe,o.isSelected(e),o.disabled||o.isOptionDisabled(e),e.icon&&!o.getOptionLabel(e)))("autofocus",o.autofocus),Qt("tabindex",i===o.focusedIndex?"0":"-1")("aria-label",e.label)("aria-checked",o.isSelected(e))("aria-disabled",o.optionDisabled)("title",e.title)("aria-labelledby",o.getOptionLabel(e))("data-pc-section","button"),Ie(),be("ngIf",!o.itemTemplate)("ngIfElse",r)}}const Mwe={provide:fa,useExisting:Ir(()=>_q),multi:!0};let _q=(()=>{class n{cd;options;optionLabel;optionValue;optionDisabled;unselectable=!1;tabindex=0;multiple;allowEmpty=!0;style;styleClass;ariaLabelledBy;disabled;dataKey;autofocus;onOptionClick=new ni;onChange=new ni;container;itemTemplate;get selectButtonTemplate(){return this.itemTemplate?.template}get equalityKey(){return this.optionValue?null:this.dataKey}value;onModelChange=()=>{};onModelTouched=()=>{};focusedIndex=0;constructor(e){this.cd=e}getOptionLabel(e){return this.optionLabel?Wr.resolveFieldData(e,this.optionLabel):null!=e.label?e.label:e}getOptionValue(e){return this.optionValue?Wr.resolveFieldData(e,this.optionValue):this.optionLabel||void 0===e.value?e:e.value}isOptionDisabled(e){return this.optionDisabled?Wr.resolveFieldData(e,this.optionDisabled):void 0!==e.disabled&&e.disabled}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onOptionSelect(e,i,r){if(this.disabled||this.isOptionDisabled(i))return;let o=this.isSelected(i);if(o&&this.unselectable)return;let c,s=this.getOptionValue(i);if(this.multiple)c=o?this.value.filter(u=>!Wr.equals(u,s,this.equalityKey)):this.value?[...this.value,s]:[s];else{if(o&&!this.allowEmpty)return;c=o?null:s}this.focusedIndex=r,this.value=c,this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.onOptionClick.emit({originalEvent:e,option:i,index:r})}onKeyDown(e,i,r){switch(e.code){case"Space":this.onOptionSelect(e,i,r),e.preventDefault();break;case"ArrowDown":case"ArrowRight":this.changeTabIndexes(e,"next"),e.preventDefault();break;case"ArrowUp":case"ArrowLeft":this.changeTabIndexes(e,"prev"),e.preventDefault()}}changeTabIndexes(e,i){let r,o;for(let s=0;s<=this.container.nativeElement.children.length-1;s++)"0"===this.container.nativeElement.children[s].getAttribute("tabindex")&&(r={elem:this.container.nativeElement.children[s],index:s});o="prev"===i?0===r.index?this.container.nativeElement.children.length-1:r.index-1:r.index===this.container.nativeElement.children.length-1?0:r.index+1,this.focusedIndex=o,this.container.nativeElement.children[o].focus()}onFocus(e,i){this.focusedIndex=i}onBlur(){this.onModelTouched()}removeOption(e){this.value=this.value.filter(i=>!Wr.equals(i,this.getOptionValue(e),this.dataKey))}isSelected(e){let i=!1;const r=this.getOptionValue(e);if(this.multiple){if(this.value&&Array.isArray(this.value))for(let o of this.value)if(Wr.equals(o,r,this.dataKey)){i=!0;break}}else i=Wr.equals(this.getOptionValue(e),this.value,this.equalityKey);return i}static \u0275fac=function(i){return new(i||n)(Re(qo))};static \u0275cmp=Ii({type:n,selectors:[["p-selectButton"]],contentQueries:function(i,r,o){if(1&i&&jo(o,sd,5),2&i){let s;Ti(s=Si())&&(r.itemTemplate=s.first)}},viewQuery:function(i,r){if(1&i&&po(Ewe,5),2&i){let o;Ti(o=Si())&&(r.container=o.first)}},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",unselectable:[2,"unselectable","unselectable",xn],tabindex:[2,"tabindex","tabindex",Eo],multiple:[2,"multiple","multiple",xn],allowEmpty:[2,"allowEmpty","allowEmpty",xn],style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:[2,"disabled","disabled",xn],dataKey:"dataKey",autofocus:[2,"autofocus","autofocus",xn]},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[Vr([Mwe]),ao],decls:3,vars:8,consts:[["container",""],["customcontent",""],["role","group",3,"ngClass","ngStyle"],["pRipple","","class","p-button p-component","pAutoFocus","",3,"role","class","ngClass","autofocus","click","keydown","focus","blur",4,"ngFor","ngForOf"],["pRipple","","pAutoFocus","",1,"p-button","p-component",3,"click","keydown","focus","blur","role","ngClass","autofocus"],[4,"ngIf","ngIfElse"],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){1&i&&($e(0,"div",2,0),Kt(2,Rwe,4,18,"div",3),rt()),2&i&&(jr(r.styleClass),be("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",r.style),Qt("aria-labelledby",r.ariaLabelledBy)("data-pc-name","selectbutton")("data-pc-section","root"),Ie(2),be("ngForOf",r.options))},dependencies:[Gl,Qf,xl,ku,Su,Nv,Gm],styles:['@layer primeng{.p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default;pointer-events:none}.p-button-icon-only{justify-content:center}.p-button-icon-only:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-button-group .p-button{margin:0}.p-button-group .p-button:focus,.p-button-group p-button:focus .p-button,.p-buttonset .p-button:focus,.p-buttonset p-button:focus .p-button{position:relative;z-index:1}.p-button-group .p-button:not(:last-child),.p-button-group .p-button:not(:last-child):hover,.p-button-group p-button:not(:last-child) .p-button,.p-button-group p-button:not(:last-child) .p-button:hover,.p-buttonset .p-button:not(:last-child),.p-buttonset .p-button:not(:last-child):hover,.p-buttonset p-button:not(:last-child) .p-button,.p-buttonset p-button:not(:last-child) .p-button:hover{border-right:0 none}.p-button-group .p-button:not(:first-of-type):not(:last-of-type),.p-button-group p-button:not(:first-of-type):not(:last-of-type) .p-button,.p-buttonset .p-button:not(:first-of-type):not(:last-of-type),.p-buttonset p-button:not(:first-of-type):not(:last-of-type) .p-button{border-radius:0}.p-button-group .p-button:first-of-type:not(:only-of-type),.p-button-group p-button:first-of-type:not(:only-of-type) .p-button,.p-buttonset .p-button:first-of-type:not(:only-of-type),.p-buttonset p-button:first-of-type:not(:only-of-type) .p-button{border-top-right-radius:0;border-bottom-right-radius:0}.p-button-group .p-button:last-of-type:not(:only-of-type),.p-button-group p-button:last-of-type:not(:only-of-type) .p-button,.p-buttonset .p-button:last-of-type:not(:only-of-type),.p-buttonset p-button:last-of-type:not(:only-of-type) .p-button{border-top-left-radius:0;border-bottom-left-radius:0}p-button[iconpos=right] spinnericon{order:1}}\n'],encapsulation:2,changeDetection:0})}return n})(),Bwe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=bi({type:n});static \u0275inj=di({imports:[Gs,Yg,dl,Xg,dl]})}return n})();const Pwe=["input"],Owe=(n,t,e,i)=>({"p-checkbox p-component":!0,"p-checkbox-checked":n,"p-checkbox-disabled":t,"p-checkbox-focused":e,"p-variant-filled":i}),Fwe=(n,t,e)=>({"p-highlight":n,"p-disabled":t,"p-focus":e}),Lwe=(n,t,e)=>({"p-checkbox-label":!0,"p-checkbox-label-active":n,"p-disabled":t,"p-checkbox-label-focus":e});function Nwe(n,t){1&n&&Pn(0,"span",10),2&n&&(be("ngClass",He(3).checkboxIcon),Qt("data-pc-section","icon"))}function Uwe(n,t){1&n&&Pn(0,"CheckIcon",11),2&n&&(be("styleClass","p-checkbox-icon"),Qt("data-pc-section","icon"))}function Vwe(n,t){if(1&n&&(lo(0),Kt(1,Nwe,1,2,"span",8)(2,Uwe,1,2,"CheckIcon",9),co()),2&n){const e=He(2);Ie(),be("ngIf",e.checkboxIcon),Ie(),be("ngIf",!e.checkboxIcon)}}function Qwe(n,t){}function jwe(n,t){1&n&&Kt(0,Qwe,0,0,"ng-template")}function zwe(n,t){if(1&n&&($e(0,"span",12),Kt(1,jwe,1,0,null,13),rt()),2&n){const e=He(2);Qt("data-pc-section","icon"),Ie(),be("ngTemplateOutlet",e.checkboxIconTemplate)}}function Gwe(n,t){if(1&n&&(lo(0),Kt(1,Vwe,3,2,"ng-container",5)(2,zwe,2,2,"span",7),co()),2&n){const e=He();Ie(),be("ngIf",!e.checkboxIconTemplate),Ie(),be("ngIf",e.checkboxIconTemplate)}}function Hwe(n,t){if(1&n){const e=ur();$e(0,"label",14),Hn("click",function(r){mn(e);const o=He(),s=ua(3);return pn(o.onClick(r,s,!0))}),$i(1),rt()}if(2&n){const e=He();jr(e.labelStyleClass),be("ngClass",Gp(6,Lwe,e.checked(),e.disabled,e.focused)),Qt("for",e.inputId)("data-pc-section","label"),Ie(),fh(" ",e.label,"")}}const qwe={provide:fa,useExisting:Ir(()=>vq),multi:!0};let vq=(()=>{class n{cd;injector;config;value;name;disabled;binary;label;ariaLabelledBy;ariaLabel;tabindex;inputId;style;styleClass;labelStyleClass;formControl;checkboxIcon;readonly;required;autofocus;trueValue=!0;falseValue=!1;variant="outlined";onChange=new ni;onFocus=new ni;onBlur=new ni;inputViewChild;templates;checkboxIconTemplate;model;onModelChange=()=>{};onModelTouched=()=>{};focused=!1;constructor(e,i,r){this.cd=e,this.injector=i,this.config=r}ngAfterContentInit(){this.templates.forEach(e=>{"icon"===e.getType()&&(this.checkboxIconTemplate=e.template)})}onClick(e,i,r){e.preventDefault(),!this.disabled&&!this.readonly&&(this.updateModel(e),r&&i.focus())}updateModel(e){let i;const r=this.injector.get(Kf,null,{optional:!0,self:!0}),o=r&&!this.formControl?r.value:this.model;this.binary?(i=this.checked()?this.falseValue:this.trueValue,this.model=i,this.onModelChange(i)):(i=this.checked()?o.filter(s=>!Wr.equals(s,this.value)):o?[...o,this.value]:[this.value],this.onModelChange(i),this.model=i,this.formControl&&this.formControl.setValue(i)),this.onChange.emit({checked:i,originalEvent:e})}handleChange(e){this.readonly||this.updateModel(e)}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.onModelTouched()}focus(){this.inputViewChild.nativeElement.focus()}writeValue(e){this.model=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){setTimeout(()=>{this.disabled=e,this.cd.markForCheck()})}checked(){return this.binary?this.model===this.trueValue:Wr.contains(this.value,this.model)}static \u0275fac=function(i){return new(i||n)(Re(qo),Re(ho),Re(Wf))};static \u0275cmp=Ii({type:n,selectors:[["p-checkbox"]],contentQueries:function(i,r,o){if(1&i&&jo(o,sd,4),2&i){let s;Ti(s=Si())&&(r.templates=s)}},viewQuery:function(i,r){if(1&i&&po(Pwe,5),2&i){let o;Ti(o=Si())&&(r.inputViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:[2,"disabled","disabled",xn],binary:[2,"binary","binary",xn],label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:[2,"tabindex","tabindex",Eo],inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:[2,"readonly","readonly",xn],required:[2,"required","required",xn],autofocus:[2,"autofocus","autofocus",xn],trueValue:"trueValue",falseValue:"falseValue",variant:"variant"},outputs:{onChange:"onChange",onFocus:"onFocus",onBlur:"onBlur"},features:[Vr([qwe]),ao],decls:7,vars:37,consts:[["input",""],[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox","pAutoFocus","",3,"change","focus","blur","value","checked","disabled","readonly","autofocus"],[1,"p-checkbox-box",3,"click","ngClass"],[4,"ngIf"],[3,"class","ngClass","click",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[3,"click","ngClass"]],template:function(i,r){if(1&i){const o=ur();$e(0,"div",1)(1,"div",2)(2,"input",3,0),Hn("change",function(c){return mn(o),pn(r.handleChange(c))})("focus",function(c){return mn(o),pn(r.onInputFocus(c))})("blur",function(c){return mn(o),pn(r.onInputBlur(c))}),rt()(),$e(4,"div",4),Hn("click",function(c){mn(o);const u=ua(3);return pn(r.onClick(c,u,!0))}),Kt(5,Gwe,3,2,"ng-container",5),rt()(),Kt(6,Hwe,2,10,"label",6)}2&i&&(jr(r.styleClass),be("ngStyle",r.style)("ngClass",W0(28,Owe,r.checked(),r.disabled,r.focused,"filled"===r.variant||"filled"===r.config.inputStyle())),Qt("data-pc-name","checkbox")("data-pc-section","root"),Ie(),Qt("data-pc-section","hiddenInputWrapper")("data-p-hidden-accessible",!0),Ie(),be("value",r.value)("checked",r.checked())("disabled",r.disabled)("readonly",r.readonly)("autofocus",r.autofocus),Qt("id",r.inputId)("name",r.name)("tabindex",r.tabindex)("required",r.required)("aria-labelledby",r.ariaLabelledBy)("aria-label",r.ariaLabel)("aria-checked",r.checked())("data-pc-section","hiddenInput"),Ie(2),be("ngClass",Gp(33,Fwe,r.checked(),r.disabled,r.focused)),Qt("data-p-highlight",r.checked())("data-p-disabled",r.disabled)("data-p-focused",r.focused)("data-pc-section","input"),Ie(),be("ngIf",r.checked()),Ie(),be("ngIf",r.label))},dependencies:()=>[Gl,xl,ku,Su,Gm,ey],styles:["@layer primeng{.p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}}\n"],encapsulation:2,changeDetection:0})}return n})(),Kwe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=bi({type:n});static \u0275inj=di({imports:[Gs,Xg,ey,dl]})}return n})();const Wwe=(n,t)=>({"p-progressbar p-component":!0,"p-progressbar-determinate":n,"p-progressbar-indeterminate":t}),$we=(n,t)=>({width:n,display:"flex",background:t}),Xwe=n=>({$implicit:n}),Ywe=n=>({display:n}),Zwe=n=>({background:n});function Jwe(n,t){if(1&n&&($e(0,"div",7),$i(1),rt()),2&n){const e=He(2);be("ngStyle",gs(4,Ywe,null!=e.value&&0!==e.value?"flex":"none")),Qt("data-pc-section","label"),Ie(),QM(" ",e.value,"",e.unit," ")}}function exe(n,t){1&n&&rs(0)}function txe(n,t){if(1&n&&($e(0,"div",3)(1,"div",4),Kt(2,Jwe,2,6,"div",5)(3,exe,1,0,"ng-container",6),rt()()),2&n){const e=He();be("ngStyle",Xa(5,$we,e.value+"%",e.color)),Qt("data-pc-section","value"),Ie(2),be("ngIf",e.showValue&&!e.contentTemplate),Ie(),be("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",gs(8,Xwe,e.value))}}function nxe(n,t){if(1&n&&($e(0,"div",8),Pn(1,"div",3),rt()),2&n){const e=He();Qt("data-pc-section","container"),Ie(),be("ngStyle",gs(3,Zwe,e.color)),Qt("data-pc-section","value")}}let ixe=(()=>{class n{value;showValue=!0;styleClass;style;unit="%";mode="determinate";color;templates;contentTemplate;ngAfterContentInit(){this.templates?.forEach(e=>{e.getType(),this.contentTemplate=e.template})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Ii({type:n,selectors:[["p-progressBar"]],contentQueries:function(i,r,o){if(1&i&&jo(o,sd,4),2&i){let s;Ti(s=Si())&&(r.templates=s)}},hostAttrs:[1,"p-element"],inputs:{value:[2,"value","value",Eo],showValue:[2,"showValue","showValue",xn],styleClass:"styleClass",style:"style",unit:"unit",mode:"mode",color:"color"},features:[ao],decls:3,vars:14,consts:[["role","progressbar",3,"ngStyle","ngClass"],["class","p-progressbar-value p-progressbar-value-animate",3,"ngStyle",4,"ngIf"],["class","p-progressbar-indeterminate-container",4,"ngIf"],[1,"p-progressbar-value","p-progressbar-value-animate",3,"ngStyle"],[1,"p-progressbar-label"],[3,"ngStyle",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngStyle"],[1,"p-progressbar-indeterminate-container"]],template:function(i,r){1&i&&($e(0,"div",0),Kt(1,txe,4,10,"div",1)(2,nxe,2,5,"div",2),rt()),2&i&&(jr(r.styleClass),be("ngStyle",r.style)("ngClass",Xa(11,Wwe,"determinate"===r.mode,"indeterminate"===r.mode)),Qt("aria-valuemin",0)("aria-valuenow",r.value)("aria-valuemax",100)("data-pc-name","progressbar")("data-pc-section","root"),Ie(),be("ngIf","determinate"===r.mode),Ie(),be("ngIf","indeterminate"===r.mode))},dependencies:[Gl,xl,ku,Su],styles:['@layer primeng{.p-progressbar{position:relative;overflow:hidden}.p-progressbar-determinate .p-progressbar-value{height:100%;width:0%;position:absolute;display:none;border:0 none;display:flex;align-items:center;justify-content:center;overflow:hidden}.p-progressbar-determinate .p-progressbar-label{display:inline-flex}.p-progressbar-determinate .p-progressbar-value-animate{transition:width 1s ease-in-out}.p-progressbar-indeterminate .p-progressbar-value:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;-webkit-animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite;animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.p-progressbar-indeterminate .p-progressbar-value:after{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;-webkit-animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;-webkit-animation-delay:1.15s;animation-delay:1.15s}}@-webkit-keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@-webkit-keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}@keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}\n'],encapsulation:2,changeDetection:0})}return n})(),rxe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=bi({type:n});static \u0275inj=di({imports:[Gs]})}return n})();const oxe=["input"],sxe=(n,t,e)=>({"p-inputswitch p-component":!0,"p-inputswitch-checked":n,"p-disabled":t,"p-focus":e}),axe={provide:fa,useExisting:Ir(()=>yq),multi:!0};let yq=(()=>{class n{cd;style;styleClass;tabindex;inputId;name;disabled;readonly;trueValue=!0;falseValue=!1;ariaLabel;ariaLabelledBy;autofocus;onChange=new ni;input;modelValue=!1;focused=!1;onModelChange=()=>{};onModelTouched=()=>{};constructor(e){this.cd=e}onClick(e){!this.disabled&&!this.readonly&&(this.modelValue=this.checked()?this.falseValue:this.trueValue,this.onModelChange(this.modelValue),this.onChange.emit({originalEvent:e,checked:this.modelValue}),this.input.nativeElement.focus())}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}writeValue(e){this.modelValue=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}checked(){return this.modelValue===this.trueValue}static \u0275fac=function(i){return new(i||n)(Re(qo))};static \u0275cmp=Ii({type:n,selectors:[["p-inputSwitch"]],viewQuery:function(i,r){if(1&i&&po(oxe,5),2&i){let o;Ti(o=Si())&&(r.input=o.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",tabindex:[2,"tabindex","tabindex",Eo],inputId:"inputId",name:"name",disabled:[2,"disabled","disabled",xn],readonly:[2,"readonly","readonly",xn],trueValue:"trueValue",falseValue:"falseValue",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",autofocus:[2,"autofocus","autofocus",xn]},outputs:{onChange:"onChange"},features:[Vr([axe]),ao],decls:5,vars:23,consts:[["input",""],[3,"click","ngClass","ngStyle"],[1,"p-hidden-accessible"],["type","checkbox","role","switch","pAutoFocus","",3,"focus","blur","checked","disabled","autofocus"],[1,"p-inputswitch-slider"]],template:function(i,r){if(1&i){const o=ur();$e(0,"div",1),Hn("click",function(c){return mn(o),pn(r.onClick(c))}),$e(1,"div",2)(2,"input",3,0),Hn("focus",function(){return mn(o),pn(r.onFocus())})("blur",function(){return mn(o),pn(r.onBlur())}),rt()(),Pn(4,"span",4),rt()}2&i&&(jr(r.styleClass),be("ngClass",Gp(19,sxe,r.checked(),r.disabled,r.focused))("ngStyle",r.style),Qt("data-pc-name","inputswitch")("data-pc-section","root"),Ie(),Qt("data-pc-section","hiddenInputWrapper")("data-p-hidden-accessible",!0),Ie(),be("checked",r.checked())("disabled",r.disabled)("autofocus",r.autofocus),Qt("id",r.inputId)("aria-checked",r.checked())("aria-labelledby",r.ariaLabelledBy)("aria-label",r.ariaLabel)("name",r.name)("tabindex",r.tabindex)("data-pc-section","hiddenInput"),Ie(2),Qt("data-pc-section","slider"))},dependencies:[Gl,Su,Gm],styles:['@layer primeng{.p-inputswitch{position:relative;display:inline-block;-webkit-user-select:none;user-select:none}.p-inputswitch-slider{position:absolute;cursor:pointer;inset:0;border:1px solid transparent}.p-inputswitch-slider:before{position:absolute;content:"";top:50%}}\n'],encapsulation:2,changeDetection:0})}return n})(),lxe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=bi({type:n});static \u0275inj=di({imports:[Gs,Xg]})}return n})(),DF=(()=>{class n extends mh{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fi(n)))(r||n)}})();static \u0275cmp=Ii({type:n,selectors:[["ChevronLeftIcon"]],standalone:!0,features:[cr,vo],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z","fill","currentColor"]],template:function(i,r){1&i&&(wa(),$e(0,"svg",0),Pn(1,"path",1),rt()),2&i&&(jr(r.getClassNames()),Qt("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})(),RF=(()=>{class n extends mh{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fi(n)))(r||n)}})();static \u0275cmp=Ii({type:n,selectors:[["ChevronRightIcon"]],standalone:!0,features:[cr,vo],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z","fill","currentColor"]],template:function(i,r){1&i&&(wa(),$e(0,"svg",0),Pn(1,"path",1),rt()),2&i&&(jr(r.getClassNames()),Qt("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})(),cxe=(()=>{class n{platformId;el;zone;config;renderer;viewContainer;tooltipPosition;tooltipEvent="hover";appendTo;positionStyle;tooltipStyleClass;tooltipZIndex;escape=!0;showDelay;hideDelay;life;positionTop;positionLeft;autoHide=!0;fitContent=!0;hideOnEscape=!0;content;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.deactivate()}tooltipOptions;_tooltipOptions={tooltipLabel:null,tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",positionStyle:null,tooltipStyleClass:null,tooltipZIndex:"auto",escape:!0,disabled:null,showDelay:null,hideDelay:null,positionTop:null,positionLeft:null,life:null,autoHide:!0,hideOnEscape:!0,id:Ru()+"_tooltip"};_disabled;container;styleClass;tooltipText;showTimeout;hideTimeout;active;mouseEnterListener;mouseLeaveListener;containerMouseleaveListener;clickListener;focusListener;blurListener;scrollHandler;resizeListener;interactionInProgress=!1;constructor(e,i,r,o,s,c){this.platformId=e,this.el=i,this.zone=r,this.config=o,this.renderer=s,this.viewContainer=c}ngAfterViewInit(){Du(this.platformId)&&this.zone.runOutsideAngular(()=>{const e=this.getOption("tooltipEvent");if(("hover"===e||"both"===e)&&(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener)),"focus"===e||"both"===e){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let i=this.getTarget(this.el.nativeElement);i.addEventListener("focus",this.focusListener),i.addEventListener("blur",this.blurListener)}})}ngOnChanges(e){e.tooltipPosition&&this.setOption({tooltipPosition:e.tooltipPosition.currentValue}),e.tooltipEvent&&this.setOption({tooltipEvent:e.tooltipEvent.currentValue}),e.appendTo&&this.setOption({appendTo:e.appendTo.currentValue}),e.positionStyle&&this.setOption({positionStyle:e.positionStyle.currentValue}),e.tooltipStyleClass&&this.setOption({tooltipStyleClass:e.tooltipStyleClass.currentValue}),e.tooltipZIndex&&this.setOption({tooltipZIndex:e.tooltipZIndex.currentValue}),e.escape&&this.setOption({escape:e.escape.currentValue}),e.showDelay&&this.setOption({showDelay:e.showDelay.currentValue}),e.hideDelay&&this.setOption({hideDelay:e.hideDelay.currentValue}),e.life&&this.setOption({life:e.life.currentValue}),e.positionTop&&this.setOption({positionTop:e.positionTop.currentValue}),e.positionLeft&&this.setOption({positionLeft:e.positionLeft.currentValue}),e.disabled&&this.setOption({disabled:e.disabled.currentValue}),e.content&&(this.setOption({tooltipLabel:e.content.currentValue}),this.active&&(e.content.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),e.autoHide&&this.setOption({autoHide:e.autoHide.currentValue}),e.id&&this.setOption({id:e.id.currentValue}),e.tooltipOptions&&(this._tooltipOptions={...this._tooltipOptions,...e.tooltipOptions.currentValue},this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(e){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(e){(this.isAutoHide()||!(_n.hasClass(e.relatedTarget,"p-tooltip")||_n.hasClass(e.relatedTarget,"p-tooltip-text")||_n.hasClass(e.relatedTarget,"p-tooltip-arrow")))&&this.deactivate()}onFocus(e){this.activate()}onBlur(e){this.deactivate()}onInputClick(e){this.deactivate()}onPressEscape(){this.hideOnEscape&&this.deactivate()}activate(){if(!this.interactionInProgress&&(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life"))){let e=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},e)}this.interactionInProgress=!0}deactivate(){this.interactionInProgress=!1,this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div"),this.container.setAttribute("id",this.getOption("id")),this.container.setAttribute("role","tooltip");let e=document.createElement("div");e.className="p-tooltip-arrow",this.container.appendChild(e),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?_n.appendChild(this.container,this.el.nativeElement):_n.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()?this.container.style.pointerEvents="none":(this.container.style.pointerEvents="unset",this.bindContainerMouseleaveListener())}bindContainerMouseleaveListener(){this.containerMouseleaveListener||(this.containerMouseleaveListener=this.renderer.listen(this.container??this.container.nativeElement,"mouseleave",i=>{this.deactivate()}))}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){this.getOption("tooltipLabel")&&!this.getOption("disabled")&&(this.create(),this.el.nativeElement.closest("p-dialog")?setTimeout(()=>{this.container&&this.align()},100):this.align(),_n.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?$g.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&$g.clear(this.container),this.remove()}updateText(){const e=this.getOption("tooltipLabel");if(e instanceof Hh){const i=this.viewContainer.createEmbeddedView(e);i.detectChanges(),i.rootNodes.forEach(r=>this.tooltipText.appendChild(r))}else this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(e))):this.tooltipText.innerHTML=e}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let e=this.el.nativeElement.getBoundingClientRect();return{left:e.left+_n.getWindowScrollLeft(),top:e.top+_n.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");const e=this.activeElement,i=this.getHostOffset(),r=i.left+_n.getOuterWidth(e),o=i.top+(_n.getOuterHeight(e)-_n.getOuterHeight(this.container))/2;this.container.style.left=r+this.getOption("positionLeft")+"px",this.container.style.top=o+this.getOption("positionTop")+"px"}get activeElement(){return this.el.nativeElement.nodeName.includes("P-")&&_n.findSingle(this.el.nativeElement,".p-component")||this.el.nativeElement}alignLeft(){this.preAlign("left");let e=this.getHostOffset(),i=e.left-_n.getOuterWidth(this.container),r=e.top+(_n.getOuterHeight(this.el.nativeElement)-_n.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let e=this.getHostOffset(),i=e.left+(_n.getOuterWidth(this.el.nativeElement)-_n.getOuterWidth(this.container))/2,r=e.top-_n.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let e=this.getHostOffset(),i=e.left+(_n.getOuterWidth(this.el.nativeElement)-_n.getOuterWidth(this.container))/2,r=e.top+_n.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}setOption(e){this._tooltipOptions={...this._tooltipOptions,...e}}getOption(e){return this._tooltipOptions[e]}getTarget(e){return _n.hasClass(e,"p-inputwrapper")?_n.findSingle(e,"input"):e.querySelector(".p-component")||e}preAlign(e){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+e;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let e=this.container.getBoundingClientRect(),i=e.top,r=e.left,o=_n.getOuterWidth(this.container),s=_n.getOuterHeight(this.container),c=_n.getViewport();return r+o>c.width||r<0||i<0||i+s>c.height}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new jme(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){const e=this.getOption("tooltipEvent");if(("hover"===e||"both"===e)&&(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)),"focus"===e||"both"===e){let i=this.getTarget(this.el.nativeElement);i.removeEventListener("focus",this.focusListener),i.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):_n.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&$g.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}static \u0275fac=function(i){return new(i||n)(Re(Pa),Re(or),Re(Ri),Re(Wf),Re(tu),Re(hh))};static \u0275dir=zn({type:n,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],hostBindings:function(i,r){1&i&&Hn("keydown.escape",function(s){return r.onPressEscape(s)},0,T5)},inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:[2,"escape","escape",xn],showDelay:[2,"showDelay","showDelay",Eo],hideDelay:[2,"hideDelay","hideDelay",Eo],life:[2,"life","life",Eo],positionTop:[2,"positionTop","positionTop",Eo],positionLeft:[2,"positionLeft","positionLeft",Eo],autoHide:[2,"autoHide","autoHide",xn],fitContent:[2,"fitContent","fitContent",xn],hideOnEscape:[2,"hideOnEscape","hideOnEscape",xn],content:[0,"pTooltip","content"],disabled:[0,"tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[ao,Qs]})}return n})(),MF=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=bi({type:n});static \u0275inj=di({imports:[Gs]})}return n})();const bq=["*"];function uxe(n,t){1&n&&rs(0)}function dxe(n,t){if(1&n&&(lo(0),Kt(1,uxe,1,0,"ng-container",3),co()),2&n){const e=He(2);Ie(),be("ngTemplateOutlet",e.contentTemplate)}}function hxe(n,t){if(1&n&&($e(0,"div",1),Zr(1),Kt(2,dxe,2,1,"ng-container",2),rt()),2&n){const e=He();be("hidden",!e.selected),Qt("id",e.tabView.getTabContentId(e.id))("aria-hidden",!e.selected)("aria-labelledby",e.tabView.getTabHeaderActionId(e.id))("data-pc-name","tabpanel"),Ie(2),be("ngIf",e.contentTemplate&&(e.cache?e.loaded:e.selected))}}const pxe=["content"],fxe=["navbar"],Axe=["prevBtn"],mxe=["nextBtn"],gxe=["inkbar"],_xe=["elementToObserve"],vxe=n=>({"p-tabview p-component":!0,"p-tabview-scrollable":n}),yxe=(n,t)=>({"p-highlight":n,"p-disabled":t});function bxe(n,t){1&n&&Pn(0,"ChevronLeftIcon"),2&n&&Qt("aria-hidden",!0)}function wxe(n,t){}function xxe(n,t){1&n&&Kt(0,wxe,0,0,"ng-template")}function Exe(n,t){if(1&n){const e=ur();$e(0,"button",15,4),Hn("click",function(){return mn(e),pn(He().navBackward())}),Kt(2,bxe,1,1,"ChevronLeftIcon",16)(3,xxe,1,0,null,17),rt()}if(2&n){const e=He();Qt("tabindex",e.tabindex)("aria-label",e.prevButtonAriaLabel),Ie(2),be("ngIf",!e.previousIconTemplate),Ie(),be("ngTemplateOutlet",e.previousIconTemplate)}}function Cxe(n,t){1&n&&Pn(0,"span",26),2&n&&be("ngClass",He(3).$implicit.leftIcon)}function Ixe(n,t){}function Txe(n,t){1&n&&Kt(0,Ixe,0,0,"ng-template")}function Sxe(n,t){if(1&n&&($e(0,"span",27),Kt(1,Txe,1,0,null,17),rt()),2&n){const e=He(3).$implicit;Ie(),be("ngTemplateOutlet",e.leftIconTemplate)}}function kxe(n,t){1&n&&Pn(0,"span",28),2&n&&be("ngClass",He(3).$implicit.rightIcon)}function Dxe(n,t){}function Rxe(n,t){1&n&&Kt(0,Dxe,0,0,"ng-template")}function Mxe(n,t){if(1&n&&($e(0,"span",29),Kt(1,Rxe,1,0,null,17),rt()),2&n){const e=He(3).$implicit;Ie(),be("ngTemplateOutlet",e.rightIconTemplate)}}function Bxe(n,t){if(1&n&&(lo(0),Kt(1,Cxe,1,1,"span",21)(2,Sxe,2,1,"span",22),$e(3,"span",23),$i(4),rt(),Kt(5,kxe,1,1,"span",24)(6,Mxe,2,1,"span",25),co()),2&n){const e=He(2).$implicit;Ie(),be("ngIf",e.leftIcon&&!e.leftIconTemplate),Ie(),be("ngIf",e.leftIconTemplate),Ie(2),Oa(e.header),Ie(),be("ngIf",e.rightIcon&&!e.rightIconTemplate),Ie(),be("ngIf",e.rightIconTemplate)}}function Pxe(n,t){1&n&&rs(0)}function Oxe(n,t){if(1&n){const e=ur();$e(0,"TimesIcon",32),Hn("click",function(r){mn(e);const o=He(3).$implicit;return pn(He().close(r,o))}),rt()}2&n&&be("styleClass","p-tabview-close")}function Fxe(n,t){1&n&&Pn(0,"span",33)}function Lxe(n,t){}function Nxe(n,t){1&n&&Kt(0,Lxe,0,0,"ng-template")}function Uxe(n,t){if(1&n&&(lo(0),Kt(1,Oxe,1,1,"TimesIcon",30)(2,Fxe,1,0,"span",31)(3,Nxe,1,0,null,17),co()),2&n){const e=He(2).$implicit;Ie(),be("ngIf",!e.closeIconTemplate),Ie(),be("ngIf",e.closeIconTemplate),Ie(),be("ngTemplateOutlet",e.closeIconTemplate)}}function Vxe(n,t){if(1&n){const e=ur();$e(0,"li",19)(1,"a",20),Hn("click",function(r){mn(e);const o=He().$implicit;return pn(He().open(r,o))})("keydown",function(r){mn(e);const o=He().$implicit;return pn(He().onTabKeyDown(r,o))}),Kt(2,Bxe,7,5,"ng-container",16)(3,Pxe,1,0,"ng-container",17)(4,Uxe,4,3,"ng-container",16),rt()()}if(2&n){const e=He(),i=e.$implicit,r=e.index,o=He();jr(i.headerStyleClass),be("ngClass",Xa(19,yxe,i.selected,i.disabled))("ngStyle",i.headerStyle),Qt("data-p-disabled",i.disabled),Ie(),be("pTooltip",i.tooltip)("tooltipPosition",i.tooltipPosition)("positionStyle",i.tooltipPositionStyle)("tooltipStyleClass",i.tooltipStyleClass),Qt("id",o.getTabHeaderActionId(i.id))("aria-controls",o.getTabContentId(i.id))("aria-selected",i.selected)("tabindex",i.disabled||!i.selected?"-1":o.tabindex)("aria-disabled",i.disabled)("data-pc-index",r)("data-pc-section","headeraction"),Ie(),be("ngIf",!i.headerTemplate),Ie(),be("ngTemplateOutlet",i.headerTemplate),Ie(),be("ngIf",i.closable)}}function Qxe(n,t){1&n&&Kt(0,Vxe,5,22,"li",18),2&n&&be("ngIf",!t.$implicit.closed)}function jxe(n,t){1&n&&Pn(0,"ChevronRightIcon"),2&n&&Qt("aria-hidden",!0)}function zxe(n,t){}function Gxe(n,t){1&n&&Kt(0,zxe,0,0,"ng-template")}function Hxe(n,t){if(1&n){const e=ur();$e(0,"button",34,5),Hn("click",function(){return mn(e),pn(He().navForward())}),Kt(2,jxe,1,1,"ChevronRightIcon",16)(3,Gxe,1,0,null,17),rt()}if(2&n){const e=He();Qt("tabindex",e.tabindex)("aria-label",e.nextButtonAriaLabel),Ie(2),be("ngIf",!e.nextIconTemplate),Ie(),be("ngTemplateOutlet",e.nextIconTemplate)}}let wq=(()=>{class n{el;viewContainer;cd;closable=!1;get headerStyle(){return this._headerStyle}set headerStyle(e){this._headerStyle=e,this.tabView.cd.markForCheck()}get headerStyleClass(){return this._headerStyleClass}set headerStyleClass(e){this._headerStyleClass=e,this.tabView.cd.markForCheck()}cache=!0;tooltip;tooltipPosition="top";tooltipPositionStyle="absolute";tooltipStyleClass;get selected(){return!!this._selected}set selected(e){this._selected=e,this.loaded||this.cd.detectChanges(),e&&(this.loaded=!0)}get disabled(){return!!this._disabled}set disabled(e){this._disabled=e,this.tabView.cd.markForCheck()}get header(){return this._header}set header(e){this._header=e,Promise.resolve().then(()=>{this.tabView.updateInkBar(),this.tabView.cd.markForCheck()})}get leftIcon(){return this._leftIcon}set leftIcon(e){this._leftIcon=e,this.tabView.cd.markForCheck()}get rightIcon(){return this._rightIcon}set rightIcon(e){this._rightIcon=e,this.tabView.cd.markForCheck()}templates;closed=!1;view=null;_headerStyle;_headerStyleClass;_selected;_disabled;_header;_leftIcon;_rightIcon=void 0;loaded=!1;id;contentTemplate;headerTemplate;leftIconTemplate;rightIconTemplate;closeIconTemplate;tabView;constructor(e,i,r,o){this.el=i,this.viewContainer=r,this.cd=o,this.tabView=e,this.id=Ru()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":default:this.contentTemplate=e.template;break;case"righticon":this.rightIconTemplate=e.template;break;case"lefticon":this.leftIconTemplate=e.template;break;case"closeicon":this.closeIconTemplate=e.template}})}ngOnDestroy(){this.view=null}static \u0275fac=function(i){return new(i||n)(Re(Ir(()=>xq)),Re(or),Re(hh),Re(qo))};static \u0275cmp=Ii({type:n,selectors:[["p-tabPanel"]],contentQueries:function(i,r,o){if(1&i&&jo(o,sd,4),2&i){let s;Ti(s=Si())&&(r.templates=s)}},hostAttrs:[1,"p-element"],inputs:{closable:[2,"closable","closable",xn],headerStyle:"headerStyle",headerStyleClass:"headerStyleClass",cache:[2,"cache","cache",xn],tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",selected:"selected",disabled:"disabled",header:"header",leftIcon:"leftIcon",rightIcon:"rightIcon"},features:[ao],ngContentSelectors:bq,decls:1,vars:1,consts:[["class","p-tabview-panel","role","tabpanel",3,"hidden",4,"ngIf"],["role","tabpanel",1,"p-tabview-panel",3,"hidden"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(i,r){1&i&&(zs(),Kt(0,hxe,3,6,"div",0)),2&i&&be("ngIf",!r.closed)},dependencies:[xl,ku],encapsulation:2})}return n})(),xq=(()=>{class n{platformId;el;cd;renderer;style;styleClass;controlClose;scrollable;get activeIndex(){return this._activeIndex}set activeIndex(e){this._activeIndex=e,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.tabs&&this.tabs.length&&null!=this._activeIndex&&this.tabs.length>this._activeIndex&&(this.findSelectedTab().selected=!1,this.tabs[this._activeIndex].selected=!0,this.tabChanged=!0,this.updateScrollBar(e))}selectOnFocus=!1;nextButtonAriaLabel;prevButtonAriaLabel;autoHideButtons=!0;tabindex=0;onChange=new ni;onClose=new ni;activeIndexChange=new ni;content;navbar;prevBtn;nextBtn;inkbar;tabPanels;templates;initialized;tabs;_activeIndex;preventActiveIndexPropagation;tabChanged;backwardIsDisabled=!0;forwardIsDisabled=!1;tabChangesSubscription;nextIconTemplate;previousIconTemplate;resizeObserver;container;list;buttonVisible;elementToObserve;constructor(e,i,r,o){this.platformId=e,this.el=i,this.cd=r,this.renderer=o}ngAfterContentInit(){this.initTabs(),this.tabChangesSubscription=this.tabPanels.changes.subscribe(e=>{this.initTabs(),this.refreshButtonState(),this.callResizeObserver()}),this.templates.forEach(e=>{switch(e.getType()){case"previousicon":this.previousIconTemplate=e.template;break;case"nexticon":this.nextIconTemplate=e.template}})}callResizeObserver(){Du(this.platformId)&&this.autoHideButtons&&this.bindResizeObserver()}ngAfterViewInit(){this.callResizeObserver()}bindResizeObserver(){this.container=_n.findSingle(this.el.nativeElement,'[data-pc-section="navcontent"]'),this.list=_n.findSingle(this.el.nativeElement,'[data-pc-section="nav"]'),this.resizeObserver=new ResizeObserver(()=>{this.buttonVisible=this.list.offsetWidth>=this.container.offsetWidth,this.updateButtonState(),this.cd.detectChanges()}),this.resizeObserver.observe(this.container)}unbindResizeObserver(){this.resizeObserver.unobserve(this.elementToObserve.nativeElement),this.resizeObserver=null}ngAfterViewChecked(){Du(this.platformId)&&this.tabChanged&&(this.updateInkBar(),this.tabChanged=!1)}ngOnDestroy(){this.tabChangesSubscription&&this.tabChangesSubscription.unsubscribe(),this.resizeObserver&&this.unbindResizeObserver()}getTabHeaderActionId(e){return`${e}_header_action`}getTabContentId(e){return`${e}_content`}initTabs(){this.tabs=this.tabPanels.toArray(),!this.findSelectedTab()&&this.tabs.length&&(null!=this.activeIndex&&this.tabs.length>this.activeIndex?this.tabs[this.activeIndex].selected=!0:this.tabs[0].selected=!0,this.tabChanged=!0),this.cd.markForCheck()}onTabKeyDown(e,i){switch(e.code){case"ArrowLeft":this.onTabArrowLeftKey(e);break;case"ArrowRight":this.onTabArrowRightKey(e);break;case"Home":case"PageUp":this.onTabHomeKey(e);break;case"End":case"PageDown":this.onTabEndKey(e);break;case"Enter":case"Space":this.open(e,i)}}onTabArrowLeftKey(e){const i=this.findPrevHeaderAction(e.target.parentElement),r=_n.getAttribute(i,"data-pc-index");i?this.changeFocusedTab(e,i,r):this.onTabEndKey(e),e.preventDefault()}onTabArrowRightKey(e){const i=this.findNextHeaderAction(e.target.parentElement),r=_n.getAttribute(i,"data-pc-index");i?this.changeFocusedTab(e,i,r):this.onTabHomeKey(e),e.preventDefault()}onTabHomeKey(e){const i=this.findFirstHeaderAction(),r=_n.getAttribute(i,"data-pc-index");this.changeFocusedTab(e,i,r),e.preventDefault()}onTabEndKey(e){const i=this.findLastHeaderAction(),r=_n.getAttribute(i,"data-pc-index");this.changeFocusedTab(e,i,r),e.preventDefault()}changeFocusedTab(e,i,r){i&&(_n.focus(i),i.scrollIntoView({block:"nearest"}),this.selectOnFocus)&&this.open(e,this.tabs[r])}findNextHeaderAction(e,i=!1){const r=i?e:e.nextElementSibling;return r?_n.getAttribute(r,"data-p-disabled")||"inkbar"===_n.getAttribute(r,"data-pc-section")?this.findNextHeaderAction(r):_n.findSingle(r,'[data-pc-section="headeraction"]'):null}findPrevHeaderAction(e,i=!1){const r=i?e:e.previousElementSibling;return r?_n.getAttribute(r,"data-p-disabled")||"inkbar"===_n.getAttribute(r,"data-pc-section")?this.findPrevHeaderAction(r):_n.findSingle(r,'[data-pc-section="headeraction"]'):null}findFirstHeaderAction(){return this.findNextHeaderAction(this.navbar.nativeElement.firstElementChild,!0)}findLastHeaderAction(){const e=this.navbar.nativeElement.lastElementChild,i="inkbar"===_n.getAttribute(e,"data-pc-section")?e.previousElementSibling:e;return this.findPrevHeaderAction(i,!0)}open(e,i){if(i.disabled)e&&e.preventDefault();else{if(!i.selected){let r=this.findSelectedTab();r&&(r.selected=!1),this.tabChanged=!0,i.selected=!0;let o=this.findTabIndex(i);this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(o),this.onChange.emit({originalEvent:e,index:o}),this.updateScrollBar(o)}e&&e.preventDefault()}}close(e,i){this.controlClose?this.onClose.emit({originalEvent:e,index:this.findTabIndex(i),close:()=>{this.closeTab(i)}}):(this.closeTab(i),this.onClose.emit({originalEvent:e,index:this.findTabIndex(i)}))}closeTab(e){if(!e.disabled){if(e.selected){this.tabChanged=!0,e.selected=!1;for(let i=0;i<this.tabs.length;i++){let r=this.tabs[i];if(!r.closed&&!e.disabled){r.selected=!0;break}}}e.closed=!0,setTimeout(()=>{this.updateInkBar()})}}findSelectedTab(){for(let e=0;e<this.tabs.length;e++)if(this.tabs[e].selected)return this.tabs[e];return null}findTabIndex(e){let i=-1;for(let r=0;r<this.tabs.length;r++)if(this.tabs[r]==e){i=r;break}return i}getBlockableElement(){return this.el.nativeElement.children[0]}updateInkBar(){if(Du(this.platformId)&&this.navbar){const e=_n.findSingle(this.navbar.nativeElement,"li.p-highlight");if(!e)return;this.inkbar.nativeElement.style.width=_n.getWidth(e)+"px",this.inkbar.nativeElement.style.left=_n.getOffset(e).left-_n.getOffset(this.navbar.nativeElement).left+"px"}}updateScrollBar(e){let i=this.navbar.nativeElement.children[e];i&&i.scrollIntoView({block:"nearest"})}updateButtonState(){const e=this.content.nativeElement,{scrollLeft:i,scrollWidth:r}=e,o=_n.getWidth(e);this.backwardIsDisabled=0===i,this.forwardIsDisabled=Math.round(i)===r-o}refreshButtonState(){this.container=_n.findSingle(this.el.nativeElement,'[data-pc-section="navcontent"]'),this.list=_n.findSingle(this.el.nativeElement,'[data-pc-section="nav"]'),this.list.offsetWidth>=this.container.offsetWidth&&(this.buttonVisible=this.list.offsetWidth>=this.container.offsetWidth,this.updateButtonState(),this.cd.markForCheck())}onScroll(e){this.scrollable&&this.updateButtonState(),e.preventDefault()}getVisibleButtonWidths(){return[this.prevBtn?.nativeElement,this.nextBtn?.nativeElement].reduce((e,i)=>i?e+_n.getWidth(i):e,0)}navBackward(){const e=this.content.nativeElement,i=_n.getWidth(e)-this.getVisibleButtonWidths(),r=e.scrollLeft-i;e.scrollLeft=r<=0?0:r}navForward(){const e=this.content.nativeElement,i=_n.getWidth(e)-this.getVisibleButtonWidths(),r=e.scrollLeft+i,o=e.scrollWidth-i;e.scrollLeft=r>=o?o:r}static \u0275fac=function(i){return new(i||n)(Re(Pa),Re(or),Re(qo),Re(tu))};static \u0275cmp=Ii({type:n,selectors:[["p-tabView"]],contentQueries:function(i,r,o){if(1&i&&(jo(o,wq,4),jo(o,sd,4)),2&i){let s;Ti(s=Si())&&(r.tabPanels=s),Ti(s=Si())&&(r.templates=s)}},viewQuery:function(i,r){if(1&i&&(po(pxe,5),po(fxe,5),po(Axe,5),po(mxe,5),po(gxe,5),po(_xe,5)),2&i){let o;Ti(o=Si())&&(r.content=o.first),Ti(o=Si())&&(r.navbar=o.first),Ti(o=Si())&&(r.prevBtn=o.first),Ti(o=Si())&&(r.nextBtn=o.first),Ti(o=Si())&&(r.inkbar=o.first),Ti(o=Si())&&(r.elementToObserve=o.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",controlClose:[2,"controlClose","controlClose",xn],scrollable:[2,"scrollable","scrollable",xn],activeIndex:"activeIndex",selectOnFocus:[2,"selectOnFocus","selectOnFocus",xn],nextButtonAriaLabel:"nextButtonAriaLabel",prevButtonAriaLabel:"prevButtonAriaLabel",autoHideButtons:[2,"autoHideButtons","autoHideButtons",xn],tabindex:[2,"tabindex","tabindex",Eo]},outputs:{onChange:"onChange",onClose:"onClose",activeIndexChange:"activeIndexChange"},features:[ao],ngContentSelectors:bq,decls:14,vars:13,consts:[["elementToObserve",""],["content",""],["navbar",""],["inkbar",""],["prevBtn",""],["nextBtn",""],[3,"ngClass","ngStyle"],[1,"p-tabview-nav-container"],["class","p-tabview-nav-prev p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-nav-content",3,"scroll"],["role","tablist",1,"p-tabview-nav"],["ngFor","",3,"ngForOf"],["role","presentation","aria-hidden","true",1,"p-tabview-ink-bar"],["class","p-tabview-nav-next p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-panels"],["type","button","pRipple","",1,"p-tabview-nav-prev","p-tabview-nav-btn","p-link",3,"click"],[4,"ngIf"],[4,"ngTemplateOutlet"],["role","presentation",3,"ngClass","ngStyle","class",4,"ngIf"],["role","presentation",3,"ngClass","ngStyle"],["role","tab","pRipple","",1,"p-tabview-nav-link",3,"click","keydown","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],["class","p-tabview-left-icon",3,"ngClass",4,"ngIf"],["class","p-tabview-left-icon",4,"ngIf"],[1,"p-tabview-title"],["class","p-tabview-right-icon",3,"ngClass",4,"ngIf"],["class","p-tabview-right-icon",4,"ngIf"],[1,"p-tabview-left-icon",3,"ngClass"],[1,"p-tabview-left-icon"],[1,"p-tabview-right-icon",3,"ngClass"],[1,"p-tabview-right-icon"],[3,"styleClass","click",4,"ngIf"],["class","tab.closeIconTemplate",4,"ngIf"],[3,"click","styleClass"],[1,"tab.closeIconTemplate"],["type","button","pRipple","",1,"p-tabview-nav-next","p-tabview-nav-btn","p-link",3,"click"]],template:function(i,r){if(1&i){const o=ur();zs(),$e(0,"div",6)(1,"div",7,0),Kt(3,Exe,4,4,"button",8),$e(4,"div",9,1),Hn("scroll",function(c){return mn(o),pn(r.onScroll(c))}),$e(6,"ul",10,2),Kt(8,Qxe,1,1,"ng-template",11),Pn(9,"li",12,3),rt()(),Kt(11,Hxe,4,4,"button",13),rt(),$e(12,"div",14),Zr(13),rt()()}2&i&&(jr(r.styleClass),be("ngClass",gs(11,vxe,r.scrollable))("ngStyle",r.style),Qt("data-pc-name","tabview"),Ie(3),be("ngIf",r.scrollable&&!r.backwardIsDisabled&&r.autoHideButtons),Ie(),Qt("data-pc-section","navcontent"),Ie(2),Qt("data-pc-section","nav"),Ie(2),be("ngForOf",r.tabs),Ie(),Qt("data-pc-section","inkbar"),Ie(2),be("ngIf",r.scrollable&&!r.forwardIsDisabled&&r.buttonVisible))},dependencies:()=>[Gl,Qf,xl,ku,Su,cxe,Nv,Vv,DF,RF],styles:["@layer primeng{.p-tabview-nav-container{position:relative}.p-tabview-scrollable .p-tabview-nav-container{overflow:hidden}.p-tabview-nav-content{overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;scrollbar-width:none;overscroll-behavior:contain auto}.p-tabview-nav{display:inline-flex;min-width:100%;margin:0;padding:0;list-style-type:none;flex:1 1 auto}.p-tabview-nav-link{cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;position:relative;text-decoration:none;overflow:hidden}.p-tabview-ink-bar{display:none;z-index:1}.p-tabview-nav-link:focus{z-index:1}.p-tabview-title{line-height:1;white-space:nowrap}.p-tabview-nav-btn{position:absolute;top:0;z-index:2;height:100%;display:flex;align-items:center;justify-content:center}.p-tabview-nav-prev{left:0}.p-tabview-nav-next{right:0}.p-tabview-nav-content::-webkit-scrollbar{display:none}.p-tabview-close{z-index:1}}\n"],encapsulation:2,changeDetection:0})}return n})(),qxe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=bi({type:n});static \u0275inj=di({imports:[Gs,dl,MF,Yg,Vv,DF,RF,dl]})}return n})();const Kxe=()=>({width:"80%"}),Wxe=()=>({height:"6px",width:"80vw",marginTop:".5em",backgroundColor:"white"});function $xe(n,t){1&n&&($e(0,"div",5),Pn(1,"p-button",6),rt()),2&n&&(Ie(),be("text",!0))}function Xxe(n,t){1&n&&Pn(0,"i",28)}function Yxe(n,t){if(1&n&&($e(0,"h3"),$i(1),rt()),2&n){const e=He(2);Ie(),Oa(e.currentCity)}}function Zxe(n,t){1&n&&Pn(0,"i",29)}function Jxe(n,t){if(1&n&&($e(0,"div",30),$i(1),rt()),2&n){const e=t.$implicit;Ie(),Oa(e.name)}}function eEe(n,t){if(1&n){const e=ur();$e(0,"div",31)(1,"label"),$i(2),rt(),$e(3,"p-checkbox",32),Wh("ngModelChange",function(r){mn(e);const o=He(2);return zp(o.selectedCuisine,r)||(o.selectedCuisine=r),pn(r)}),rt()()}if(2&n){const e=t.$implicit,i=He(2);Ie(2),Oa(e.name),Ie(),be("value",e.code),Kh("ngModel",i.selectedCuisine)}}function tEe(n,t){if(1&n){const e=ur();$e(0,"div",7)(1,"div",8)(2,"h1"),$i(3,"Location"),rt(),$e(4,"p-tabView",9),Hn("onChange",function(r){return mn(e),pn(He().onTabChange(r))}),$e(5,"p-tabPanel",10)(6,"div",11),Kt(7,Xxe,1,0,"i",12)(8,Yxe,2,1,"h3",13)(9,Zxe,1,0,"i",14),rt()(),$e(10,"p-tabPanel",15),Pn(11,"div",16),rt()()(),$e(12,"div",8)(13,"h1"),$i(14,"Search Radius"),rt(),$e(15,"div",17)(16,"input",18),Wh("ngModelChange",function(r){mn(e);const o=He();return zp(o.sliderValue,r)||(o.sliderValue=r),pn(r)}),rt(),$e(17,"span",19)(18,"i"),$i(19,"Miles"),rt()()(),$e(20,"p-slider",20),Wh("ngModelChange",function(r){mn(e);const o=He();return zp(o.sliderValue,r)||(o.sliderValue=r),pn(r)}),rt()(),$e(21,"div",21)(22,"p-inputSwitch",22),Wh("ngModelChange",function(r){mn(e);const o=He();return zp(o.showOpenRestaurants,r)||(o.showOpenRestaurants=r),pn(r)}),rt(),$e(23,"h2"),$i(24,"Only show restaurants that are open"),rt()(),$e(25,"div",8)(26,"h1"),$i(27,"Price Range"),rt(),$e(28,"div",23)(29,"p-selectButton",24),Wh("ngModelChange",function(r){mn(e);const o=He();return zp(o.priceRange,r)||(o.priceRange=r),pn(r)}),Kt(30,Jxe,2,1,"ng-template",25),rt()()(),$e(31,"div",8)(32,"h1"),$i(33,"Cuisine"),rt(),Kt(34,eEe,4,3,"div",26),rt(),$e(35,"p-button",27),Hn("click",function(){return mn(e),pn(He().createRoom())}),rt()()}if(2&n){const e=He();Ie(7),be("ngIf",e.currentCity),Ie(),be("ngIf",e.currentCity),Ie(),be("ngIf",e.gettingLocation||!e.currentCity),Ie(),be("disabled",!e.currentCity&&!e.gettingLocation),Ie(6),Kh("ngModel",e.sliderValue),be("max",20)("min",1),Ie(4),Kh("ngModel",e.sliderValue),be("max",20)("min",1),Ie(2),Kh("ngModel",e.showOpenRestaurants),Ie(7),be("options",e.stateOptions),Kh("ngModel",e.priceRange),be("multiple",!1),Ie(5),be("ngForOf",e.cuisineOptions),Ie(),be("rounded",!0)("disabled",!e.currentCity)}}function nEe(n,t){if(1&n){const e=ur();$e(0,"div",33)(1,"span",34),$i(2,"lunch_dining"),rt(),$e(3,"h1"),$i(4,"Firing Up The Grill"),rt(),Pn(5,"p-progressBar",35),$e(6,"h1",36),$i(7,"* Please wait while we load restaurants. This might take longer during our beta testing phase."),rt(),$e(8,"p-button",37),Hn("click",function(){return mn(e),pn(He().cancelRequest())}),rt()()}2&n&&(Ie(5),nu($h(3,Wxe)),Ie(3),be("rounded",!0))}let BF,iEe=(()=>{class n{constructor(e,i,r,o,s){this.restaurantsService=e,this.db=i,this.router=r,this.http=o,this.cdr=s,this.loadingRestaurants=!1,this.displayNoRestaurantsDialog=!1,this.cancelSubject=new $,this.sliderValue=5,this.showOpenRestaurants=!1,this.priceRange="1,2,3",this.isDisabled=!0,this.locationAccessGranted=!1,this.generatedCode="",this.gettingLocation=!1,this.stateOptions=[{name:"$",value:1},{name:"$$",value:2},{name:"$$$",value:3}],this.cuisineOptions=[{name:"American",code:"american"},{name:"Fast Food",code:"hotdogs"},{name:"Chinese",code:"chinese"},{name:"Mexican",code:"mexican"},{name:"Italian",code:"italian"},{name:"Japanese",code:"japanese"},{name:"Indian",code:"indian"},{name:"Mediterranean",code:"mediterranean"},{name:"French",code:"french"},{name:"Thai",code:"thai"},{name:"BBQ",code:"bbq"},{name:"Vietnamese",code:"vietnamese"},{name:"Korean",code:"korean"},{name:"Spanish",code:"spanish"},{name:"Greek",code:"greek"}],this.onIcon="pi pi-check",this.title="my-map-app",this.selectedTab="Current Location",this.tabOptions=[{label:"Current Location",value:"Current Location"},{label:"Pick Location",value:"Pick Location"}]}ngOnInit(){this.checkLocationAccess(),this.savedName=localStorage.getItem("savedName")||"",document.querySelector("#hotdog path"),document.querySelector("#pizza path"),navigator.geolocation.getCurrentPosition(r=>{const o=r.coords.latitude,s=r.coords.longitude;this.currentLat=o,this.currentLong=s,console.log(this.currentLat,this.currentLong),this.gettingLocation=!0,this.loadMap(),fetch(`https://api.tomtom.com/search/2/reverseGeocode/${o},${s}.json?key=3ZjdFz1Akj5Z0GXSGDoitGkGrmDvqK2x&returnType=geographies&language=en-US&extendedPostalCodesFor=Addr&addressTypeSet=Geo&limit=1&addressType=&idxSet=`).then(w=>{if(!w.ok)throw new Error("Network response was not ok");return w.json()}).then(w=>{const T=w.addresses[0]?.address?.municipality,F=w.addresses[0]?.address?.principalSubdivision;this.currentCity=T,this.gettingLocation=!1,console.log("User coordinates:",o,s),console.log("User city:",T),console.log("User state:",F)}).catch(w=>{console.error("Error fetching city and state:",w)})},r=>{console.error("Error getting location:",r.message)})}ngAfterViewInit(){}checkLocationAccess(){"geolocation"in navigator?navigator.geolocation.getCurrentPosition(e=>{this.locationAccessGranted=!0},e=>{e.code===e.PERMISSION_DENIED&&(this.locationAccessGranted=!1)}):this.locationAccessGranted=!1}loadMap(){this.map=xF().map({key:HH_tomtom_key,container:"map"}),this.map.addControl(new(xF().NavigationControl)),this.addMarker(this.currentLat,this.currentLong),console.log(this.currentLat,this.currentLong),this.map.on("click",e=>{const{lat:i,lng:r}=e.lngLat;this.addMarker(i,r),this.pickedLat=i,this.pickedLng=r}),this.cdr.detectChanges()}addMarker(e,i){this.marker&&this.marker.remove(),this.marker=(new(xF().Marker)).setLngLat({lat:e,lng:i}).addTo(this.map)}onTabChange(e){this.selectedTab=0===e.index?"Current Location":"Pick Location"}onLocationChange(){document.getElementById("map").style.display="2"===this.location?"block":"none"}createRoom(){this.loadingRestaurants=!0,this.generatedCode=this.generateUniqueCode(),localStorage.setItem("generatedCode",this.generatedCode);const e=Date.now()+864e5;this.db.object(`rooms/${this.generatedCode}`).set({expires:e}).then(()=>{}).catch(o=>{}),this.db.list(`rooms/${this.generatedCode}/users/${this.savedName}`).set("ready",!1).then(()=>{}).catch(o=>{console.error("Error adding user to the room:",o)}),this.db.list(`rooms/${this.generatedCode}/users/${this.savedName}`).set("userLevel",1).then(()=>{}).catch(o=>{console.error("Error adding user to the room:",o)}),this.db.list(`rooms/${this.generatedCode}/users/${this.savedName}`).set("name",this.savedName).then(()=>{}).catch(o=>{console.error("Error adding user to the room:",o)}),this.db.object(`rooms/${this.generatedCode}/match/`).set(!1).then(()=>{}).catch(o=>{console.error("Error setting boolean value in the room:",o)});let i=null,r=null;navigator.geolocation.getCurrentPosition(o=>{console.log(o),"Current Location"===this.selectedTab?(i=o.coords.latitude,r=o.coords.longitude):"Pick Location"===this.selectedTab&&(i=this.pickedLat,r=this.pickedLng);const s=this.sliderValue,c=this.showOpenRestaurants,u=this.priceRange,g=this.selectedCuisine,w=i.toString(),T=r.toString();localStorage.setItem("latitude",w),localStorage.setItem("longitude",T),console.log("Latitude:",i),console.log("Longitude:",r),console.log(this.selectedCuisine);const F=g&&g.length>0?g.toString():"";this.restaurantsService.getRestaurants(i,r,s,c,u,F).pipe(hc(this.cancelSubject)).subscribe(ee=>{console.log("Restaurants:",ee),console.log(ee.length),ee.length<=0?this.displayNoRestaurantsDialog=!0:this.db.object(`rooms/${this.generatedCode}/restaurants`).set(ee).then(()=>{console.log("Restaurants added to the room"),this.router.navigateByUrl("/room-overview")}).catch(Ae=>{console.error("Error updating room with restaurants:",Ae)})},ee=>{console.error("Error fetching restaurants:",ee)})},o=>{console.error("Error getting location:",o.message)})}cancelRequest(){this.cancelSubject.next(),this.loadingRestaurants=!1}hideNoRestaurantsDialog(){this.loadingRestaurants=!1,this.displayNoRestaurantsDialog=!1}getCoordinatesFromZipCode(e){this.http.get(`https://maps.googleapis.com/maps/api/geocode/json?address=${e}&key=YOUR_API_KEY`).subscribe(o=>{if("OK"===o.status&&o.results.length>0){const{lat:s,lng:c}=o.results[0].geometry.location;console.log("Latitude:",s),console.log("Longitude:",c)}else console.error("Error retrieving coordinates for the provided zip code")})}generateUniqueCode(){return(Math.floor(9e5*Math.random())+1e5).toString()}static#e=this.\u0275fac=function(i){return new(i||n)(Re(Aq),Re(_E),Re(rd),Re(bE),Re(qo))};static#t=this.\u0275cmp=Ii({type:n,selectors:[["app-create-room"]],decls:7,vars:7,consts:[["class","cancelButtonDiv",4,"ngIf"],["class","pageContainer",4,"ngIf"],["class","loadingScreen",4,"ngIf"],["header","No Restaurants Found","closable","false",1,"dialog",3,"visibleChange","visible"],["label","OK","icon","pi pi-check",3,"click"],[1,"cancelButtonDiv"],["routerLink","/home","size","large","pRipple","","label","Back","icon","pi pi-arrow-left",1,"backButton",3,"text"],[1,"pageContainer"],[1,"formContainer"],[1,"tabView",3,"onChange"],["header","Current Location"],[1,"currentLocationContainer"],["class","pi pi-map-marker","style","font-size: 1.5rem",4,"ngIf"],[4,"ngIf"],["class","pi pi-spin pi-spinner","style","font-size: 2rem",4,"ngIf"],["header","Pick Location",3,"disabled"],["id","map"],[1,"p-inputgroup","sliderInput"],["type","number","pInputText","",1,"w-full",3,"ngModelChange","ngModel","max","min"],[1,"p-inputgroup-addon"],[1,"w-full",3,"ngModelChange","ngModel","max","min"],[1,"formContainer","toggleButton"],["onLabel","Show open restaurants","offLabel","Hide closed restaurants",3,"ngModelChange","ngModel"],[1,"flex","justify-content-center"],["optionLabel","name","optionValue","value",1,"full-width",3,"ngModelChange","options","ngModel","multiple"],["pTemplate","item"],["class","field-checkbox",4,"ngFor","ngForOf"],["size","large","pRipple","","label","Create Room","icon","pi pi-plus",1,"createRoomButton",3,"click","rounded","disabled"],[1,"pi","pi-map-marker",2,"font-size","1.5rem"],[1,"pi","pi-spin","pi-spinner",2,"font-size","2rem"],[1,"custom-select-item"],[1,"field-checkbox"],["name","group",3,"ngModelChange","value","ngModel"],[1,"loadingScreen"],[1,"material-icons"],["mode","indeterminate"],["id","betaloading"],["size","large","pRipple","","label","Cancel","severity","danger",1,"cancelRoomButton",3,"click","rounded"]],template:function(i,r){1&i&&(Kt(0,$xe,2,1,"div",0)(1,tEe,36,17,"div",1)(2,nEe,9,4,"div",2),$e(3,"p-dialog",3),Wh("visibleChange",function(s){return zp(r.displayNoRestaurantsDialog,s)||(r.displayNoRestaurantsDialog=s),s}),$e(4,"p"),$i(5,"We couldn't find any restaurants matching your criteria. Please try adjusting your search filters."),rt(),$e(6,"p-button",4),Hn("click",function(){return r.hideNoRestaurantsDialog()}),rt()()),2&i&&(be("ngIf",0==r.loadingRestaurants),Ie(),be("ngIf",0==r.loadingRestaurants),Ie(),be("ngIf",1==r.loadingRestaurants),Ie(),nu($h(6,Kxe)),Kh("visible",r.displayNoRestaurantsDialog))},dependencies:[Qf,xl,kx,vb,LP,Rx,GP,zP,Ux,zT,xb,sd,gq,_q,YP,vq,ixe,yq,xq,wq],styles:[".mapboxgl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mapboxgl-canvas{position:absolute;left:0;top:0}.mapboxgl-map:-webkit-full-screen{width:100%;height:100%}.mapboxgl-canary{background-color:salmon}.mapboxgl-canvas-container.mapboxgl-interactive,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass{cursor:grab;-webkit-user-select:none;user-select:none}.mapboxgl-canvas-container.mapboxgl-interactive.mapboxgl-track-pointer{cursor:pointer}.mapboxgl-canvas-container.mapboxgl-interactive:active,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass:active{cursor:grabbing}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate .mapboxgl-canvas{touch-action:pan-x pan-y}.mapboxgl-canvas-container.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:pinch-zoom}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:none}.mapboxgl-ctrl-bottom-left,.mapboxgl-ctrl-bottom-right,.mapboxgl-ctrl-top-left,.mapboxgl-ctrl-top-right{position:absolute;pointer-events:none;z-index:2}.mapboxgl-ctrl-top-left{top:0;left:0}.mapboxgl-ctrl-top-right{top:0;right:0}.mapboxgl-ctrl-bottom-left{bottom:0;left:0}.mapboxgl-ctrl-bottom-right{right:0;bottom:0}.mapboxgl-ctrl{clear:both;pointer-events:auto;transform:translate(0)}.mapboxgl-ctrl-top-left .mapboxgl-ctrl{margin:10px 0 0 10px;float:left}.mapboxgl-ctrl-top-right .mapboxgl-ctrl{margin:10px 10px 0 0;float:right}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl{margin:0 0 10px 10px;float:left}.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl{margin:0 10px 10px 0;float:right}.mapboxgl-ctrl-group{border-radius:4px;background:#fff}.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px #0000001a}@media (-ms-high-contrast: active){.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}.mapboxgl-ctrl-group button{width:29px;height:29px;display:block;padding:0;outline:none;border:0;box-sizing:border-box;background-color:transparent;cursor:pointer}.mapboxgl-ctrl-group button+button{border-top:1px solid #ddd}.mapboxgl-ctrl button .mapboxgl-ctrl-icon{display:block;width:100%;height:100%;background-repeat:no-repeat;background-position:50%}@media (-ms-high-contrast: active){.mapboxgl-ctrl-icon{background-color:transparent}.mapboxgl-ctrl-group button+button{border-top:1px solid ButtonText}}.mapboxgl-ctrl button::-moz-focus-inner{border:0;padding:0}.mapboxgl-ctrl-attrib-button:focus,.mapboxgl-ctrl-group button:focus{box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl button:disabled{cursor:not-allowed}.mapboxgl-ctrl button:disabled .mapboxgl-ctrl-icon{opacity:.25}.mapboxgl-ctrl button:not(:disabled):hover{background-color:#0000000d}.mapboxgl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}.mapboxgl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}.mapboxgl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}.mapboxgl-ctrl-group button:focus:only-child{border-radius:inherit}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}@media (-ms-high-contrast: active){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast: black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}@media (-ms-high-contrast: active){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast: black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E\")}@media (-ms-high-contrast: active){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23999'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast: black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23aaa'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting .mapboxgl-ctrl-icon{animation:mapboxgl-spin 2s linear infinite}@media (-ms-high-contrast: active){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23999'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast: black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23666'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E\")}}@keyframes mapboxgl-spin{0%{transform:rotate(0)}to{transform:rotate(1turn)}}a.mapboxgl-ctrl-logo{width:88px;height:23px;margin:0 0 -4px -4px;display:block;background-repeat:no-repeat;cursor:pointer;overflow:hidden;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg opacity='.3' stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cg opacity='.9' fill='%23fff'%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/g%3E%3C/svg%3E\")}a.mapboxgl-ctrl-logo.mapboxgl-compact{width:23px}@media (-ms-high-contrast: active){a.mapboxgl-ctrl-logo{background-color:transparent;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cg fill='%23fff'%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/g%3E%3C/svg%3E\")}}@media (-ms-high-contrast: black-on-white){a.mapboxgl-ctrl-logo{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg stroke='%23fff' stroke-width='3' fill='%23fff'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl.mapboxgl-ctrl-attrib{padding:0 5px;background-color:#ffffff80;margin:0}@media screen{.mapboxgl-ctrl-attrib.mapboxgl-compact{min-height:20px;padding:2px 24px 2px 0;margin:10px;position:relative;background-color:#fff;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show,.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 8px 2px 28px;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner{display:none}.mapboxgl-ctrl-attrib-button{display:none;cursor:pointer;position:absolute;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E\");background-color:#ffffff80;width:24px;height:24px;box-sizing:border-box;border-radius:12px;outline:none;top:0;right:0;border:0}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl-attrib-button,.mapboxgl-ctrl-top-left .mapboxgl-ctrl-attrib-button{left:0}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-inner,.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-button{display:block}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-button{background-color:#0000000d}.mapboxgl-ctrl-bottom-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;right:0}.mapboxgl-ctrl-top-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;right:0}.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;left:0}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;left:0}}@media screen and (-ms-high-contrast: active){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' fill='%23fff'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E\")}}@media screen and (-ms-high-contrast: black-on-white){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl-attrib a{color:#000000bf;text-decoration:none}.mapboxgl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.mapboxgl-ctrl-attrib .mapbox-improve-map{font-weight:700;margin-left:2px}.mapboxgl-attrib-empty{display:none}.mapboxgl-ctrl-scale{background-color:#ffffffbf;font-size:10px;border:2px solid #333;border-top:#333;padding:0 5px;color:#333;box-sizing:border-box}.mapboxgl-popup{position:absolute;top:0;left:0;display:flex;will-change:transform;pointer-events:none}.mapboxgl-popup-anchor-top,.mapboxgl-popup-anchor-top-left,.mapboxgl-popup-anchor-top-right{flex-direction:column}.mapboxgl-popup-anchor-bottom,.mapboxgl-popup-anchor-bottom-left,.mapboxgl-popup-anchor-bottom-right{flex-direction:column-reverse}.mapboxgl-popup-anchor-left{flex-direction:row}.mapboxgl-popup-anchor-right{flex-direction:row-reverse}.mapboxgl-popup-tip{width:0;height:0;border:10px solid transparent;z-index:1}.mapboxgl-popup-anchor-top .mapboxgl-popup-tip{align-self:center;border-top:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip{align-self:flex-start;border-top:none;border-left:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip{align-self:flex-end;border-top:none;border-right:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{align-self:center;border-bottom:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip{align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip{align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.mapboxgl-popup-anchor-left .mapboxgl-popup-tip{align-self:center;border-left:none;border-right-color:#fff}.mapboxgl-popup-anchor-right .mapboxgl-popup-tip{align-self:center;border-right:none;border-left-color:#fff}.mapboxgl-popup-close-button{position:absolute;right:0;top:0;border:0;border-radius:0 3px 0 0;cursor:pointer;background-color:transparent}.mapboxgl-popup-close-button:hover{background-color:#0000000d}.mapboxgl-popup-content{position:relative;background:#fff;border-radius:3px;box-shadow:0 1px 2px #0000001a;padding:10px 10px 15px;pointer-events:auto}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content{border-top-left-radius:0}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content{border-top-right-radius:0}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content{border-bottom-left-radius:0}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content{border-bottom-right-radius:0}.mapboxgl-popup-track-pointer{display:none}.mapboxgl-popup-track-pointer *{pointer-events:none;-webkit-user-select:none;user-select:none}.mapboxgl-map:hover .mapboxgl-popup-track-pointer{display:flex}.mapboxgl-map:active .mapboxgl-popup-track-pointer{display:none}.mapboxgl-marker{position:absolute;top:0;left:0;will-change:transform}.mapboxgl-user-location-dot,.mapboxgl-user-location-dot:before{background-color:#1da1f2;width:15px;height:15px;border-radius:50%}.mapboxgl-user-location-dot:before{content:\"\";position:absolute;animation:mapboxgl-user-location-dot-pulse 2s infinite}.mapboxgl-user-location-dot:after{border-radius:50%;border:2px solid #fff;content:\"\";height:19px;left:-2px;position:absolute;top:-2px;width:19px;box-sizing:border-box;box-shadow:0 0 3px #00000059}@keyframes mapboxgl-user-location-dot-pulse{0%{transform:scale(1);opacity:1}70%{transform:scale(3);opacity:0}to{transform:scale(1);opacity:0}}.mapboxgl-user-location-dot-stale{background-color:#aaa}.mapboxgl-user-location-dot-stale:after{display:none}.mapboxgl-user-location-accuracy-circle{background-color:#1da1f233;width:1px;height:1px;border-radius:100%}.mapboxgl-crosshair,.mapboxgl-crosshair .mapboxgl-interactive,.mapboxgl-crosshair .mapboxgl-interactive:active{cursor:crosshair}.mapboxgl-boxzoom{position:absolute;top:0;left:0;width:0;height:0;background:#fff;border:2px dotted #202020;opacity:.5}@media print{.mapbox-improve-map{display:none}}.mapboxgl-ctrl{transform:none}.mapboxgl-ctrl.mapboxgl-ctrl-group.extended-navigation-group{display:flex;flex-direction:row-reverse}.mapboxgl-ctrl.mapboxgl-ctrl-group.extended-navigation-group .navigation-button{display:block;border-top:none;box-shadow:none}.mapboxgl-ctrl.mapboxgl-ctrl-group.extended-navigation-group .navigation-button.-hide{display:none}.mapboxgl-ctrl.mapboxgl-ctrl-group.extended-navigation-group .navigation-button.-reset{background-color:#f2f2f2}.mapboxgl-ctrl.mapboxgl-ctrl-group.extended-navigation-group .navigation-button svg{height:20px;width:20px;margin:auto}.mapboxgl-canvas,.mapboxgl-popup-close-button{outline:none}.cancelButtonDiv{margin-top:1em}.cancelButtonDiv .cancelButton,.p-button-label{font-weight:700}.pageContainer{display:flex;align-items:center;justify-content:center;flex-direction:column}.pageContainer .formContainer{background-color:#f8f9fa;width:90vw;display:flex;flex-direction:column;align-items:left;padding:1em;border-radius:12px;margin:1em;box-sizing:border-box}.pageContainer .formContainer .tabView{border-radius:20px}.pageContainer .formContainer .tabView .currentLocationContainer{display:flex;flex-direction:row;align-items:center}.pageContainer .formContainer .tabView .currentLocationContainer i{margin-right:.5em}.pageContainer .formContainer ::ng-deep .p-tabview .p-tabview-header{border-top-left-radius:20px;border-top-right-radius:20px}.pageContainer .formContainer ::ng-deep .p-tabview .p-tabview-panels{border-bottom-left-radius:20px;border-bottom-right-radius:20px}.pageContainer .formContainer .sliderInput{margin-bottom:2em}.pageContainer .formContainer p-slider{margin-bottom:1em}.pageContainer .formContainer .inputSuffix{margin-right:3em}.pageContainer .formContainer .full-width .p-buttonset .p-button{width:33.33333%}.pageContainer .formContainer h1{font-size:24px}.pageContainer .formContainer h2{font-size:18px}.pageContainer .formContainer mat-button-toggle{width:100%}.pageContainer .formContainer .custom-select-item{width:100%}.pageContainer .formContainer p-checkbox{margin:.8em;font-size:16px}.pageContainer .formContainer .field-checkbox{display:flex;align-items:center;margin:0 1em}.pageContainer .formContainer .field-checkbox label{margin-right:10px}.pageContainer .formContainer .field-checkbox p-checkbox{margin-left:auto}.pageContainer .toggleButton{display:flex;flex-direction:row!important;align-items:center}.pageContainer .toggleButton h2{margin-left:1em}.pageContainer .createRoomButton{margin-bottom:3em;margin-top:1em}.pageContainer .createRoomButton .p-button{width:90vw}.loadingScreen{width:100vw;height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#c7f3c5;font-size:24px}.loadingScreen span{font-size:35px}.loadingScreen h1{font-size:24px;font-family:Lilita One,sans-serif;font-weight:400;font-style:normal;text-align:center}.loadingScreen #betaloading{font-size:20px;width:80%;font-style:italic;margin-top:1em}.loadingScreen .progressBar{width:60vw;margin-top:1em}.loadingScreen .cancelRoomButton{margin-top:1em;font-size:16px}.loadingScreen .cancelRoomButton .p-button-label{font-size:15px}#map{width:100%;height:300px}\n"],encapsulation:2})}return n})();try{BF=typeof Intl<"u"&&Intl.v8BreakIterator}catch{BF=!1}let xE,Lc=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Du(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!BF)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(Pa))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function EE(n){return function rEe(){if(null==xE&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>xE=!0}))}finally{xE=xE||!1}return xE}()?n:!!n.capture}var zA=function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n}(zA||{});let LS,iy,PF;function Cq(){if(null==iy){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return iy=!1,iy;if("scrollBehavior"in document.documentElement.style)iy=!0;else{const n=Element.prototype.scrollTo;iy=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return iy}function CE(){if("object"!=typeof document||!document)return zA.NORMAL;if(null==LS){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),LS=zA.NORMAL,0===n.scrollLeft&&(n.scrollLeft=1,LS=0===n.scrollLeft?zA.NEGATED:zA.INVERTED),n.remove()}return LS}function NS(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function $m(n){return n.composedPath?n.composedPath()[0]:n.target}function OF(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function zb(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function QS(n,t=Qv){return Qe((e,i)=>{let r=null,o=null,s=null;const c=()=>{if(r){r.unsubscribe(),r=null;const g=o;o=null,i.next(g)}};function u(){const g=s+n,w=t.now();if(w<g)return r=this.schedule(void 0,g-w),void i.add(r);c()}e.subscribe(ge(i,g=>{o=g,s=t.now(),r||(r=t.schedule(u,n),i.add(r))},()=>{c(),i.complete()},void 0,()=>{o=r=null}))})}function Rq(n){return Ia((t,e)=>n<=e)}function jS(n,t=0){return function yEe(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):2===arguments.length?t:0}function zS(n){return Array.isArray(n)?n:[n]}function pc(n){return null==n?"":"string"==typeof n?n:`${n}px`}function oy(n){return n instanceof or?n.nativeElement:n}let Mq=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),NF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({providers:[Mq]})}return n})();const Bq=new Set;let sy,EEe=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):IEe}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function CEe(n,t){if(!Bq.has(n))try{sy||(sy=document.createElement("style"),t&&sy.setAttribute("nonce",t),sy.setAttribute("type","text/css"),document.head.appendChild(sy)),sy.sheet&&(sy.sheet.insertRule(`@media ${n} {body{ }}`,0),Bq.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(Lc),Ct(eR,8))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function IEe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Pq=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new $}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Oq(zS(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=oT(Oq(zS(e)).map(s=>this._registerQuery(s).observable));return o=ib(o.pipe(El(1)),o.pipe(Rq(1),QS(0))),o.pipe(We(s=>{const c={matches:!1,breakpoints:{}};return s.forEach(({matches:u,query:g})=>{c.matches=c.matches||u,c.breakpoints[g]=u}),c}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new pr(s=>{const c=u=>this._zone.run(()=>s.next(u));return i.addListener(c),()=>{i.removeListener(c)}}).pipe(Gf(i),We(({matches:s})=>({query:e,matches:s})),hc(this._destroySubject)),mql:i};return this._queries.set(e,o),o}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(EEe),Ct(Ri))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Oq(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}class DEe{constructor(t,e){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new $,this._typeaheadSubscription=Zt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=i=>i.disabled,this._pressedLetters=[],this.tabOut=new $,this.change=new $,t instanceof Bm?this._itemChangesSubscription=t.changes.subscribe(i=>this._itemsChanged(i.toArray())):s2(t)&&(this._effectRef=function GQ(n,t){Bd("NgSignals"),!t?.injector&&pm();const e=t?.injector??Ht(ho),i=!0!==t?.manualCleanup?e.get(Up):null,r=new bue(e.get(_ue),n,typeof Zone>"u"?null:Zone.current,i,e,t?.allowSignalWrites??!1),o=e.get(qo,null,{optional:!0});return o&&8&o._lView[xr]?(o._lView[Td]??=[]).push(r.watcher.notify):r.watcher.notify(),r}(()=>this._itemsChanged(t()),{injector:e}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Hl(e=>this._pressedLetters.push(e)),QS(t),Ia(()=>this._pressedLetters.length>0),We(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,s=i[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}return;default:return void((r||zb(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return s2(this._items)?this._items():this._items instanceof Bm?this._items.toArray():this._items}_itemsChanged(t){if(this._activeItem){const e=t.indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}}}class Nq extends DEe{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let UF=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function MEe(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function REe(n){try{return n.frameElement}catch{return null}}(function VEe(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===Vq(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=Vq(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function NEe(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function UEe(n){return!function PEe(n){return function FEe(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function BEe(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function OEe(n){return function LEe(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Uq(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(Lc))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Uq(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function Vq(n){if(!Uq(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class Qq{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,r,o=!1,s){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._injector=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?Og(t,{injector:this._injector}):setTimeout(t)}}let jq=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._injector=Ht(ho),this._document=r}create(e,i=!1){return new Qq(e,this._checker,this._ngZone,this._document,i,this._injector)}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(UF),Ct(Ri),Ct(Rr))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zq(n){return 0===n.buttons||0===n.detail}function Gq(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const QEe=new Wt("cdk-input-modality-detector-options"),jEe={ignoreKeys:[18,17,224,91,16]},Gb=EE({passive:!0,capture:!0});let zEe=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new de(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(c=>c===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=$m(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(zq(s)?"keyboard":"mouse"),this._mostRecentTarget=$m(s))},this._onTouchstart=s=>{Gq(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=$m(s))},this._options={...jEe,...o},this.modalityDetected=this._modality.pipe(Rq(1)),this.modalityChanged=this.modalityDetected.pipe(cO()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Gb),r.addEventListener("mousedown",this._onMousedown,Gb),r.addEventListener("touchstart",this._onTouchstart,Gb)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Gb),document.removeEventListener("mousedown",this._onMousedown,Gb),document.removeEventListener("touchstart",this._onTouchstart,Gb))}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(Lc),Ct(Ri),Ct(Rr),Ct(QEe,8))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const GEe=new Wt("liveAnnouncerElement",{providedIn:"root",factory:function HEe(){return null}}),qEe=new Wt("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let KEe=0,WEe=(()=>{class n{constructor(e,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let o,s;return 1===i.length&&"number"==typeof i[0]?s=i[0]:[o,s]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==s&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(c=>this._currentResolve=c)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof s&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+KEe++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],s=o.getAttribute("aria-owns");s?-1===s.indexOf(e)&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(GEe,8),Ct(Ri),Ct(Rr),Ct(qEe,8))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var GS=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(GS||{});const $Ee=new Wt("cdk-focus-monitor-default-options"),HS=EE({passive:!0,capture:!0});let p_=(()=>{class n{constructor(e,i,r,o,s){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new $,this._rootNodeFocusAndBlurListener=c=>{for(let g=$m(c);g;g=g.parentElement)"focus"===c.type?this._onFocus(c,g):this._onBlur(c,g)},this._document=o,this._detectionMode=s?.detectionMode||GS.IMMEDIATE}monitor(e,i=!1){const r=oy(e);if(!this._platform.isBrowser||1!==r.nodeType)return Xi();const o=function sEe(n){if(function oEe(){if(null==PF){const n=typeof document<"u"?document.head:null;PF=!(!n||!n.createShadowRoot&&!n.attachShadow)}return PF}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const c={checkChildren:i,subject:new $,rootNode:o};return this._elementInfo.set(r,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(e){const i=oy(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=oy(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([c,u])=>this._originChanged(c,i,u)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===GS.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,this._detectionMode===GS.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=$m(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,HS),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,HS)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(hc(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,HS),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,HS),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(Ri),Ct(Lc),Ct(zEe),Ct(Rr,8),Ct($Ee,8))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ay=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(ay||{});const qq="cdk-high-contrast-black-on-white",Kq="cdk-high-contrast-white-on-black",VF="cdk-high-contrast-active";let Wq=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=Ht(Pq).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return ay.NONE;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return ay.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return ay.BLACK_ON_WHITE}return ay.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(VF,qq,Kq),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();i===ay.BLACK_ON_WHITE?e.add(VF,qq):i===ay.WHITE_ON_BLACK&&e.add(VF,Kq)}}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(Lc),Ct(Rr))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),XEe=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(Wq))};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({imports:[NF]})}return n})();const YEe=new Wt("cdk-dir-doc",{providedIn:"root",factory:function ZEe(){return Ht(Rr)}}),JEe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ly=(()=>{class n{constructor(e){this.value="ltr",this.change=new ni,e&&(this.value=function eCe(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?JEe.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(YEe,8))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),IE=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({})}return n})();const tCe=["mat-internal-form-field",""],nCe=["*"],rCe=new Wt("mat-sanity-checks",{providedIn:"root",factory:function iCe(){return!0}});let Is=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!OF()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(Wq),Ct(rCe,8),Ct(Rr))};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({imports:[IE,IE]})}return n})(),Zq=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Zp=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(Zp||{});class uCe{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=Zp.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const Jq=EE({passive:!0,capture:!0});class dCe{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=$m(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,i,r){const o=this._events.get(e);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,Jq)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const o=r.get(e);o&&(o.delete(i),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,Jq)))}}const eK={enterDuration:225,exitDuration:150},tK=EE({passive:!0,capture:!0}),nK=["mousedown","touchstart"],iK=["mouseup","mouseleave","touchend","touchcancel"];class SE{static#e=this._eventManager=new dCe;constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=oy(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...eK,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=i.radius||function pCe(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),c=t-r.left,u=e-r.top,g=o.enterDuration,w=document.createElement("div");w.classList.add("mat-ripple-element"),w.style.left=c-s+"px",w.style.top=u-s+"px",w.style.height=2*s+"px",w.style.width=2*s+"px",null!=i.color&&(w.style.backgroundColor=i.color),w.style.transitionDuration=`${g}ms`,this._containerElement.appendChild(w);const T=window.getComputedStyle(w),H=T.transitionDuration,ee="none"===T.transitionProperty||"0s"===H||"0s, 0s"===H||0===r.width&&0===r.height,Ae=new uCe(this,w,i,ee);w.style.transform="scale3d(1, 1, 1)",Ae.state=Zp.FADING_IN,i.persistent||(this._mostRecentTransientRipple=Ae);let xe=null;return!ee&&(g||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const et=()=>{xe&&(xe.fallbackTimer=null),clearTimeout(yt),this._finishRippleTransition(Ae)},Ye=()=>this._destroyRipple(Ae),yt=setTimeout(Ye,g+100);w.addEventListener("transitionend",et),w.addEventListener("transitioncancel",Ye),xe={onTransitionEnd:et,onTransitionCancel:Ye,fallbackTimer:yt}}),this._activeRipples.set(Ae,xe),(ee||!g)&&this._finishRippleTransition(Ae),Ae}fadeOutRipple(t){if(t.state===Zp.FADING_OUT||t.state===Zp.HIDDEN)return;const e=t.element,i={...eK,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=Zp.FADING_OUT,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=oy(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,nK.forEach(i=>{SE._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{iK.forEach(e=>{this._triggerElement.addEventListener(e,this,tK)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===Zp.FADING_IN?this._startFadeOutTransition(t):t.state===Zp.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=Zp.VISIBLE,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=Zp.HIDDEN,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel),null!==e.fallbackTimer&&clearTimeout(e.fallbackTimer)),t.element.remove()}_onMousedown(t){const e=zq(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Gq(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(t.state===Zp.VISIBLE||t.config.terminateOnPointerUp&&t.state===Zp.FADING_IN)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(nK.forEach(e=>SE._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(iK.forEach(e=>t.removeEventListener(e,this,tK)),this._pointerUpEventsRegistered=!1))}}const Hb=new Wt("mat-ripple-global-options");let qb=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,o,s){this._elementRef=e,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new SE(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(i){return new(i||n)(Re(or),Re(Ri),Re(Lc),Re(Hb,8),Re(eu,8))};static#t=this.\u0275dir=zn({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&Ho("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return n})(),Kb=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({imports:[Is,Is]})}return n})(),fCe=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(i){return new(i||n)(Re(eu,8))};static#t=this.\u0275cmp=Ii({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){2&i&&Ho("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[vo],decls:0,vars:0,template:function(i,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return n})(),ACe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({imports:[Is]})}return n})();const rK={capture:!0},oK=["focus","mousedown","mouseenter","touchstart"],QF="mat-ripple-loader-uninitialized",jF="mat-ripple-loader-class-name",sK="mat-ripple-loader-centered",qS="mat-ripple-loader-disabled";let aK=(()=>{class n{constructor(){this._document=Ht(Rr,{optional:!0}),this._animationMode=Ht(eu,{optional:!0}),this._globalRippleOptions=Ht(Hb,{optional:!0}),this._platform=Ht(Lc),this._ngZone=Ht(Ri),this._hosts=new Map,this._onInteraction=e=>{const i=$m(e);if(i instanceof HTMLElement){const r=i.closest(`[${QF}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}},this._ngZone.runOutsideAngular(()=>{for(const e of oK)this._document?.addEventListener(e,this._onInteraction,rK)})}ngOnDestroy(){const e=this._hosts.keys();for(const i of e)this.destroyRipple(i);for(const i of oK)this._document?.removeEventListener(i,this._onInteraction,rK)}configureRipple(e,i){e.setAttribute(QF,this._globalRippleOptions?.namespace??""),(i.className||!e.hasAttribute(jF))&&e.setAttribute(jF,i.className||""),i.centered&&e.setAttribute(sK,""),i.disabled&&e.setAttribute(qS,"")}getRipple(e){return this._hosts.get(e)||this._createRipple(e)}setDisabled(e,i){const r=this._hosts.get(e);r?r.disabled=i:i?e.setAttribute(qS,""):e.removeAttribute(qS)}_createRipple(e){if(!this._document)return;const i=this._hosts.get(e);if(i)return i;e.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",e.getAttribute(jF)),e.append(r);const o=new qb(new or(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=e,o.centered=e.hasAttribute(sK),o.disabled=e.hasAttribute(qS),this.attachRipple(e,o),o}attachRipple(e,i){e.removeAttribute(QF),this._hosts.set(e,i)}destroyRipple(e){const i=this._hosts.get(e);i&&(i.ngOnDestroy(),this._hosts.delete(e))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Ii({type:n,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(i,r){2&i&&Ho("mdc-form-field--align-end","before"===r.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[vo],attrs:tCe,ngContentSelectors:nCe,decls:1,vars:0,template:function(i,r){1&i&&(zs(),Zr(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}return n})();const mCe=["mat-button",""],lK=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],cK=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],gCe=["mat-fab",""],_Ce=new Wt("MAT_BUTTON_CONFIG"),vCe=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let uK=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}constructor(e,i,r,o){this._elementRef=e,this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=Ht(p_),this._rippleLoader=Ht(aK),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const s=Ht(_Ce,{optional:!0}),c=e.nativeElement,u=c.classList;this.disabledInteractive=s?.disabledInteractive??!1,this.color=s?.color??null,this._rippleLoader?.configureRipple(c,{className:"mat-mdc-button-ripple"});for(const{attribute:g,mdcClasses:w}of vCe)c.hasAttribute(g)&&u.add(...w)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){kR()};static#t=this.\u0275dir=zn({type:n,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",xn],disabled:[2,"disabled","disabled",xn],ariaDisabled:[2,"aria-disabled","ariaDisabled",xn],disabledInteractive:[2,"disabledInteractive","disabledInteractive",xn]},features:[ao]})}return n})(),KS=(()=>{class n extends uK{constructor(e,i,r,o){super(e,i,r,o)}static#e=this.\u0275fac=function(i){return new(i||n)(Re(or),Re(Lc),Re(Ri),Re(eu,8))};static#t=this.\u0275cmp=Ii({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(i,r){2&i&&(Qt("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),jr(r.color?"mat-"+r.color:""),Ho("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[cr,vo],attrs:mCe,ngContentSelectors:cK,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(zs(lK),Pn(0,"span",0),Zr(1),$e(2,"span",1),Zr(3,1),rt(),Zr(4,2),Pn(5,"span",2)(6,"span",3)),2&i&&Ho("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})();const yCe=new Wt("mat-mdc-fab-default-options",{providedIn:"root",factory:dK});function dK(){return{color:"accent"}}const hK=dK();let bCe=(()=>{class n extends uK{constructor(e,i,r,o,s){super(e,i,r,o),this._options=s,this._isFab=!0,this._options=this._options||hK,this.color=this._options.color||hK.color}static#e=this.\u0275fac=function(i){return new(i||n)(Re(or),Re(Lc),Re(Ri),Re(eu,8),Re(yCe,8))};static#t=this.\u0275cmp=Ii({type:n,selectors:[["button","mat-fab",""]],hostVars:18,hostBindings:function(i,r){2&i&&(Qt("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),jr(r.color?"mat-"+r.color:""),Ho("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0)("mdc-fab--extended",r.extended)("mat-mdc-extended-fab",r.extended))},inputs:{extended:[2,"extended","extended",xn]},exportAs:["matButton"],standalone:!0,features:[ao,cr,vo],attrs:gCe,ngContentSelectors:cK,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(zs(lK),Pn(0,"span",0),Zr(1),$e(2,"span",1),Zr(3,1),rt(),Zr(4,2),Pn(5,"span",2)(6,"span",3)),2&i&&Ho("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mat-mdc-fab-base{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1);flex-shrink:0}.mat-mdc-fab-base .mat-mdc-button-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab-base .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab-base .mdc-button__label,.mat-mdc-fab-base .mat-icon{z-index:1;position:relative}.mat-mdc-fab-base .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab-base:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab-base._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab-base::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-fab-base[hidden]{display:none}.mat-mdc-fab-base::-moz-focus-inner{padding:0;border:0}.mat-mdc-fab-base:active,.mat-mdc-fab-base:focus{outline:none}.mat-mdc-fab-base:hover{cursor:pointer}.mat-mdc-fab-base>svg{width:100%}.mat-mdc-fab-base .mat-icon,.mat-mdc-fab-base .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab-base .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base[disabled]:focus,.mat-mdc-fab-base.mat-mdc-button-disabled,.mat-mdc-fab-base.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-fab-base.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab{background-color:var(--mdc-fab-container-color);border-radius:var(--mdc-fab-container-shape);color:var(--mat-fab-foreground-color, inherit);box-shadow:var(--mdc-fab-container-elevation-shadow)}.mat-mdc-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-touch-target-display)}.mat-mdc-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color)}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color)}.mat-mdc-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-disabled-state-layer-color)}.mat-mdc-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity)}.mat-mdc-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity)}.mat-mdc-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity)}.mat-mdc-fab:hover{box-shadow:var(--mdc-fab-hover-container-elevation-shadow)}.mat-mdc-fab:focus{box-shadow:var(--mdc-fab-focus-container-elevation-shadow)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active{box-shadow:var(--mdc-fab-pressed-container-elevation-shadow)}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-disabled-state-foreground-color);background-color:var(--mat-fab-disabled-state-container-color)}.mat-mdc-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-mini-fab{width:40px;height:40px;background-color:var(--mdc-fab-small-container-color);border-radius:var(--mdc-fab-small-container-shape);color:var(--mat-fab-small-foreground-color, inherit);box-shadow:var(--mdc-fab-small-container-elevation-shadow)}.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-small-touch-target-display)}.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-small-ripple-color)}.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-state-layer-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-disabled-state-layer-color)}.mat-mdc-mini-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-hover-state-layer-opacity)}.mat-mdc-mini-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-focus-state-layer-opacity)}.mat-mdc-mini-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-pressed-state-layer-opacity)}.mat-mdc-mini-fab:hover{box-shadow:var(--mdc-fab-small-hover-container-elevation-shadow)}.mat-mdc-mini-fab:focus{box-shadow:var(--mdc-fab-small-focus-container-elevation-shadow)}.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:var(--mdc-fab-small-pressed-container-elevation-shadow)}.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-small-disabled-state-foreground-color);background-color:var(--mat-fab-small-disabled-state-container-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-extended-fab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;line-height:normal;box-shadow:var(--mdc-extended-fab-container-elevation-shadow);height:var(--mdc-extended-fab-container-height);border-radius:var(--mdc-extended-fab-container-shape);font-family:var(--mdc-extended-fab-label-text-font);font-size:var(--mdc-extended-fab-label-text-size);font-weight:var(--mdc-extended-fab-label-text-weight);letter-spacing:var(--mdc-extended-fab-label-text-tracking)}.mat-mdc-extended-fab:hover{box-shadow:var(--mdc-extended-fab-hover-container-elevation-shadow)}.mat-mdc-extended-fab:focus{box-shadow:var(--mdc-extended-fab-focus-container-elevation-shadow)}.mat-mdc-extended-fab:active,.mat-mdc-extended-fab:focus:active{box-shadow:var(--mdc-extended-fab-pressed-container-elevation-shadow)}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab[disabled]:focus,.mat-mdc-extended-fab.mat-mdc-button-disabled,.mat-mdc-extended-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-extended-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:-8px;margin-right:12px}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons,[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons{margin-left:12px;margin-right:-8px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0})}return n})(),pK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({imports:[Is,Kb,Is]})}return n})();const wCe=["addListener","removeListener"],xCe=["addEventListener","removeEventListener"],ECe=["on","off"];function Wb(n,t,e,i){if(An(e)&&(i=e,e=void 0),i)return Wb(n,t,e).pipe(WB(i));const[r,o]=function TCe(n){return An(n.addEventListener)&&An(n.removeEventListener)}(n)?xCe.map(s=>c=>n[s](t,c,e)):function CCe(n){return An(n.addListener)&&An(n.removeListener)}(n)?wCe.map(fK(n,t)):function ICe(n){return An(n.on)&&An(n.off)}(n)?ECe.map(fK(n,t)):[];if(!r&&HB(n))return ru(s=>Wb(s,t,e))(iu(n));if(!r)throw new TypeError("Invalid event target");return new pr(s=>{const c=(...u)=>s.next(1<u.length?u:u[0]);return r(c),()=>o(c)})}function fK(n,t){return e=>i=>n[e](t,i)}const kE={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=kE;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new Zt(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=kE;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=kE;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class kCe extends qT{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class SCe extends HT{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=kE.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(kE.cancelAnimationFrame(e),t._scheduled=void 0)}});let GF,RCe=1;const WS={};function AK(n){return n in WS&&(delete WS[n],!0)}const MCe={setImmediate(n){const t=RCe++;return WS[t]=!0,GF||(GF=Promise.resolve()),GF.then(()=>AK(t)&&n()),t},clearImmediate(n){AK(n)}},{setImmediate:BCe,clearImmediate:PCe}=MCe,$S={setImmediate(...n){const{delegate:t}=$S;return(t?.setImmediate||BCe)(...n)},clearImmediate(n){const{delegate:t}=$S;return(t?.clearImmediate||PCe)(n)},delegate:void 0};new class FCe extends qT{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class OCe extends HT{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=$S.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&($S.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});function mK(n=0,t,e=m_e){let i=-1;return null!=t&&(X9(t)?e=t:i=t),new pr(r=>{let o=function UCe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function gK(n,t=Qv){return function NCe(n){return Qe((t,e)=>{let i=!1,r=null,o=null,s=!1;const c=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const g=r;r=null,e.next(g)}s&&e.complete()},u=()=>{o=null,s&&e.complete()};t.subscribe(ge(e,g=>{i=!0,r=g,o||iu(n(g)).subscribe(o=ge(e,c,u))},()=>{s=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>mK(n,t))}let _K=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new $,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new pr(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(gK(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Xi()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Ia(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=oy(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Wb(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(Ri),Ct(Lc),Ct(Rr,8))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),QCe=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new $,this._elementScrolled=new pr(s=>this.ngZone.runOutsideAngular(()=>Wb(this.elementRef.nativeElement,"scroll").pipe(hc(this._destroyed)).subscribe(s)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&CE()!=zA.NORMAL?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),CE()==zA.INVERTED?e.left=e.right:CE()==zA.NEGATED&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;Cq()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==e?e=s?r:i:"end"==e&&(e=s?i:r),s&&CE()==zA.INVERTED?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&CE()==zA.NEGATED?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static#e=this.\u0275fac=function(i){return new(i||n)(Re(or),Re(_K),Re(Ri),Re(ly,8))};static#t=this.\u0275dir=zn({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return n})(),vK=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new $,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(gK(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(Lc),Ct(Ri),Ct(Rr,8))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({})}return n})(),bK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({imports:[IE,yK,IE,yK]})}return n})();class HF{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class DE extends HF{constructor(t,e,i,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class qF extends HF{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class zCe extends HF{constructor(t){super(),this.element=t instanceof or?t.nativeElement:t}}class XS{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof DE?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof qF?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof zCe?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class GCe extends XS{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const c=s.element,u=this._document.createComment("dom-portal");c.parentNode.insertBefore(u,c),this.outletElement.appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(c,u)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||ho.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let RE=(()=>{class n extends XS{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new ni,this.attachDomPortal=o=>{const s=o.element,c=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(c,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(s,c)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),s=i.createComponent(o,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static#e=this.\u0275fac=function(i){return new(i||n)(Re(T0),Re(hh),Re(Rr))};static#t=this.\u0275dir=zn({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[cr]})}return n})(),ME=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({})}return n})();const wK=Cq();class HCe{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=pc(-this._previousScrollPosition.left),t.style.top=pc(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),wK&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),wK&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class qCe{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(Ia(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class xK{enable(){}disable(){}attach(){}}function KF(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function EK(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class KCe{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();KF(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let WCe=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new xK,this.close=s=>new qCe(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new HCe(this._viewportRuler,this._document),this.reposition=s=>new KCe(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(_K),Ct(vK),Ct(Ri),Ct(Rr))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class WF{constructor(t){if(this.scrollStrategy=new xK,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class $Ce{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let CK=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(Rr))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),XCe=(()=>{class n extends CK{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const c=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(r)):c.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(Rr),Ct(Ri,8))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),YCe=(()=>{class n extends CK{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=$m(o)},this._clickListener=o=>{const s=$m(o),c="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const u=this._attachedOverlays.slice();for(let g=u.length-1;g>-1;g--){const w=u[g];if(w._outsidePointerEvents.observers.length<1||!w.hasAttached())continue;if(IK(w.overlayElement,s)||IK(w.overlayElement,c))break;const T=w._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>T.next(o)):T.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(Rr),Ct(Lc),Ct(Ri,8))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function IK(n,t){const e=typeof ShadowRoot<"u"&&ShadowRoot;let i=t;for(;i;){if(i===n)return!0;i=e&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}let YS=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||OF()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),OF()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(Rr),Ct(Lc))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class ZS{constructor(t,e,i,r,o,s,c,u,g,w=!1,T){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=c,this._location=u,this._outsideClickDispatcher=g,this._animationsDisabled=w,this._injector=T,this._backdropElement=null,this._backdropClick=new $,this._attachments=new $,this._detachments=new $,this._locationChanges=Zt.EMPTY,this._backdropClickHandler=F=>this._backdropClick.next(F),this._backdropTransitionendHandler=F=>{this._disposeBackdrop(F.target)},this._keydownEvents=new $,this._outsidePointerEvents=new $,this._renders=new $,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=Uf(()=>function Q8(n,t){!t&&pm();const e=t?.injector??Ht(ho);return uh(e)?(Bd("NgAfterRender"),j8(n,e,!1,t?.phase??Pd.MixedReadWrite)):V8}(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),Og(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=pc(this._config.width),t.height=pc(this._config.height),t.minWidth=pc(this._config.minWidth),t.minHeight=pc(this._config.minHeight),t.maxWidth=pc(this._config.maxWidth),t.maxHeight=pc(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=zS(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const t=this._renders.pipe(hc(Yf(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const TK="cdk-overlay-connected-position-bounding-box",ZCe=/([A-Za-z%]+)$/;class JCe{get positions(){return this._preferredPositions}constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new $,this._resizeSubscription=Zt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(TK),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let c of this._preferredPositions){let u=this._getOriginPoint(t,r,c),g=this._getOverlayPoint(u,e,c),w=this._getOverlayFit(g,e,i,c);if(w.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(c,u);this._canFitWithFlexibleDimensions(w,g,i)?o.push({position:c,origin:u,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(u,c)}):(!s||s.overlayFit.visibleArea<w.visibleArea)&&(s={overlayFit:w,overlayPoint:g,originPoint:u,position:c,overlayRect:e})}if(o.length){let c=null,u=-1;for(const g of o){const w=g.boundingBoxRect.width*g.boundingBoxRect.height*(g.position.weight||1);w>u&&(u=w,c=g)}return this._isPushed=!1,void this._applyPosition(c.position,c.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&cy(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(TK),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,c=this._isRtl()?t.left:t.right;r="start"==i.originX?s:c}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=kK(e);let{x:s,y:c}=t,u=this._getOffset(r,"x"),g=this._getOffset(r,"y");u&&(s+=u),g&&(c+=g);let F=0-c,H=c+o.height-i.height,ee=this._subtractOverflows(o.width,0-s,s+o.width-i.width),Ae=this._subtractOverflows(o.height,F,H),xe=ee*Ae;return{visibleArea:xe,isCompletelyWithinViewport:o.width*o.height===xe,fitsInViewportVertically:Ae===o.height,fitsInViewportHorizontally:ee==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,s=SK(this._overlayRef.getConfig().minHeight),c=SK(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=s&&s<=r)&&(t.fitsInViewportHorizontally||null!=c&&c<=o)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=kK(e),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),c=Math.max(t.y+r.height-o.height,0),u=Math.max(o.top-i.top-t.y,0),g=Math.max(o.left-i.left-t.x,0);let w=0,T=0;return w=r.width<=o.width?g||-s:t.x<this._viewportMargin?o.left-i.left-t.x:0,T=r.height<=o.height?u||-c:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:w,y:T},{x:t.x+w,y:t.y+T}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){const i=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!function eIe(n,t){return n===t||n.isOriginClipped===t.isOriginClipped&&n.isOriginOutsideView===t.isOriginOutsideView&&n.isOverlayClipped===t.isOverlayClipped&&n.isOverlayOutsideView===t.isOverlayOutsideView}(this._lastScrollVisibility,i)){const r=new $Ce(t,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,s,c,w,T,F;if("top"===e.overlayY)s=t.y,o=i.height-s+this._viewportMargin;else if("bottom"===e.overlayY)c=i.height-t.y+2*this._viewportMargin,o=i.height-c+this._viewportMargin;else{const H=Math.min(i.bottom-t.y+i.top,t.y),ee=this._lastBoundingBoxSize.height;o=2*H,s=t.y-H,o>ee&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-ee/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)F=i.width-t.x+2*this._viewportMargin,w=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)T=t.x,w=i.right-t.x;else{const H=Math.min(i.right-t.x+i.left,t.x),ee=this._lastBoundingBoxSize.width;w=2*H,T=t.x-H,w>ee&&!this._isInitialRender&&!this._growAfterOpen&&(T=t.x-ee/2)}return{top:s,left:T,bottom:c,right:F,width:w,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=pc(i.height),r.top=pc(i.top),r.bottom=pc(i.bottom),r.width=pc(i.width),r.left=pc(i.left),r.right=pc(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=pc(o)),s&&(r.maxWidth=pc(s))}this._lastBoundingBoxSize=i,cy(this._boundingBox.style,r)}_resetBoundingBoxStyles(){cy(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){cy(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const w=this._viewportRuler.getViewportScrollPosition();cy(i,this._getExactOverlayY(e,t,w)),cy(i,this._getExactOverlayX(e,t,w))}else i.position="static";let c="",u=this._getOffset(e,"x"),g=this._getOffset(e,"y");u&&(c+=`translateX(${u}px) `),g&&(c+=`translateY(${g}px)`),i.transform=c.trim(),s.maxHeight&&(r?i.maxHeight=pc(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=pc(s.maxWidth):o&&(i.maxWidth="")),cy(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=pc(o.y),r}_getExactOverlayX(t,e,i){let s,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=pc(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:EK(t,i),isOriginOutsideView:KF(t,i),isOverlayClipped:EK(e,i),isOverlayOutsideView:KF(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&zS(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof or)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function cy(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function SK(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(ZCe);return e&&"px"!==e?null:parseFloat(t)}return n||null}function kK(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const DK="cdk-global-overlay-wrapper";class tIe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(DK),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:c}=i,u=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),g=!("100%"!==o&&"100vh"!==o||c&&"100%"!==c&&"100vh"!==c),w=this._xPosition,T=this._xOffset,F="rtl"===this._overlayRef.getConfig().direction;let H="",ee="",Ae="";u?Ae="flex-start":"center"===w?(Ae="center",F?ee=T:H=T):F?"left"===w||"end"===w?(Ae="flex-end",H=T):("right"===w||"start"===w)&&(Ae="flex-start",ee=T):"left"===w||"start"===w?(Ae="flex-start",H=T):("right"===w||"end"===w)&&(Ae="flex-end",ee=T),t.position=this._cssPosition,t.marginLeft=u?"0":H,t.marginTop=g?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=u?"0":ee,e.justifyContent=Ae,e.alignItems=g?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(DK),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let nIe=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new tIe}flexibleConnectedTo(e){return new JCe(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(vK),Ct(Rr),Ct(Lc),Ct(YS))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),iIe=0,GA=(()=>{class n{constructor(e,i,r,o,s,c,u,g,w,T,F,H){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=c,this._ngZone=u,this._document=g,this._directionality=w,this._location=T,this._outsideClickDispatcher=F,this._animationsModuleType=H}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new WF(e);return s.direction=s.direction||this._directionality.value,new ZS(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(oc))}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+iIe++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Ah)),new GCe(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(WCe),Ct(YS),Ct(T0),Ct(nIe),Ct(XCe),Ct(ho),Ct(Ri),Ct(Rr),Ct(ly),Ct(Sv),Ct(YCe),Ct(eu,8))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const sIe={provide:new Wt("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=Ht(GA);return()=>n.scrollStrategies.reposition()}}),deps:[GA],useFactory:function oIe(n){return()=>n.scrollStrategies.reposition()}};let $F=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({providers:[GA,sIe],imports:[IE,ME,bK,bK]})}return n})();function aIe(n,t){}class JS{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let RK=(()=>{class n extends XS{constructor(e,i,r,o,s,c,u,g){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=s,this._ngZone=c,this._overlayRef=u,this._focusMonitor=g,this._platform=Ht(Lc),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=Ht(qo),this._injector=Ht(ho),this._isDestroyed=!1,this.attachDomPortal=w=>{this._portalOutlet.hasAttached();const T=this._portalOutlet.attachDomPortal(w);return this._contentAttached(),T},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){const i=this._ariaLabelledByQueue.indexOf(e);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){this._isDestroyed||Og(()=>{const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}},{injector:this._injector})}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=NS(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=NS();return e===i||e.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=NS()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(i){return new(i||n)(Re(or),Re(jq),Re(Rr,8),Re(JS),Re(UF),Re(Ri),Re(ZS),Re(p_))};static#t=this.\u0275cmp=Ii({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(1&i&&po(RE,7),2&i){let o;Ti(o=Si())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){2&i&&Qt("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},standalone:!0,features:[cr,vo],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&Kt(0,aIe,0,0,"ng-template",0)},dependencies:[RE],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return n})();class XF{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new $,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!zb(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const MK=new Wt("DialogScrollStrategy",{providedIn:"root",factory:()=>{const n=Ht(GA);return()=>n.scrollStrategies.block()}}),lIe=new Wt("DialogData"),cIe=new Wt("DefaultDialogConfig");let dIe=0,BK=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,i,r,o,s,c){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new $,this._afterOpenedAtThisLevel=new $,this._ariaHiddenElements=new Map,this.afterAllClosed=rb(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Gf(void 0))),this._scrollStrategy=c}open(e,i){(i={...this._defaultOptions||new JS,...i}).id=i.id||"cdk-dialog-"+dIe++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),s=this._overlay.create(o),c=new XF(s,i),u=this._attachContainer(s,c,i);return c.containerInstance=u,this._attachDialogContent(e,c,u,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(c),c.closed.subscribe(()=>this._removeOpenDialog(c,!0)),this.afterOpened.next(c),c}closeAll(){YF(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){YF(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),YF(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new WF({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const o=r.injector||r.viewContainerRef?.injector,s=[{provide:JS,useValue:r},{provide:XF,useValue:i},{provide:ZS,useValue:e}];let c;r.container?"function"==typeof r.container?c=r.container:(c=r.container.type,s.push(...r.container.providers(r))):c=RK;const u=new DE(c,r.viewContainerRef,ho.create({parent:o||this._injector,providers:s}),r.componentFactoryResolver);return e.attach(u).instance}_attachDialogContent(e,i,r,o){if(e instanceof Hh){const s=this._createInjector(o,i,r,void 0);let c={$implicit:o.data,dialogRef:i};o.templateContext&&(c={...c,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new qF(e,null,c,s))}else{const s=this._createInjector(o,i,r,this._injector),c=r.attachComponentPortal(new DE(e,o.viewContainerRef,s,o.componentFactoryResolver));i.componentRef=c,i.componentInstance=c.instance}}_createInjector(e,i,r,o){const s=e.injector||e.viewContainerRef?.injector,c=[{provide:lIe,useValue:e.data},{provide:XF,useValue:i}];return e.providers&&("function"==typeof e.providers?c.push(...e.providers(i,e,r)):c.push(...e.providers)),e.direction&&(!s||!s.get(ly,null,{optional:!0}))&&c.push({provide:ly,useValue:{value:e.direction,change:Xi()}}),ho.create({parent:s||o,providers:c})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(GA),Ct(ho),Ct(cIe,8),Ct(n,12),Ct(YS),Ct(MK))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function YF(n,t){let e=n.length;for(;e--;)t(n[e])}let hIe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({providers:[BK],imports:[$F,ME,XEe,ME]})}return n})();function pIe(n,t){}class ZF{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const JF="mdc-dialog--open",PK="mdc-dialog--opening",OK="mdc-dialog--closing";let FK=(()=>{class n extends RK{constructor(e,i,r,o,s,c,u,g,w){super(e,i,r,o,s,c,u,w),this._animationMode=g,this._animationStateChanged=new ni,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?NK(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?NK(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(LK,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(PK,JF)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(JF),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(JF),this._animationsEnabled?(this._hostElement.style.setProperty(LK,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(OK)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(PK,OK)}_waitForAnimationToComplete(e,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(e){const i=super.attachComponentPortal(e);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static#e=this.\u0275fac=function(i){return new(i||n)(Re(or),Re(jq),Re(Rr,8),Re(ZF),Re(UF),Re(Ri),Re(ZS),Re(eu,8),Re(p_))};static#t=this.\u0275cmp=Ii({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,r){2&i&&(Nf("id",r._config.id),Qt("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),Ho("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},standalone:!0,features:[cr,vo],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&($e(0,"div",0)(1,"div",1),Kt(2,pIe,0,0,"ng-template",2),rt()())},dependencies:[RE],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, 4px);background-color:var(--mdc-dialog-container-color, white)}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87));font-family:var(--mdc-dialog-subhead-font, inherit);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6));font-family:var(--mdc-dialog-supporting-text-font, inherit);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return n})();const LK="--mat-dialog-transition-duration";function NK(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?jS(n.substring(0,n.length-2)):n.endsWith("s")?1e3*jS(n.substring(0,n.length-1)):"0"===n?0:null}var ek=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(ek||{});class eL{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new $,this._beforeClosed=new $,this._state=ek.OPEN,this.disableClose=e.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(Ia(r=>"opened"===r.state),El(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Ia(r=>"closed"===r.state),El(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Yf(this.backdropClick(),this.keydownEvents().pipe(Ia(r=>27===r.keyCode&&!this.disableClose&&!zb(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),UK(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Ia(e=>"closing"===e.state),El(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=ek.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=ek.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function UK(n,t,e){return n._closeInteractionType=t,n.close(e)}const mIe=new Wt("MatMdcDialogData"),gIe=new Wt("mat-mdc-dialog-default-options"),VK=new Wt("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const n=Ht(GA);return()=>n.scrollStrategies.block()}});let vIe=0,BE=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,i,r,o,s,c,u,g){this._overlay=e,this._defaultOptions=o,this._scrollStrategy=s,this._parentDialog=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new $,this._afterOpenedAtThisLevel=new $,this.dialogConfigClass=ZF,this.afterAllClosed=rb(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Gf(void 0))),this._dialog=i.get(BK),this._dialogRefConstructor=eL,this._dialogContainerType=FK,this._dialogDataToken=mIe}open(e,i){let r;(i={...this._defaultOptions||new ZF,...i}).id=i.id||"mat-mdc-dialog-"+vIe++,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:JS,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(s,c,u)=>(r=new this._dialogRefConstructor(s,i,u),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:u},{provide:this._dialogDataToken,useValue:c.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(GA),Ct(ho),Ct(Sv,8),Ct(gIe,8),Ct(VK),Ct(n,12),Ct(YS),Ct(eu,8))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),QK=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=HK(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){UK(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}static#e=this.\u0275fac=function(i){return new(i||n)(Re(eL,8),Re(or),Re(BE))};static#t=this.\u0275dir=zn({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(i,r){1&i&&Hn("click",function(s){return r._onButtonClick(s)}),2&i&&Qt("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[Qs]})}return n})(),jK=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r}ngOnInit(){this._dialogRef||(this._dialogRef=HK(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static#e=this.\u0275fac=function(i){return new(i||n)(Re(eL,8),Re(or),Re(BE))};static#t=this.\u0275dir=zn({type:n,standalone:!0})}return n})(),zK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=zn({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0,features:[vU([QCe])]})}return n})(),GK=(()=>{class n extends jK{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Fi(n)))(r||n)}})();static#t=this.\u0275dir=zn({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(i,r){2&i&&Ho("mat-mdc-dialog-actions-align-start","start"===r.align)("mat-mdc-dialog-actions-align-center","center"===r.align)("mat-mdc-dialog-actions-align-end","end"===r.align)},inputs:{align:"align"},standalone:!0,features:[cr]})}return n})();function HK(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}let wIe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({providers:[BE],imports:[hIe,$F,ME,Is,Is]})}return n})();function xIe(n,t){1&n&&($e(0,"div",4),$i(1,"Are you sure you want to close the room?"),rt())}function EIe(n,t){1&n&&($e(0,"div",4),$i(1,"Are you sure you want to leave the room?"),rt())}function CIe(n,t){if(1&n){const e=ur();$e(0,"button",5),Hn("click",function(){return mn(e),pn(He().confirmDelete())}),$i(1,"Close Room"),rt()}}function IIe(n,t){if(1&n){const e=ur();$e(0,"button",5),Hn("click",function(){return mn(e),pn(He().leaveRoom())}),$i(1,"Leave Room"),rt()}}let KK=(()=>{class n{constructor(e,i){this.db=e,this.router=i,this.savedRoomPin="",this.savedName="",this.users=[],this.displayConfirmDialog=!0}ngOnInit(){this.savedRoomPin=localStorage.getItem("generatedCode")||"",this.savedName=localStorage.getItem("savedName")||"l",this.db.list(`rooms/${this.savedRoomPin}/users/${this.savedName}`).valueChanges().subscribe(e=>{this.users=e,this.userLevel=e[2]})}confirmDelete(){const e=localStorage.getItem("generatedCode");e&&this.db.object(`rooms/${e}/users/${this.savedName}/userLevel`).valueChanges().subscribe(i=>{1===i&&(localStorage.removeItem("generatedCode"),this.router.navigateByUrl("/home"),this.db.object(`rooms/${e}`).remove().then(()=>{this.displayConfirmDialog=!1}).catch(r=>{}))})}leaveRoom(){const e=localStorage.getItem("generatedCode");e&&this.db.object(`rooms/${e}/users/${this.savedName}`).remove().then(()=>{localStorage.removeItem("generatedCode"),console.log("Room left successfully!"),this.router.navigateByUrl("/home"),this.displayConfirmDialog=!1}).catch(i=>{console.error("Error leaving room:",i)})}static#e=this.\u0275fac=function(i){return new(i||n)(Re(_E),Re(rd))};static#t=this.\u0275cmp=Ii({type:n,selectors:[["app-cancel-dialog"]],decls:7,vars:4,consts:[["mat-dialog-content","",4,"ngIf"],["mat-dialog-actions",""],["mat-flat-button","","color","warn","mat-dialog-close","","routerLink","/home",3,"click",4,"ngIf"],["mat-flat-button","","mat-dialog-close",""],["mat-dialog-content",""],["mat-flat-button","","color","warn","mat-dialog-close","","routerLink","/home",3,"click"]],template:function(i,r){1&i&&(Kt(0,xIe,2,0,"div",0)(1,EIe,2,0,"div",0),$e(2,"div",1),Kt(3,CIe,2,0,"button",2)(4,IIe,2,0,"button",2),$e(5,"button",3),$i(6,"Cancel"),rt()()),2&i&&(be("ngIf",1==r.userLevel),Ie(),be("ngIf",2==r.userLevel),Ie(2),be("ngIf",1==r.userLevel),Ie(),be("ngIf",2==r.userLevel))},dependencies:[xl,kx,KS,QK,GK,zK]})}return n})();const TIe=["*"];let tk;function PE(n){return function SIe(){if(void 0===tk&&(tk=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(tk=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return tk}()?.createHTML(n)||n}function WK(n){return Error(`Unable to find icon with the name "${n}"`)}function $K(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function XK(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class uy{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let nk=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new uy(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const s=this._sanitizer.sanitize(Tu.HTML,r);if(!s)throw XK(r);const c=PE(s);return this._addSvgIconConfig(e,i,new uy("",c,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new uy(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(Tu.HTML,i);if(!o)throw XK(i);const s=PE(o);return this._addSvgIconSetConfig(e,new uy("",s,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(Tu.RESOURCE_URL,e);if(!i)throw $K(e);const r=this._cachedIconsByUrl.get(i);return r?Xi(ik(r)):this._loadSvgIconFromConfig(new uy(e,null)).pipe(Hl(o=>this._cachedIconsByUrl.set(i,o)),We(o=>ik(o)))}getNamedSvgIcon(e,i=""){const r=YK(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(e,s):ob(WK(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Xi(ik(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(We(i=>ik(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?Xi(r):iz(i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Dv(c=>{const g=`Loading icon set URL: ${this._sanitizer.sanitize(Tu.RESOURCE_URL,s.url)} failed: ${c.message}`;return this._errorHandler.handleError(new Error(g)),Xi(null)})))).pipe(We(()=>{const s=this._extractIconWithNameFromAnySet(e,i);if(!s)throw WK(e);return s}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const s=this._svgElementFromConfig(o),c=this._extractSvgIconFromSet(s,e,o.options);if(c)return c}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Hl(i=>e.svgText=i),We(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Xi(null):this._fetchIcon(e).pipe(Hl(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const c=this._svgElementFromString(PE("<svg></svg>"));return c.appendChild(s),this._setSvgAttributes(c,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(PE("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:s,value:c}=r[o];"id"!==s&&i.setAttribute(s,c)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function kIe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const s=this._sanitizer.sanitize(Tu.RESOURCE_URL,i);if(!s)throw $K(i);const c=this._inProgressUrlFetches.get(s);if(c)return c;const u=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(We(g=>PE(g)),lb(()=>this._inProgressUrlFetches.delete(s)),JP());return this._inProgressUrlFetches.set(s,u),u}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(YK(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return RIe(o)?new uy(o.url,null,o.options):new uy(o,null)}}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(bE,8),Ct(GB),Ct(Rr,8),Ct(Do))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ik(n){return n.cloneNode(!0)}function YK(n,t){return n+":"+t}function RIe(n){return!(!n.url||!n.options)}const MIe=new Wt("MAT_ICON_DEFAULT_OPTIONS"),BIe=new Wt("mat-icon-location",{providedIn:"root",factory:function PIe(){const n=Ht(Rr),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),ZK=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],OIe=ZK.map(n=>`[${n}]`).join(", "),FIe=/^url\(['"]?#(.*?)['"]?\)$/;let JK=(()=>{class n{get color(){return this._color||this._defaultColor}set color(e){this._color=e}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,o,s,c){this._elementRef=e,this._iconRegistry=i,this._location=o,this._errorHandler=s,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Zt.EMPTY,c&&(c.color&&(this.color=this._defaultColor=c.color),c.fontSet&&(this.fontSet=c.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(OIe),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)ZK.forEach(s=>{const c=i[o],u=c.getAttribute(s),g=u?u.match(FIe):null;if(g){let w=r.get(c);w||(w=[],r.set(c,w)),w.push({name:s,value:g[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(El(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}static#e=this.\u0275fac=function(i){return new(i||n)(Re(or),Re(nk),_o("aria-hidden"),Re(BIe),Re(Do),Re(MIe,8))};static#t=this.\u0275cmp=Ii({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,r){2&i&&(Qt("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),jr(r.color?"mat-"+r.color:""),Ho("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:[2,"inline","inline",xn],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[ao,vo],ngContentSelectors:TIe,decls:1,vars:0,template:function(i,r){1&i&&(zs(),Zr(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),LIe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({imports:[Is,Is]})}return n})(),NIe=(()=>{class n{styleClass;style;strokeWidth="2";fill="none";animationDuration="2s";ariaLabel;static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Ii({type:n,selectors:[["p-progressSpinner"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",strokeWidth:"strokeWidth",fill:"fill",animationDuration:"animationDuration",ariaLabel:"ariaLabel"},decls:3,vars:11,consts:[["role","progressbar",1,"p-progress-spinner",3,"ngStyle","ngClass"],["viewBox","25 25 50 50",1,"p-progress-spinner-svg"],["cx","50","cy","50","r","20","stroke-miterlimit","10",1,"p-progress-spinner-circle"]],template:function(i,r){1&i&&($e(0,"div",0),wa(),$e(1,"svg",1),Pn(2,"circle",2),rt()()),2&i&&(be("ngStyle",r.style)("ngClass",r.styleClass),Qt("aria-label",r.ariaLabel)("aria-busy",!0)("data-pc-name","progressspinner")("data-pc-section","root"),Ie(),Of("animation-duration",r.animationDuration),Qt("data-pc-section","root"),Ie(),Qt("fill",r.fill)("stroke-width",r.strokeWidth))},dependencies:[Gl,Su],styles:['@layer primeng{.p-progress-spinner{position:relative;margin:0 auto;width:100px;height:100px;display:inline-block}.p-progress-spinner:before{content:"";display:block;padding-top:100%}.p-progress-spinner-svg{animation:p-progress-spinner-rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;inset:0;margin:auto}.p-progress-spinner-circle{stroke-dasharray:89,200;stroke-dashoffset:0;stroke:#d62d20;animation:p-progress-spinner-dash 1.5s ease-in-out infinite,p-progress-spinner-color 6s ease-in-out infinite;stroke-linecap:round}}@keyframes p-progress-spinner-rotate{to{transform:rotate(360deg)}}@keyframes p-progress-spinner-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}to{stroke-dasharray:89,200;stroke-dashoffset:-124px}}@keyframes p-progress-spinner-color{to,0%{stroke:#d62d20}40%{stroke:#0057e7}66%{stroke:#008744}80%,90%{stroke:#ffa700}}\n'],encapsulation:2,changeDetection:0})}return n})(),UIe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=bi({type:n});static \u0275inj=di({imports:[Gs]})}return n})();const VIe=["*"];function QIe(n,t){if(1&n){const e=ur();$e(0,"img",6),Hn("error",function(r){return mn(e),pn(He(2).imageError(r))}),rt()}if(2&n){const e=He(2);be("src",e.image,y0)("alt",e.alt)}}function jIe(n,t){1&n&&Pn(0,"span",8),2&n&&(jr(He(3).icon),be("ngClass","p-chip-icon"),Qt("data-pc-section","icon"))}function zIe(n,t){1&n&&Kt(0,jIe,1,4,"span",7),2&n&&be("ngIf",He(2).icon)}function GIe(n,t){if(1&n&&($e(0,"div",9),$i(1),rt()),2&n){const e=He(2);Qt("data-pc-section","label"),Ie(),Oa(e.label)}}function HIe(n,t){if(1&n){const e=ur();$e(0,"span",13),Hn("click",function(r){return mn(e),pn(He(4).close(r))})("keydown",function(r){return mn(e),pn(He(4).onKeydown(r))}),rt()}if(2&n){const e=He(4);jr(e.removeIcon),be("ngClass","pi-chip-remove-icon"),Qt("data-pc-section","removeicon")("aria-label",e.removeAriaLabel)}}function qIe(n,t){if(1&n){const e=ur();$e(0,"TimesCircleIcon",14),Hn("click",function(r){return mn(e),pn(He(4).close(r))})("keydown",function(r){return mn(e),pn(He(4).onKeydown(r))}),rt()}if(2&n){const e=He(4);jr("pi-chip-remove-icon"),Qt("data-pc-section","removeicon")("aria-label",e.removeAriaLabel)}}function KIe(n,t){if(1&n&&(lo(0),Kt(1,HIe,1,5,"span",11)(2,qIe,1,4,"TimesCircleIcon",12),co()),2&n){const e=He(3);Ie(),be("ngIf",e.removeIcon),Ie(),be("ngIf",!e.removeIcon)}}function WIe(n,t){}function $Ie(n,t){1&n&&Kt(0,WIe,0,0,"ng-template")}function XIe(n,t){if(1&n){const e=ur();$e(0,"span",15),Hn("click",function(r){return mn(e),pn(He(3).close(r))})("keydown",function(r){return mn(e),pn(He(3).onKeydown(r))}),Kt(1,$Ie,1,0,null,16),rt()}if(2&n){const e=He(3);Qt("data-pc-section","removeicon")("aria-label",e.removeAriaLabel),Ie(),be("ngTemplateOutlet",e.removeIconTemplate)}}function YIe(n,t){if(1&n&&(lo(0),Kt(1,KIe,3,2,"ng-container",5)(2,XIe,2,3,"span",10),co()),2&n){const e=He(2);Ie(),be("ngIf",!e.removeIconTemplate),Ie(),be("ngIf",e.removeIconTemplate)}}function ZIe(n,t){if(1&n&&($e(0,"div",2),Zr(1),Kt(2,QIe,1,2,"img",3)(3,zIe,1,1,"ng-template",null,0,id)(5,GIe,2,2,"div",4)(6,YIe,3,2,"ng-container",5),rt()),2&n){const e=ua(4),i=He();jr(i.styleClass),be("ngClass",i.containerClass())("ngStyle",i.style),Qt("data-pc-name","chip")("aria-label",i.label)("data-pc-section","root"),Ie(2),be("ngIf",i.image)("ngIfElse",e),Ie(3),be("ngIf",i.label),Ie(),be("ngIf",i.removable)}}let JIe=(()=>{class n{label;icon;image;alt;style;styleClass;removable=!1;removeIcon;onRemove=new ni;onImageError=new ni;config=Ht(Wf);visible=!0;removeIconTemplate;get removeAriaLabel(){return this.config.getTranslation(a7.ARIA).removeLabel}templates;ngAfterContentInit(){this.templates.forEach(e=>{e.getType(),this.removeIconTemplate=e.template})}containerClass(){return{"p-chip p-component":!0,"p-chip-image":null!=this.image}}close(e){this.visible=!1,this.onRemove.emit(e)}onKeydown(e){("Enter"===e.key||"Backspace"===e.key)&&this.close(e)}imageError(e){this.onImageError.emit(e)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Ii({type:n,selectors:[["p-chip"]],contentQueries:function(i,r,o){if(1&i&&jo(o,sd,4),2&i){let s;Ti(s=Si())&&(r.templates=s)}},hostAttrs:[1,"p-element"],inputs:{label:"label",icon:"icon",image:"image",alt:"alt",style:"style",styleClass:"styleClass",removable:[2,"removable","removable",xn],removeIcon:"removeIcon"},outputs:{onRemove:"onRemove",onImageError:"onImageError"},features:[ao],ngContentSelectors:VIe,decls:1,vars:1,consts:[["iconTemplate",""],[3,"ngClass","class","ngStyle",4,"ngIf"],[3,"ngClass","ngStyle"],[3,"src","alt","error",4,"ngIf","ngIfElse"],["class","p-chip-text",4,"ngIf"],[4,"ngIf"],[3,"error","src","alt"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[1,"p-chip-text"],["tabindex","0","class","pi-chip-remove-icon","role","button",3,"click","keydown",4,"ngIf"],["tabindex","0","role","button",3,"class","ngClass","click","keydown",4,"ngIf"],["tabindex","0","role","button",3,"class","click","keydown",4,"ngIf"],["tabindex","0","role","button",3,"click","keydown","ngClass"],["tabindex","0","role","button",3,"click","keydown"],["tabindex","0","role","button",1,"pi-chip-remove-icon",3,"click","keydown"],[4,"ngTemplateOutlet"]],template:function(i,r){1&i&&(zs(),Kt(0,ZIe,7,11,"div",1)),2&i&&be("ngIf",r.visible)},dependencies:()=>[Gl,xl,ku,Su,vE],styles:["@layer primeng{.p-chip{display:inline-flex;align-items:center}.p-chip-text,.p-chip-icon.pi,.pi-chip-remove-icon.pi{line-height:1.5}.pi-chip-remove-icon{cursor:pointer}.p-chip img{border-radius:50%}}\n"],encapsulation:2,changeDetection:0})}return n})(),e2e=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=bi({type:n});static \u0275inj=di({imports:[Gs,vE,dl,dl]})}return n})();function t2e(n,t){1&n&&($e(0,"mat-icon",13),$i(1,"check_circle"),rt())}function n2e(n,t){if(1&n&&($e(0,"p-chip")(1,"h2"),$i(2),rt(),Kt(3,t2e,2,0,"mat-icon",12),rt()),2&n){const e=t.$implicit;Ie(2),Oa(e.name),Ie(),be("ngIf",e.ready)}}function i2e(n,t){if(1&n&&($e(0,"div",10),Kt(1,n2e,4,2,"p-chip",11),rt()),2&n){const e=He();Ie(),be("ngForOf",e.users)}}function r2e(n,t){if(1&n){const e=ur();$e(0,"p-button",14),Hn("click",function(){return mn(e),pn(He().readyUp())}),rt()}2&n&&be("rounded",!0)("disabled",!0)}function o2e(n,t){if(1&n){const e=ur();$e(0,"p-button",15),Hn("click",function(){return mn(e),pn(He().readyUp())}),rt()}2&n&&be("rounded",!0)}function s2e(n,t){if(1&n){const e=ur();$e(0,"p-button",16),Hn("click",function(){return mn(e),pn(He().cancel())}),rt()}2&n&&be("rounded",!0)}function a2e(n,t){1&n&&($e(0,"div"),Pn(1,"p-progressSpinner",17),rt())}let l2e=(()=>{class n{constructor(e,i,r){this.dialog=e,this.router=i,this.db=r,this.savedRoomPin="",this.savedName="",this.users=[],this.isAnyUserReady=!1,this.isLoading=!1,this.visible=!1}ngOnInit(){this.savedRoomPin=localStorage.getItem("generatedCode")||"",this.savedName=localStorage.getItem("savedName")||"",this.isLoading=!0,this.db.list(`rooms/${this.savedRoomPin}/users`).valueChanges().subscribe(e=>{this.users=e,this.isLoading=!1})}openDialog(){this.dialog.open(KK).afterClosed().subscribe(i=>{})}checkUserStatus(){this.userStatusSubscription=this.db.list(`rooms/${this.savedRoomPin}/users`).valueChanges().subscribe(e=>{e.every(r=>!0===r.ready)&&(this.router.navigateByUrl("/restaurant-cards"),this.unsubscribeUserStatusCheck())})}ngOnDestroy(){this.unsubscribeUserStatusCheck()}unsubscribeUserStatusCheck(){this.userStatusSubscription&&this.userStatusSubscription.unsubscribe()}readyUp(){this.db.object(`rooms/${this.savedRoomPin}/users/${this.savedName}`).update({ready:!0}).then(()=>{this.checkUserStatus(),this.isAnyUserReady=!0}).catch(e=>{console.error("Error setting user status:",e)})}cancel(){this.db.object(`rooms/${this.savedRoomPin}/users/${this.savedName}`).update({ready:!1}).then(()=>{this.checkUserStatus(),this.isAnyUserReady=!1,this.isLoading=!1}).catch(e=>{console.error("Error adding user to the room:",e)})}deleteRoom(){const e=localStorage.getItem("generatedCode");e&&(this.db.object(`rooms/${e}/users/${this.savedName}/userLevel`).valueChanges().subscribe(i=>{1===i&&(localStorage.removeItem("generatedCode"),console.log("Room deleted successfully!"),this.router.navigateByUrl("/home"))}),this.db.object(`rooms/${e}`).remove().then(()=>{console.log("Room deleted successfully!")}).catch(i=>{console.error("Error deleting room:",i)}))}static#e=this.\u0275fac=function(i){return new(i||n)(Re(BE),Re(rd),Re(_E))};static#t=this.\u0275cmp=Ii({type:n,selectors:[["app-room-overview"]],decls:17,vars:6,consts:[[1,"cancelButtonContainer"],["mat-button","",1,"cancelButton",3,"click"],[1,"pageContainer"],[1,"formContainer"],[1,"roomHeader"],["class","nameList",4,"ngIf"],["size","large","pRipple","","label","Ready Up!","icon","pi pi-check",3,"rounded","disabled","click",4,"ngIf"],["size","large","pRipple","","label","Ready Up!","icon","pi pi-check",3,"rounded","click",4,"ngIf"],["size","large","pRipple","","label","Cancel","icon","pi pi-times",3,"rounded","click",4,"ngIf"],[4,"ngIf"],[1,"nameList"],[4,"ngFor","ngForOf"],["class","checkIcon",4,"ngIf"],[1,"checkIcon"],["size","large","pRipple","","label","Ready Up!","icon","pi pi-check",3,"click","rounded","disabled"],["size","large","pRipple","","label","Ready Up!","icon","pi pi-check",3,"click","rounded"],["size","large","pRipple","","label","Cancel","icon","pi pi-times",3,"click","rounded"],["styleClass","w-4rem h-4rem","strokeWidth","8","fill","var(--surface-ground)","animationDuration",".5s"]],template:function(i,r){1&i&&($e(0,"div",0)(1,"button",1),Hn("click",function(){return r.openDialog()}),$e(2,"mat-icon"),$i(3,"home"),rt(),$i(4," Exit "),rt()(),$e(5,"div",2)(6,"div",3)(7,"div",4)(8,"h1"),$i(9,"Room Pin"),rt(),$e(10,"h2"),$i(11),rt()(),Kt(12,i2e,2,1,"div",5)(13,r2e,1,2,"p-button",6)(14,o2e,1,1,"p-button",7)(15,s2e,1,1,"p-button",8)(16,a2e,2,0,"div",9),rt()()),2&i&&(Ie(11),Oa(r.savedRoomPin),Ie(),be("ngIf",!r.isLoading),Ie(),be("ngIf",r.users.length<=1),Ie(),be("ngIf",!r.isAnyUserReady&&r.users.length>1),Ie(),be("ngIf",r.isAnyUserReady),Ie(),be("ngIf",r.isLoading))},dependencies:[Qf,xl,KS,JK,xb,NIe,JIe],styles:[".cancelButtonContainer[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:start;margin-left:5vw}.cancelButton[_ngcontent-%COMP%]{position:absolute;margin-top:1em;font-size:20px;color:#c7f3c5!important}.cancelButton[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:auto;height:auto;font-size:30px}.pageContainer[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}.formContainer[_ngcontent-%COMP%]{background-color:#f8f9fa;width:90vw;height:80vh;display:flex;flex-direction:column;align-items:center;justify-content:space-around;border-radius:12px;box-shadow:#00000040 0 54px 55px,#0000001f 0 -12px 30px,#0000001f 0 4px 6px,#0000002b 0 12px 13px,#00000017 0 -3px 5px}.formContainer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80%;height:2em;margin:.5em;padding:.5em 0;border-radius:8px;font-size:14px;text-align:center;border:none}.formContainer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:80vw;height:3.5em;margin:.5em;border-radius:40px;font-size:16px;font-weight:700;background-color:#c7f3c5;color:#c7f3c5;border:none;padding:1em 0;display:flex;align-items:center;justify-content:center}.formContainer[_ngcontent-%COMP%]   .roomHeader[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.formContainer[_ngcontent-%COMP%]   .roomHeader[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-family:Lilita One,sans-serif;font-weight:400;font-style:normal;font-size:45px}.formContainer[_ngcontent-%COMP%]   .roomHeader[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:30px}.formContainer[_ngcontent-%COMP%]   .nameList[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around;margin:0 1em}.formContainer[_ngcontent-%COMP%]   .nameList[_ngcontent-%COMP%]   p-chip[_ngcontent-%COMP%]{margin:1em;border-radius:200px}.formContainer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;display:flex;align-items:center;justify-content:center;margin:.5em;font-size:18px}.formContainer[_ngcontent-%COMP%]   .checkIcon[_ngcontent-%COMP%]{color:green}"]})}return n})();const c2e=[Cl({transform:"scale(1)",opacity:1,offset:0}),Cl({transform:"translateX(0px) scale(0.7)",opacity:.7,offset:.2}),Cl({transform:"translateX(-2000px) scale(0.7)",opacity:.7,offset:1})],u2e=[Cl({transform:"scale(1)",opacity:1,offset:0}),Cl({transform:"translateX(0px) scale(0.7)",opacity:.7,offset:.2}),Cl({transform:"translateX(2000px) scale(0.7)",opacity:.7,offset:1})],d2e=["determinateSpinner"];function h2e(n,t){if(1&n&&(wa(),$e(0,"svg",11),Pn(1,"circle",12),rt()),2&n){const e=He();Qt("viewBox",e._viewBox()),Ie(),Of("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),Qt("r",e._circleRadius())}}const p2e=new Wt("mat-progress-spinner-default-options",{providedIn:"root",factory:function f2e(){return{diameter:eW}}}),eW=100;let m2e=(()=>{class n{get color(){return this._color||this._defaultColor}set color(e){this._color=e}constructor(e,i,r){this._elementRef=e,this._defaultColor="primary",this._value=0,this._diameter=eW,this._noopAnimations="NoopAnimations"===i&&!!r&&!r._forceAnimations,this.mode="mat-spinner"===e.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",r&&(r.color&&(this.color=this._defaultColor=r.color),r.diameter&&(this.diameter=r.diameter),r.strokeWidth&&(this.strokeWidth=r.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,e||0))}get diameter(){return this._diameter}set diameter(e){this._diameter=e||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=e||0}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const e=2*this._circleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(i){return new(i||n)(Re(or),Re(eu,8),Re(p2e))};static#t=this.\u0275cmp=Ii({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(i,r){if(1&i&&po(d2e,5),2&i){let o;Ti(o=Si())&&(r._determinateCircle=o.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(i,r){2&i&&(Qt("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===r.mode?r.value:null)("mode",r.mode),jr("mat-"+r.color),Of("width",r.diameter,"px")("height",r.diameter,"px")("--mdc-circular-progress-size",r.diameter+"px")("--mdc-circular-progress-active-indicator-width",r.diameter+"px"),Ho("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===r.mode))},inputs:{color:"color",mode:"mode",value:[2,"value","value",Eo],diameter:[2,"diameter","diameter",Eo],strokeWidth:[2,"strokeWidth","strokeWidth",Eo]},exportAs:["matProgressSpinner"],standalone:!0,features:[ao,vo],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(i,r){if(1&i&&(Kt(0,h2e,2,8,"ng-template",null,0,id),$e(2,"div",2,1),wa(),$e(4,"svg",3),Pn(5,"circle",4),rt()(),ch(),$e(6,"div",5)(7,"div",6)(8,"div",7),rs(9,8),rt(),$e(10,"div",9),rs(11,8),rt(),$e(12,"div",10),rs(13,8),rt()()()),2&i){const o=ua(1);Ie(4),Qt("viewBox",r._viewBox()),Ie(),Of("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),Qt("r",r._circleRadius()),Ie(4),be("ngTemplateOutlet",o),Ie(2),be("ngTemplateOutlet",o),Ie(2),be("ngTemplateOutlet",o)}},dependencies:[ku],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0})}return n})(),g2e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({imports:[Gs,Is]})}return n})(),tW=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({imports:[Is,Gs,NF,Is]})}return n})();const nW=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],iW=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function I2e(n,t){1&n&&($e(0,"span",3),Zr(1,1),rt())}function T2e(n,t){1&n&&($e(0,"span",6),Zr(1,2),rt())}function S2e(n,t){1&n&&($e(0,"span",3),Zr(1,1),$e(2,"span",8),wa(),$e(3,"svg",9),Pn(4,"path",10),rt()()())}function k2e(n,t){1&n&&($e(0,"span",6),Zr(1,2),rt())}const tL=["*"],rk=new Wt("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})}),nL=new Wt("MatChipAvatar"),iL=new Wt("MatChipTrailingIcon"),rL=new Wt("MatChipRemove"),ok=new Wt("MatChip");let $b=(()=>{class n{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(e){this._disabled=e}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(e,i){this._elementRef=e,this._parentChip=i,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this.tabIndex=-1,this._allowFocusWhenDisabled=!1,"BUTTON"===e.nativeElement.nodeName&&e.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(e){!this.disabled&&this.isInteractive&&this._isPrimary&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static#e=this.\u0275fac=function(i){return new(i||n)(Re(or),Re(ok))};static#t=this.\u0275dir=zn({type:n,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(i,r){1&i&&Hn("click",function(s){return r._handleClick(s)})("keydown",function(s){return r._handleKeydown(s)}),2&i&&(Qt("tabindex",r._getTabindex())("disabled",r._getDisabledAttribute())("aria-disabled",r.disabled),Ho("mdc-evolution-chip__action--primary",r._isPrimary)("mdc-evolution-chip__action--presentational",!r.isInteractive)("mdc-evolution-chip__action--trailing",!r._isPrimary))},inputs:{isInteractive:"isInteractive",disabled:[2,"disabled","disabled",xn],tabIndex:[2,"tabIndex","tabIndex",e=>null==e?-1:Eo(e)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},standalone:!0,features:[ao]})}return n})(),j2e=0,dy=(()=>{class n{_hasFocus(){return this._hasFocusInternal}get value(){return void 0!==this._value?this._value:this._textElement.textContent.trim()}set value(e){this._value=e}get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}constructor(e,i,r,o,s,c,u){this._changeDetectorRef=e,this._elementRef=i,this._ngZone=r,this._focusMonitor=o,this._globalRippleOptions=u,this._onFocus=new $,this._onBlur=new $,this.role=null,this._hasFocusInternal=!1,this.id="mat-mdc-chip-"+j2e++,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this.removable=!0,this.highlighted=!1,this.disableRipple=!1,this.disabled=!1,this.removed=new ni,this.destroyed=new ni,this.basicChipAttrName="mat-basic-chip",this._rippleLoader=Ht(aK),this._injector=Ht(ho),this._document=s,this._animationsDisabled="NoopAnimations"===c,this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){const e=this._elementRef.nativeElement;this._isBasicChip=e.hasAttribute(this.basicChipAttrName)||e.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=Yf(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!(!this.trailingIcon&&!this.removeIcon)}_handleKeydown(e){(8===e.keyCode&&!e.repeat||46===e.keyCode)&&(e.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(e){return this._getActions().find(i=>{const r=i._elementRef.nativeElement;return r===e||r.contains(e)})}_getActions(){const e=[];return this.primaryAction&&e.push(this.primaryAction),this.removeIcon&&e.push(this.removeIcon),this.trailingIcon&&e.push(this.trailingIcon),e}_handlePrimaryActionInteraction(){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const i=null!==e;i!==this._hasFocusInternal&&(this._hasFocusInternal=i,i?this._onFocus.next({chip:this}):Og(()=>this._ngZone.run(()=>this._onBlur.next({chip:this})),{injector:this._injector}))})}static#e=this.\u0275fac=function(i){return new(i||n)(Re(qo),Re(or),Re(Ri),Re(p_),Re(Rr),Re(eu,8),Re(Hb,8))};static#t=this.\u0275cmp=Ii({type:n,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(i,r,o){if(1&i&&(jo(o,nL,5),jo(o,iL,5),jo(o,rL,5),jo(o,nL,5),jo(o,iL,5),jo(o,rL,5)),2&i){let s;Ti(s=Si())&&(r.leadingIcon=s.first),Ti(s=Si())&&(r.trailingIcon=s.first),Ti(s=Si())&&(r.removeIcon=s.first),Ti(s=Si())&&(r._allLeadingIcons=s),Ti(s=Si())&&(r._allTrailingIcons=s),Ti(s=Si())&&(r._allRemoveIcons=s)}},viewQuery:function(i,r){if(1&i&&po($b,5),2&i){let o;Ti(o=Si())&&(r.primaryAction=o.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:31,hostBindings:function(i,r){1&i&&Hn("keydown",function(s){return r._handleKeydown(s)}),2&i&&(Nf("id",r.id),Qt("role",r.role)("aria-label",r.ariaLabel),jr("mat-"+(r.color||"primary")),Ho("mdc-evolution-chip",!r._isBasicChip)("mdc-evolution-chip--disabled",r.disabled)("mdc-evolution-chip--with-trailing-action",r._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",r.leadingIcon)("mdc-evolution-chip--with-primary-icon",r.leadingIcon)("mdc-evolution-chip--with-avatar",r.leadingIcon)("mat-mdc-chip-with-avatar",r.leadingIcon)("mat-mdc-chip-highlighted",r.highlighted)("mat-mdc-chip-disabled",r.disabled)("mat-mdc-basic-chip",r._isBasicChip)("mat-mdc-standard-chip",!r._isBasicChip)("mat-mdc-chip-with-trailing-icon",r._hasTrailingIcon())("_mat-animation-noopable",r._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaDescription:[0,"aria-description","ariaDescription"],value:"value",color:"color",removable:[2,"removable","removable",xn],highlighted:[2,"highlighted","highlighted",xn],disableRipple:[2,"disableRipple","disableRipple",xn],disabled:[2,"disabled","disabled",xn]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],standalone:!0,features:[Vr([{provide:ok,useExisting:n}]),ao,vo],ngContentSelectors:iW,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(i,r){1&i&&(zs(nW),Pn(0,"span",0),$e(1,"span",1)(2,"span",2),Kt(3,I2e,2,0,"span",3),$e(4,"span",4),Zr(5),Pn(6,"span",5),rt()()(),Kt(7,T2e,2,0,"span",6)),2&i&&(Ie(2),be("isInteractive",!1),Ie(),Oc(r.leadingIcon?3:-1),Ie(4),Oc(r._hasTrailingIcon()?7:-1))},dependencies:[$b],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width);border-radius:var(--mdc-chip-container-shape-radius);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color)}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size);height:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.cdk-high-contrast-active .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius);width:var(--mdc-chip-with-icon-icon-size);height:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color);--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color);--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color);--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color)}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color)}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color);opacity:var(--mdc-chip-hover-state-layer-opacity)}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color);opacity:var(--mdc-chip-selected-hover-state-layer-opacity)}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color);opacity:var(--mdc-chip-selected-focus-state-layer-opacity)}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color)}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background:var(--mat-chip-trailing-action-state-layer-color)}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity)}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity)}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background:var(--mat-chip-selected-trailing-action-state-layer-color)}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-2px;bottom:-2px;left:6px;right:6px;border-radius:50%}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),sW=(()=>{class n extends dy{constructor(){super(...arguments),this._defaultOptions=Ht(rk,{optional:!0}),this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListHideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._selectable=!0,this._selected=!1,this.basicChipAttrName="mat-basic-chip-option",this.selectionChange=new ni}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(e){this._selectable=e,this._changeDetectorRef.markForCheck()}get selected(){return this._selected}set selected(e){this._setSelectedState(e,!1,!0)}get ariaSelected(){return this.selectable?this.selected.toString():null}ngOnInit(){super.ngOnInit(),this.role="presentation"}select(){this._setSelectedState(!0,!1,!0)}deselect(){this._setSelectedState(!1,!1,!0)}selectViaInteraction(){this._setSelectedState(!0,!0,!0)}toggleSelected(e=!1){return this._setSelectedState(!this.selected,e,!0),this.selected}_handlePrimaryActionInteraction(){this.disabled||(this.focus(),this.selectable&&this.toggleSelected(!0))}_hasLeadingGraphic(){return!!this.leadingIcon||!this._chipListHideSingleSelectionIndicator||this._chipListMultiple}_setSelectedState(e,i,r){e!==this.selected&&(this._selected=e,r&&this.selectionChange.emit({source:this,isUserInput:i,selected:this.selected}),this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Fi(n)))(r||n)}})();static#t=this.\u0275cmp=Ii({type:n,selectors:[["mat-basic-chip-option"],["","mat-basic-chip-option",""],["mat-chip-option"],["","mat-chip-option",""]],hostAttrs:[1,"mat-mdc-chip","mat-mdc-chip-option"],hostVars:37,hostBindings:function(i,r){2&i&&(Nf("id",r.id),Qt("tabindex",null)("aria-label",null)("aria-description",null)("role",r.role),Ho("mdc-evolution-chip",!r._isBasicChip)("mdc-evolution-chip--filter",!r._isBasicChip)("mdc-evolution-chip--selectable",!r._isBasicChip)("mat-mdc-chip-selected",r.selected)("mat-mdc-chip-multiple",r._chipListMultiple)("mat-mdc-chip-disabled",r.disabled)("mat-mdc-chip-with-avatar",r.leadingIcon)("mdc-evolution-chip--disabled",r.disabled)("mdc-evolution-chip--selected",r.selected)("mdc-evolution-chip--selecting",!r._animationsDisabled)("mdc-evolution-chip--with-trailing-action",r._hasTrailingIcon())("mdc-evolution-chip--with-primary-icon",r.leadingIcon)("mdc-evolution-chip--with-primary-graphic",r._hasLeadingGraphic())("mdc-evolution-chip--with-avatar",r.leadingIcon)("mat-mdc-chip-highlighted",r.highlighted)("mat-mdc-chip-with-trailing-icon",r._hasTrailingIcon()))},inputs:{selectable:[2,"selectable","selectable",xn],selected:[2,"selected","selected",xn]},outputs:{selectionChange:"selectionChange"},standalone:!0,features:[Vr([{provide:dy,useExisting:n},{provide:ok,useExisting:n}]),ao,cr,vo],ngContentSelectors:iW,decls:10,vars:8,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","","role","option",3,"_allowFocusWhenDisabled"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"],[1,"cdk-visually-hidden",3,"id"],[1,"mdc-evolution-chip__checkmark"],["viewBox","-2 -3 30 30","focusable","false","aria-hidden","true",1,"mdc-evolution-chip__checkmark-svg"],["fill","none","stroke","currentColor","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-evolution-chip__checkmark-path"]],template:function(i,r){1&i&&(zs(nW),Pn(0,"span",0),$e(1,"span",1)(2,"button",2),Kt(3,S2e,5,0,"span",3),$e(4,"span",4),Zr(5),Pn(6,"span",5),rt()()(),Kt(7,k2e,2,0,"span",6),$e(8,"span",7),$i(9),rt()),2&i&&(Ie(2),be("_allowFocusWhenDisabled",!0),Qt("aria-selected",r.ariaSelected)("aria-label",r.ariaLabel)("aria-describedby",r._ariaDescriptionId),Ie(),Oc(r._hasLeadingGraphic()?3:-1),Ie(4),Oc(r._hasTrailingIcon()?7:-1),Ie(),be("id",r._ariaDescriptionId),Ie(),Oa(r.ariaDescription))},dependencies:[$b],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width);border-radius:var(--mdc-chip-container-shape-radius);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color)}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size);height:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.cdk-high-contrast-active .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius);width:var(--mdc-chip-with-icon-icon-size);height:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color);--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color);--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color);--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color)}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color)}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color);opacity:var(--mdc-chip-hover-state-layer-opacity)}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color);opacity:var(--mdc-chip-selected-hover-state-layer-opacity)}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color);opacity:var(--mdc-chip-selected-focus-state-layer-opacity)}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color)}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background:var(--mat-chip-trailing-action-state-layer-color)}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity)}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity)}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background:var(--mat-chip-selected-trailing-action-state-layer-color)}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-2px;bottom:-2px;left:6px;right:6px;border-radius:50%}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),oL=(()=>{class n{get chipFocusChanges(){return this._getChipStream(e=>e._onFocus)}get chipDestroyedChanges(){return this._getChipStream(e=>e.destroyed)}get chipRemovedChanges(){return this._getChipStream(e=>e.removed)}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._syncChipsState()}get empty(){return!this._chips||0===this._chips.length}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}set role(e){this._explicitRole=e}get focused(){return this._hasFocusedChip()}constructor(e,i,r){this._elementRef=e,this._changeDetectorRef=i,this._dir=r,this._lastDestroyedFocusedChipIndex=null,this._destroyed=new $,this._defaultRole="presentation",this._disabled=!1,this.tabIndex=0,this._explicitRole=null,this._chipActions=new Bm}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(e=>e._hasFocus())}_syncChipsState(){this._chips&&this._chips.forEach(e=>{e.disabled=this._disabled,e._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(e){this._originatesFromChip(e)&&this._keyManager.onKeydown(e)}_isValidIndex(e){return e>=0&&e<this._chips.length}_allowFocusEscape(){if(-1!==this.tabIndex){const e=this.tabIndex;this.tabIndex=-1,this._changeDetectorRef.markForCheck(),setTimeout(()=>{this.tabIndex=e,this._changeDetectorRef.markForCheck()})}}_getChipStream(e){return this._chips.changes.pipe(Gf(null),pa(()=>Yf(...this._chips.map(e))))}_originatesFromChip(e){let i=e.target;for(;i&&i!==this._elementRef.nativeElement;){if(i.classList.contains("mat-mdc-chip"))return!0;i=i.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe(Gf(this._chips)).subscribe(e=>{const i=[];e.forEach(r=>r._getActions().forEach(o=>i.push(o))),this._chipActions.reset(i),this._chipActions.notifyOnChanges()}),this._keyManager=new Nq(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(e=>this._skipPredicate(e)),this.chipFocusChanges.pipe(hc(this._destroyed)).subscribe(({chip:e})=>{const i=e._getSourceAction(document.activeElement);i&&this._keyManager.updateActiveItem(i)}),this._dir?.change.pipe(hc(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e))}_skipPredicate(e){return!e.isInteractive||e.disabled}_trackChipSetChanges(){this._chips.changes.pipe(Gf(null),hc(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(hc(this._destroyed)).subscribe(e=>{const r=this._chips.toArray().indexOf(e.chip);this._isValidIndex(r)&&e.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=r)})}_redirectDestroyedChipFocus(){if(null!=this._lastDestroyedFocusedChipIndex){if(this._chips.length){const e=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),i=this._chips.toArray()[e];i.disabled?1===this._chips.length?this.focus():this._keyManager.setPreviousItemActive():i.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static#e=this.\u0275fac=function(i){return new(i||n)(Re(or),Re(qo),Re(ly,8))};static#t=this.\u0275cmp=Ii({type:n,selectors:[["mat-chip-set"]],contentQueries:function(i,r,o){if(1&i&&jo(o,dy,5),2&i){let s;Ti(s=Si())&&(r._chips=s)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(i,r){1&i&&Hn("keydown",function(s){return r._handleKeydown(s)}),2&i&&Qt("role",r.role)},inputs:{disabled:[2,"disabled","disabled",xn],role:"role",tabIndex:[2,"tabIndex","tabIndex",e=>null==e?0:Eo(e)]},standalone:!0,features:[ao,vo],ngContentSelectors:tL,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(i,r){1&i&&(zs(),$e(0,"div",0),Zr(1),rt())},styles:[".mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return n})();class z2e{constructor(t,e){this.source=t,this.value=e}}const G2e={provide:fa,useExisting:Ir(()=>sL),multi:!0};let sL=(()=>{class n extends oL{constructor(){super(...arguments),this._onTouched=()=>{},this._onChange=()=>{},this._defaultRole="listbox",this._defaultOptions=Ht(rk,{optional:!0}),this._multiple=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.compareWith=(e,i)=>e===i,this.required=!1,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this.change=new ni,this._chips=void 0}get multiple(){return this._multiple}set multiple(e){this._multiple=e,this._syncListboxProperties()}get selected(){const e=this._chips.toArray().filter(i=>i.selected);return this.multiple?e:e[0]}get selectable(){return this._selectable}set selectable(e){this._selectable=e,this._syncListboxProperties()}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncListboxProperties()}get chipSelectionChanges(){return this._getChipStream(e=>e.selectionChange)}get chipBlurChanges(){return this._getChipStream(e=>e._onBlur)}get value(){return this._value}set value(e){this.writeValue(e),this._value=e}ngAfterContentInit(){void 0!==this._pendingInitialValue&&Promise.resolve().then(()=>{this._setSelectionByValue(this._pendingInitialValue,!1),this._pendingInitialValue=void 0}),this._chips.changes.pipe(Gf(null),hc(this._destroyed)).subscribe(()=>{this._syncListboxProperties()}),this.chipBlurChanges.pipe(hc(this._destroyed)).subscribe(()=>this._blur()),this.chipSelectionChanges.pipe(hc(this._destroyed)).subscribe(e=>{this.multiple||this._chips.forEach(i=>{i!==e.source&&i._setSelectedState(!1,!1,!1)}),e.isUserInput&&this._propagateChanges()})}focus(){if(this.disabled)return;const e=this._getFirstSelectedChip();e&&!e.disabled?e.focus():this._chips.length>0?this._keyManager.setFirstItemActive():this._elementRef.nativeElement.focus()}writeValue(e){this._chips?this._setSelectionByValue(e,!1):null!=e&&(this._pendingInitialValue=e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_setSelectionByValue(e,i=!0){this._clearSelection(),Array.isArray(e)?e.forEach(r=>this._selectValue(r,i)):this._selectValue(e,i)}_blur(){this.disabled||setTimeout(()=>{this.focused||this._markAsTouched()})}_keydown(e){9===e.keyCode&&super._allowFocusEscape()}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck()}_propagateChanges(){let e=null;e=Array.isArray(this.selected)?this.selected.map(i=>i.value):this.selected?this.selected.value:void 0,this._value=e,this.change.emit(new z2e(this,e)),this._onChange(e),this._changeDetectorRef.markForCheck()}_clearSelection(e){this._chips.forEach(i=>{i!==e&&i.deselect()})}_selectValue(e,i){const r=this._chips.find(o=>null!=o.value&&this.compareWith(o.value,e));return r&&(i?r.selectViaInteraction():r.select()),r}_syncListboxProperties(){this._chips&&Promise.resolve().then(()=>{this._chips.forEach(e=>{e._chipListMultiple=this.multiple,e.chipListSelectable=this._selectable,e._chipListHideSingleSelectionIndicator=this.hideSingleSelectionIndicator,e._changeDetectorRef.markForCheck()})})}_getFirstSelectedChip(){return Array.isArray(this.selected)?this.selected.length?this.selected[0]:void 0:this.selected}_skipPredicate(e){return!e.isInteractive}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Fi(n)))(r||n)}})();static#t=this.\u0275cmp=Ii({type:n,selectors:[["mat-chip-listbox"]],contentQueries:function(i,r,o){if(1&i&&jo(o,sW,5),2&i){let s;Ti(s=Si())&&(r._chips=s)}},hostAttrs:[1,"mdc-evolution-chip-set","mat-mdc-chip-listbox"],hostVars:11,hostBindings:function(i,r){1&i&&Hn("focus",function(){return r.focus()})("blur",function(){return r._blur()})("keydown",function(s){return r._keydown(s)}),2&i&&(Nf("tabIndex",r.disabled||r.empty?-1:r.tabIndex),Qt("role",r.role)("aria-describedby",r._ariaDescribedby||null)("aria-required",r.role?r.required:null)("aria-disabled",r.disabled.toString())("aria-multiselectable",r.multiple)("aria-orientation",r.ariaOrientation),Ho("mat-mdc-chip-list-disabled",r.disabled)("mat-mdc-chip-list-required",r.required))},inputs:{multiple:[2,"multiple","multiple",xn],ariaOrientation:[0,"aria-orientation","ariaOrientation"],selectable:[2,"selectable","selectable",xn],compareWith:"compareWith",required:[2,"required","required",xn],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",xn],value:"value"},outputs:{change:"change"},standalone:!0,features:[Vr([G2e]),ao,cr,vo],ngContentSelectors:tL,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(i,r){1&i&&(zs(),$e(0,"div",0),Zr(1),rt())},styles:[".mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return n})(),W2e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({providers:[Zq,{provide:rk,useValue:{separatorKeyCodes:[13]}}],imports:[Is,Kb,Is]})}return n})(),lW=(()=>{class n extends mh{pathId;ngOnInit(){this.pathId="url(#"+Ru()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fi(n)))(r||n)}})();static \u0275cmp=Ii({type:n,selectors:[["BanIcon"]],standalone:!0,features:[cr,vo],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7 0C5.61553 0 4.26215 0.410543 3.11101 1.17971C1.95987 1.94888 1.06266 3.04213 0.532846 4.32122C0.00303296 5.6003 -0.13559 7.00776 0.134506 8.36563C0.404603 9.7235 1.07129 10.9708 2.05026 11.9497C3.02922 12.9287 4.2765 13.5954 5.63437 13.8655C6.99224 14.1356 8.3997 13.997 9.67879 13.4672C10.9579 12.9373 12.0511 12.0401 12.8203 10.889C13.5895 9.73785 14 8.38447 14 7C14 5.14348 13.2625 3.36301 11.9497 2.05025C10.637 0.737498 8.85652 0 7 0ZM1.16667 7C1.16549 5.65478 1.63303 4.35118 2.48889 3.31333L10.6867 11.5111C9.83309 12.2112 8.79816 12.6544 7.70243 12.789C6.60669 12.9236 5.49527 12.744 4.49764 12.2713C3.50001 11.7986 2.65724 11.0521 2.06751 10.1188C1.47778 9.18558 1.16537 8.10397 1.16667 7ZM11.5111 10.6867L3.31334 2.48889C4.43144 1.57388 5.84966 1.10701 7.29265 1.1789C8.73565 1.2508 10.1004 1.85633 11.1221 2.87795C12.1437 3.89956 12.7492 5.26435 12.8211 6.70735C12.893 8.15034 12.4261 9.56856 11.5111 10.6867Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){1&i&&(wa(),$e(0,"svg",0)(1,"g"),Pn(2,"path",1),rt(),$e(3,"defs")(4,"clipPath",2),Pn(5,"rect",3),rt()()()),2&i&&(jr(r.getClassNames()),Qt("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),Ie(),Qt("clip-path",r.pathId),Ie(3),be("id",r.pathId))},encapsulation:2})}return n})(),cW=(()=>{class n extends mh{pathId;ngOnInit(){this.pathId="url(#"+Ru()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fi(n)))(r||n)}})();static \u0275cmp=Ii({type:n,selectors:[["StarIcon"]],standalone:!0,features:[cr,vo],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.9741 13.6721C10.8806 13.6719 10.7886 13.6483 10.7066 13.6033L7.00002 11.6545L3.29345 13.6033C3.19926 13.6539 3.09281 13.6771 2.98612 13.6703C2.87943 13.6636 2.77676 13.6271 2.6897 13.5651C2.60277 13.5014 2.53529 13.4147 2.4948 13.3148C2.45431 13.215 2.44241 13.1058 2.46042 12.9995L3.17881 8.87264L0.167699 5.95324C0.0922333 5.8777 0.039368 5.78258 0.0150625 5.67861C-0.00924303 5.57463 -0.00402231 5.46594 0.030136 5.36477C0.0621323 5.26323 0.122141 5.17278 0.203259 5.10383C0.284377 5.03488 0.383311 4.99023 0.488681 4.97501L4.63087 4.37126L6.48797 0.618832C6.54083 0.530159 6.61581 0.456732 6.70556 0.405741C6.79532 0.35475 6.89678 0.327942 7.00002 0.327942C7.10325 0.327942 7.20471 0.35475 7.29447 0.405741C7.38422 0.456732 7.4592 0.530159 7.51206 0.618832L9.36916 4.37126L13.5114 4.97501C13.6167 4.99023 13.7157 5.03488 13.7968 5.10383C13.8779 5.17278 13.9379 5.26323 13.9699 5.36477C14.0041 5.46594 14.0093 5.57463 13.985 5.67861C13.9607 5.78258 13.9078 5.8777 13.8323 5.95324L10.8212 8.87264L11.532 12.9995C11.55 13.1058 11.5381 13.215 11.4976 13.3148C11.4571 13.4147 11.3896 13.5014 11.3027 13.5651C11.2059 13.632 11.0917 13.6692 10.9741 13.6721ZM7.00002 10.4393C7.09251 10.4404 7.18371 10.4613 7.2675 10.5005L10.2098 12.029L9.65193 8.75036C9.6368 8.6584 9.64343 8.56418 9.6713 8.47526C9.69918 8.38633 9.74751 8.30518 9.81242 8.23832L12.1969 5.94559L8.90298 5.45648C8.81188 5.44198 8.72555 5.406 8.65113 5.35152C8.57671 5.29703 8.51633 5.2256 8.475 5.14314L7.00002 2.1626L5.52503 5.15078C5.4837 5.23324 5.42332 5.30467 5.3489 5.35916C5.27448 5.41365 5.18815 5.44963 5.09705 5.46412L1.80318 5.94559L4.18761 8.23832C4.25252 8.30518 4.30085 8.38633 4.32873 8.47526C4.3566 8.56418 4.36323 8.6584 4.3481 8.75036L3.7902 12.0519L6.73253 10.5234C6.81451 10.4762 6.9058 10.4475 7.00002 10.4393Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){1&i&&(wa(),$e(0,"svg",0)(1,"g"),Pn(2,"path",1),rt(),$e(3,"defs")(4,"clipPath",2),Pn(5,"rect",3),rt()()()),2&i&&(jr(r.getClassNames()),Qt("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),Ie(),Qt("clip-path",r.pathId),Ie(3),be("id",r.pathId))},encapsulation:2})}return n})(),uW=(()=>{class n extends mh{pathId;ngOnInit(){this.pathId="url(#"+Ru()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fi(n)))(r||n)}})();static \u0275cmp=Ii({type:n,selectors:[["StarFillIcon"]],standalone:!0,features:[cr,vo],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.9718 5.36453C13.9398 5.26298 13.8798 5.17252 13.7986 5.10356C13.7175 5.0346 13.6186 4.98994 13.5132 4.97472L9.37043 4.37088L7.51307 0.617955C7.46021 0.529271 7.38522 0.455834 7.29545 0.404836C7.20568 0.353838 7.1042 0.327026 7.00096 0.327026C6.89771 0.327026 6.79624 0.353838 6.70647 0.404836C6.6167 0.455834 6.54171 0.529271 6.48885 0.617955L4.63149 4.37088L0.488746 4.97472C0.383363 4.98994 0.284416 5.0346 0.203286 5.10356C0.122157 5.17252 0.0621407 5.26298 0.03014 5.36453C-0.00402286 5.46571 -0.00924428 5.57442 0.0150645 5.67841C0.0393733 5.7824 0.0922457 5.87753 0.167722 5.95308L3.17924 8.87287L2.4684 13.0003C2.45038 13.1066 2.46229 13.2158 2.50278 13.3157C2.54328 13.4156 2.61077 13.5022 2.6977 13.5659C2.78477 13.628 2.88746 13.6644 2.99416 13.6712C3.10087 13.678 3.20733 13.6547 3.30153 13.6042L7.00096 11.6551L10.708 13.6042C10.79 13.6491 10.882 13.6728 10.9755 13.673C11.0958 13.6716 11.2129 13.6343 11.3119 13.5659C11.3988 13.5022 11.4663 13.4156 11.5068 13.3157C11.5473 13.2158 11.5592 13.1066 11.5412 13.0003L10.8227 8.87287L13.8266 5.95308C13.9033 5.87835 13.9577 5.7836 13.9833 5.67957C14.009 5.57554 14.005 5.4664 13.9718 5.36453Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){1&i&&(wa(),$e(0,"svg",0)(1,"g"),Pn(2,"path",1),rt(),$e(3,"defs")(4,"clipPath",2),Pn(5,"rect",3),rt()()()),2&i&&(jr(r.getClassNames()),Qt("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),Ie(),Qt("clip-path",r.pathId),Ie(3),be("id",r.pathId))},encapsulation:2})}return n})();const $2e=(n,t)=>({"p-readonly":n,"p-disabled":t}),X2e=n=>({"p-focus":n}),Y2e=(n,t)=>({"p-rating-item-active":n,"p-focus":t});function Z2e(n,t){if(1&n&&Pn(0,"span",10),2&n){const e=He(3);be("ngClass",e.iconCancelClass)("ngStyle",e.iconCancelStyle)}}function J2e(n,t){if(1&n&&Pn(0,"BanIcon",11),2&n){const e=He(3);be("styleClass","p-rating-icon p-rating-cancel")("ngStyle",e.iconCancelStyle),Qt("data-pc-section","cancelIcon")}}function eTe(n,t){if(1&n){const e=ur();$e(0,"div",5),Hn("click",function(r){return mn(e),pn(He(2).onOptionClick(r,0))}),$e(1,"span",6)(2,"input",7),Hn("focus",function(r){return mn(e),pn(He(2).onInputFocus(r,0))})("blur",function(r){return mn(e),pn(He(2).onInputBlur(r))})("change",function(r){return mn(e),pn(He(2).onChange(r,0))}),rt()(),Kt(3,Z2e,1,2,"span",8)(4,J2e,1,3,"BanIcon",9),rt()}if(2&n){const e=He(2);be("ngClass",gs(11,X2e,0===e.focusedOptionIndex()&&e.isFocusVisibleItem)),Qt("data-pc-section","cancelItem"),Ie(),Qt("data-p-hidden-accessible",!0),Ie(),be("name",e.name)("checked",0===e.value)("disabled",e.disabled)("readonly",e.readonly)("autofocus",e.autofocus),Qt("aria-label",e.cancelAriaLabel()),Ie(),be("ngIf",e.iconCancelClass),Ie(),be("ngIf",!e.iconCancelClass)}}function tTe(n,t){if(1&n&&Pn(0,"span",16),2&n){const e=He(4);be("ngStyle",e.iconOffStyle)("ngClass",e.iconOffClass),Qt("data-pc-section","offIcon")}}function nTe(n,t){1&n&&Pn(0,"StarIcon",17),2&n&&(be("ngStyle",He(4).iconOffStyle)("styleClass","p-rating-icon"),Qt("data-pc-section","offIcon"))}function iTe(n,t){if(1&n&&(lo(0),Kt(1,tTe,1,3,"span",14)(2,nTe,1,3,"StarIcon",15),co()),2&n){const e=He(3);Ie(),be("ngIf",e.iconOffClass),Ie(),be("ngIf",!e.iconOffClass)}}function rTe(n,t){if(1&n&&Pn(0,"span",19),2&n){const e=He(4);be("ngStyle",e.iconOnStyle)("ngClass",e.iconOnClass),Qt("data-pc-section","onIcon")}}function oTe(n,t){1&n&&Pn(0,"StarFillIcon",17),2&n&&(be("ngStyle",He(4).iconOnStyle)("styleClass","p-rating-icon p-rating-icon-active"),Qt("data-pc-section","onIcon"))}function sTe(n,t){if(1&n&&(lo(0),Kt(1,rTe,1,3,"span",18)(2,oTe,1,3,"StarFillIcon",15),co()),2&n){const e=He(3);Ie(),be("ngIf",e.iconOnClass),Ie(),be("ngIf",!e.iconOnClass)}}function aTe(n,t){if(1&n){const e=ur();$e(0,"div",12),Hn("click",function(r){const o=mn(e).$implicit;return pn(He(2).onOptionClick(r,o+1))}),$e(1,"span",6)(2,"input",7),Hn("focus",function(r){const o=mn(e).$implicit;return pn(He(2).onInputFocus(r,o+1))})("blur",function(r){return mn(e),pn(He(2).onInputBlur(r))})("change",function(r){const o=mn(e).$implicit;return pn(He(2).onChange(r,o+1))}),rt()(),Kt(3,iTe,3,2,"ng-container",13)(4,sTe,3,2,"ng-container",13),rt()}if(2&n){const e=t.$implicit,i=t.index,r=He(2);be("ngClass",Xa(10,Y2e,e+1<=r.value,e+1===r.focusedOptionIndex()&&r.isFocusVisibleItem)),Ie(),Qt("data-p-hidden-accessible",!0),Ie(),be("name",r.name)("checked",0===r.value)("disabled",r.disabled)("readonly",r.readonly)("autofocus",r.autofocus),Qt("aria-label",r.starAriaLabel(e+1)),Ie(),be("ngIf",!r.value||i>=r.value),Ie(),be("ngIf",r.value&&i<r.value)}}function lTe(n,t){if(1&n&&(lo(0),Kt(1,eTe,5,13,"div",3)(2,aTe,5,13,"ng-template",4),co()),2&n){const e=He();Ie(),be("ngIf",e.cancel),Ie(),be("ngForOf",e.starsArray)}}function cTe(n,t){1&n&&rs(0)}function uTe(n,t){if(1&n){const e=ur();$e(0,"span",22),Hn("click",function(r){return mn(e),pn(He(2).onOptionClick(r,0))}),Kt(1,cTe,1,0,"ng-container",23),rt()}if(2&n){const e=He(2);be("ngStyle",e.iconCancelStyle),Qt("data-pc-section","cancelIcon"),Ie(),be("ngTemplateOutlet",e.cancelIconTemplate)}}function dTe(n,t){1&n&&rs(0)}function hTe(n,t){if(1&n){const e=ur();$e(0,"span",24),Hn("click",function(r){const o=mn(e).$implicit;return pn(He(2).onOptionClick(r,o+1))}),Kt(1,dTe,1,0,"ng-container",23),rt()}if(2&n){const e=t.index,i=He(2);Qt("data-pc-section","onIcon"),Ie(),be("ngTemplateOutlet",i.getIconTemplate(e))}}function pTe(n,t){if(1&n&&Kt(0,uTe,2,3,"span",20)(1,hTe,2,2,"span",21),2&n){const e=He();be("ngIf",e.cancel),Ie(),be("ngForOf",e.starsArray)}}const fTe={provide:fa,useExisting:Ir(()=>dW),multi:!0};let dW=(()=>{class n{cd;config;disabled;readonly;stars=5;cancel=!0;iconOnClass;iconOnStyle;iconOffClass;iconOffStyle;iconCancelClass;iconCancelStyle;autofocus;onRate=new ni;onCancel=new ni;onFocus=new ni;onBlur=new ni;templates;onIconTemplate;offIconTemplate;cancelIconTemplate;value;onModelChange=()=>{};onModelTouched=()=>{};starsArray;isFocusVisibleItem=!0;focusedOptionIndex=Od(-1);name;constructor(e,i){this.cd=e,this.config=i}ngOnInit(){this.name=this.name||Ru(),this.starsArray=[];for(let e=0;e<this.stars;e++)this.starsArray[e]=e}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"onicon":this.onIconTemplate=e.template;break;case"officon":this.offIconTemplate=e.template;break;case"cancelicon":this.cancelIconTemplate=e.template}})}onOptionClick(e,i){if(!this.readonly&&!this.disabled){this.onOptionSelect(e,i),this.isFocusVisibleItem=!1;const r=_n.getFirstFocusableElement(e.currentTarget,"");r&&_n.focus(r)}}onOptionSelect(e,i){this.focusedOptionIndex.set(i),this.updateModel(e,i||null)}onChange(e,i){this.onOptionSelect(e,i),this.isFocusVisibleItem=!0}onInputBlur(e){this.focusedOptionIndex.set(-1),this.onBlur.emit(e)}onInputFocus(e,i){this.focusedOptionIndex.set(i),this.onFocus.emit(e)}updateModel(e,i){this.value=i,this.onModelChange(this.value),this.onModelTouched(),i?this.onRate.emit({originalEvent:e,value:i}):this.onCancel.emit()}cancelAriaLabel(){return this.config.translation.clear}starAriaLabel(e){return 1===e?this.config.translation.aria.star:this.config.translation.aria.stars.replace(/{star}/g,e)}getIconTemplate(e){return!this.value||e>=this.value?this.offIconTemplate:this.onIconTemplate}writeValue(e){this.value=e,this.cd.detectChanges()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get isCustomIcon(){return this.templates&&this.templates.length>0}static \u0275fac=function(i){return new(i||n)(Re(qo),Re(Wf))};static \u0275cmp=Ii({type:n,selectors:[["p-rating"]],contentQueries:function(i,r,o){if(1&i&&jo(o,sd,4),2&i){let s;Ti(s=Si())&&(r.templates=s)}},hostAttrs:[1,"p-element"],inputs:{disabled:[2,"disabled","disabled",xn],readonly:[2,"readonly","readonly",xn],stars:[2,"stars","stars",Eo],cancel:[2,"cancel","cancel",xn],iconOnClass:"iconOnClass",iconOnStyle:"iconOnStyle",iconOffClass:"iconOffClass",iconOffStyle:"iconOffStyle",iconCancelClass:"iconCancelClass",iconCancelStyle:"iconCancelStyle",autofocus:[2,"autofocus","autofocus",xn]},outputs:{onRate:"onRate",onCancel:"onCancel",onFocus:"onFocus",onBlur:"onBlur"},features:[Vr([fTe]),ao],decls:4,vars:8,consts:[["customTemplate",""],[1,"p-rating",3,"ngClass"],[4,"ngIf","ngIfElse"],["class","p-rating-item p-rating-cancel-item",3,"ngClass","click",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-rating-item","p-rating-cancel-item",3,"click","ngClass"],[1,"p-hidden-accessible"],["type","radio","value","0","pAutoFocus","",3,"focus","blur","change","name","checked","disabled","readonly","autofocus"],["class","p-rating-icon p-rating-cancel",3,"ngClass","ngStyle",4,"ngIf"],[3,"styleClass","ngStyle",4,"ngIf"],[1,"p-rating-icon","p-rating-cancel",3,"ngClass","ngStyle"],[3,"styleClass","ngStyle"],[1,"p-rating-item",3,"click","ngClass"],[4,"ngIf"],["class","p-rating-icon",3,"ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","styleClass",4,"ngIf"],[1,"p-rating-icon",3,"ngStyle","ngClass"],[3,"ngStyle","styleClass"],["class","p-rating-icon p-rating-icon-active",3,"ngStyle","ngClass",4,"ngIf"],[1,"p-rating-icon","p-rating-icon-active",3,"ngStyle","ngClass"],["class","p-rating-icon p-rating-cancel",3,"ngStyle","click",4,"ngIf"],["class","p-rating-icon",3,"click",4,"ngFor","ngForOf"],[1,"p-rating-icon","p-rating-cancel",3,"click","ngStyle"],[4,"ngTemplateOutlet"],[1,"p-rating-icon",3,"click"]],template:function(i,r){if(1&i&&($e(0,"div",1),Kt(1,lTe,3,2,"ng-container",2)(2,pTe,2,2,"ng-template",null,0,id),rt()),2&i){const o=ua(3);be("ngClass",Xa(5,$2e,r.readonly,r.disabled)),Qt("data-pc-name","rating")("data-pc-section","root"),Ie(),be("ngIf",!r.isCustomIcon)("ngIfElse",o)}},dependencies:()=>[Gl,Qf,xl,ku,Su,Gm,uW,cW,lW],styles:["@layer primeng{.p-rating{display:inline-flex;position:relative;align-items:center}.p-rating-icon{cursor:pointer}.p-rating.p-rating-readonly .p-rating-icon{cursor:default}}\n"],encapsulation:2,changeDetection:0})}return n})(),ATe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=bi({type:n});static \u0275inj=di({imports:[Gs,Xg,uW,cW,lW,dl]})}return n})();const mTe=["cardContainer"],gTe=()=>({width:"80%"}),_Te=()=>({width:"400px"}),vTe=n=>({backOutLeft:n}),hW=()=>({margin:"0 1em 0 0"});function yTe(n,t){1&n&&($e(0,"div"),Pn(1,"mat-spinner"),rt())}function bTe(n,t){if(1&n){const e=ur();$e(0,"div",23)(1,"div",24)(2,"h1"),$i(3),rt(),$e(4,"mat-chip-listbox",25)(5,"mat-chip"),$i(6),rt(),$e(7,"mat-chip"),$i(8),rt(),$e(9,"mat-chip"),$i(10),qM(11,"number"),rt()(),$e(12,"div",26)(13,"div",27)(14,"mat-chip")(15,"p-rating",28),Wh("ngModelChange",function(r){mn(e);const o=He().$implicit;return zp(o.rating,r)||(o.rating=r),pn(r)}),rt()(),$e(16,"a",29),Pn(17,"img",30),rt()(),$e(18,"p"),$i(19),rt()()()()}if(2&n){const e=He().$implicit;Ie(3),Oa(e.name),Ie(3),Oa(e.categories[0].title),Ie(2),Oa(e.price),Ie(2),fh("",KM(11,9,e.distance/1609,"1.2-2")," Miles Away"),Ie(5),Kh("ngModel",e.rating),be("cancel",!1)("readonly",!0),Ie(),NM("href",e.url,y0),Ie(3),fh("Based on ",e.review_count," reviews")}}function wTe(n,t){1&n&&Pn(0,"img",31)}function xTe(n,t){if(1&n){const e=ur();$e(0,"div",19,2),Hn("@cardAnimator.done",function(){return mn(e),pn(He(2).resetAnimationState())})("swipeleft",function(){const r=mn(e).index,o=He(2);return pn(r===o.activeIndex&&o.startAnimation("backOutLeft"))})("swiperight",function(){const r=mn(e).index,o=He(2);return pn(r===o.activeIndex&&o.startAnimation("backOutRight"))}),Kt(2,yTe,2,0,"div",10)(3,bTe,20,12,"div",20)(4,wTe,1,0,"img",21),$e(5,"img",22),Hn("load",function(){return mn(e),pn(He(2).isImageLoaded=!0)})("error",function(){return mn(e),pn(He(2).isImageLoaded=!0)}),rt()()}if(2&n){const e=t.$implicit,i=t.index,r=He(2);Ho("active",i===r.activeIndex),be("@cardAnimator",i===r.activeIndex&&r.animationState)("ngClass",gs(10,vTe,"backOutLeft"===r.animationState)),Ie(2),be("ngIf",r.isLoading),Ie(),be("ngIf",!r.isLoading),Ie(),be("ngIf",!r.isImageLoaded),Ie(),Of("display",r.isImageLoaded?"block":"none"),be("src",e.image_url,y0)}}function ETe(n,t){1&n&&($e(0,"div",32)(1,"span",33),$i(2,"restaurant_menu"),rt(),$e(3,"h1"),$i(4,"Simmering until all taste buds are satisfied!"),rt()())}function CTe(n,t){if(1&n){const e=ur();$e(0,"div",34)(1,"button",35),Hn("click",function(){return mn(e),pn(He(2).startAnimation("backOutLeft"))}),$e(2,"mat-icon",36),$i(3,"close"),rt()(),$e(4,"button",35),Hn("click",function(){return mn(e),pn(He(2).startAnimation("backOutRight"))}),$e(5,"mat-icon",37),$i(6,"favorite"),rt()()()}}function ITe(n,t){if(1&n&&($e(0,"div",15,1),Kt(2,xTe,6,12,"div",16)(3,ETe,5,0,"div",17)(4,CTe,7,0,"div",18),rt()),2&n){const e=He();Ie(2),be("ngForOf",e.restaurantData),Ie(),be("ngIf",-1==e.activeIndex),Ie(),be("ngIf",-1!=e.activeIndex)}}function TTe(n,t){if(1&n){const e=ur();$e(0,"div",38)(1,"div",39)(2,"h1"),$i(3,"It's a Match!"),rt(),$e(4,"h1"),$i(5),rt(),$e(6,"mat-chip-listbox",40)(7,"mat-chip"),$i(8),qM(9,"number"),rt(),$e(10,"mat-chip")(11,"p-rating",28),Wh("ngModelChange",function(r){mn(e);const o=He();return zp(o.matchRestaurant[4],r)||(o.matchRestaurant[4]=r),pn(r)}),rt()()()(),Pn(12,"div",41)(13,"img",42),$e(14,"div",43)(15,"p-button",44),Hn("click",function(){return mn(e),pn(He().getDirections())}),rt()()()}if(2&n){const e=He();Ie(5),Oa(e.matchRestaurant[5]),Ie(3),fh("",KM(9,7,e.matchRestaurant[2],"1.2-2")," Miles Away"),Ie(3),Kh("ngModel",e.matchRestaurant[4]),be("cancel",!1)("readonly",!0),Ie(2),be("src",e.matchRestaurant[3],y0),Ie(2),be("rounded",!0)}}function STe(n,t){1&n&&($e(0,"p"),$i(1,"Are you sure you want to close the room?"),rt())}function kTe(n,t){1&n&&($e(0,"p"),$i(1,"Are you sure you want to leave the room?"),rt())}function DTe(n,t){if(1&n){const e=ur();$e(0,"p-button",45),Hn("click",function(){return mn(e),pn(He().confirmDelete())}),rt()}2&n&&nu($h(2,hW))}function RTe(n,t){if(1&n){const e=ur();$e(0,"p-button",46),Hn("click",function(){return mn(e),pn(He().leaveRoom())}),rt()}2&n&&nu($h(2,hW))}const MTe=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:w1e},{path:"create-room",component:iEe},{path:"join-room",component:GH},{path:"room-overview",component:l2e},{path:"restaurant-cards",component:(()=>{class n{constructor(e,i,r,o,s){this.dialog=e,this.router=i,this.restaurantsService=r,this.db=o,this.renderer=s,this.savedRoomPin="",this.savedName="",this.activeIndex=0,this.completed=!1,this.displayNoRestaurantsDialog=!1,this.displayConfirmDialog=!1,this.isImageLoaded=!1,this.match=!1,this.restaurantData=[],this.users=[],this.votes=[],this.matchRestaurant=[],this.numberCompleted=[],this.unsubscribe$=new $,this.roomDeleted=!1,this.isLoading=!1}ngOnInit(){this.savedRoomPin=localStorage.getItem("generatedCode")||"",this.savedName=localStorage.getItem("savedName")||"l",parseFloat(localStorage.getItem("latitude")),parseFloat(localStorage.getItem("longitude")),this.isLoading=!0,this.db.database.ref(`rooms/${this.savedRoomPin}/restaurants`).once("value").then(r=>{const o=r.val();if(o){const s=Object.keys(o).map((c,u)=>({index:u,random:Math.random()}));s.sort((c,u)=>c.random-u.random),this.restaurantData=s.map(c=>o[c.index]),console.log(this.restaurantData),this.isLoading=!1}else console.error("No restaurants found.")}).catch(r=>{console.error("Error fetching restaurants:",r),this.isLoading=!1}),this.db.list(`rooms/${this.savedRoomPin}/users`).valueChanges().subscribe(r=>{this.users=r,this.numberOfUsers=this.users.length}),this.db.object(`rooms/${this.savedRoomPin}/match`).valueChanges().subscribe(r=>{null!==r?(console.log("Match value retrieved:",r),this.match=r):console.log("Match value is null")}),this.db.list(`rooms/${this.savedRoomPin}/matchRestaurant`).valueChanges().subscribe(r=>{this.matchRestaurant=r}),this.roomSubscription=this.db.object(`rooms/${this.savedRoomPin}`).valueChanges().pipe(hc(this.unsubscribe$)).subscribe(r=>{!r&&!this.roomDeleted&&this.router.navigate(["/home"])}),this.db.list(`rooms/${this.savedRoomPin}/users/${this.savedName}`).valueChanges().subscribe(r=>{this.userLevel=r[2],console.log(this.userLevel)}),this.db.object(`rooms/${this.savedRoomPin}/allUsersCompleted`).valueChanges().subscribe(r=>{r&&1===this.userLevel&&(console.log("Dialog opened"),this.displayNoRestaurantsDialog=!0)})}ngAfterViewInit(){}ngOnDestroy(){this.roomSubscription&&this.roomSubscription.unsubscribe()}startAnimation(e){console.log(e),this.animationState||(this.animationState=e)}onAnimationDone(e){console.log("Animation completed"),console.log(e)}resetAnimationState(){"backOutLeft"===this.animationState?this.voteNo():"backOutRight"===this.animationState&&this.voteYes(),this.animationState=""}hideNoRestaurantsDialog(){this.displayNoRestaurantsDialog=!1;const e=localStorage.getItem("generatedCode");e&&this.db.object(`rooms/${e}/users/${this.savedName}/userLevel`).valueChanges().subscribe(i=>{1===i&&(localStorage.removeItem("generatedCode"),this.router.navigateByUrl("/create-room"),this.db.object(`rooms/${e}`).remove().then(()=>{}).catch(r=>{}))})}getStarRating(e){const i=Math.floor(e);let r="";for(let o=0;o<i;o++)r+='<i class="material-icons">star</i>';return e-i>=.5&&(r+='<i class="material-icons">star_half</i>'),r}deleteRoom(){const e=localStorage.getItem("generatedCode");e&&this.db.object(`rooms/${e}`).remove().then(()=>{localStorage.removeItem("generatedCode"),console.log("Room deleted successfully!"),this.roomDeleted=!0,this.roomSubscription&&this.roomSubscription.unsubscribe(),this.router.navigateByUrl("/home")}).catch(i=>{console.error("Error deleting room:",i)})}voteYes(){const e={...this.restaurantData[this.activeIndex]},i=e.id;this.db.list(`rooms/${this.savedRoomPin}/votes`).push(i).then(()=>{}).catch(r=>{}),this.db.list(`rooms/${this.savedRoomPin}/users`).valueChanges().subscribe(r=>{this.users=r,console.log(this.users)}),this.db.list(`rooms/${this.savedRoomPin}/votes`).valueChanges().subscribe(r=>{const o={};r.forEach(u=>{o[u]||(o[u]=0),o[u]++});let s=!1,c=[];for(const u in o)o.hasOwnProperty(u)&&o[u]>=this.numberOfUsers&&(c.push(u),s=!0,console.log("Matched restaurant ID:",u));s&&this.db.object(`rooms/${this.savedRoomPin}/match`).set(!0).then(()=>{console.log("Value updated to true successfully!"),this.match=!0,c.forEach(u=>{const g=this.restaurantData.findIndex(w=>w.id===u);if(-1!==g){const w=this.restaurantData[g];this.db.object(`rooms/${this.savedRoomPin}/matchRestaurant`).set({distance:w.distance/1609,restaurant:w.name,address:w.location.address1,image:w.image_url,rating:w.rating,url:w.url,zip:w.location.zip_code,city:w.location.city,state:w.location.state}).then(()=>{this.ratingValue=w.rating,console.log("Match restaurant updated successfully:",u)}).catch(T=>{console.error("Error updating match restaurant:",T)}),this.db.object(`rooms/${this.savedRoomPin}/matchCoords`).set({lat:w.coordinates.latitude,long:w.coordinates.longitude}).then(()=>{console.log("Match coordinates updated successfully:",u)}).catch(T=>{console.error("Error updating match coordinates:",T)})}})}).catch(u=>{console.error("Error updating value:",u)})}),this.restaurantData.splice(this.activeIndex,1,e),this.activeIndex=this.activeIndex+1<this.restaurantData.length?this.activeIndex+1:-1,-1===this.activeIndex&&(this.completed=!0,this.handleCompletedUsers())}voteNo(){const e={...this.restaurantData[this.activeIndex]};this.db.list(`rooms/${this.savedRoomPin}/restaurants/${this.activeIndex}/votes`).push("no").then(()=>{}).catch(i=>{}),this.db.list(`rooms/${this.savedRoomPin}/restaurants/${this.activeIndex}/votes`).valueChanges().subscribe(i=>{this.votes=i}),this.restaurantData.splice(this.activeIndex,1,e),this.activeIndex=this.activeIndex+1<this.restaurantData.length?this.activeIndex+1:-1,-1===this.activeIndex&&(this.completed=!0,this.handleCompletedUsers()),console.log(this.activeIndex)}handleCompletedUsers(){var e=this;return(0,Dn.A)(function*(){try{yield e.db.list(`rooms/${e.savedRoomPin}/completed`).push(`${e.savedName}`),console.log("User added to completed list successfully!");const i=yield e.db.list(`rooms/${e.savedRoomPin}/completed`).valueChanges().pipe(El(1)).toPromise();e.numberCompleted=i,e.numberOfCompleted=e.numberCompleted.length,console.log(e.numberOfCompleted,e.numberOfUsers),e.numberOfCompleted===e.numberOfUsers&&!e.match&&(console.log("All users finished"),e.db.object(`rooms/${e.savedRoomPin}/allUsersCompleted`).set(!0).then(()=>{}))}catch(i){console.error("Error adding user to completed list:",i)}})()}getDirections(){this.db.database.ref(`rooms/${this.savedRoomPin}/matchRestaurant`).once("value").then(e=>{const i=e.val(),{restaurant:r,address:o,city:s,state:c,zip:u}=i,g=/android/i.test(navigator.userAgent),w=/iphone|ipad|ipod/i.test(navigator.userAgent);let T;T=g?`https://www.google.com/maps/search/?api=1&query=${r},${o},${s},${c},${u}`:w?`http://maps.apple.com/?daddr=${r},${o},${s},${c},${u}`:`https://www.google.com/maps/search/?api=1&query=${r},${o},${s},${c},${u}`,window.open(T,"_blank")}).catch(e=>{console.error("Error retrieving coordinates:",e)})}openDialog(){this.dialog.open(KK).afterClosed().subscribe(i=>{})}getYelpBadgeUrl(e){const i="https://s3-media2.fl.yelpcdn.com/assets/srv/yelp_design/fallback/yelp_stars_blank.png",o={"1.0":"_rating_small_1.png",1.5:"_rating_small_1_half.png","2.0":"_rating_small_2.png",2.5:"_rating_small_2_half.png","3.0":"_rating_small_3.png",3.5:"_rating_small_3_half.png","4.0":"_rating_small_4.png",4.5:"_rating_small_4_half.png","5.0":"_rating_small_5.png"}[e.toFixed(1)];return o?i.replace("blank.png",o):i}confirmDelete(){const e=localStorage.getItem("generatedCode");e&&this.db.object(`rooms/${e}/users/${this.savedName}/userLevel`).valueChanges().subscribe(i=>{1===i&&(localStorage.removeItem("generatedCode"),this.router.navigateByUrl("/home"),this.db.object(`rooms/${e}`).remove().then(()=>{this.displayConfirmDialog=!1}).catch(r=>{}))})}leaveRoom(){const e=localStorage.getItem("generatedCode");e&&this.db.object(`rooms/${e}/users/${this.savedName}`).remove().then(()=>{localStorage.removeItem("generatedCode"),console.log("Room left successfully!"),this.router.navigateByUrl("/home"),this.displayConfirmDialog=!1}).catch(i=>{console.error("Error leaving room:",i)})}static#e=this.\u0275fac=function(i){return new(i||n)(Re(BE),Re(rd),Re(Aq),Re(_E),Re(tu))};static#t=this.\u0275cmp=Ii({type:n,selectors:[["app-restaurant-cards"]],viewQuery:function(i,r){if(1&i&&po(mTe,5),2&i){let o;Ti(o=Si())&&(r.cardContainer=o.first)}},decls:21,vars:14,consts:[["cancelButtonContainer",""],["pageContainer",""],["cardContainer",""],[1,"cancelButtonContainer"],["mat-button","",1,"cancelButton",3,"click"],["class","pageContainer",4,"ngIf"],["class","matchPageContainer",4,"ngIf"],["header","Looks like no bites were found!","closable","false",1,"dialog",3,"visibleChange","visible"],["label","Adjust Filters","icon","pi pi-search",3,"click"],["header","Confirmation","closable","true",3,"visibleChange","visible"],[4,"ngIf"],[1,"dialog-actions"],["label","Close Room","severity","danger",3,"style","click",4,"ngIf"],["label","Leave Room","severity","danger",3,"style","click",4,"ngIf"],["label","Cancel",3,"click"],[1,"pageContainer"],["id","cardContainer","class","cardContainer swipeContainer",3,"active","ngClass","swipeleft","swiperight",4,"ngFor","ngForOf"],["class","waiting",4,"ngIf"],["class","cardIcons",4,"ngIf"],["id","cardContainer",1,"cardContainer","swipeContainer",3,"swipeleft","swiperight","ngClass"],["class","cardTitleContainer",4,"ngIf"],["class","restaurantImg","src","assets/loading-image.png","alt","Loading...",4,"ngIf"],["alt","",1,"restaurantImg",3,"load","error","src"],[1,"cardTitleContainer"],[1,"front"],["aria-label",""],[1,"reviewContainer"],[1,"reviewTop"],[3,"ngModelChange","ngModel","cancel","readonly"],[3,"href"],["alt","dropdown icon","src","../../assets/yelp_logo_dark_bg.png"],["src","assets/loading-image.png","alt","Loading...",1,"restaurantImg"],[1,"waiting"],[1,"material-icons"],[1,"cardIcons"],["mat-fab","",3,"click"],[1,"icon","closeIcon"],[1,"icon","favoriteIcon"],[1,"matchPageContainer"],[1,"matchTitleContainer"],["aria-label","",1,"matchChips"],[1,"overlay"],["alt","",3,"src"],[1,"buttonsContainer"],["size","large","pRipple","","label","Directions","icon","pi pi-directions",3,"click","rounded"],["label","Close Room","severity","danger",3,"click"],["label","Leave Room","severity","danger",3,"click"]],template:function(i,r){if(1&i){const o=ur();$e(0,"div",3,0)(2,"button",4),Hn("click",function(){return mn(o),pn(r.displayConfirmDialog=!0)}),$e(3,"mat-icon"),$i(4,"home"),rt(),$i(5," Exit "),rt()(),Kt(6,ITe,5,3,"div",5)(7,TTe,16,10,"div",6),$e(8,"p-dialog",7),Wh("visibleChange",function(c){return mn(o),zp(r.displayNoRestaurantsDialog,c)||(r.displayNoRestaurantsDialog=c),pn(c)}),$e(9,"p"),$i(10,"Oh no! It seems like none of the restaurants fit the bill this time. Don't worry, there are plenty of other tasty options out there!"),rt(),$e(11,"p"),$i(12,"Perhaps you can adjust your search filters to find some hidden gems? "),rt(),$e(13,"p-button",8),Hn("click",function(){return mn(o),pn(r.hideNoRestaurantsDialog())}),rt()(),$e(14,"p-dialog",9),Wh("visibleChange",function(c){return mn(o),zp(r.displayConfirmDialog,c)||(r.displayConfirmDialog=c),pn(c)}),Kt(15,STe,2,0,"p",10)(16,kTe,2,0,"p",10),$e(17,"div",11),Kt(18,DTe,1,3,"p-button",12)(19,RTe,1,3,"p-button",13),$e(20,"p-button",14),Hn("click",function(){return mn(o),pn(r.displayConfirmDialog=!1)}),rt()()()}2&i&&(Ie(6),be("ngIf",0==r.match),Ie(),be("ngIf",1==r.match),Ie(),nu($h(12,gTe)),Kh("visible",r.displayNoRestaurantsDialog),Ie(6),nu($h(13,_Te)),Kh("visible",r.displayConfirmDialog),Ie(),be("ngIf",1===r.userLevel),Ie(),be("ngIf",2===r.userLevel),Ie(2),be("ngIf",1===r.userLevel),Ie(),be("ngIf",2===r.userLevel))},dependencies:[Gl,Qf,xl,Rx,Ux,KS,bCe,JK,m2e,dy,sL,xb,YP,dW,h9],styles:['@import"https://fonts.googleapis.com/css2?family=Alfa+Slab+One&family=Lemon&family=Montserrat:wght@400;700&family=Shrikhand&display=swap";.p-button-label[_ngcontent-%COMP%]{font-weight:700}.reviewContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column}.reviewContainer[_ngcontent-%COMP%]   .reviewTop[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;flex-direction:row;align-items:center}.reviewContainer[_ngcontent-%COMP%]   .reviewTop[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:.5em;width:4.5em;height:auto}.reviewContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;margin:0}.cancelButtonContainer[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:start;margin-left:5vw;margin-bottom:5vw}.cancelButton[_ngcontent-%COMP%]{position:absolute;margin-top:1em;font-size:20px;color:#c6f3c4!important;font-weight:700}.cancelButton[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:auto;height:auto;font-size:30px}.pageContainer[_ngcontent-%COMP%]{height:90vh;display:flex;align-items:center;justify-content:center;flex-direction:column;top:2em;position:relative}.cardContainer[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;width:90vw;height:80vh;justify-content:center;align-items:center}.cardContainer[_ngcontent-%COMP%]{display:none}.cardContainer.active[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;z-index:2;transform:scale(1);transition:transform .3s ease-in-out;border-radius:20px;box-shadow:#00000040 0 54px 55px,#0000001f 0 -12px 30px,#0000001f 0 4px 6px,#0000002b 0 12px 13px,#00000017 0 -3px 5px}.cardContainer.active[_ngcontent-%COMP%] + .cardContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;transform:scale(.9);transition:transform .3s ease-in-out}h1[_ngcontent-%COMP%]{margin:0;font-size:8vw;color:#fff}h2[_ngcontent-%COMP%]{margin:0;color:#fff}.cardTitleContainer[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;background-image:linear-gradient(to top,#0000,#000);padding:20px;box-sizing:border-box;z-index:1;border-radius:20px 20px 0 0}img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:20px;z-index:0}.cardIcons[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100vw;display:flex;justify-content:space-evenly;z-index:2;margin-bottom:0}.cardIcons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(1){background-color:#c85250}.cardIcons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(2){background-color:#557c55}.cardIcons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:7em;height:7em}.cardIcons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:7em;height:7em;font-size:50px}.matchPageContainer[_ngcontent-%COMP%]{height:95vh;display:flex;align-items:center;justify-content:center;flex-direction:column;position:relative;overflow:hidden;top:-2em}.matchPageContainer[_ngcontent-%COMP%]   .matchTitleContainer[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;z-index:5;border-radius:20px;width:90vw}.matchPageContainer[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.5em 1em 0;color:#fff;text-align:center;font-size:8vw}.matchPageContainer[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:nth-child(1){font-family:Modak,system-ui;font-weight:400;font-style:normal;color:#c7f3c5;font-size:10vw}.matchPageContainer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff}.matchPageContainer[_ngcontent-%COMP%]   .matchChips[_ngcontent-%COMP%]{margin-top:1.5em}.matchPageContainer[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{width:90vw;height:70vh;background-color:#000;opacity:.5;position:absolute;z-index:2;border-radius:20px}.matchPageContainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:70vh;width:90vw;object-fit:cover;border-radius:20px;z-index:1;position:absolute;box-shadow:#00000040 0 54px 55px,#0000001f 0 -12px 30px,#0000001f 0 4px 6px,#0000002b 0 12px 13px,#00000017 0 -3px 5px}.matchPageContainer[_ngcontent-%COMP%]   .buttonsContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:nowrap;align-items:center;justify-content:center;position:absolute;bottom:0;width:90vw}.matchPageContainer[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]{margin-bottom:0;border-radius:40px;font-size:16px;font-weight:700;color:#c7f3c5;border:none;display:flex;align-items:center;justify-content:center;bottom:0}.matchPageContainer[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]     .p-button{width:90vw;font-weight:700}.matchPageContainer[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:40px;width:auto;height:auto}.closeIcon[_ngcontent-%COMP%]{color:#f7bec0;font-size:60px;width:100%;height:100%;display:flex;align-items:center;justify-content:center}.favoriteIcon[_ngcontent-%COMP%]{color:#f2ffe9;font-size:60px;width:100%;height:100%;display:flex;align-items:center;justify-content:center}.waiting[_ngcontent-%COMP%]{display:flex;justify-content:center;text-align:center;flex-direction:column;width:80vw}.waiting[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#c6f3c4;font-size:60px}.waiting[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;color:#c6f3c4}'],data:{animation:[Uv("cardAnimator",[Kp("* => backOutLeft",$f(500,h7(c2e))),Kp("* => backOutRight",$f(500,h7(u2e)))])]}})}return n})()}];let BTe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({imports:[TT.forRoot(MTe),TT]})}return n})();var pW=hr(83);const fW=(0,pW.F3)("StatusBar"),FTe=(0,pW.F3)("App",{web:()=>hr.e(303).then(hr.bind(hr,303)).then(n=>new n.AppWeb)});let LTe=(()=>{class n{constructor(){this.setAppColors()}ngOnInit(){fW.setBackgroundColor({color:"#040F2D"})}runFunctionOnClose(){}ngOnDestroy(){FTe.removeAllListeners()}setAppColors(){return(0,Dn.A)(function*(){try{yield fW.setBackgroundColor({color:"#040F2D"})}catch(e){console.error("Error setting status bar color:",e)}})()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Ii({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(i,r){1&i&&Pn(0,"router-outlet")},dependencies:[uP],styles:[".routerContainer[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}"]})}return n})();function AW(n){return new an(3e3,!1)}function f_(n){switch(n.length){case 0:return new Vx;case 1:return n[0];default:return new A7(n)}}function mW(n,t,e=new Map,i=new Map){const r=[],o=[];let s=-1,c=null;if(t.forEach(u=>{const g=u.get("offset"),w=g==s,T=w&&c||new Map;u.forEach((F,H)=>{let ee=H,Ae=F;if("offset"!==H)switch(ee=n.normalizePropertyName(ee,r),Ae){case"!":Ae=e.get(H);break;case Hm:Ae=i.get(H);break;default:Ae=n.normalizeStyleValue(H,ee,Ae,r)}T.set(ee,Ae)}),w||o.push(T),c=T,s=g}),r.length)throw function sSe(n){return new an(3502,!1)}();return o}function aL(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&lL(e,"start",n)));break;case"done":n.onDone(()=>i(e&&lL(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&lL(e,"destroy",n)))}}function lL(n,t,e){const o=cL(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),s=n._data;return null!=s&&(o._data=s),o}function cL(n,t,e,i,r="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function tp(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function gW(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const _Se=typeof document>"u"?null:document.documentElement;function uL(n){const t=n.parentNode||n.host||null;return t===_Se?null:t}let hy=null,_W=!1;function vW(n,t){for(;t;){if(t===n)return!0;t=uL(t)}return!1}function yW(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let dL=(()=>{class n{validateStyleProperty(e){return function ySe(n){hy||(hy=function bSe(){return typeof document<"u"?document.body:null}()||{},_W=!!hy.style&&"WebkitAppearance"in hy.style);let t=!0;return hy.style&&!function vSe(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in hy.style,!t&&_W&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in hy.style)),t}(e)}containsElement(e,i){return vW(e,i)}getParentElement(e){return uL(e)}query(e,i,r){return yW(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,c=[],u){return new Vx(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac})}return n})();class hL{static#e=this.NOOP=new dL}class pL{}const xSe=1e3,fL="ng-enter",ak="ng-leave",lk="ng-trigger",ck=".ng-trigger",wW="ng-animating",AL=".ng-animating";function Xm(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:mL(parseFloat(t[1]),t[2])}function mL(n,t){return"s"===t?n*xSe:n}function uk(n,t,e){return n.hasOwnProperty("duration")?n:function CSe(n,t,e){let r,o=0,s="";if("string"==typeof n){const c=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===c)return t.push(AW()),{duration:0,delay:0,easing:""};r=mL(parseFloat(c[1]),c[2]);const u=c[3];null!=u&&(o=mL(parseFloat(u),c[4]));const g=c[5];g&&(s=g)}else r=n;if(!e){let c=!1,u=t.length;r<0&&(t.push(function NTe(){return new an(3100,!1)}()),c=!0),o<0&&(t.push(function UTe(){return new an(3101,!1)}()),c=!0),c&&t.splice(u,0,AW())}return{duration:r,delay:o,easing:s}}(n,t,e)}function HA(n,t,e){t.forEach((i,r)=>{const o=_L(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i})}function py(n,t){t.forEach((e,i)=>{const r=_L(i);n.style[r]=""})}function OE(n){return Array.isArray(n)?1==n.length?n[0]:function oge(n,t=null){return{type:$r.Sequence,steps:n,options:t}}(n):n}const gL=new RegExp("{{\\s*(.+?)\\s*}}","g");function EW(n){let t=[];if("string"==typeof n){let e;for(;e=gL.exec(n);)t.push(e[1]);gL.lastIndex=0}return t}function FE(n,t,e){const i=`${n}`,r=i.replace(gL,(o,s)=>{let c=t[s];return null==c&&(e.push(function QTe(n){return new an(3003,!1)}()),c=""),c.toString()});return r==i?n:r}const SSe=/-+([a-z0-9])/g;function _L(n){return n.replace(SSe,(...t)=>t[1].toUpperCase())}function np(n,t,e){switch(t.type){case $r.Trigger:return n.visitTrigger(t,e);case $r.State:return n.visitState(t,e);case $r.Transition:return n.visitTransition(t,e);case $r.Sequence:return n.visitSequence(t,e);case $r.Group:return n.visitGroup(t,e);case $r.Animate:return n.visitAnimate(t,e);case $r.Keyframes:return n.visitKeyframes(t,e);case $r.Style:return n.visitStyle(t,e);case $r.Reference:return n.visitReference(t,e);case $r.AnimateChild:return n.visitAnimateChild(t,e);case $r.AnimateRef:return n.visitAnimateRef(t,e);case $r.Query:return n.visitQuery(t,e);case $r.Stagger:return n.visitStagger(t,e);default:throw function jTe(n){return new an(3004,!1)}()}}function vL(n,t){return window.getComputedStyle(n)[t]}const RSe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class CW extends pL{normalizePropertyName(t,e){return _L(t)}normalizeStyleValue(t,e,i,r){let o="";const s=i.toString().trim();if(RSe.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const c=i.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&0==c[1].length&&r.push(function zTe(n,t){return new an(3005,!1)}())}return s+o}}const dk="*";const hk=new Set(["true","1"]),pk=new Set(["false","0"]);function IW(n,t){const e=hk.has(n)||pk.has(n),i=hk.has(t)||pk.has(t);return(r,o)=>{let s=n==dk||n==r,c=t==dk||t==o;return!s&&e&&"boolean"==typeof r&&(s=r?hk.has(n):pk.has(n)),!c&&i&&"boolean"==typeof o&&(c=o?hk.has(t):pk.has(t)),s&&c}}const OSe=new RegExp("s*:selfs*,?","g");function yL(n,t,e,i){return new FSe(n).build(t,e,i)}class FSe{constructor(t){this._driver=t}build(t,e,i){const r=new USe(e);return this._resetContextStyleTimingState(r),np(this,OE(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function GTe(){return new an(3006,!1)}()),t.definitions.forEach(c=>{if(this._resetContextStyleTimingState(e),c.type==$r.State){const u=c,g=u.name;g.toString().split(/\s*,\s*/).forEach(w=>{u.name=w,o.push(this.visitState(u,e))}),u.name=g}else if(c.type==$r.Transition){const u=this.visitTransition(c,e);i+=u.queryCount,r+=u.depCount,s.push(u)}else e.errors.push(function HTe(){return new an(3007,!1)}())}),{type:$r.Trigger,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(c=>{c instanceof Map&&c.forEach(u=>{EW(u).forEach(g=>{s.hasOwnProperty(g)||o.add(g)})})}),o.size&&e.errors.push(function qTe(n,t){return new an(3008,!1)}(0,o.values()))}return{type:$r.State,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=np(this,OE(t.animation),e),r=function MSe(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function BSe(n,t,e){if(":"==n[0]){const u=function PSe(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function nSe(n){return new an(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof u)return void t.push(u);n=u}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function tSe(n){return new an(3015,!1)}()),t;const r=i[1],o=i[2],s=i[3];t.push(IW(r,s)),"<"==o[0]&&(r!=dk||s!=dk)&&t.push(IW(s,r))}(i,e,t)):e.push(n),e}(t.expr,e.errors);return{type:$r.Transition,matchers:r,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:fy(t.options)}}visitSequence(t,e){return{type:$r.Sequence,steps:t.steps.map(i=>np(this,i,e)),options:fy(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(s=>{e.currentTime=i;const c=np(this,s,e);return r=Math.max(r,e.currentTime),c});return e.currentTime=r,{type:$r.Group,steps:o,options:fy(t.options)}}visitAnimate(t,e){const i=function QSe(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return bL(uk(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=bL(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=uk(e,t);return bL(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:Cl({});if(o.type==$r.Keyframes)r=this.visitKeyframes(o,e);else{let s=t.styles,c=!1;if(!s){c=!0;const g={};i.easing&&(g.easing=i.easing),s=Cl(g)}e.currentTime+=i.duration+i.delay;const u=this.visitStyle(s,e);u.isEmptyStep=c,r=u}return e.currentAnimateTimings=null,{type:$r.Animate,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let c of r)"string"==typeof c?c===Hm?i.push(c):e.errors.push(new an(3002,!1)):i.push(new Map(Object.entries(c)));let o=!1,s=null;return i.forEach(c=>{if(c instanceof Map&&(c.has("easing")&&(s=c.get("easing"),c.delete("easing")),!o))for(let u of c.values())if(u.toString().indexOf("{{")>=0){o=!0;break}}),{type:$r.Style,styles:i,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{"string"!=typeof s&&s.forEach((c,u)=>{const g=e.collectedStyles.get(e.currentQuerySelector),w=g.get(u);let T=!0;w&&(o!=r&&o>=w.startTime&&r<=w.endTime&&(e.errors.push(function WTe(n,t,e,i,r){return new an(3010,!1)}()),T=!1),o=w.startTime),T&&g.set(u,{startTime:o,endTime:r}),e.options&&function TSe(n,t,e){const i=t.params||{},r=EW(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function VTe(n){return new an(3001,!1)}())})}(c,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:$r.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function $Te(){return new an(3011,!1)}()),i;let o=0;const s=[];let c=!1,u=!1,g=0;const w=t.steps.map(et=>{const Ye=this._makeStyleAst(et,e);let yt=null!=Ye.offset?Ye.offset:function VSe(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Ye.styles),cn=0;return null!=yt&&(o++,cn=Ye.offset=yt),u=u||cn<0||cn>1,c=c||cn<g,g=cn,s.push(cn),Ye});u&&e.errors.push(function XTe(){return new an(3012,!1)}()),c&&e.errors.push(function YTe(){return new an(3200,!1)}());const T=t.steps.length;let F=0;o>0&&o<T?e.errors.push(function ZTe(){return new an(3202,!1)}()):0==o&&(F=1/(T-1));const H=T-1,ee=e.currentTime,Ae=e.currentAnimateTimings,xe=Ae.duration;return w.forEach((et,Ye)=>{const yt=F>0?Ye==H?1:F*Ye:s[Ye],cn=yt*xe;e.currentTime=ee+Ae.delay+cn,Ae.duration=cn,this._validateStyleAst(et,e),et.offset=yt,i.styles.push(et)}),i}visitReference(t,e){return{type:$r.Reference,animation:np(this,OE(t.animation),e),options:fy(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:$r.AnimateChild,options:fy(t.options)}}visitAnimateRef(t,e){return{type:$r.AnimateRef,animation:this.visitReference(t.animation,e),options:fy(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function LSe(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(OSe,"")),n=n.replace(/@\*/g,ck).replace(/@\w+/g,e=>ck+"-"+e.slice(1)).replace(/:animating/g,AL),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,tp(e.collectedStyles,e.currentQuerySelector,new Map);const c=np(this,OE(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:$r.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:c,originalSelector:t.selector,options:fy(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function JTe(){return new an(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:uk(t.timings,e.errors,!0);return{type:$r.Stagger,animation:np(this,OE(t.animation),e),timings:i,options:null}}}class USe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function fy(n){return n?(n={...n}).params&&(n.params=function NSe(n){return n?{...n}:null}(n.params)):n={},n}function bL(n,t,e){return{duration:n,delay:t,easing:e}}function wL(n,t,e,i,r,o,s=null,c=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:c}}class fk{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const GSe=new RegExp(":enter","g"),qSe=new RegExp(":leave","g");function xL(n,t,e,i,r,o=new Map,s=new Map,c,u,g=[]){return(new KSe).buildKeyframes(n,t,e,i,r,o,s,c,u,g)}class KSe{buildKeyframes(t,e,i,r,o,s,c,u,g,w=[]){g=g||new fk;const T=new EL(t,e,g,r,o,w,[]);T.options=u;const F=u.delay?Xm(u.delay):0;T.currentTimeline.delayNextStep(F),T.currentTimeline.setStyles([s],null,T.errors,u),np(this,i,T);const H=T.timelines.filter(ee=>ee.containsAnimation());if(H.length&&c.size){let ee;for(let Ae=H.length-1;Ae>=0;Ae--){const xe=H[Ae];if(xe.element===e){ee=xe;break}}ee&&!ee.allowOnlyTimelineStyles()&&ee.setStyles([c],null,T.errors,u)}return H.length?H.map(ee=>ee.buildKeyframes()):[wL(e,[],[],[],0,F,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const s="number"==typeof o?o:Xm(FE(o,r?.params??{},e.errors));i.delayNextStep(s)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const s=null!=i.duration?Xm(i.duration):null,c=null!=i.delay?Xm(i.delay):null;return 0!==s&&t.forEach(u=>{const g=e.appendInstructionToTimeline(u,s,c);o=Math.max(o,g.duration+g.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),np(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){r.previousNode.type==$r.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Ak);const s=Xm(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>np(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Xm(t.options.delay):0;t.steps.forEach(s=>{const c=e.createSubContext(t.options);o&&c.delayNextStep(o),np(this,s,c),r=Math.max(r,c.currentTimeline.currentTime),i.push(c.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return uk(e.params?FE(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;o.type==$r.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,c=e.createSubContext().currentTimeline;c.easing=i.easing,t.styles.forEach(u=>{c.forwardTime((u.offset||0)*o),c.setStyles(u.styles,u.easing,e.errors,e.options),c.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(c),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Xm(r.delay):0;o&&(e.previousNode.type===$r.Style||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Ak);let s=i;const c=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=c.length;let u=null;c.forEach((g,w)=>{e.currentQueryIndex=w;const T=e.createSubContext(t.options,g);o&&T.delayNextStep(o),g===e.element&&(u=T.currentTimeline),np(this,t.animation,T),T.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,T.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),c=s*(e.currentQueryTotal-1);let u=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":u=c-u;break;case"full":u=i.currentStaggerTime}const w=e.currentTimeline;u&&w.delayNextStep(u);const T=w.currentTime;np(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-T+(r.startTime-i.currentTimeline.startTime)}}const Ak={};class EL{constructor(t,e,i,r,o,s,c,u){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=c,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ak,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new mk(this._driver,e,0),c.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Xm(i.duration)),null!=i.delay&&(r.delay=Xm(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(c=>{(!e||!s.hasOwnProperty(c))&&(s[c]=FE(o[c],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new EL(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=Ak,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new WSe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,s){let c=[];if(r&&c.push(this.element),t.length>0){t=(t=t.replace(GSe,"."+this._enterClassName)).replace(qSe,"."+this._leaveClassName);let g=this._driver.query(this.element,t,1!=i);0!==i&&(g=i<0?g.slice(g.length+i,g.length):g.slice(0,i)),c.push(...g)}return!o&&0==c.length&&s.push(function eSe(n){return new an(3014,!1)}()),c}}class mk{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new mk(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Hm),this._currentKeyframe.set(e,Hm);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},s=function $Se(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i??=t.keys();for(let o of i)e.set(o,Hm)}else for(let[o,s]of r)e.set(o,s)}),e}(t,this._globalTimelineStyles);for(let[c,u]of s){const g=FE(u,o,i);this._pendingStyles.set(c,g),this._localTimelineStyles.has(c)||this._backFill.set(c,this._globalTimelineStyles.get(c)??Hm),this._updateStyle(c,g)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((c,u)=>{const g=new Map([...this._backFill,...c]);g.forEach((w,T)=>{"!"===w?t.add(T):w===Hm&&e.add(T)}),i||g.set("offset",u/this.duration),r.push(g)});const o=[...t.values()],s=[...e.values()];if(i){const c=r[0],u=new Map(c);c.set("offset",0),u.set("offset",1),r=[c,u]}return wL(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class WSe extends mk{constructor(t,e,i,r,o,s,c=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=c,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=i+e,c=e/s,u=new Map(t[0]);u.set("offset",0),o.push(u);const g=new Map(t[0]);g.set("offset",kW(c)),o.push(g);const w=t.length-1;for(let T=1;T<=w;T++){let F=new Map(t[T]);const H=F.get("offset");F.set("offset",kW((e+H*i)/s)),o.push(F)}i=s,e=0,r="",t=o}return wL(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function kW(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}function DW(n,t,e,i,r,o,s,c,u,g,w,T,F){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:c,queriedElements:u,preStyleProps:g,postStyleProps:w,totalTime:T,errors:F}}const CL={};class RW{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function XSe(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,s,c,u,g,w){const T=[],F=this.ast.options&&this.ast.options.params||CL,ee=this.buildStyles(i,c&&c.params||CL,T),Ae=u&&u.params||CL,xe=this.buildStyles(r,Ae,T),et=new Set,Ye=new Map,yt=new Map,cn="void"===r,$n={params:MW(Ae,F),delay:this.ast.options?.delay},si=w?[]:xL(t,e,this.ast.animation,o,s,ee,xe,$n,g,T);let bt=0;return si.forEach(nt=>{bt=Math.max(nt.duration+nt.delay,bt)}),T.length?DW(e,this._triggerName,i,r,cn,ee,xe,[],[],Ye,yt,bt,T):(si.forEach(nt=>{const xt=nt.element,Ft=tp(Ye,xt,new Set);nt.preStyleProps.forEach(sn=>Ft.add(sn));const qt=tp(yt,xt,new Set);nt.postStyleProps.forEach(sn=>qt.add(sn)),xt!==e&&et.add(xt)}),DW(e,this._triggerName,i,r,cn,ee,xe,si,[...et.values()],Ye,yt,bt))}}function MW(n,t){const e={...t};return Object.entries(n).forEach(([i,r])=>{null!=r&&(e[i]=r)}),e}class YSe{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=MW(t,this.defaultParams);return this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,c)=>{s&&(s=FE(s,r,e));const u=this.normalizer.normalizePropertyName(c,e);s=this.normalizer.normalizeStyleValue(c,u,s,e),i.set(c,s)})}),i}}class JSe{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new YSe(r.style,r.options&&r.options.params||{},i))}),BW(this.states,"true","1"),BW(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new RW(t,r,this.states))}),this.fallbackTransition=function eke(n,t,e){return new RW(n,{type:$r.Transition,animation:{type:$r.Sequence,steps:[],options:null},matchers:[(s,c)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(s=>s.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function BW(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const tke=new fk;class nke{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=yL(this._driver,e,i,[]);if(i.length)throw function aSe(n){return new an(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=mW(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let s;const c=new Map;if(o?(s=xL(this._driver,e,o,fL,ak,new Map,new Map,i,tke,r),s.forEach(w=>{const T=tp(c,w.element,new Map);w.postStyleProps.forEach(F=>T.set(F,null))})):(r.push(function lSe(){return new an(3300,!1)}()),s=[]),r.length)throw function cSe(n){return new an(3504,!1)}();c.forEach((w,T)=>{w.forEach((F,H)=>{w.set(H,this._driver.computeStyle(T,H,Hm))})});const g=f_(s.map(w=>{const T=c.get(w.element);return this._buildPlayer(w,new Map,T)}));return this._playersById.set(t,g),g.onDestroy(()=>this.destroy(t)),this.players.push(g),g}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function uSe(n){return new an(3301,!1)}();return e}listen(t,e,i,r){const o=cL(e,"","","");return aL(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const PW="ng-animate-queued",IL="ng-animate-disabled",ake=[],OW={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},lke={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},iA="__ng_removed";class TL{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function hke(n){return n??null}(i?t.value:t),i){const{value:o,...s}=t;this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const LE="void",SL=new TL(LE);class cke{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Jp(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function dSe(n,t){return new an(3302,!1)}();if(null==i||0==i.length)throw function hSe(n){return new an(3303,!1)}();if(!function pke(n){return"start"==n||"done"==n}(i))throw function pSe(n,t){return new an(3400,!1)}();const o=tp(this._elementListeners,t,[]),s={name:e,phase:i,callback:r};o.push(s);const c=tp(this._engine.statesByElement,t,new Map);return c.has(e)||(Jp(t,lk),Jp(t,lk+"-"+e),c.set(e,SL)),()=>{this._engine.afterFlush(()=>{const u=o.indexOf(s);u>=0&&o.splice(u,1),this._triggers.has(e)||c.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function fSe(n){return new an(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),s=new kL(this.id,e,t);let c=this._engine.statesByElement.get(t);c||(Jp(t,lk),Jp(t,lk+"-"+e),this._engine.statesByElement.set(t,c=new Map));let u=c.get(e);const g=new TL(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&u&&g.absorbOptions(u.options),c.set(e,g),u||(u=SL),g.value!==LE&&u.value===g.value){if(!function mke(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(u.params,g.params)){const Ae=[],xe=o.matchStyles(u.value,u.params,Ae),et=o.matchStyles(g.value,g.params,Ae);Ae.length?this._engine.reportError(Ae):this._engine.afterFlush(()=>{py(t,xe),HA(t,et)})}return}const F=tp(this._engine.playersByElement,t,[]);F.forEach(Ae=>{Ae.namespaceId==this.id&&Ae.triggerName==e&&Ae.queued&&Ae.destroy()});let H=o.matchTransition(u.value,g.value,t,g.params),ee=!1;if(!H){if(!r)return;H=o.fallbackTransition,ee=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:H,fromState:u,toState:g,player:s,isFallbackTransition:ee}),ee||(Jp(t,PW),s.onStart(()=>{Xb(t,PW)})),s.onDone(()=>{let Ae=this.players.indexOf(s);Ae>=0&&this.players.splice(Ae,1);const xe=this._engine.playersByElement.get(t);if(xe){let et=xe.indexOf(s);et>=0&&xe.splice(et,1)}}),this.players.push(s),F.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,ck,!0);i.forEach(r=>{if(r[iA])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const c=[];if(o.forEach((u,g)=>{if(s.set(g,u.value),this._triggers.has(g)){const w=this.trigger(t,g,LE,r);w&&c.push(w)}}),c.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),i&&f_(c).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const u=this._triggers.get(s).fallbackTransition,g=i.get(s)||SL,w=new TL(LE),T=new kL(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:u,fromState:g,toState:w,player:T,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[iA];(!o||o===OW)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Jp(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(c=>{if(c.name==i.triggerName){const u=cL(o,i.triggerName,i.fromState.value,i.toState.value);u._data=t,aL(i.player,c.phase,u,c.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class uke{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new cke(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,c=this.driver.getParentElement(e);for(;c;){const u=r.get(c);if(u){const g=i.indexOf(u);i.splice(g+1,0,t),s=!0;break}c=this.driver.getParentElement(c)}s||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(gk(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!gk(e))return;const o=e[iA];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Jp(t,IL)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Xb(t,IL))}removeNode(t,e,i){if(gk(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[iA]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return gk(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,ck,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,AL,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return f_(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[iA];if(e&&e.setForRemoval){if(t[iA]=OW,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(IL)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Jp(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?f_(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function ASe(n){return new an(3402,!1)}()}_flushAnimations(t,e){const i=new fk,r=[],o=new Map,s=[],c=new Map,u=new Map,g=new Map,w=new Set;this.disabledNodes.forEach(dr=>{w.add(dr);const Cr=this.driver.query(dr,".ng-animate-queued",!0);for(let Mr=0;Mr<Cr.length;Mr++)w.add(Cr[Mr])});const T=this.bodyNode,F=Array.from(this.statesByElement.keys()),H=NW(F,this.collectedEnterElements),ee=new Map;let Ae=0;H.forEach((dr,Cr)=>{const Mr=fL+Ae++;ee.set(Cr,Mr),dr.forEach(Ko=>Jp(Ko,Mr))});const xe=[],et=new Set,Ye=new Set;for(let dr=0;dr<this.collectedLeaveElements.length;dr++){const Cr=this.collectedLeaveElements[dr],Mr=Cr[iA];Mr&&Mr.setForRemoval&&(xe.push(Cr),et.add(Cr),Mr.hasAnimation?this.driver.query(Cr,".ng-star-inserted",!0).forEach(Ko=>et.add(Ko)):Ye.add(Cr))}const yt=new Map,cn=NW(F,Array.from(et));cn.forEach((dr,Cr)=>{const Mr=ak+Ae++;yt.set(Cr,Mr),dr.forEach(Ko=>Jp(Ko,Mr))}),t.push(()=>{H.forEach((dr,Cr)=>{const Mr=ee.get(Cr);dr.forEach(Ko=>Xb(Ko,Mr))}),cn.forEach((dr,Cr)=>{const Mr=yt.get(Cr);dr.forEach(Ko=>Xb(Ko,Mr))}),xe.forEach(dr=>{this.processLeaveNode(dr)})});const $n=[],si=[];for(let dr=this._namespaceList.length-1;dr>=0;dr--)this._namespaceList[dr].drainQueuedTransitions(e).forEach(Mr=>{const Ko=Mr.player,Xl=Mr.element;if($n.push(Ko),this.collectedEnterElements.length){const kl=Xl[iA];if(kl&&kl.setForMove){if(kl.previousTriggersValues&&kl.previousTriggersValues.has(Mr.triggerName)){const cg=kl.previousTriggersValues.get(Mr.triggerName),xh=this.statesByElement.get(Mr.element);if(xh&&xh.has(Mr.triggerName)){const ug=xh.get(Mr.triggerName);ug.value=cg,xh.set(Mr.triggerName,ug)}}return void Ko.destroy()}}const nf=!T||!this.driver.containsElement(T,Xl),Sl=yt.get(Xl),Ua=ee.get(Xl),Va=this._buildInstruction(Mr,i,Ua,Sl,nf);if(Va.errors&&Va.errors.length)return void si.push(Va);if(nf)return Ko.onStart(()=>py(Xl,Va.fromStyles)),Ko.onDestroy(()=>HA(Xl,Va.toStyles)),void r.push(Ko);if(Mr.isFallbackTransition)return Ko.onStart(()=>py(Xl,Va.fromStyles)),Ko.onDestroy(()=>HA(Xl,Va.toStyles)),void r.push(Ko);const F_=[];Va.timelines.forEach(kl=>{kl.stretchStartingKeyframe=!0,this.disabledNodes.has(kl.element)||F_.push(kl)}),Va.timelines=F_,i.append(Xl,Va.timelines),s.push({instruction:Va,player:Ko,element:Xl}),Va.queriedElements.forEach(kl=>tp(c,kl,[]).push(Ko)),Va.preStyleProps.forEach((kl,cg)=>{if(kl.size){let xh=u.get(cg);xh||u.set(cg,xh=new Set),kl.forEach((ug,L_)=>xh.add(L_))}}),Va.postStyleProps.forEach((kl,cg)=>{let xh=g.get(cg);xh||g.set(cg,xh=new Set),kl.forEach((ug,L_)=>xh.add(L_))})});if(si.length){const dr=[];si.forEach(Cr=>{dr.push(function mSe(n,t){return new an(3505,!1)}())}),$n.forEach(Cr=>Cr.destroy()),this.reportError(dr)}const bt=new Map,nt=new Map;s.forEach(dr=>{const Cr=dr.element;i.has(Cr)&&(nt.set(Cr,Cr),this._beforeAnimationBuild(dr.player.namespaceId,dr.instruction,bt))}),r.forEach(dr=>{const Cr=dr.element;this._getPreviousPlayers(Cr,!1,dr.namespaceId,dr.triggerName,null).forEach(Ko=>{tp(bt,Cr,[]).push(Ko),Ko.destroy()})});const xt=xe.filter(dr=>VW(dr,u,g)),Ft=new Map;LW(Ft,this.driver,Ye,g,Hm).forEach(dr=>{VW(dr,u,g)&&xt.push(dr)});const sn=new Map;H.forEach((dr,Cr)=>{LW(sn,this.driver,new Set(dr),u,"!")}),xt.forEach(dr=>{const Cr=Ft.get(dr),Mr=sn.get(dr);Ft.set(dr,new Map([...Cr?.entries()??[],...Mr?.entries()??[]]))});const It=[],tf=[],O_={};s.forEach(dr=>{const{element:Cr,player:Mr,instruction:Ko}=dr;if(i.has(Cr)){if(w.has(Cr))return Mr.onDestroy(()=>HA(Cr,Ko.toStyles)),Mr.disabled=!0,Mr.overrideTotalTime(Ko.totalTime),void r.push(Mr);let Xl=O_;if(nt.size>1){let Sl=Cr;const Ua=[];for(;Sl=Sl.parentNode;){const Va=nt.get(Sl);if(Va){Xl=Va;break}Ua.push(Sl)}Ua.forEach(Va=>nt.set(Va,Xl))}const nf=this._buildAnimation(Mr.namespaceId,Ko,bt,o,sn,Ft);if(Mr.setRealPlayer(nf),Xl===O_)It.push(Mr);else{const Sl=this.playersByElement.get(Xl);Sl&&Sl.length&&(Mr.parentPlayer=f_(Sl)),r.push(Mr)}}else py(Cr,Ko.fromStyles),Mr.onDestroy(()=>HA(Cr,Ko.toStyles)),tf.push(Mr),w.has(Cr)&&r.push(Mr)}),tf.forEach(dr=>{const Cr=o.get(dr.element);if(Cr&&Cr.length){const Mr=f_(Cr);dr.setRealPlayer(Mr)}}),r.forEach(dr=>{dr.parentPlayer?dr.syncPlayerEvents(dr.parentPlayer):dr.destroy()});for(let dr=0;dr<xe.length;dr++){const Cr=xe[dr],Mr=Cr[iA];if(Xb(Cr,ak),Mr&&Mr.hasAnimation)continue;let Ko=[];if(c.size){let nf=c.get(Cr);nf&&nf.length&&Ko.push(...nf);let Sl=this.driver.query(Cr,AL,!0);for(let Ua=0;Ua<Sl.length;Ua++){let Va=c.get(Sl[Ua]);Va&&Va.length&&Ko.push(...Va)}}const Xl=Ko.filter(nf=>!nf.destroyed);Xl.length?fke(this,Cr,Xl):this.processLeaveNode(Cr)}return xe.length=0,It.forEach(dr=>{this.players.push(dr),dr.onDone(()=>{dr.destroy();const Cr=this.players.indexOf(dr);this.players.splice(Cr,1)}),dr.play()}),It}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let s=[];if(e){const c=this.playersByQueriedElement.get(t);c&&(s=c)}else{const c=this.playersByElement.get(t);if(c){const u=!o||o==LE;c.forEach(g=>{g.queued||!u&&g.triggerName!=r||s.push(g)})}}return(i||r)&&(s=s.filter(c=>!(i&&i!=c.namespaceId||r&&r!=c.triggerName))),s}_beforeAnimationBuild(t,e,i){const o=e.element,s=e.isRemovalTransition?void 0:t,c=e.isRemovalTransition?void 0:e.triggerName;for(const u of e.timelines){const g=u.element,w=g!==o,T=tp(i,g,[]);this._getPreviousPlayers(g,w,s,c,e.toState).forEach(H=>{const ee=H.getRealPlayer();ee.beforeDestroy&&ee.beforeDestroy(),H.destroy(),T.push(H)})}py(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,s){const c=e.triggerName,u=e.element,g=[],w=new Set,T=new Set,F=e.timelines.map(ee=>{const Ae=ee.element;w.add(Ae);const xe=Ae[iA];if(xe&&xe.removedBeforeQueried)return new Vx(ee.duration,ee.delay);const et=Ae!==u,Ye=function Ake(n){const t=[];return UW(n,t),t}((i.get(Ae)||ake).map(bt=>bt.getRealPlayer())).filter(bt=>!!bt.element&&bt.element===Ae),yt=o.get(Ae),cn=s.get(Ae),$n=mW(this._normalizer,ee.keyframes,yt,cn),si=this._buildPlayer(ee,$n,Ye);if(ee.subTimeline&&r&&T.add(Ae),et){const bt=new kL(t,c,Ae);bt.setRealPlayer(si),g.push(bt)}return si});g.forEach(ee=>{tp(this.playersByQueriedElement,ee.element,[]).push(ee),ee.onDone(()=>function dke(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,ee.element,ee))}),w.forEach(ee=>Jp(ee,wW));const H=f_(F);return H.onDestroy(()=>{w.forEach(ee=>Xb(ee,wW)),HA(u,e.toStyles)}),T.forEach(ee=>{tp(r,ee,[]).push(H)}),H}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Vx(t.duration,t.delay)}}class kL{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Vx,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>aL(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){tp(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function gk(n){return n&&1===n.nodeType}function FW(n,t){const e=n.style.display;return n.style.display=t??"none",e}function LW(n,t,e,i,r){const o=[];e.forEach(u=>o.push(FW(u)));const s=[];i.forEach((u,g)=>{const w=new Map;u.forEach(T=>{const F=t.computeStyle(g,T,r);w.set(T,F),(!F||0==F.length)&&(g[iA]=lke,s.push(g))}),n.set(g,w)});let c=0;return e.forEach(u=>FW(u,o[c++])),s}function NW(n,t){const e=new Map;if(n.forEach(c=>e.set(c,[])),0==t.length)return e;const r=new Set(t),o=new Map;function s(c){if(!c)return 1;let u=o.get(c);if(u)return u;const g=c.parentNode;return u=e.has(g)?g:r.has(g)?1:s(g),o.set(c,u),u}return t.forEach(c=>{const u=s(c);1!==u&&e.get(u).push(c)}),e}function Jp(n,t){n.classList?.add(t)}function Xb(n,t){n.classList?.remove(t)}function fke(n,t,e){f_(e).onDone(()=>n.processLeaveNode(t))}function UW(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof A7?UW(i.players,t):t.push(i)}}function VW(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class NE{constructor(t,e,i){this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new uke(t.body,e,i),this._timelineEngine=new nke(t.body,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const s=t+"-"+r;let c=this._triggerCache[s];if(!c){const u=[],w=yL(this._driver,o,u,[]);if(u.length)throw function oSe(n,t){return new an(3404,!1)}();c=function ZSe(n,t,e){return new JSe(n,t,e)}(r,w,this._normalizer),this._triggerCache[s]=c}this._transitionEngine.registerTrigger(e,r,c)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,s]=gW(i);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[s,c]=gW(i);return this._timelineEngine.listen(s,e,c,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}class UE{static#e=this.initialStylesByElement=new WeakMap;constructor(t,e,i){this._element=t,this._startStyles=e,this._endStyles=i,this._state=0;let r=UE.initialStylesByElement.get(t);r||UE.initialStylesByElement.set(t,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&HA(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(HA(this._element,this._initialStyles),this._endStyles&&(HA(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(UE.initialStylesByElement.delete(this._element),this._startStyles&&(py(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(py(this._element,this._endStyles),this._endStyles=null),HA(this._element,this._initialStyles),this._state=3)}}function DL(n){let t=null;return n.forEach((e,i)=>{(function _ke(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class QW{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:vL(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class jW{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return vW(t,e)}getParentElement(t){return uL(t)}query(t,e,i){return yW(t,e,i)}computeStyle(t,e,i){return vL(t,e)}animate(t,e,i,r,o,s=[]){const u={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(u.easing=o);const g=new Map,w=s.filter(H=>H instanceof QW);(function kSe(n,t){return 0===n||0===t})(i,r)&&w.forEach(H=>{H.currentSnapshot.forEach((ee,Ae)=>g.set(Ae,ee))});let T=function ISe(n){return n.length?n[0]instanceof Map?n:n.map(t=>new Map(Object.entries(t))):[]}(e).map(H=>new Map(H));T=function DSe(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<t.length;o++){let s=t[o];r.forEach(c=>s.set(c,vL(n,c)))}}return t}(t,T,g);const F=function gke(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=DL(t[0]),t.length>1&&(i=DL(t[t.length-1]))):t instanceof Map&&(e=DL(t)),e||i?new UE(n,e,i):null}(t,T);return new QW(t,T,u,F)}}const zW="@.disabled";class GW{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==zW?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class vke extends GW{constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==zW?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function yke(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function bke(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,c=>{this.factory.scheduleListenerCallback(c._data||-1,i,c)})}return this.delegate.listen(t,e,i)}}class wke{constructor(t,e,i){this.delegate=t,this.engine=e,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(r,o)=>{const s=o?.parentNode(r);s&&o.removeChild(s,r)}}createRenderer(t,e){const r=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){const g=this._rendererCache;let w=g.get(r);return w||(w=new GW("",r,this.engine,()=>g.delete(r)),g.set(r,w)),w}const o=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);const c=g=>{Array.isArray(g)?g.forEach(c):this.engine.registerTrigger(o,s,t,g.name,g)};return e.data.animation.forEach(c),new vke(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,i){if(t>=0&&t<this._microtaskId)return void this._zone.run(()=>e(i));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{const[s,c]=o;s(c)}),this._animationCallbacksBuffer=[]})}),r.push([e,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}const HW=[{provide:pL,useFactory:function Eke(){return new CW}},{provide:NE,useClass:(()=>{class n extends NE{constructor(e,i,r){super(e,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(Rr),Ct(hL),Ct(pL))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac})}return n})()},{provide:t2,useFactory:function Cke(n,t,e){return new wke(n,t,e)},deps:[VB,NE,Ri]}],RL=[{provide:hL,useFactory:()=>new jW},{provide:eu,useValue:"BrowserAnimations"},...HW],qW=[{provide:hL,useClass:dL},{provide:eu,useValue:"NoopAnimations"},...HW];let Ike=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?qW:RL}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({providers:RL,imports:[O9]})}return n})(),Fke=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({imports:[Is,Kb]})}return n})();const Lke=["switch"],Nke=["*"];function Uke(n,t){1&n&&($e(0,"span",10),wa(),$e(1,"svg",12),Pn(2,"path",13),rt(),$e(3,"svg",14),Pn(4,"path",15),rt()())}const Vke=new Wt("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),Qke={provide:fa,useExisting:Ir(()=>XW),multi:!0};class $W{constructor(t,e){this.source=t,this.checked=e}}let jke=0,XW=(()=>{class n{_createChangeEvent(e){return new $W(this,e)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,i,r,o,s,c){this._elementRef=e,this._focusMonitor=i,this._changeDetectorRef=r,this.defaults=s,this._onChange=u=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new ni,this.toggleChange=new ni,this.tabIndex=parseInt(o)||0,this.color=s.color||"accent",this._noopAnimations="NoopAnimations"===c,this.id=this._uniqueId="mat-mdc-slide-toggle-"+ ++jke,this.hideIcon=s.hideIcon??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{"keyboard"===e||"program"===e?(this._focused=!0,this._changeDetectorRef.markForCheck()):e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(e){e.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}validate(e){return this.required&&!0!==e.value?{required:!0}:null}registerOnValidatorChange(e){this._validatorOnChange=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new $W(this,this.checked)))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#e=this.\u0275fac=function(i){return new(i||n)(Re(or),Re(p_),Re(qo),_o("tabindex"),Re(Vke),Re(eu,8))};static#t=this.\u0275cmp=Ii({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(i,r){if(1&i&&po(Lke,5),2&i){let o;Ti(o=Si())&&(r._switchElement=o.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(i,r){2&i&&(Nf("id",r.id),Qt("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),jr(r.color?"mat-"+r.color:""),Ho("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",xn],color:"color",disabled:[2,"disabled","disabled",xn],disableRipple:[2,"disableRipple","disableRipple",xn],tabIndex:[2,"tabIndex","tabIndex",e=>null==e?0:Eo(e)],checked:[2,"checked","checked",xn],hideIcon:[2,"hideIcon","hideIcon",xn]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[Vr([Qke,{provide:ql,useExisting:n,multi:!0}]),ao,Qs,vo],ngContentSelectors:Nke,decls:13,vars:24,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(i,r){if(1&i){const o=ur();zs(),$e(0,"div",1)(1,"button",2,0),Hn("click",function(){return mn(o),pn(r._handleClick())}),Pn(3,"span",3),$e(4,"span",4)(5,"span",5)(6,"span",6),Pn(7,"span",7),rt(),$e(8,"span",8),Pn(9,"span",9),rt(),Kt(10,Uke,5,0,"span",10),rt()()(),$e(11,"label",11),Hn("click",function(c){return mn(o),pn(c.stopPropagation())}),Zr(12),rt()()}if(2&i){const o=ua(2);be("labelPosition",r.labelPosition),Ie(),Ho("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled),be("tabIndex",r.disabled?-1:r.tabIndex)("disabled",r.disabled),Qt("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked),Ie(8),be("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),Ie(),Oc(r.hideIcon?-1:10),Ie(),be("for",r.buttonId),Qt("id",r._labelId)}},dependencies:[qb,zF],styles:['.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mdc-switch-track-width)}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mdc-switch-track-height);border-radius:var(--mdc-switch-track-shape)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color)}.cdk-high-contrast-active .mdc-switch__track::before,.cdk-high-contrast-active .mdc-switch__track::after{border-color:currentColor}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-switch-selected-track-outline-width);border-color:var(--mat-switch-selected-track-outline-color)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color)}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mdc-switch-unselected-track-color)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mdc-switch-selected-track-color)}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mdc-switch-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mdc-switch-handle-width);height:var(--mdc-switch-handle-height);border-radius:var(--mdc-switch-handle-shape)}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size);margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size);margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle .mdc-switch:active:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}.cdk-high-contrast-active .mdc-switch__handle::before,.cdk-high-contrast-active .mdc-switch__handle::after{border-color:currentColor}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mdc-switch-state-layer-size);height:var(--mdc-switch-state-layer-size)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch:disabled .mdc-switch__ripple::after{display:none}.mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-pressed-state-layer-color);opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity);transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-selected-pressed-state-layer-color);opacity:var(--mdc-switch-selected-pressed-state-layer-opacity);transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1}.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size);fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size);fill:var(--mdc-switch-selected-icon-color)}.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{-webkit-user-select:none;user-select:none;display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-switch-label-text-color);font-family:var(--mat-switch-label-text-font);line-height:var(--mat-switch-label-text-line-height);font-size:var(--mat-switch-label-text-size);letter-spacing:var(--mat-switch-label-text-tracking);font-weight:var(--mat-switch-label-text-weight)}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}'],encapsulation:2,changeDetection:0})}return n})(),Hke=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({imports:[XW,Is,Is]})}return n})(),Kke=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Wke=["button"],$ke=["*"];function Xke(n,t){1&n&&Pn(0,"mat-pseudo-checkbox",3),2&n&&be("disabled",He().disabled)}function Yke(n,t){1&n&&Pn(0,"mat-pseudo-checkbox",3),2&n&&be("disabled",He().disabled)}const YW=new Wt("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:function Zke(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1}}}),ZW=new Wt("MatButtonToggleGroup");let JW=0;class e${constructor(t,e){this.source=t,this.value=e}}let t$=(()=>{class n{get buttonId(){return`${this.id}-button`}get tabIndex(){return this._tabIndex}set tabIndex(e){this._tabIndex=e,this._markForCheck()}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(e){this._appearance=e}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(e){e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(e){this._disabled=e}constructor(e,i,r,o,s,c){this._changeDetectorRef=i,this._elementRef=r,this._focusMonitor=o,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new ni;const u=Number(s);this.tabIndex=u||0===u?u:null,this.buttonToggleGroup=e,this.appearance=c&&c.appearance?c.appearance:"standard"}ngOnInit(){const e=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+JW++,e&&(e._isPrechecked(this)?this.checked=!0:e._isSelected(this)!==this._checked&&e._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const e=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),e&&e._isSelected(this)&&e._syncButtonToggle(this,!1,!1,!0)}focus(e){this._buttonElement.nativeElement.focus(e)}_onButtonClick(){const e=!!this.isSingleSelector()||!this._checked;if(e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.isSingleSelector()){const i=this.buttonToggleGroup._buttonToggles.find(r=>0===r.tabIndex);i&&(i.tabIndex=-1),this.tabIndex=0}this.change.emit(new e$(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this.isSingleSelector()?this.buttonToggleGroup.name:this.name||null}isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static#e=this.\u0275fac=function(i){return new(i||n)(Re(ZW,8),Re(qo),Re(or),Re(p_),_o("tabindex"),Re(YW,8))};static#t=this.\u0275cmp=Ii({type:n,selectors:[["mat-button-toggle"]],viewQuery:function(i,r){if(1&i&&po(Wke,5),2&i){let o;Ti(o=Si())&&(r._buttonElement=o.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(i,r){1&i&&Hn("focus",function(){return r.focus()}),2&i&&(Qt("aria-label",null)("aria-labelledby",null)("id",r.id)("name",null),Ho("mat-button-toggle-standalone",!r.buttonToggleGroup)("mat-button-toggle-checked",r.checked)("mat-button-toggle-disabled",r.disabled)("mat-button-toggle-appearance-standard","standard"===r.appearance))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[2,"disableRipple","disableRipple",xn],appearance:"appearance",checked:[2,"checked","checked",xn],disabled:[2,"disabled","disabled",xn]},outputs:{change:"change"},exportAs:["matButtonToggle"],standalone:!0,features:[ao,vo],ngContentSelectors:$ke,decls:8,vars:13,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-label-content"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(i,r){if(1&i){const o=ur();zs(),$e(0,"button",1,0),Hn("click",function(){return mn(o),pn(r._onButtonClick())}),$e(2,"span",2),Kt(3,Xke,1,1,"mat-pseudo-checkbox",3)(4,Yke,1,1,"mat-pseudo-checkbox",3),Zr(5),rt()(),Pn(6,"span",4)(7,"span",5)}if(2&i){const o=ua(1);be("id",r.buttonId)("disabled",r.disabled||null),Qt("role",r.isSingleSelector()?"radio":"button")("tabindex",r.disabled?-1:r.tabIndex)("aria-pressed",r.isSingleSelector()?null:r.checked)("aria-checked",r.isSingleSelector()?r.checked:null)("name",r._getButtonName())("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby),Ie(3),Oc(r.buttonToggleGroup&&r.checked&&!r.buttonToggleGroup.multiple&&!r.buttonToggleGroup.hideSingleSelectionIndicator?3:-1),Ie(),Oc(r.buttonToggleGroup&&r.checked&&r.buttonToggleGroup.multiple&&!r.buttonToggleGroup.hideMultipleSelectionIndicator?4:-1),Ie(3),be("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)}},dependencies:[qb,fCe],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape);border:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-standard-button-toggle-selected-state-text-color)}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-legacy-button-toggle-selected-state-text-color)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle .mat-pseudo-checkbox{margin-right:12px}[dir=rtl] .mat-button-toggle .mat-pseudo-checkbox{margin-right:0;margin-left:12px}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-legacy-button-toggle-disabled-state-text-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color);background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-label-text-font);font-size:var(--mat-standard-button-toggle-label-text-size);line-height:var(--mat-standard-button-toggle-label-text-line-height);font-weight:var(--mat-standard-button-toggle-label-text-weight);letter-spacing:var(--mat-standard-button-toggle-label-text-tracking)}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color)}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color);background-color:var(--mat-standard-button-toggle-selected-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-standard-button-toggle-disabled-selected-state-text-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color)}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity)}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity)}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape)}.mat-button-toggle-group-appearance-standard .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape);border-bottom-right-radius:var(--mat-standard-button-toggle-shape)}.mat-button-toggle-group-appearance-standard .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape);border-bottom-left-radius:var(--mat-standard-button-toggle-shape)}"],encapsulation:2,changeDetection:0})}return n})(),tDe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({imports:[Is,Kb,t$,Is]})}return n})();const nDe=["input"],iDe=["label"],rDe=["*"],oDe=new Wt("mat-checkbox-default-options",{providedIn:"root",factory:n$});function n$(){return{color:"accent",clickAction:"check-indeterminate"}}var ld=function(n){return n[n.Init=0]="Init",n[n.Checked=1]="Checked",n[n.Unchecked=2]="Unchecked",n[n.Indeterminate=3]="Indeterminate",n}(ld||{});const sDe={provide:fa,useExisting:Ir(()=>r$),multi:!0};class aDe{}let lDe=0;const i$=n$();let r$=(()=>{class n{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){const i=new aDe;return i.source=this,i.checked=e,i}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,i,r,o,s,c){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._animationMode=s,this._options=c,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new ni,this.indeterminateChange=new ni,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=ld.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||i$,this.color=this._options.color||i$.color,this.tabIndex=parseInt(o)||0,this.id=this._uniqueId="mat-mdc-checkbox-"+ ++lDe}ngOnChanges(e){e.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const i=e!=this._indeterminate;this._indeterminate=e,i&&(this._transitionCheckState(this._indeterminate?ld.Indeterminate:this.checked?ld.Checked:ld.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}validate(e){return this.required&&!0!==e.value?{required:!0}:null}registerOnValidatorChange(e){this._validatorChangeFn=e}_transitionCheckState(e){let i=this._currentCheckState,r=this._getAnimationTargetElement();if(i!==e&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const e=this._options?.clickAction;this.disabled||"noop"===e?!this.disabled&&"noop"===e&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==e&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?ld.Checked:ld.Unchecked),this._emitChangeEvent())}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,i){if("NoopAnimations"===this._animationMode)return"";switch(e){case ld.Init:if(i===ld.Checked)return this._animationClasses.uncheckedToChecked;if(i==ld.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case ld.Unchecked:return i===ld.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case ld.Checked:return i===ld.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case ld.Indeterminate:return i===ld.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){const i=this._inputElement;i&&(i.nativeElement.indeterminate=e)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}static#e=this.\u0275fac=function(i){return new(i||n)(Re(or),Re(qo),Re(Ri),_o("tabindex"),Re(eu,8),Re(oDe,8))};static#t=this.\u0275cmp=Ii({type:n,selectors:[["mat-checkbox"]],viewQuery:function(i,r){if(1&i&&(po(nDe,5),po(iDe,5),po(qb,5)),2&i){let o;Ti(o=Si())&&(r._inputElement=o.first),Ti(o=Si())&&(r._labelElement=o.first),Ti(o=Si())&&(r.ripple=o.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:14,hostBindings:function(i,r){2&i&&(Nf("id",r.id),Qt("tabindex",null)("aria-label",null)("aria-labelledby",null),jr(r.color?"mat-"+r.color:"mat-accent"),Ho("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],id:"id",required:[2,"required","required",xn],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",xn],tabIndex:[2,"tabIndex","tabIndex",e=>null==e?void 0:Eo(e)],color:"color",checked:[2,"checked","checked",xn],disabled:[2,"disabled","disabled",xn],indeterminate:[2,"indeterminate","indeterminate",xn]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[Vr([sDe,{provide:ql,useExisting:n,multi:!0}]),ao,Qs,vo],ngContentSelectors:rDe,decls:15,vars:19,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(i,r){if(1&i){const o=ur();zs(),$e(0,"div",3),Hn("click",function(c){return mn(o),pn(r._preventBubblingFromLabel(c))}),$e(1,"div",4,0)(3,"div",5),Hn("click",function(){return mn(o),pn(r._onTouchTargetClick())}),rt(),$e(4,"input",6,1),Hn("blur",function(){return mn(o),pn(r._onBlur())})("click",function(){return mn(o),pn(r._onInputClick())})("change",function(c){return mn(o),pn(r._onInteractionEvent(c))}),rt(),Pn(6,"div",7),$e(7,"div",8),wa(),$e(8,"svg",9),Pn(9,"path",10),rt(),ch(),Pn(10,"div",11),rt(),Pn(11,"div",12),rt(),$e(12,"label",13,2),Zr(14),rt()()}if(2&i){const o=ua(2);be("labelPosition",r.labelPosition),Ie(4),Ho("mdc-checkbox--selected",r.checked),be("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled)("id",r.inputId)("required",r.required)("tabIndex",r.disabled?-1:r.tabIndex),Qt("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-checked",r.indeterminate?"mixed":null)("name",r.name)("value",r.value),Ie(7),be("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),Ie(),be("for",r.inputId)}},dependencies:[qb,zF],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-unselected-icon-color);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox--disabled .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color)}.cdk-high-contrast-active .mdc-checkbox__mixedmark{margin:0 1px}.mdc-checkbox--disabled .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color);font-family:var(--mat-checkbox-label-text-font);line-height:var(--mat-checkbox-label-text-line-height);font-size:var(--mat-checkbox-label-text-size);letter-spacing:var(--mat-checkbox-label-text-tracking);font-weight:var(--mat-checkbox-label-text-weight)}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),dDe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({imports:[r$,Is,Is]})}return n})(),hDe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({imports:[Is,Is]})}return n})(),jDe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({imports:[NF,Gs,Is,Kb,ACe,hDe]})}return n})(),zDe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({})}return n})(),GDe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({imports:[Is,tW,tW,zDe,Is]})}return n})();const c$="firebasestorage.googleapis.com",u$="storageBucket";class pl extends Oe.g{constructor(t,e,i=0){super(PL(t),`Firebase Storage: ${e} (${PL(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pl.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return PL(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Za=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Za||{});function PL(n){return"storage/"+n}function OL(){return new pl(Za.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function d$(){return new pl(Za.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function h$(){return new pl(Za.CANCELED,"User canceled the upload/download.")}function p$(){return new pl(Za.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Zb(n){return new pl(Za.INVALID_ARGUMENT,n)}function f$(){return new pl(Za.APP_DELETED,"The Firebase app was deleted.")}function A$(n){return new pl(Za.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function VE(n,t){return new pl(Za.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function QE(n){throw new pl(Za.INTERNAL_ERROR,"Internal error: "+n)}class cd{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=cd.makeFromUrl(t,e)}catch{return new cd(t,"")}if(""===i.path)return i;throw function eRe(n){return new pl(Za.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",c=new RegExp("^gs://"+r+"(/(.*))?$","i");function g(cn){cn.path_=decodeURIComponent(cn.path)}const T=e.replace(/[.]/g,"\\."),yt=[{regex:c,indices:{bucket:1,path:3},postModify:function o(cn){"/"===cn.path.charAt(cn.path.length-1)&&(cn.path_=cn.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${T}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:g},{regex:new RegExp(`^https?://${e===c$?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:g}];for(let cn=0;cn<yt.length;cn++){const $n=yt[cn],si=$n.regex.exec(t);if(si){let nt=si[$n.indices.path];nt||(nt=""),i=new cd(si[$n.indices.bucket],nt),$n.postModify(i);break}}if(null==i)throw function JDe(n){return new pl(Za.INVALID_URL,"Invalid URL '"+n+"'.")}(t);return i}}class oRe{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function vk(n){return"string"==typeof n||n instanceof String}function m$(n){return FL()&&n instanceof Blob}function FL(){return typeof Blob<"u"}function LL(n,t,e,i){if(i<t)throw Zb(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw Zb(`Invalid value for '${n}'. Expected ${e} or less.`)}function Ym(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function g$(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var Jb=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(Jb||{});function _$(n,t){const e=n>=500&&n<600,r=-1!==[408,429].indexOf(n),o=-1!==t.indexOf(n);return e||r||o}class dRe{constructor(t,e,i,r,o,s,c,u,g,w,T,F=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=c,this.errorCallback_=u,this.timeout_=g,this.progressCallback_=w,this.connectionFactory_=T,this.retry=F,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((H,ee)=>{this.resolve_=H,this.reject_=ee,this.start_()})}start_(){const e=(i,r)=>{const o=this.resolve_,s=this.reject_,c=r.connection;if(r.wasSuccessCode)try{const u=this.callback_(c,c.getResponse());!function lRe(n){return void 0!==n}(u)?o():o(u)}catch(u){s(u)}else if(null!==c){const u=OL();u.serverResponse=c.getErrorText(),s(this.errorCallback_?this.errorCallback_(c,u):u)}else s(r.canceled?this.appDelete_?f$():h$():d$())};this.canceled_?e(0,new yk(!1,null,!0)):this.backoffId_=function sRe(n,t,e){let i=1,r=null,o=null,s=!1,c=0;function u(){return 2===c}let g=!1;function w(...xe){g||(g=!0,t.apply(null,xe))}function T(xe){r=setTimeout(()=>{r=null,n(H,u())},xe)}function F(){o&&clearTimeout(o)}function H(xe,...et){if(g)return void F();if(xe)return F(),void w.call(null,xe,...et);if(u()||s)return F(),void w.call(null,xe,...et);let yt;i<64&&(i*=2),1===c?(c=2,yt=0):yt=1e3*(i+Math.random()),T(yt)}let ee=!1;function Ae(xe){ee||(ee=!0,F(),!g&&(null!==r?(xe||(c=2),clearTimeout(r),T(0)):xe||(c=1)))}return T(0),o=setTimeout(()=>{s=!0,Ae(!0)},e),Ae}((i,r)=>{if(r)return void i(!1,new yk(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const s=c=>{null!==this.progressCallback_&&this.progressCallback_(c.loaded,c.lengthComputable?c.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const c=o.getErrorCode()===Jb.NO_ERROR,u=o.getStatus();if(!c||_$(u,this.additionalRetryCodes_)&&this.retry){const w=o.getErrorCode()===Jb.ABORT;return void i(!1,new yk(!1,null,w))}const g=-1!==this.successCodes_.indexOf(u);i(!0,new yk(g,o))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function aRe(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class yk{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function _Re(...n){const t=function gRe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(FL())return new Blob(n);throw new pl(Za.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const ip={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class NL{constructor(t,e){this.data=t,this.contentType=e||null}}function UL(n,t){switch(n){case ip.RAW:return new NL(v$(t));case ip.BASE64:case ip.BASE64URL:return new NL(y$(n,t));case ip.DATA_URL:return new NL(function wRe(n){const t=new b$(n);return t.base64?y$(ip.BASE64,t.rest):function bRe(n){let t;try{t=decodeURIComponent(n)}catch{throw VE(ip.DATA_URL,"Malformed data URL.")}return v$(t)}(t.rest)}(t),function xRe(n){return new b$(n).contentType}(t))}throw OL()}function v$(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function y$(n,t){switch(n){case ip.BASE64:{const r=-1!==t.indexOf("-"),o=-1!==t.indexOf("_");if(r||o)throw VE(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case ip.BASE64URL:{const r=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(r||o)throw VE(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function yRe(n){if(typeof atob>"u")throw function rRe(n){return new pl(Za.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(t)}catch(r){throw r.message.includes("polyfill")?r:VE(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class b${constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw VE(ip.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function ERe(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class qA{constructor(t,e){let i=0,r="";m$(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(m$(this.data_)){const r=function vRe(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new qA(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new qA(i,!0)}}static getBlob(...t){if(FL()){const e=t.map(i=>i instanceof qA?i.data_:i);return new qA(_Re.apply(null,e))}{const e=t.map(s=>vk(s)?UL(ip.RAW,s).data:s.data_);let i=0;e.forEach(s=>{i+=s.byteLength});const r=new Uint8Array(i);let o=0;return e.forEach(s=>{for(let c=0;c<s.length;c++)r[o++]=s[c]}),new qA(r,!0)}}uploadData(){return this.data_}}function VL(n){let t;try{t=JSON.parse(n)}catch{return null}return function uRe(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function w$(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function TRe(n,t){return t}class Qd{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||TRe}}let bk=null;function jE(){if(bk)return bk;const n=[];n.push(new Qd("bucket")),n.push(new Qd("generation")),n.push(new Qd("metageneration")),n.push(new Qd("name","fullPath",!0));const e=new Qd("name");e.xform=function t(o,s){return function SRe(n){return!vk(n)||n.length<2?n:w$(n)}(s)},n.push(e);const r=new Qd("size");return r.xform=function i(o,s){return void 0!==s?Number(s):s},n.push(r),n.push(new Qd("timeCreated")),n.push(new Qd("updated")),n.push(new Qd("md5Hash",null,!0)),n.push(new Qd("cacheControl",null,!0)),n.push(new Qd("contentDisposition",null,!0)),n.push(new Qd("contentEncoding",null,!0)),n.push(new Qd("contentLanguage",null,!0)),n.push(new Qd("contentType",null,!0)),n.push(new Qd("metadata","customMetadata",!0)),bk=n,bk}function x$(n,t,e){const i=VL(t);return null===i?null:function DRe(n,t,e){const i={type:"file"},r=e.length;for(let o=0;o<r;o++){const s=e[o];i[s.local]=s.xform(i,t[s.server])}return function kRe(n,t){Object.defineProperty(n,"ref",{get:function e(){const o=new cd(n.bucket,n.fullPath);return t._makeStorageReference(o)}})}(i,n),i}(n,i,e)}function QL(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const o=t[r];o.writable&&(e[o.server]=n[o.local])}return JSON.stringify(e)}const E$="prefixes",C$="items";class KA{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function WA(n){if(!n)throw OL()}function wk(n,t){return function e(i,r){const o=x$(n,r,t);return WA(null!==o),o}}function e1(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function YDe(){return new pl(Za.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function XDe(){return new pl(Za.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function $De(n){return new pl(Za.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function ZDe(n){return new pl(Za.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}}function zE(n){const t=e1(n);return function e(i,r){let o=t(i,r);return 404===i.getStatus()&&(o=function WDe(n){return new pl(Za.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=r.serverResponse,o}}function I$(n,t,e){const r=Ym(t.fullServerUrl(),n.host,n._protocol),s=n.maxOperationRetryTime,c=new KA(r,"GET",wk(n,e),s);return c.errorHandler=zE(t),c}function FRe(n,t,e,i,r){const o={};o.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(o.delimiter=e),i&&(o.pageToken=i),r&&(o.maxResults=r);const c=Ym(t.bucketOnlyServerUrl(),n.host,n._protocol),g=n.maxOperationRetryTime,w=new KA(c,"GET",function PRe(n,t){return function e(i,r){const o=function BRe(n,t,e){const i=VL(e);return null===i?null:function MRe(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[E$])for(const r of e[E$]){const o=r.replace(/\/$/,""),s=n._makeStorageReference(new cd(t,o));i.prefixes.push(s)}if(e[C$])for(const r of e[C$]){const o=n._makeStorageReference(new cd(t,r.name));i.items.push(o)}return i}(n,t,i)}(n,t,r);return WA(null!==o),o}}(n,t.bucket),g);return w.urlParams=o,w.errorHandler=e1(t),w}function S$(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function VRe(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class xk{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function jL(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{WA(!1)}return WA(!!e&&-1!==(t||["active"]).indexOf(e)),e}const GRe={STATE_CHANGED:"state_changed"},jd={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function zL(n){switch(n){case"running":case"pausing":case"canceling":return jd.RUNNING;case"paused":return jd.PAUSED;case"success":return jd.SUCCESS;case"canceled":return jd.CANCELED;default:return jd.ERROR}}class HRe{constructor(t,e,i){if(function cRe(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const o=t;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function t1(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}let R$=null;class qRe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Jb.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Jb.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Jb.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw QE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw QE("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw QE("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw QE("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw QE("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class KRe extends qRe{initXhr(){this.xhr_.responseType="text"}}function rA(){return R$?R$():new KRe}class M${constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=jE(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(Za.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(_$(r.status,[])){if(!o)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=d$()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(Za.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,o)=>{this._resolve=r,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function QRe(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),s=S$(t,i,r),c={name:s.fullPath},u=Ym(o,n.host,n._protocol),w={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},T=QL(s,e),ee=new KA(u,"POST",function H(Ae){let xe;jL(Ae);try{xe=Ae.getResponseHeader("X-Goog-Upload-URL")}catch{WA(!1)}return WA(vk(xe)),xe},n.maxUploadRetryTime);return ee.urlParams=c,ee.headers=w,ee.body=T,ee.errorHandler=e1(t),ee}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,rA,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function jRe(n,t,e,i){const u=new KA(e,"POST",function o(g){const w=jL(g,["active","final"]);let T=null;try{T=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{WA(!1)}T||WA(!1);const F=Number(T);return WA(!isNaN(F)),new xk(F,i.size(),"final"===w)},n.maxUploadRetryTime);return u.headers={"X-Goog-Upload-Command":"query"},u.errorHandler=e1(t),u}(this._ref.storage,this._ref._location,t,this._blob),o=this._ref.storage._makeRequest(r,rA,e,i);this._request=o,o.getPromise().then(s=>{this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new xk(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,o)=>{let s;try{s=function zRe(n,t,e,i,r,o,s,c){const u=new xk(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=i.size()),i.size()!==u.total)throw function nRe(){return new pl(Za.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const g=u.total-u.current;let w=g;r>0&&(w=Math.min(w,r));const T=u.current;let H="";H=0===w?"finalize":g===w?"upload, finalize":"upload";const ee={"X-Goog-Upload-Command":H,"X-Goog-Upload-Offset":`${u.current}`},Ae=i.slice(T,T+w);if(null===Ae)throw p$();const yt=new KA(e,"POST",function xe(cn,$n){const si=jL(cn,["active","final"]),bt=u.current+w,nt=i.size();let xt;return xt="final"===si?wk(t,o)(cn,$n):null,new xk(bt,nt,"final"===si,xt)},t.maxUploadRetryTime);return yt.headers=ee,yt.body=Ae.uploadData(),yt.progressCallback=c||null,yt.errorHandler=e1(n),yt}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(u){return this._error=u,void this._transition("error")}const c=this._ref.storage._makeRequest(s,rA,r,o,!1);this._request=c,c.getPromise().then(u=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(u.current),u.finalized?(this._metadata=u.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=I$(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,rA,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function k$(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},u=function c(){let yt="";for(let cn=0;cn<2;cn++)yt+=Math.random().toString().slice(2);return yt}();s["Content-Type"]="multipart/related; boundary="+u;const g=S$(t,i,r),w=QL(g,e),H=qA.getBlob("--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+w+"\r\n--"+u+"\r\nContent-Type: "+g.contentType+"\r\n\r\n",i,"\r\n--"+u+"--");if(null===H)throw p$();const ee={name:g.fullPath},Ae=Ym(o,n.host,n._protocol),et=n.maxUploadRetryTime,Ye=new KA(Ae,"POST",wk(n,e),et);return Ye.urlParams=ee,Ye.headers=s,Ye.body=H.uploadData(),Ye.errorHandler=e1(t),Ye}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,rA,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=h$(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=zL(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const o=new HRe(e||void 0,i||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(zL(this._state)){case jd.SUCCESS:t1(this._resolve.bind(null,this.snapshot))();break;case jd.CANCELED:case jd.ERROR:t1(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(zL(this._state)){case jd.RUNNING:case jd.PAUSED:t.next&&t1(t.next.bind(t,this.snapshot))();break;case jd.SUCCESS:t.complete&&t1(t.complete.bind(t))();break;default:t.error&&t1(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class Ay{constructor(t,e){this._service=t,this._location=e instanceof cd?e:cd.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Ay(t,e)}get root(){const t=new cd(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return w$(this._location.path)}get storage(){return this._service}get parent(){const t=function CRe(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new cd(this._location.bucket,t);return new Ay(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw A$(t)}}function P$(n,t,e){return GL.apply(this,arguments)}function GL(){return(GL=(0,Dn.A)(function*(n,t,e){const r=yield O$(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield P$(n,t,r.nextPageToken))})).apply(this,arguments)}function O$(n,t){null!=t&&"number"==typeof t.maxResults&&LL("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=FRe(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,rA)}function oMe(n){n._throwIfRoot("getDownloadURL");const t=function LRe(n,t,e){const r=Ym(t.fullServerUrl(),n.host,n._protocol),s=n.maxOperationRetryTime,c=new KA(r,"GET",function ORe(n,t){return function e(i,r){const o=x$(n,r,t);return WA(null!==o),function RRe(n,t,e,i){const r=VL(t);if(null===r||!vk(r.downloadTokens))return null;const o=r.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map(g=>{const T=n.fullPath;return Ym("/b/"+s(n.bucket)+"/o/"+s(T),e,i)+g$({alt:"media",token:g})})[0]}(o,r,n.host,n._protocol)}}(n,e),s);return c.errorHandler=zE(t),c}(n.storage,n._location,jE());return n.storage.makeRequestWithTokens(t,rA).then(e=>{if(null===e)throw function iRe(){return new pl(Za.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return e})}function F$(n,t){const e=function IRe(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new cd(n._location.bucket,e);return new Ay(n.storage,i)}function L$(n,t){if(n instanceof HL){const e=n;if(null==e._bucket)throw function tRe(){return new pl(Za.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+u$+"' property when initializing the app?")}();const i=new Ay(e,e._bucket);return null!=t?L$(i,t):i}return void 0!==t?F$(n,t):n}function cMe(n,t){if(t&&function aMe(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof HL)return function lMe(n,t){return new Ay(n,t)}(n,t);throw Zb("To use ref(service, url), the first argument must be a Storage instance.")}return L$(n,t)}function N$(n,t){const e=t?.[u$];return null==e?null:cd.makeFromBucketSpec(e,n)}class HL{constructor(t,e,i,r,o){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=c$,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?cd.makeFromBucketSpec(r,this._host):N$(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?cd.makeFromBucketSpec(this._url,t):N$(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){LL("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){LL("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,Dn.A)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,Dn.A)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Ay(this,t)}_makeRequest(t,e,i,r,o=!0){if(this._deleted)return new oRe(f$());{const s=function mRe(n,t,e,i,r,o,s=!0){const c=g$(n.urlParams),u=n.url+c,g=Object.assign({},n.headers);return function fRe(n,t){t&&(n["X-Firebase-GMPID"]=t)}(g,t),function hRe(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(g,e),function pRe(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(g,o),function ARe(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(g,i),new dRe(u,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,s)}(t,this._appId,i,r,e,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(t,e){var i=this;return(0,Dn.A)(function*(){const[r,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,o).getPromise()})()}}const U$="@firebase/storage";function j$(n,t){return cMe(n=(0,Oe.Ku)(n),t)}function vMe(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new HL(e,i,r,t,gh.SDK_VERSION)}!function yMe(){(0,gh._registerComponent)(new Zf.uA("storage",vMe,"PUBLIC").setMultipleInstances(!0)),(0,gh.registerVersion)(U$,"0.12.6",""),(0,gh.registerVersion)(U$,"0.12.6","esm2017")}();class Ek{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class G${constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ek(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new Ek(i,this,this._ref))},e)}on(t,e,i,r){let o;return e&&(o="function"==typeof e?s=>e(new Ek(s,this,this._ref)):{next:e.next?s=>e.next(new Ek(s,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,i||void 0,r||void 0)}}class H${constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new Zm(t,this._service))}get items(){return this._delegate.items.map(t=>new Zm(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Zm{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function _Me(n,t){return F$(n,t)}(this._delegate,t);return new Zm(e,this.storage)}get root(){return new Zm(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new Zm(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new G$(function dMe(n,t,e){return function eMe(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new M$(n,new qA(t),e)}(n=(0,Oe.Ku)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=ip.RAW,i){this._throwIfRoot("putString");const r=UL(e,t),o=Object.assign({},i);return null==o.contentType&&null!=r.contentType&&(o.contentType=r.contentType),new G$(new M$(this._delegate,new qA(r.data,!0),o),this)}listAll(){return function AMe(n){return function nMe(n){const t={prefixes:[],items:[]};return P$(n,t).then(()=>t)}(n=(0,Oe.Ku)(n))}(this._delegate).then(t=>new H$(t,this.storage))}list(t){return function fMe(n,t){return O$(n=(0,Oe.Ku)(n),t)}(this._delegate,t||void 0).then(e=>new H$(e,this.storage))}getMetadata(){return function hMe(n){return function iMe(n){n._throwIfRoot("getMetadata");const t=I$(n.storage,n._location,jE());return n.storage.makeRequestWithTokens(t,rA)}(n=(0,Oe.Ku)(n))}(this._delegate)}updateMetadata(t){return function pMe(n,t){return function rMe(n,t){n._throwIfRoot("updateMetadata");const e=function NRe(n,t,e,i){const o=Ym(t.fullServerUrl(),n.host,n._protocol),c=QL(e,i),g=n.maxOperationRetryTime,w=new KA(o,"PATCH",wk(n,i),g);return w.headers={"Content-Type":"application/json; charset=utf-8"},w.body=c,w.errorHandler=zE(t),w}(n.storage,n._location,t,jE());return n.storage.makeRequestWithTokens(e,rA)}(n=(0,Oe.Ku)(n),t)}(this._delegate,t)}getDownloadURL(){return function mMe(n){return oMe(n=(0,Oe.Ku)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function gMe(n){return function sMe(n){n._throwIfRoot("deleteObject");const t=function URe(n,t){const i=Ym(t.fullServerUrl(),n.host,n._protocol),c=new KA(i,"DELETE",function s(u,g){},n.maxOperationRetryTime);return c.successCodes=[200,204],c.errorHandler=zE(t),c}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,rA)}(n=(0,Oe.Ku)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw A$(t)}}class q${constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(K$(t))throw Zb("ref() expected a child path but got a URL, use refFromURL instead.");return new Zm(j$(this._delegate,t),this)}refFromURL(t){if(!K$(t))throw Zb("refFromURL() expected a full URL but got a child path, use ref() instead.");try{cd.makeFromUrl(t,this._delegate.host)}catch{throw Zb("refFromUrl() expected a valid full URL but got an invalid one.")}return new Zm(j$(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function z$(n,t,e,i={}){!function uMe(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,Oe.Fy)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function K$(n){return/^[A-Za-z]+:\/\//.test(n)}function EMe(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new q$(e,i)}function W$(n){const t=function IMe(n){return new pr(t=>{const e=s=>t.next(s);e(n.snapshot);const o=n.on("state_changed",e);return n.then(s=>{e(s),t.complete()},s=>{e(n.snapshot),(s=>{t.error(s)})(s)}),function(){o()}}).pipe(QS(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe(We(e=>e.bytesTransferred/e.totalBytes*100))}}function Ck(n){return{getDownloadURL:()=>Xi(void 0).pipe(v7,pa(()=>n.getDownloadURL()),Kl),getMetadata:()=>Xi(void 0).pipe(v7,pa(()=>n.getMetadata()),Kl),delete:()=>Ls(n.delete()),child:t=>Ck(n.child(t)),updateMetadata:t=>Ls(n.updateMetadata(t)),put:(t,e)=>W$(n.put(t,e)),putString:(t,e,i)=>W$(n.putString(t,e,i)),list:t=>Ls(n.list(t)),listAll:()=>Ls(n.listAll())}}!function CMe(n){const t={TaskState:jd,TaskEvent:GRe,StringFormat:ip,Storage:q$,Reference:Zm};n.INTERNAL.registerComponent(new Zf.uA("storage-compat",EMe,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.9")}(Xf.A);const TMe=new Wt("angularfire2.storageBucket"),SMe=new Wt("angularfire2.storage.maxUploadRetryTime"),kMe=new Wt("angularfire2.storage.maxOperationRetryTime"),DMe=new Wt("angularfire2.storage.use-emulator");let RMe=(()=>{class n{storage;constructor(e,i,r,o,s,c,u,g,w,T){const F=jx(e,s,i);this.storage=XT(`${F.name}.storage.${r}`,"AngularFireStorage",F.name,()=>{const H=s.runOutsideAngular(()=>F.storage(r||void 0)),ee=w;return ee&&H.useEmulator(...ee),u&&H.setMaxUploadRetryTime(u),g&&H.setMaxOperationRetryTime(g),H},[u,g])}ref(e){return Ck(this.storage.ref(e))}refFromURL(e){return Ck(this.storage.refFromURL(e))}upload(e,i,r){return Ck(this.storage.ref(e)).put(i,r)}static \u0275fac=function(i){return new(i||n)(Ct(Tb),Ct(Sb,8),Ct(TMe,8),Ct(Pa),Ct(Ri),Ct($T),Ct(SMe,8),Ct(kMe,8),Ct(DMe,8),Ct(WT,8))};static \u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),MMe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=bi({type:n});static \u0275inj=di({})}return n})(),BMe=(()=>{class n{constructor(){Xf.A.registerVersion("angularfire",KT.full,"gcs-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=bi({type:n});static \u0275inj=di({providers:[RMe],imports:[MMe]})}return n})();const PMe=["input"],OMe=["formField"],FMe=["*"];let $$=0;class X${constructor(t,e){this.source=t,this.value=e}}const Y$=new Wt("MatRadioGroup"),NMe=new Wt("mat-radio-default-options",{providedIn:"root",factory:function UMe(){return{color:"accent"}}});let Z$=(()=>{class n{get checked(){return this._checked}set checked(e){this._checked!==e&&(this._checked=e,e&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!e&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),e&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._setDisabled(e)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=e}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,i,r,o,s,c,u,g){this._elementRef=i,this._changeDetector=r,this._focusMonitor=o,this._radioDispatcher=s,this._providerOverride=u,this._uniqueId="mat-radio-"+ ++$$,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new ni,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this._injector=Ht(ho),this.radioGroup=e,this._noopAnimations="NoopAnimations"===c,g&&(this.tabIndex=Eo(g,0))}focus(e,i){i?this._focusMonitor.focusVia(this._inputElement,i,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((e,i)=>{e!==this.id&&i===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new X$(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){const i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(e){this._onInputInteraction(e),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_updateTabIndex(){const e=this.radioGroup;let i;if(i=e&&e.selected&&!this.disabled?e.selected===this?this.tabIndex:-1:this.tabIndex,i!==this._previousTabIndex){const r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",i+""),this._previousTabIndex=i,Og(()=>{queueMicrotask(()=>{e&&e.selected&&e.selected!==this&&document.activeElement===r&&(e.selected?._inputElement.nativeElement.focus(),document.activeElement===r&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static#e=this.\u0275fac=function(i){return new(i||n)(Re(Y$,8),Re(or),Re(qo),Re(p_),Re(Kke),Re(eu,8),Re(NMe,8),_o("tabindex"))};static#t=this.\u0275cmp=Ii({type:n,selectors:[["mat-radio-button"]],viewQuery:function(i,r){if(1&i&&(po(PMe,5),po(OMe,7,or)),2&i){let o;Ti(o=Si())&&(r._inputElement=o.first),Ti(o=Si())&&(r._rippleTrigger=o.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(i,r){1&i&&Hn("focus",function(){return r._inputElement.nativeElement.focus()}),2&i&&(Qt("id",r.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),Ho("mat-primary","primary"===r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("mat-mdc-radio-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",xn],tabIndex:[2,"tabIndex","tabIndex",e=>null==e?0:Eo(e)],checked:[2,"checked","checked",xn],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",xn],required:[2,"required","required",xn],color:"color"},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[ao,vo],ngContentSelectors:FMe,decls:13,vars:16,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(i,r){if(1&i){const o=ur();zs(),$e(0,"div",2,0)(2,"div",3)(3,"div",4),Hn("click",function(c){return mn(o),pn(r._onTouchTargetClick(c))}),rt(),$e(4,"input",5,1),Hn("change",function(c){return mn(o),pn(r._onInputInteraction(c))}),rt(),$e(6,"div",6),Pn(7,"div",7)(8,"div",8),rt(),$e(9,"div",9),Pn(10,"div",10),rt()(),$e(11,"label",11),Zr(12),rt()()}2&i&&(be("labelPosition",r.labelPosition),Ie(2),Ho("mdc-radio--disabled",r.disabled),Ie(2),be("id",r.inputId)("checked",r.checked)("disabled",r.disabled)("required",r.required),Qt("name",r.name)("value",r.value)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby),Ie(5),be("matRippleTrigger",r._rippleTrigger.nativeElement)("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0),Ie(2),be("for",r.inputId))},dependencies:[qb,zF],styles:['.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled])~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size);top:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color);opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color);opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio--disabled{cursor:default;pointer-events:none}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color);font-family:var(--mat-radio-label-text-font);line-height:var(--mat-radio-label-text-line-height);font-size:var(--mat-radio-label-text-size);letter-spacing:var(--mat-radio-label-text-tracking);font-weight:var(--mat-radio-label-text-weight)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return n})(),QMe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({imports:[Is,Gs,Kb,Z$,Is]})}return n})();function qL(){return Qe((n,t)=>{let e,i=!1;n.subscribe(ge(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}var my,tX,J$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},eX={};(function(){var n;function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function r(bt,nt,xt){xt||(xt=0);var Ft=Array(16);if("string"==typeof nt)for(var qt=0;16>qt;++qt)Ft[qt]=nt.charCodeAt(xt++)|nt.charCodeAt(xt++)<<8|nt.charCodeAt(xt++)<<16|nt.charCodeAt(xt++)<<24;else for(qt=0;16>qt;++qt)Ft[qt]=nt[xt++]|nt[xt++]<<8|nt[xt++]<<16|nt[xt++]<<24;var sn=bt.g[3],It=(nt=bt.g[0])+(sn^(xt=bt.g[1])&((qt=bt.g[2])^sn))+Ft[0]+3614090360&4294967295;It=(xt=(qt=(sn=(nt=(xt=(qt=(sn=(nt=(xt=(qt=(sn=(nt=(xt=(qt=(sn=(nt=(xt=(qt=(sn=(nt=(xt=(qt=(sn=(nt=(xt=(qt=(sn=(nt=(xt=(qt=(sn=(nt=(xt=(qt=(sn=(nt=(xt=(qt=(sn=(nt=(xt=(qt=(sn=(nt=(xt=(qt=(sn=(nt=(xt=(qt=(sn=(nt=(xt=(qt=(sn=(nt=(xt=(qt=(sn=(nt=xt+(It<<7&4294967295|It>>>25))+((It=sn+(qt^nt&(xt^qt))+Ft[1]+3905402710&4294967295)<<12&4294967295|It>>>20))+((It=qt+(xt^sn&(nt^xt))+Ft[2]+606105819&4294967295)<<17&4294967295|It>>>15))+((It=xt+(nt^qt&(sn^nt))+Ft[3]+3250441966&4294967295)<<22&4294967295|It>>>10))+((It=nt+(sn^xt&(qt^sn))+Ft[4]+4118548399&4294967295)<<7&4294967295|It>>>25))+((It=sn+(qt^nt&(xt^qt))+Ft[5]+1200080426&4294967295)<<12&4294967295|It>>>20))+((It=qt+(xt^sn&(nt^xt))+Ft[6]+2821735955&4294967295)<<17&4294967295|It>>>15))+((It=xt+(nt^qt&(sn^nt))+Ft[7]+4249261313&4294967295)<<22&4294967295|It>>>10))+((It=nt+(sn^xt&(qt^sn))+Ft[8]+1770035416&4294967295)<<7&4294967295|It>>>25))+((It=sn+(qt^nt&(xt^qt))+Ft[9]+2336552879&4294967295)<<12&4294967295|It>>>20))+((It=qt+(xt^sn&(nt^xt))+Ft[10]+4294925233&4294967295)<<17&4294967295|It>>>15))+((It=xt+(nt^qt&(sn^nt))+Ft[11]+2304563134&4294967295)<<22&4294967295|It>>>10))+((It=nt+(sn^xt&(qt^sn))+Ft[12]+1804603682&4294967295)<<7&4294967295|It>>>25))+((It=sn+(qt^nt&(xt^qt))+Ft[13]+4254626195&4294967295)<<12&4294967295|It>>>20))+((It=qt+(xt^sn&(nt^xt))+Ft[14]+2792965006&4294967295)<<17&4294967295|It>>>15))+((It=xt+(nt^qt&(sn^nt))+Ft[15]+1236535329&4294967295)<<22&4294967295|It>>>10))+((It=nt+(qt^sn&(xt^qt))+Ft[1]+4129170786&4294967295)<<5&4294967295|It>>>27))+((It=sn+(xt^qt&(nt^xt))+Ft[6]+3225465664&4294967295)<<9&4294967295|It>>>23))+((It=qt+(nt^xt&(sn^nt))+Ft[11]+643717713&4294967295)<<14&4294967295|It>>>18))+((It=xt+(sn^nt&(qt^sn))+Ft[0]+3921069994&4294967295)<<20&4294967295|It>>>12))+((It=nt+(qt^sn&(xt^qt))+Ft[5]+3593408605&4294967295)<<5&4294967295|It>>>27))+((It=sn+(xt^qt&(nt^xt))+Ft[10]+38016083&4294967295)<<9&4294967295|It>>>23))+((It=qt+(nt^xt&(sn^nt))+Ft[15]+3634488961&4294967295)<<14&4294967295|It>>>18))+((It=xt+(sn^nt&(qt^sn))+Ft[4]+3889429448&4294967295)<<20&4294967295|It>>>12))+((It=nt+(qt^sn&(xt^qt))+Ft[9]+568446438&4294967295)<<5&4294967295|It>>>27))+((It=sn+(xt^qt&(nt^xt))+Ft[14]+3275163606&4294967295)<<9&4294967295|It>>>23))+((It=qt+(nt^xt&(sn^nt))+Ft[3]+4107603335&4294967295)<<14&4294967295|It>>>18))+((It=xt+(sn^nt&(qt^sn))+Ft[8]+1163531501&4294967295)<<20&4294967295|It>>>12))+((It=nt+(qt^sn&(xt^qt))+Ft[13]+2850285829&4294967295)<<5&4294967295|It>>>27))+((It=sn+(xt^qt&(nt^xt))+Ft[2]+4243563512&4294967295)<<9&4294967295|It>>>23))+((It=qt+(nt^xt&(sn^nt))+Ft[7]+1735328473&4294967295)<<14&4294967295|It>>>18))+((It=xt+(sn^nt&(qt^sn))+Ft[12]+2368359562&4294967295)<<20&4294967295|It>>>12))+((It=nt+(xt^qt^sn)+Ft[5]+4294588738&4294967295)<<4&4294967295|It>>>28))+((It=sn+(nt^xt^qt)+Ft[8]+2272392833&4294967295)<<11&4294967295|It>>>21))+((It=qt+(sn^nt^xt)+Ft[11]+1839030562&4294967295)<<16&4294967295|It>>>16))+((It=xt+(qt^sn^nt)+Ft[14]+4259657740&4294967295)<<23&4294967295|It>>>9))+((It=nt+(xt^qt^sn)+Ft[1]+2763975236&4294967295)<<4&4294967295|It>>>28))+((It=sn+(nt^xt^qt)+Ft[4]+1272893353&4294967295)<<11&4294967295|It>>>21))+((It=qt+(sn^nt^xt)+Ft[7]+4139469664&4294967295)<<16&4294967295|It>>>16))+((It=xt+(qt^sn^nt)+Ft[10]+3200236656&4294967295)<<23&4294967295|It>>>9))+((It=nt+(xt^qt^sn)+Ft[13]+681279174&4294967295)<<4&4294967295|It>>>28))+((It=sn+(nt^xt^qt)+Ft[0]+3936430074&4294967295)<<11&4294967295|It>>>21))+((It=qt+(sn^nt^xt)+Ft[3]+3572445317&4294967295)<<16&4294967295|It>>>16))+((It=xt+(qt^sn^nt)+Ft[6]+76029189&4294967295)<<23&4294967295|It>>>9))+((It=nt+(xt^qt^sn)+Ft[9]+3654602809&4294967295)<<4&4294967295|It>>>28))+((It=sn+(nt^xt^qt)+Ft[12]+3873151461&4294967295)<<11&4294967295|It>>>21))+((It=qt+(sn^nt^xt)+Ft[15]+530742520&4294967295)<<16&4294967295|It>>>16))+((It=xt+(qt^sn^nt)+Ft[2]+3299628645&4294967295)<<23&4294967295|It>>>9))+((It=nt+(qt^(xt|~sn))+Ft[0]+4096336452&4294967295)<<6&4294967295|It>>>26))+((It=sn+(xt^(nt|~qt))+Ft[7]+1126891415&4294967295)<<10&4294967295|It>>>22))+((It=qt+(nt^(sn|~xt))+Ft[14]+2878612391&4294967295)<<15&4294967295|It>>>17))+((It=xt+(sn^(qt|~nt))+Ft[5]+4237533241&4294967295)<<21&4294967295|It>>>11))+((It=nt+(qt^(xt|~sn))+Ft[12]+1700485571&4294967295)<<6&4294967295|It>>>26))+((It=sn+(xt^(nt|~qt))+Ft[3]+2399980690&4294967295)<<10&4294967295|It>>>22))+((It=qt+(nt^(sn|~xt))+Ft[10]+4293915773&4294967295)<<15&4294967295|It>>>17))+((It=xt+(sn^(qt|~nt))+Ft[1]+2240044497&4294967295)<<21&4294967295|It>>>11))+((It=nt+(qt^(xt|~sn))+Ft[8]+1873313359&4294967295)<<6&4294967295|It>>>26))+((It=sn+(xt^(nt|~qt))+Ft[15]+4264355552&4294967295)<<10&4294967295|It>>>22))+((It=qt+(nt^(sn|~xt))+Ft[6]+2734768916&4294967295)<<15&4294967295|It>>>17))+((It=xt+(sn^(qt|~nt))+Ft[13]+1309151649&4294967295)<<21&4294967295|It>>>11))+((sn=(nt=xt+((It=nt+(qt^(xt|~sn))+Ft[4]+4149444226&4294967295)<<6&4294967295|It>>>26))+((It=sn+(xt^(nt|~qt))+Ft[11]+3174756917&4294967295)<<10&4294967295|It>>>22))^((qt=sn+((It=qt+(nt^(sn|~xt))+Ft[2]+718787259&4294967295)<<15&4294967295|It>>>17))|~nt))+Ft[9]+3951481745&4294967295,bt.g[0]=bt.g[0]+nt&4294967295,bt.g[1]=bt.g[1]+(qt+(It<<21&4294967295|It>>>11))&4294967295,bt.g[2]=bt.g[2]+qt&4294967295,bt.g[3]=bt.g[3]+sn&4294967295}function s(bt,nt){this.h=nt;for(var xt=[],Ft=!0,qt=bt.length-1;0<=qt;qt--){var sn=0|bt[qt];Ft&&sn==nt||(xt[qt]=sn,Ft=!1)}this.g=xt}(function t(bt,nt){function xt(){}xt.prototype=nt.prototype,bt.D=nt.prototype,bt.prototype=new xt,bt.prototype.constructor=bt,bt.C=function(Ft,qt,sn){for(var It=Array(arguments.length-2),tf=2;tf<arguments.length;tf++)It[tf-2]=arguments[tf];return nt.prototype[qt].apply(Ft,It)}})(i,function e(){this.blockSize=-1}),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},i.prototype.u=function(bt,nt){void 0===nt&&(nt=bt.length);for(var xt=nt-this.blockSize,Ft=this.B,qt=this.h,sn=0;sn<nt;){if(0==qt)for(;sn<=xt;)r(this,bt,sn),sn+=this.blockSize;if("string"==typeof bt){for(;sn<nt;)if(Ft[qt++]=bt.charCodeAt(sn++),qt==this.blockSize){r(this,Ft),qt=0;break}}else for(;sn<nt;)if(Ft[qt++]=bt[sn++],qt==this.blockSize){r(this,Ft),qt=0;break}}this.h=qt,this.o+=nt},i.prototype.v=function(){var bt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);bt[0]=128;for(var nt=1;nt<bt.length-8;++nt)bt[nt]=0;var xt=8*this.o;for(nt=bt.length-8;nt<bt.length;++nt)bt[nt]=255&xt,xt/=256;for(this.u(bt),bt=Array(16),nt=xt=0;4>nt;++nt)for(var Ft=0;32>Ft;Ft+=8)bt[xt++]=this.g[nt]>>>Ft&255;return bt};var c={};function u(bt){return-128<=bt&&128>bt?function o(bt,nt){var xt=c;return Object.prototype.hasOwnProperty.call(xt,bt)?xt[bt]:xt[bt]=nt(bt)}(bt,function(nt){return new s([0|nt],0>nt?-1:0)}):new s([0|bt],0>bt?-1:0)}function g(bt){if(isNaN(bt)||!isFinite(bt))return T;if(0>bt)return xe(g(-bt));for(var nt=[],xt=1,Ft=0;bt>=xt;Ft++)nt[Ft]=bt/xt|0,xt*=4294967296;return new s(nt,0)}var T=u(0),F=u(1),H=u(16777216);function ee(bt){if(0!=bt.h)return!1;for(var nt=0;nt<bt.g.length;nt++)if(0!=bt.g[nt])return!1;return!0}function Ae(bt){return-1==bt.h}function xe(bt){for(var nt=bt.g.length,xt=[],Ft=0;Ft<nt;Ft++)xt[Ft]=~bt.g[Ft];return new s(xt,~bt.h).add(F)}function et(bt,nt){return bt.add(xe(nt))}function Ye(bt,nt){for(;(65535&bt[nt])!=bt[nt];)bt[nt+1]+=bt[nt]>>>16,bt[nt]&=65535,nt++}function yt(bt,nt){this.g=bt,this.h=nt}function cn(bt,nt){if(ee(nt))throw Error("division by zero");if(ee(bt))return new yt(T,T);if(Ae(bt))return nt=cn(xe(bt),nt),new yt(xe(nt.g),xe(nt.h));if(Ae(nt))return nt=cn(bt,xe(nt)),new yt(xe(nt.g),nt.h);if(30<bt.g.length){if(Ae(bt)||Ae(nt))throw Error("slowDivide_ only works with positive integers.");for(var xt=F,Ft=nt;0>=Ft.l(bt);)xt=$n(xt),Ft=$n(Ft);var qt=si(xt,1),sn=si(Ft,1);for(Ft=si(Ft,2),xt=si(xt,2);!ee(Ft);){var It=sn.add(Ft);0>=It.l(bt)&&(qt=qt.add(xt),sn=It),Ft=si(Ft,1),xt=si(xt,1)}return nt=et(bt,qt.j(nt)),new yt(qt,nt)}for(qt=T;0<=bt.l(nt);){for(xt=Math.max(1,Math.floor(bt.m()/nt.m())),Ft=48>=(Ft=Math.ceil(Math.log(xt)/Math.LN2))?1:Math.pow(2,Ft-48),It=(sn=g(xt)).j(nt);Ae(It)||0<It.l(bt);)It=(sn=g(xt-=Ft)).j(nt);ee(sn)&&(sn=F),qt=qt.add(sn),bt=et(bt,It)}return new yt(qt,bt)}function $n(bt){for(var nt=bt.g.length+1,xt=[],Ft=0;Ft<nt;Ft++)xt[Ft]=bt.i(Ft)<<1|bt.i(Ft-1)>>>31;return new s(xt,bt.h)}function si(bt,nt){var xt=nt>>5;nt%=32;for(var Ft=bt.g.length-xt,qt=[],sn=0;sn<Ft;sn++)qt[sn]=0<nt?bt.i(sn+xt)>>>nt|bt.i(sn+xt+1)<<32-nt:bt.i(sn+xt);return new s(qt,bt.h)}(n=s.prototype).m=function(){if(Ae(this))return-xe(this).m();for(var bt=0,nt=1,xt=0;xt<this.g.length;xt++){var Ft=this.i(xt);bt+=(0<=Ft?Ft:4294967296+Ft)*nt,nt*=4294967296}return bt},n.toString=function(bt){if(2>(bt=bt||10)||36<bt)throw Error("radix out of range: "+bt);if(ee(this))return"0";if(Ae(this))return"-"+xe(this).toString(bt);for(var nt=g(Math.pow(bt,6)),xt=this,Ft="";;){var qt=cn(xt,nt).g,sn=((0<(xt=et(xt,qt.j(nt))).g.length?xt.g[0]:xt.h)>>>0).toString(bt);if(ee(xt=qt))return sn+Ft;for(;6>sn.length;)sn="0"+sn;Ft=sn+Ft}},n.i=function(bt){return 0>bt?0:bt<this.g.length?this.g[bt]:this.h},n.l=function(bt){return Ae(bt=et(this,bt))?-1:ee(bt)?0:1},n.abs=function(){return Ae(this)?xe(this):this},n.add=function(bt){for(var nt=Math.max(this.g.length,bt.g.length),xt=[],Ft=0,qt=0;qt<=nt;qt++){var sn=Ft+(65535&this.i(qt))+(65535&bt.i(qt)),It=(sn>>>16)+(this.i(qt)>>>16)+(bt.i(qt)>>>16);Ft=It>>>16,xt[qt]=(It&=65535)<<16|(sn&=65535)}return new s(xt,-2147483648&xt[xt.length-1]?-1:0)},n.j=function(bt){if(ee(this)||ee(bt))return T;if(Ae(this))return Ae(bt)?xe(this).j(xe(bt)):xe(xe(this).j(bt));if(Ae(bt))return xe(this.j(xe(bt)));if(0>this.l(H)&&0>bt.l(H))return g(this.m()*bt.m());for(var nt=this.g.length+bt.g.length,xt=[],Ft=0;Ft<2*nt;Ft++)xt[Ft]=0;for(Ft=0;Ft<this.g.length;Ft++)for(var qt=0;qt<bt.g.length;qt++){var sn=this.i(Ft)>>>16,It=65535&this.i(Ft),tf=bt.i(qt)>>>16,O_=65535&bt.i(qt);xt[2*Ft+2*qt]+=It*O_,Ye(xt,2*Ft+2*qt),xt[2*Ft+2*qt+1]+=sn*O_,Ye(xt,2*Ft+2*qt+1),xt[2*Ft+2*qt+1]+=It*tf,Ye(xt,2*Ft+2*qt+1),xt[2*Ft+2*qt+2]+=sn*tf,Ye(xt,2*Ft+2*qt+2)}for(Ft=0;Ft<nt;Ft++)xt[Ft]=xt[2*Ft+1]<<16|xt[2*Ft];for(Ft=nt;Ft<2*nt;Ft++)xt[Ft]=0;return new s(xt,0)},n.A=function(bt){return cn(this,bt).h},n.and=function(bt){for(var nt=Math.max(this.g.length,bt.g.length),xt=[],Ft=0;Ft<nt;Ft++)xt[Ft]=this.i(Ft)&bt.i(Ft);return new s(xt,this.h&bt.h)},n.or=function(bt){for(var nt=Math.max(this.g.length,bt.g.length),xt=[],Ft=0;Ft<nt;Ft++)xt[Ft]=this.i(Ft)|bt.i(Ft);return new s(xt,this.h|bt.h)},n.xor=function(bt){for(var nt=Math.max(this.g.length,bt.g.length),xt=[],Ft=0;Ft<nt;Ft++)xt[Ft]=this.i(Ft)^bt.i(Ft);return new s(xt,this.h^bt.h)},i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,tX=eX.Md5=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=g,s.fromString=function w(bt,nt){if(0==bt.length)throw Error("number format error: empty string");if(2>(nt=nt||10)||36<nt)throw Error("radix out of range: "+nt);if("-"==bt.charAt(0))return xe(w(bt.substring(1),nt));if(0<=bt.indexOf("-"))throw Error('number format error: interior "-" character');for(var xt=g(Math.pow(nt,8)),Ft=T,qt=0;qt<bt.length;qt+=8){var sn=Math.min(8,bt.length-qt),It=parseInt(bt.substring(qt,qt+sn),nt);8>sn?(sn=g(Math.pow(nt,sn)),Ft=Ft.j(sn).add(g(It))):Ft=(Ft=Ft.j(xt)).add(g(It))}return Ft},my=eX.Integer=s}).apply(typeof J$<"u"?J$:typeof self<"u"?self:typeof window<"u"?window:{});var nX,iX,GE,rX,Tk,KL,oX,sX,aX,Ik=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Jm={};(function(){var n,t="function"==typeof Object.defineProperties?Object.defineProperty:function(I,X,ce){return I==Array.prototype||I==Object.prototype||(I[X]=ce.value),I},i=function e(I){I=["object"==typeof globalThis&&globalThis,I,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Ik&&Ik];for(var X=0;X<I.length;++X){var ce=I[X];if(ce&&ce.Math==Math)return ce}throw Error("Cannot find global object")}(this);!function r(I,X){if(X)e:{var ce=i;I=I.split(".");for(var Be=0;Be<I.length-1;Be++){var Xt=I[Be];if(!(Xt in ce))break e;ce=ce[Xt]}(X=X(Be=ce[I=I[I.length-1]]))!=Be&&null!=X&&t(ce,I,{configurable:!0,writable:!0,value:X})}}("Array.prototype.values",function(I){return I||function(){return function o(I,X){I instanceof String&&(I+="");var ce=0,Be=!1,Xt={next:function(){if(!Be&&ce<I.length){var Sn=ce++;return{value:X(Sn,I[Sn]),done:!1}}return Be=!0,{done:!0,value:void 0}}};return Xt[Symbol.iterator]=function(){return Xt},Xt}(this,function(X,ce){return ce})}});var s=s||{},c=this||self;function u(I){var X=typeof I;return"array"==(X="object"!=X?X:I?Array.isArray(I)?"array":X:"null")||"object"==X&&"number"==typeof I.length}function g(I){var X=typeof I;return"object"==X&&null!=I||"function"==X}function w(I,X,ce){return I.call.apply(I.bind,arguments)}function T(I,X,ce){if(!I)throw Error();if(2<arguments.length){var Be=Array.prototype.slice.call(arguments,2);return function(){var Xt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Xt,Be),I.apply(X,Xt)}}return function(){return I.apply(X,arguments)}}function F(I,X,ce){return(F=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:T).apply(null,arguments)}function H(I,X){var ce=Array.prototype.slice.call(arguments,1);return function(){var Be=ce.slice();return Be.push.apply(Be,arguments),I.apply(this,Be)}}function ee(I,X){function ce(){}ce.prototype=X.prototype,I.aa=X.prototype,I.prototype=new ce,I.prototype.constructor=I,I.Qb=function(Be,Xt,Sn){for(var Ci=Array(arguments.length-2),ma=2;ma<arguments.length;ma++)Ci[ma-2]=arguments[ma];return X.prototype[Xt].apply(Be,Ci)}}function Ae(I){const X=I.length;if(0<X){const ce=Array(X);for(let Be=0;Be<X;Be++)ce[Be]=I[Be];return ce}return[]}function xe(I,X){for(let ce=1;ce<arguments.length;ce++){const Be=arguments[ce];if(u(Be)){const Xt=I.length||0,Sn=Be.length||0;I.length=Xt+Sn;for(let Ci=0;Ci<Sn;Ci++)I[Xt+Ci]=Be[Ci]}else I.push(Be)}}function Ye(I){return/^[\s\xa0]*$/.test(I)}function yt(){var I=c.navigator;return I&&(I=I.userAgent)?I:""}function cn(I){return cn[" "](I),I}cn[" "]=function(){};var $n=!(-1==yt().indexOf("Gecko")||-1!=yt().toLowerCase().indexOf("webkit")&&-1==yt().indexOf("Edge")||-1!=yt().indexOf("Trident")||-1!=yt().indexOf("MSIE")||-1!=yt().indexOf("Edge"));function si(I,X,ce){for(const Be in I)X.call(ce,I[Be],Be,I)}function nt(I){const X={};for(const ce in I)X[ce]=I[ce];return X}const xt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ft(I,X){let ce,Be;for(let Xt=1;Xt<arguments.length;Xt++){for(ce in Be=arguments[Xt],Be)I[ce]=Be[ce];for(let Sn=0;Sn<xt.length;Sn++)ce=xt[Sn],Object.prototype.hasOwnProperty.call(Be,ce)&&(I[ce]=Be[ce])}}function qt(I){var X=1;I=I.split(":");const ce=[];for(;0<X&&I.length;)ce.push(I.shift()),X--;return I.length&&ce.push(I.join(":")),ce}function sn(I){c.setTimeout(()=>{throw I},0)}function It(){var I=Ko;let X=null;return I.g&&(X=I.g,I.g=I.g.next,I.g||(I.h=null),X.next=null),X}var O_=new class et{constructor(X,ce){this.i=X,this.j=ce,this.h=0,this.g=null}get(){let X;return 0<this.h?(this.h--,X=this.g,this.g=X.next,X.next=null):X=this.i(),X}}(()=>new dr,I=>I.reset());class dr{constructor(){this.next=this.g=this.h=null}set(X,ce){this.h=X,this.g=ce,this.next=null}reset(){this.next=this.g=this.h=null}}let Cr,Mr=!1,Ko=new class tf{constructor(){this.h=this.g=null}add(X,ce){const Be=O_.get();Be.set(X,ce),this.h?this.h.next=Be:this.g=Be,this.h=Be}},Xl=()=>{const I=c.Promise.resolve(void 0);Cr=()=>{I.then(nf)}};var nf=()=>{for(var I;I=It();){try{I.h.call(I.g)}catch(ce){sn(ce)}var X=O_;X.j(I),100>X.h&&(X.h++,I.next=X.g,X.g=I)}Mr=!1};function Sl(){this.s=this.s,this.C=this.C}function Ua(I,X){this.type=I,this.g=this.target=X,this.defaultPrevented=!1}Sl.prototype.s=!1,Sl.prototype.ma=function(){this.s||(this.s=!0,this.N())},Sl.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Ua.prototype.h=function(){this.defaultPrevented=!0};var Va=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var I=!1,X=Object.defineProperty({},"passive",{get:function(){I=!0}});try{const ce=()=>{};c.addEventListener("test",ce,X),c.removeEventListener("test",ce,X)}catch{}return I}();function F_(I,X){if(Ua.call(this,I?I.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,I){var ce=this.type=I.type,Be=I.changedTouches&&I.changedTouches.length?I.changedTouches[0]:null;if(this.target=I.target||I.srcElement,this.g=X,X=I.relatedTarget){if($n){e:{try{cn(X.nodeName);var Xt=!0;break e}catch{}Xt=!1}Xt||(X=null)}}else"mouseover"==ce?X=I.fromElement:"mouseout"==ce&&(X=I.toElement);this.relatedTarget=X,Be?(this.clientX=void 0!==Be.clientX?Be.clientX:Be.pageX,this.clientY=void 0!==Be.clientY?Be.clientY:Be.pageY,this.screenX=Be.screenX||0,this.screenY=Be.screenY||0):(this.clientX=void 0!==I.clientX?I.clientX:I.pageX,this.clientY=void 0!==I.clientY?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0),this.button=I.button,this.key=I.key||"",this.ctrlKey=I.ctrlKey,this.altKey=I.altKey,this.shiftKey=I.shiftKey,this.metaKey=I.metaKey,this.pointerId=I.pointerId||0,this.pointerType="string"==typeof I.pointerType?I.pointerType:E3[I.pointerType]||"",this.state=I.state,this.i=I,I.defaultPrevented&&F_.aa.h.call(this)}}ee(F_,Ua);var E3={2:"touch",3:"pen",4:"mouse"};F_.prototype.h=function(){F_.aa.h.call(this);var I=this.i;I.preventDefault?I.preventDefault():I.returnValue=!1};var kl="closure_listenable_"+(1e6*Math.random()|0),cg=0;function xh(I,X,ce,Be,Xt){this.listener=I,this.proxy=null,this.src=X,this.type=ce,this.capture=!!Be,this.ha=Xt,this.key=++cg,this.da=this.fa=!1}function ug(I){I.da=!0,I.listener=null,I.proxy=null,I.src=null,I.ha=null}function L_(I){this.src=I,this.g={},this.h=0}function C3(I,X){var ce=X.type;if(ce in I.g){var Sn,Be=I.g[ce],Xt=Array.prototype.indexOf.call(Be,X,void 0);(Sn=0<=Xt)&&Array.prototype.splice.call(Be,Xt,1),Sn&&(ug(X),0==I.g[ce].length&&(delete I.g[ce],I.h--))}}function I3(I,X,ce,Be){for(var Xt=0;Xt<I.length;++Xt){var Sn=I[Xt];if(!Sn.da&&Sn.listener==X&&Sn.capture==!!ce&&Sn.ha==Be)return Xt}return-1}L_.prototype.add=function(I,X,ce,Be,Xt){var Sn=I.toString();(I=this.g[Sn])||(I=this.g[Sn]=[],this.h++);var Ci=I3(I,X,Be,Xt);return-1<Ci?(X=I[Ci],ce||(X.fa=!1)):((X=new xh(X,this.src,Sn,!!Be,Xt)).fa=ce,I.push(X)),X};var T3="closure_lm_"+(1e6*Math.random()|0),S3={};function vee(I,X,ce,Be,Xt){if(Be&&Be.once)return bee(I,X,ce,Be,Xt);if(Array.isArray(X)){for(var Sn=0;Sn<X.length;Sn++)vee(I,X[Sn],ce,Be,Xt);return null}return ce=M3(ce),I&&I[kl]?I.K(X,ce,g(Be)?!!Be.capture:!!Be,Xt):yee(I,X,ce,!1,Be,Xt)}function yee(I,X,ce,Be,Xt,Sn){if(!X)throw Error("Invalid event type");var Ci=g(Xt)?!!Xt.capture:!!Xt,ma=D3(I);if(ma||(I[T3]=ma=new L_(I)),(ce=ma.add(X,ce,Be,Ci,Sn)).proxy)return ce;if(Be=function U3e(){const X=V3e;return function I(ce){return X.call(I.src,I.listener,ce)}}(),ce.proxy=Be,Be.src=I,Be.listener=ce,I.addEventListener)Va||(Xt=Ci),void 0===Xt&&(Xt=!1),I.addEventListener(X.toString(),Be,Xt);else if(I.attachEvent)I.attachEvent(xee(X.toString()),Be);else{if(!I.addListener||!I.removeListener)throw Error("addEventListener and attachEvent are unavailable.");I.addListener(Be)}return ce}function bee(I,X,ce,Be,Xt){if(Array.isArray(X)){for(var Sn=0;Sn<X.length;Sn++)bee(I,X[Sn],ce,Be,Xt);return null}return ce=M3(ce),I&&I[kl]?I.L(X,ce,g(Be)?!!Be.capture:!!Be,Xt):yee(I,X,ce,!0,Be,Xt)}function wee(I,X,ce,Be,Xt){if(Array.isArray(X))for(var Sn=0;Sn<X.length;Sn++)wee(I,X[Sn],ce,Be,Xt);else Be=g(Be)?!!Be.capture:!!Be,ce=M3(ce),I&&I[kl]?(I=I.i,(X=String(X).toString())in I.g&&-1<(ce=I3(Sn=I.g[X],ce,Be,Xt))&&(ug(Sn[ce]),Array.prototype.splice.call(Sn,ce,1),0==Sn.length&&(delete I.g[X],I.h--))):I&&(I=D3(I))&&(X=I.g[X.toString()],I=-1,X&&(I=I3(X,ce,Be,Xt)),(ce=-1<I?X[I]:null)&&k3(ce))}function k3(I){if("number"!=typeof I&&I&&!I.da){var X=I.src;if(X&&X[kl])C3(X.i,I);else{var ce=I.type,Be=I.proxy;X.removeEventListener?X.removeEventListener(ce,Be,I.capture):X.detachEvent?X.detachEvent(xee(ce),Be):X.addListener&&X.removeListener&&X.removeListener(Be),(ce=D3(X))?(C3(ce,I),0==ce.h&&(ce.src=null,X[T3]=null)):ug(I)}}}function xee(I){return I in S3?S3[I]:S3[I]="on"+I}function V3e(I,X){if(I.da)I=!0;else{X=new F_(X,this);var ce=I.listener,Be=I.ha||I.src;I.fa&&k3(I),I=ce.call(Be,X)}return I}function D3(I){return(I=I[T3])instanceof L_?I:null}var R3="__closure_events_fn_"+(1e9*Math.random()>>>0);function M3(I){return"function"==typeof I?I:(I[R3]||(I[R3]=function(X){return I.handleEvent(X)}),I[R3])}function fd(){Sl.call(this),this.i=new L_(this),this.M=this,this.F=null}function Hd(I,X){var ce,Be=I.F;if(Be)for(ce=[];Be;Be=Be.F)ce.push(Be);if(I=I.M,Be=X.type||X,"string"==typeof X)X=new Ua(X,I);else if(X instanceof Ua)X.target=X.target||I;else{var Xt=X;Ft(X=new Ua(Be,I),Xt)}if(Xt=!0,ce)for(var Sn=ce.length-1;0<=Sn;Sn--){var Ci=X.g=ce[Sn];Xt=DD(Ci,Be,!0,X)&&Xt}if(Xt=DD(Ci=X.g=I,Be,!0,X)&&Xt,Xt=DD(Ci,Be,!1,X)&&Xt,ce)for(Sn=0;Sn<ce.length;Sn++)Xt=DD(Ci=X.g=ce[Sn],Be,!1,X)&&Xt}function DD(I,X,ce,Be){if(!(X=I.i.g[String(X)]))return!0;X=X.concat();for(var Xt=!0,Sn=0;Sn<X.length;++Sn){var Ci=X[Sn];if(Ci&&!Ci.da&&Ci.capture==ce){var ma=Ci.listener,Fu=Ci.ha||Ci.src;Ci.fa&&C3(I.i,Ci),Xt=!1!==ma.call(Fu,Be)&&Xt}}return Xt&&!Be.defaultPrevented}function Eee(I,X,ce){if("function"==typeof I)ce&&(I=F(I,ce));else{if(!I||"function"!=typeof I.handleEvent)throw Error("Invalid listener argument");I=F(I.handleEvent,I)}return 2147483647<Number(X)?-1:c.setTimeout(I,X||0)}function Cee(I){I.g=Eee(()=>{I.g=null,I.i&&(I.i=!1,Cee(I))},I.l);const X=I.h;I.h=null,I.m.apply(null,X)}ee(fd,Sl),fd.prototype[kl]=!0,fd.prototype.removeEventListener=function(I,X,ce,Be){wee(this,I,X,ce,Be)},fd.prototype.N=function(){if(fd.aa.N.call(this),this.i){var X,I=this.i;for(X in I.g){for(var ce=I.g[X],Be=0;Be<ce.length;Be++)ug(ce[Be]);delete I.g[X],I.h--}}this.F=null},fd.prototype.K=function(I,X,ce,Be){return this.i.add(String(I),X,!1,ce,Be)},fd.prototype.L=function(I,X,ce,Be){return this.i.add(String(I),X,!0,ce,Be)};class Q3e extends Sl{constructor(X,ce){super(),this.m=X,this.l=ce,this.h=null,this.i=!1,this.g=null}j(X){this.h=arguments,this.g?this.i=!0:Cee(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function BC(I){Sl.call(this),this.h=I,this.g={}}ee(BC,Sl);var Iee=[];function Tee(I){si(I.g,function(X,ce){this.g.hasOwnProperty(ce)&&k3(X)},I),I.g={}}BC.prototype.N=function(){BC.aa.N.call(this),Tee(this)},BC.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var B3=c.JSON.stringify,j3e=c.JSON.parse,z3e=class{stringify(I){return c.JSON.stringify(I,void 0)}parse(I){return c.JSON.parse(I,void 0)}};function P3(){}function kee(){}P3.prototype.h=null;var PC={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function O3(){Ua.call(this,"d")}function F3(){Ua.call(this,"c")}ee(O3,Ua),ee(F3,Ua);var Ny={},Dee=null;function RD(){return Dee=Dee||new fd}function Ree(I){Ua.call(this,Ny.La,I)}function OC(I){const X=RD();Hd(X,new Ree(X))}function Mee(I,X){Ua.call(this,Ny.STAT_EVENT,I),this.stat=X}function qd(I){const X=RD();Hd(X,new Mee(X,I))}function Bee(I,X){Ua.call(this,Ny.Ma,I),this.size=X}function FC(I,X){if("function"!=typeof I)throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){I()},X)}function LC(){this.g=!0}function j1(I,X,ce,Be){I.info(function(){return"XMLHTTP TEXT ("+X+"): "+function K3e(I,X){if(!I.g)return X;if(!X)return null;try{var ce=JSON.parse(X);if(ce)for(I=0;I<ce.length;I++)if(Array.isArray(ce[I])){var Be=ce[I];if(!(2>Be.length)){var Xt=Be[1];if(Array.isArray(Xt)&&!(1>Xt.length)){var Sn=Xt[0];if("noop"!=Sn&&"stop"!=Sn&&"close"!=Sn)for(var Ci=1;Ci<Xt.length;Ci++)Xt[Ci]=""}}}return B3(ce)}catch{return X}}(I,ce)+(Be?" "+Be:"")})}Ny.La="serverreachability",ee(Ree,Ua),Ny.STAT_EVENT="statevent",ee(Mee,Ua),Ny.Ma="timingevent",ee(Bee,Ua),LC.prototype.xa=function(){this.g=!1},LC.prototype.info=function(){};var L3,MD={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pee={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function BD(){}function N_(I,X,ce,Be){this.j=I,this.i=X,this.l=ce,this.R=Be||1,this.U=new BC(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oee}function Oee(){this.i=null,this.g="",this.h=!1}ee(BD,P3),BD.prototype.g=function(){return new XMLHttpRequest},BD.prototype.i=function(){return{}},L3=new BD;var Fee={},N3={};function U3(I,X,ce){I.L=1,I.v=LD(dg(X)),I.m=ce,I.P=!0,Lee(I,null)}function Lee(I,X){I.F=Date.now(),PD(I),I.A=dg(I.v);var ce=I.A,Be=I.R;Array.isArray(Be)||(Be=[String(Be)]),Yee(ce.i,"t",Be),I.C=0,ce=I.j.J,I.h=new Oee,I.g=Ate(I.j,ce?X:null,!I.m),0<I.O&&(I.M=new Q3e(F(I.Y,I,I.g),I.O)),X=I.U,ce=I.g,Be=I.ca;var Xt="readystatechange";Array.isArray(Xt)||(Xt&&(Iee[0]=Xt.toString()),Xt=Iee);for(var Sn=0;Sn<Xt.length;Sn++){var Ci=vee(ce,Xt[Sn],Be||X.handleEvent,!1,X.h||X);if(!Ci)break;X.g[Ci.key]=Ci}X=I.H?nt(I.H):{},I.m?(I.u||(I.u="POST"),X["Content-Type"]="application/x-www-form-urlencoded",I.g.ea(I.A,I.u,I.m,X)):(I.u="GET",I.g.ea(I.A,I.u,null,X)),OC(),function G3e(I,X,ce,Be,Xt,Sn){I.info(function(){if(I.g)if(Sn)for(var Ci="",ma=Sn.split("&"),Fu=0;Fu<ma.length;Fu++){var vs=ma[Fu].split("=");if(1<vs.length){var Ad=vs[0];vs=vs[1];var md=Ad.split("_");Ci=2<=md.length&&"type"==md[1]?Ci+(Ad+"=")+vs+"&":Ci+(Ad+"=redacted&")}}else Ci=null;else Ci=Sn;return"XMLHTTP REQ ("+Be+") [attempt "+Xt+"]: "+X+"\n"+ce+"\n"+Ci})}(I.i,I.u,I.A,I.l,I.R,I.m)}function Nee(I){return!!I.g&&"GET"==I.u&&2!=I.L&&I.j.Ca}function W3e(I,X){var ce=I.C,Be=X.indexOf("\n",ce);return-1==Be?N3:(ce=Number(X.substring(ce,Be)),isNaN(ce)?Fee:(Be+=1)+ce>X.length?N3:(X=X.slice(Be,Be+ce),I.C=Be+ce,X))}function PD(I){I.S=Date.now()+I.I,Uee(I,I.I)}function Uee(I,X){if(null!=I.B)throw Error("WatchDog timer not null");I.B=FC(F(I.ba,I),X)}function V3(I){I.B&&(c.clearTimeout(I.B),I.B=null)}function NC(I){0==I.j.G||I.J||dte(I.j,I)}function Uy(I){V3(I);var X=I.M;X&&"function"==typeof X.ma&&X.ma(),I.M=null,Tee(I.U),I.g&&(X=I.g,I.g=null,X.abort(),X.ma())}function Q3(I,X){try{var ce=I.j;if(0!=ce.G&&(ce.g==I||j3(ce.h,I)))if(!I.K&&j3(ce.h,I)&&3==ce.G){try{var Be=ce.Da.g.parse(X)}catch{Be=null}if(Array.isArray(Be)&&3==Be.length){var Xt=Be;if(0==Xt[0]){e:if(!ce.u){if(ce.g){if(!(ce.g.F+3e3<I.F))break e;jD(ce),VD(ce)}q3(ce),qd(18)}}else ce.za=Xt[1],0<ce.za-ce.T&&37500>Xt[2]&&ce.F&&0==ce.v&&!ce.C&&(ce.C=FC(F(ce.Za,ce),6e3));if(1>=jee(ce.h)&&ce.ca){try{ce.ca()}catch{}ce.ca=void 0}}else Qy(ce,11)}else if((I.K||ce.g==I)&&jD(ce),!Ye(X))for(Xt=ce.Da.g.parse(X),X=0;X<Xt.length;X++){let vs=Xt[X];if(ce.T=vs[0],vs=vs[1],2==ce.G)if("c"==vs[0]){ce.K=vs[1],ce.ia=vs[2];const Ad=vs[3];null!=Ad&&(ce.la=Ad,ce.j.info("VER="+ce.la));const md=vs[4];null!=md&&(ce.Aa=md,ce.j.info("SVER="+ce.Aa));const H1=vs[5];null!=H1&&"number"==typeof H1&&0<H1&&(ce.L=Be=1.5*H1,ce.j.info("backChannelRequestTimeoutMs_="+Be)),Be=ce;const oA=I.g;if(oA){const GD=oA.g?oA.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(GD){var Sn=Be.h;Sn.g||-1==GD.indexOf("spdy")&&-1==GD.indexOf("quic")&&-1==GD.indexOf("h2")||(Sn.j=Sn.l,Sn.g=new Set,Sn.h&&(z3(Sn,Sn.h),Sn.h=null))}if(Be.D){const W3=oA.g?oA.g.getResponseHeader("X-HTTP-Session-Id"):null;W3&&(Be.ya=W3,Qa(Be.I,Be.D,W3))}}ce.G=3,ce.l&&ce.l.ua(),ce.ba&&(ce.R=Date.now()-I.F,ce.j.info("Handshake RTT: "+ce.R+"ms"));var Ci=I;if((Be=ce).qa=fte(Be,Be.J?Be.ia:null,Be.W),Ci.K){zee(Be.h,Ci);var ma=Ci,Fu=Be.L;Fu&&(ma.I=Fu),ma.B&&(V3(ma),PD(ma)),Be.g=Ci}else cte(Be);0<ce.i.length&&QD(ce)}else"stop"!=vs[0]&&"close"!=vs[0]||Qy(ce,7);else 3==ce.G&&("stop"==vs[0]||"close"==vs[0]?"stop"==vs[0]?Qy(ce,7):H3(ce):"noop"!=vs[0]&&ce.l&&ce.l.ta(vs),ce.v=0)}OC()}catch{}}N_.prototype.ca=function(I){I=I.target;const X=this.M;X&&3==hg(I)?X.j():this.Y(I)},N_.prototype.Y=function(I){try{if(I==this.g)e:{const md=hg(this.g);var X=this.g.Ba();if(this.g.Z(),!(3>md)&&(3!=md||this.g&&(this.h.h||this.g.oa()||rte(this.g)))){this.J||4!=md||7==X||OC(),V3(this);var ce=this.g.Z();this.X=ce;t:if(Nee(this)){var Be=rte(this.g);I="";var Xt=Be.length,Sn=4==hg(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Uy(this),NC(this);var Ci="";break t}this.h.i=new c.TextDecoder}for(X=0;X<Xt;X++)this.h.h=!0,I+=this.h.i.decode(Be[X],{stream:!(Sn&&X==Xt-1)});Be.length=0,this.h.g+=I,this.C=0,Ci=this.h.g}else Ci=this.g.oa();if(this.o=200==ce,function H3e(I,X,ce,Be,Xt,Sn,Ci){I.info(function(){return"XMLHTTP RESP ("+Be+") [ attempt "+Xt+"]: "+X+"\n"+ce+"\n"+Sn+" "+Ci})}(this.i,this.u,this.A,this.l,this.R,md,ce),this.o){if(this.T&&!this.K){t:{if(this.g){var ma,Fu=this.g;if((ma=Fu.g?Fu.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ye(ma)){var vs=ma;break t}}vs=null}if(!(ce=vs)){this.o=!1,this.s=3,qd(12),Uy(this),NC(this);break e}j1(this.i,this.l,ce,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Q3(this,ce)}if(this.P){let oA;for(ce=!0;!this.J&&this.C<Ci.length;){if(oA=W3e(this,Ci),oA==N3){4==md&&(this.s=4,qd(14),ce=!1),j1(this.i,this.l,null,"[Incomplete Response]");break}if(oA==Fee){this.s=4,qd(15),j1(this.i,this.l,Ci,"[Invalid Chunk]"),ce=!1;break}j1(this.i,this.l,oA,null),Q3(this,oA)}if(Nee(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=md||0!=Ci.length||this.h.h||(this.s=1,qd(16),ce=!1),this.o=this.o&&ce,ce){if(0<Ci.length&&!this.W){this.W=!0;var Ad=this.j;Ad.g==this&&Ad.ba&&!Ad.M&&(Ad.j.info("Great, no buffering proxy detected. Bytes received: "+Ci.length),K3(Ad),Ad.M=!0,qd(11))}}else j1(this.i,this.l,Ci,"[Invalid Chunked Response]"),Uy(this),NC(this)}else j1(this.i,this.l,Ci,null),Q3(this,Ci);4==md&&Uy(this),this.o&&!this.J&&(4==md?dte(this.j,this):(this.o=!1,PD(this)))}else(function d5e(I){const X={};I=(I.g&&2<=hg(I)&&I.g.getAllResponseHeaders()||"").split("\r\n");for(let Be=0;Be<I.length;Be++){if(Ye(I[Be]))continue;var ce=qt(I[Be]);const Xt=ce[0];if("string"!=typeof(ce=ce[1]))continue;ce=ce.trim();const Sn=X[Xt]||[];X[Xt]=Sn,Sn.push(ce)}!function bt(I,X){for(const ce in I)X.call(void 0,I[ce],ce,I)}(X,function(Be){return Be.join(", ")})})(this.g),400==ce&&0<Ci.indexOf("Unknown SID")?(this.s=3,qd(12)):(this.s=0,qd(13)),Uy(this),NC(this)}}}catch{}},N_.prototype.cancel=function(){this.J=!0,Uy(this)},N_.prototype.ba=function(){this.B=null;const I=Date.now();0<=I-this.S?(function q3e(I,X){I.info(function(){return"TIMEOUT: "+X})}(this.i,this.A),2!=this.L&&(OC(),qd(17)),Uy(this),this.s=2,NC(this)):Uee(this,this.S-I)};var $3e=class{constructor(I,X){this.g=I,this.map=X}};function Vee(I){this.l=I||10,I=c.PerformanceNavigationTiming?0<(I=c.performance.getEntriesByType("navigation")).length&&("hq"==I[0].nextHopProtocol||"h2"==I[0].nextHopProtocol):!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=I?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qee(I){return!!I.h||!!I.g&&I.g.size>=I.j}function jee(I){return I.h?1:I.g?I.g.size:0}function j3(I,X){return I.h?I.h==X:!!I.g&&I.g.has(X)}function z3(I,X){I.g?I.g.add(X):I.h=X}function zee(I,X){I.h&&I.h==X?I.h=null:I.g&&I.g.has(X)&&I.g.delete(X)}function Gee(I){if(null!=I.h)return I.i.concat(I.h.D);if(null!=I.g&&0!==I.g.size){let X=I.i;for(const ce of I.g.values())X=X.concat(ce.D);return X}return Ae(I.i)}function Hee(I,X){if(I.forEach&&"function"==typeof I.forEach)I.forEach(X,void 0);else if(u(I)||"string"==typeof I)Array.prototype.forEach.call(I,X,void 0);else for(var ce=function Y3e(I){if(I.na&&"function"==typeof I.na)return I.na();if(!I.V||"function"!=typeof I.V){if(typeof Map<"u"&&I instanceof Map)return Array.from(I.keys());if(!(typeof Set<"u"&&I instanceof Set)){if(u(I)||"string"==typeof I){var X=[];I=I.length;for(var ce=0;ce<I;ce++)X.push(ce);return X}X=[],ce=0;for(const Be in I)X[ce++]=Be;return X}}}(I),Be=function X3e(I){if(I.V&&"function"==typeof I.V)return I.V();if(typeof Map<"u"&&I instanceof Map||typeof Set<"u"&&I instanceof Set)return Array.from(I.values());if("string"==typeof I)return I.split("");if(u(I)){for(var X=[],ce=I.length,Be=0;Be<ce;Be++)X.push(I[Be]);return X}for(Be in X=[],ce=0,I)X[ce++]=I[Be];return X}(I),Xt=Be.length,Sn=0;Sn<Xt;Sn++)X.call(void 0,Be[Sn],ce&&ce[Sn],I)}Vee.prototype.cancel=function(){if(this.i=Gee(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const I of this.g.values())I.cancel();this.g.clear()}};var qee=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vy(I){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,I instanceof Vy){this.h=I.h,OD(this,I.j),this.o=I.o,this.g=I.g,FD(this,I.s),this.l=I.l;var X=I.i,ce=new QC;ce.i=X.i,X.g&&(ce.g=new Map(X.g),ce.h=X.h),Kee(this,ce),this.m=I.m}else I&&(X=String(I).match(qee))?(this.h=!1,OD(this,X[1]||"",!0),this.o=UC(X[2]||""),this.g=UC(X[3]||"",!0),FD(this,X[4]),this.l=UC(X[5]||"",!0),Kee(this,X[6]||"",!0),this.m=UC(X[7]||"")):(this.h=!1,this.i=new QC(null,this.h))}function dg(I){return new Vy(I)}function OD(I,X,ce){I.j=ce?UC(X,!0):X,I.j&&(I.j=I.j.replace(/:$/,""))}function FD(I,X){if(X){if(X=Number(X),isNaN(X)||0>X)throw Error("Bad port number "+X);I.s=X}else I.s=null}function Kee(I,X,ce){X instanceof QC?(I.i=X,function r5e(I,X){X&&!I.j&&(U_(I),I.i=null,I.g.forEach(function(ce,Be){var Xt=Be.toLowerCase();Be!=Xt&&($ee(this,Be),Yee(this,Xt,ce))},I)),I.j=X}(I.i,I.h)):(ce||(X=VC(X,n5e)),I.i=new QC(X,I.h))}function Qa(I,X,ce){I.i.set(X,ce)}function LD(I){return Qa(I,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),I}function UC(I,X){return I?X?decodeURI(I.replace(/%25/g,"%2525")):decodeURIComponent(I):""}function VC(I,X,ce){return"string"==typeof I?(I=encodeURI(I).replace(X,J3e),ce&&(I=I.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I):null}function J3e(I){return"%"+((I=I.charCodeAt(0))>>4&15).toString(16)+(15&I).toString(16)}Vy.prototype.toString=function(){var I=[],X=this.j;X&&I.push(VC(X,Wee,!0),":");var ce=this.g;return(ce||"file"==X)&&(I.push("//"),(X=this.o)&&I.push(VC(X,Wee,!0),"@"),I.push(encodeURIComponent(String(ce)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(ce=this.s)&&I.push(":",String(ce))),(ce=this.l)&&(this.g&&"/"!=ce.charAt(0)&&I.push("/"),I.push(VC(ce,"/"==ce.charAt(0)?t5e:e5e,!0))),(ce=this.i.toString())&&I.push("?",ce),(ce=this.m)&&I.push("#",VC(ce,i5e)),I.join("")};var Wee=/[#\/\?@]/g,e5e=/[#\?:]/g,t5e=/[#\?]/g,n5e=/[#\?@]/g,i5e=/#/g;function QC(I,X){this.h=this.g=null,this.i=I||null,this.j=!!X}function U_(I){I.g||(I.g=new Map,I.h=0,I.i&&function Z3e(I,X){if(I){I=I.split("&");for(var ce=0;ce<I.length;ce++){var Be=I[ce].indexOf("="),Xt=null;if(0<=Be){var Sn=I[ce].substring(0,Be);Xt=I[ce].substring(Be+1)}else Sn=I[ce];X(Sn,Xt?decodeURIComponent(Xt.replace(/\+/g," ")):"")}}}(I.i,function(X,ce){I.add(decodeURIComponent(X.replace(/\+/g," ")),ce)}))}function $ee(I,X){U_(I),X=z1(I,X),I.g.has(X)&&(I.i=null,I.h-=I.g.get(X).length,I.g.delete(X))}function Xee(I,X){return U_(I),X=z1(I,X),I.g.has(X)}function Yee(I,X,ce){$ee(I,X),0<ce.length&&(I.i=null,I.g.set(z1(I,X),Ae(ce)),I.h+=ce.length)}function z1(I,X){return X=String(X),I.j&&(X=X.toLowerCase()),X}function V_(I,X,ce,Be,Xt){try{Xt&&(Xt.onload=null,Xt.onerror=null,Xt.onabort=null,Xt.ontimeout=null),Be(ce)}catch{}}function a5e(){this.g=new z3e}function l5e(I,X,ce){const Be=ce||"";try{Hee(I,function(Xt,Sn){let Ci=Xt;g(Xt)&&(Ci=B3(Xt)),X.push(Be+Sn+"="+encodeURIComponent(Ci))})}catch(Xt){throw X.push(Be+"type="+encodeURIComponent("_badmap")),Xt}}function jC(I){this.l=I.Ub||null,this.j=I.eb||!1}function ND(I,X){fd.call(this),this.D=I,this.o=X,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Zee(I){I.j.read().then(I.Pa.bind(I)).catch(I.ga.bind(I))}function zC(I){I.readyState=4,I.l=null,I.j=null,I.v=null,GC(I)}function GC(I){I.onreadystatechange&&I.onreadystatechange.call(I)}function Jee(I){let X="";return si(I,function(ce,Be){X+=Be,X+=":",X+=ce,X+="\r\n"}),X}function G3(I,X,ce){e:{for(Be in ce){var Be=!1;break e}Be=!0}Be||(ce=Jee(ce),"string"==typeof I?null!=ce&&encodeURIComponent(String(ce)):Qa(I,X,ce))}function Dl(I){fd.call(this),this.headers=new Map,this.o=I||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=QC.prototype).add=function(I,X){U_(this),this.i=null,I=z1(this,I);var ce=this.g.get(I);return ce||this.g.set(I,ce=[]),ce.push(X),this.h+=1,this},n.forEach=function(I,X){U_(this),this.g.forEach(function(ce,Be){ce.forEach(function(Xt){I.call(X,Xt,Be,this)},this)},this)},n.na=function(){U_(this);const I=Array.from(this.g.values()),X=Array.from(this.g.keys()),ce=[];for(let Be=0;Be<X.length;Be++){const Xt=I[Be];for(let Sn=0;Sn<Xt.length;Sn++)ce.push(X[Be])}return ce},n.V=function(I){U_(this);let X=[];if("string"==typeof I)Xee(this,I)&&(X=X.concat(this.g.get(z1(this,I))));else{I=Array.from(this.g.values());for(let ce=0;ce<I.length;ce++)X=X.concat(I[ce])}return X},n.set=function(I,X){return U_(this),this.i=null,Xee(this,I=z1(this,I))&&(this.h-=this.g.get(I).length),this.g.set(I,[X]),this.h+=1,this},n.get=function(I,X){return I&&0<(I=this.V(I)).length?String(I[0]):X},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const I=[],X=Array.from(this.g.keys());for(var ce=0;ce<X.length;ce++){var Be=X[ce];const Sn=encodeURIComponent(String(Be)),Ci=this.V(Be);for(Be=0;Be<Ci.length;Be++){var Xt=Sn;""!==Ci[Be]&&(Xt+="="+encodeURIComponent(String(Ci[Be]))),I.push(Xt)}}return this.i=I.join("&")},ee(jC,P3),jC.prototype.g=function(){return new ND(this.l,this.j)},jC.prototype.i=function(I){return function(){return I}}({}),ee(ND,fd),(n=ND.prototype).open=function(I,X){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=I,this.A=X,this.readyState=1,GC(this)},n.send=function(I){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const X={headers:this.u,method:this.B,credentials:this.m,cache:void 0};I&&(X.body=I),(this.D||c).fetch(new Request(this.A,X)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,zC(this)),this.readyState=0},n.Sa=function(I){if(this.g&&(this.l=I,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=I.headers,this.readyState=2,GC(this)),this.g&&(this.readyState=3,GC(this),this.g)))if("arraybuffer"===this.responseType)I.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in I){if(this.j=I.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zee(this)}else I.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(I){if(this.g){if(this.o&&I.value)this.response.push(I.value);else if(!this.o){var X=I.value?I.value:new Uint8Array(0);(X=this.v.decode(X,{stream:!I.done}))&&(this.response=this.responseText+=X)}I.done?zC(this):GC(this),3==this.readyState&&Zee(this)}},n.Ra=function(I){this.g&&(this.response=this.responseText=I,zC(this))},n.Qa=function(I){this.g&&(this.response=I,zC(this))},n.ga=function(){this.g&&zC(this)},n.setRequestHeader=function(I,X){this.u.append(I,X)},n.getResponseHeader=function(I){return this.h&&this.h.get(I.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const I=[],X=this.h.entries();for(var ce=X.next();!ce.done;)I.push((ce=ce.value)[0]+": "+ce[1]),ce=X.next();return I.join("\r\n")},Object.defineProperty(ND.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(I){this.m=I?"include":"same-origin"}}),ee(Dl,fd);var c5e=/^https?$/i,u5e=["POST","PUT"];function ete(I,X){I.h=!1,I.g&&(I.j=!0,I.g.abort(),I.j=!1),I.l=X,I.m=5,tte(I),UD(I)}function tte(I){I.A||(I.A=!0,Hd(I,"complete"),Hd(I,"error"))}function nte(I){if(I.h&&typeof s<"u"&&(!I.v[1]||4!=hg(I)||2!=I.Z()))if(I.u&&4==hg(I))Eee(I.Ea,0,I);else if(Hd(I,"readystatechange"),4==hg(I)){I.h=!1;try{const Ci=I.Z();e:switch(Ci){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var X=!0;break e;default:X=!1}var ce;if(!(ce=X)){var Be;if(Be=0===Ci){var Xt=String(I.D).match(qee)[1]||null;!Xt&&c.self&&c.self.location&&(Xt=c.self.location.protocol.slice(0,-1)),Be=!c5e.test(Xt?Xt.toLowerCase():"")}ce=Be}if(ce)Hd(I,"complete"),Hd(I,"success");else{I.m=6;try{var Sn=2<hg(I)?I.g.statusText:""}catch{Sn=""}I.l=Sn+" ["+I.Z()+"]",tte(I)}}finally{UD(I)}}}function UD(I,X){if(I.g){ite(I);const ce=I.g,Be=I.v[0]?()=>{}:null;I.g=null,I.v=null,X||Hd(I,"ready");try{ce.onreadystatechange=Be}catch{}}}function ite(I){I.I&&(c.clearTimeout(I.I),I.I=null)}function hg(I){return I.g?I.g.readyState:0}function rte(I){try{if(!I.g)return null;if("response"in I.g)return I.g.response;switch(I.H){case"":case"text":return I.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in I.g)return I.g.mozResponseArrayBuffer}return null}catch{return null}}function HC(I,X,ce){return ce&&ce.internalChannelParams&&ce.internalChannelParams[I]||X}function ote(I){this.Aa=0,this.i=[],this.j=new LC,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=HC("failFast",!1,I),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=HC("baseRetryDelayMs",5e3,I),this.cb=HC("retryDelaySeedMs",1e4,I),this.Wa=HC("forwardChannelMaxRetries",2,I),this.wa=HC("forwardChannelRequestTimeoutMs",2e4,I),this.pa=I&&I.xmlHttpFactory||void 0,this.Xa=I&&I.Tb||void 0,this.Ca=I&&I.useFetchStreams||!1,this.L=void 0,this.J=I&&I.supportsCrossDomainXhr||!1,this.K="",this.h=new Vee(I&&I.concurrentRequestLimit),this.Da=new a5e,this.P=I&&I.fastHandshake||!1,this.O=I&&I.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=I&&I.Rb||!1,I&&I.xa&&this.j.xa(),I&&I.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&I&&I.detectBufferingProxy||!1,this.ja=void 0,I&&I.longPollingTimeout&&0<I.longPollingTimeout&&(this.ja=I.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function H3(I){if(ste(I),3==I.G){var X=I.U++,ce=dg(I.I);if(Qa(ce,"SID",I.K),Qa(ce,"RID",X),Qa(ce,"TYPE","terminate"),qC(I,ce),(X=new N_(I,I.j,X)).L=2,X.v=LD(dg(ce)),ce=!1,c.navigator&&c.navigator.sendBeacon)try{ce=c.navigator.sendBeacon(X.v.toString(),"")}catch{}!ce&&c.Image&&((new Image).src=X.v,ce=!0),ce||(X.g=Ate(X.j,null),X.g.ea(X.v)),X.F=Date.now(),PD(X)}pte(I)}function VD(I){I.g&&(K3(I),I.g.cancel(),I.g=null)}function ste(I){VD(I),I.u&&(c.clearTimeout(I.u),I.u=null),jD(I),I.h.cancel(),I.s&&("number"==typeof I.s&&c.clearTimeout(I.s),I.s=null)}function QD(I){if(!Qee(I.h)&&!I.s){I.s=!0;var X=I.Ga;Cr||Xl(),Mr||(Cr(),Mr=!0),Ko.add(X,I),I.B=0}}function ate(I,X){var ce;ce=X?X.l:I.U++;const Be=dg(I.I);Qa(Be,"SID",I.K),Qa(Be,"RID",ce),Qa(Be,"AID",I.T),qC(I,Be),I.m&&I.o&&G3(Be,I.m,I.o),ce=new N_(I,I.j,ce,I.B+1),null===I.m&&(ce.H=I.o),X&&(I.i=X.D.concat(I.i)),X=lte(I,ce,1e3),ce.I=Math.round(.5*I.wa)+Math.round(.5*I.wa*Math.random()),z3(I.h,ce),U3(ce,Be,X)}function qC(I,X){I.H&&si(I.H,function(ce,Be){Qa(X,Be,ce)}),I.l&&Hee({},function(ce,Be){Qa(X,Be,ce)})}function lte(I,X,ce){ce=Math.min(I.i.length,ce);var Be=I.l?F(I.l.Na,I.l,I):null;e:{var Xt=I.i;let Sn=-1;for(;;){const Ci=["count="+ce];-1==Sn?0<ce?(Sn=Xt[0].g,Ci.push("ofs="+Sn)):Sn=0:Ci.push("ofs="+Sn);let ma=!0;for(let Fu=0;Fu<ce;Fu++){let vs=Xt[Fu].g;const Ad=Xt[Fu].map;if(vs-=Sn,0>vs)Sn=Math.max(0,Xt[Fu].g-100),ma=!1;else try{l5e(Ad,Ci,"req"+vs+"_")}catch{Be&&Be(Ad)}}if(ma){Be=Ci.join("&");break e}}}return I=I.i.splice(0,ce),X.D=I,Be}function cte(I){if(!I.g&&!I.u){I.Y=1;var X=I.Fa;Cr||Xl(),Mr||(Cr(),Mr=!0),Ko.add(X,I),I.v=0}}function q3(I){return!(I.g||I.u||3<=I.v||(I.Y++,I.u=FC(F(I.Fa,I),hte(I,I.v)),I.v++,0))}function K3(I){null!=I.A&&(c.clearTimeout(I.A),I.A=null)}function ute(I){I.g=new N_(I,I.j,"rpc",I.Y),null===I.m&&(I.g.H=I.o),I.g.O=0;var X=dg(I.qa);Qa(X,"RID","rpc"),Qa(X,"SID",I.K),Qa(X,"AID",I.T),Qa(X,"CI",I.F?"0":"1"),!I.F&&I.ja&&Qa(X,"TO",I.ja),Qa(X,"TYPE","xmlhttp"),qC(I,X),I.m&&I.o&&G3(X,I.m,I.o),I.L&&(I.g.I=I.L);var ce=I.g;I=I.ia,ce.L=1,ce.v=LD(dg(X)),ce.m=null,ce.P=!0,Lee(ce,I)}function jD(I){null!=I.C&&(c.clearTimeout(I.C),I.C=null)}function dte(I,X){var ce=null;if(I.g==X){jD(I),K3(I),I.g=null;var Be=2}else{if(!j3(I.h,X))return;ce=X.D,zee(I.h,X),Be=1}if(0!=I.G)if(X.o)if(1==Be){ce=X.m?X.m.length:0,X=Date.now()-X.F;var Xt=I.B;Hd(Be=RD(),new Bee(Be,ce)),QD(I)}else cte(I);else if(3==(Xt=X.s)||0==Xt&&0<X.X||!(1==Be&&function h5e(I,X){return!(jee(I.h)>=I.h.j-(I.s?1:0)||(I.s?(I.i=X.D.concat(I.i),0):1==I.G||2==I.G||I.B>=(I.Va?0:I.Wa)||(I.s=FC(F(I.Ga,I,X),hte(I,I.B)),I.B++,0)))}(I,X)||2==Be&&q3(I)))switch(ce&&0<ce.length&&(X=I.h,X.i=X.i.concat(ce)),Xt){case 1:Qy(I,5);break;case 4:Qy(I,10);break;case 3:Qy(I,6);break;default:Qy(I,2)}}function hte(I,X){let ce=I.Ta+Math.floor(Math.random()*I.cb);return I.isActive()||(ce*=2),ce*X}function Qy(I,X){if(I.j.info("Error code "+X),2==X){var ce=F(I.fb,I),Be=I.Xa;const Xt=!Be;Be=new Vy(Be||"//www.google.com/images/cleardot.gif"),c.location&&"http"==c.location.protocol||OD(Be,"https"),LD(Be),Xt?function o5e(I,X){const ce=new LC;if(c.Image){const Be=new Image;Be.onload=H(V_,ce,"TestLoadImage: loaded",!0,X,Be),Be.onerror=H(V_,ce,"TestLoadImage: error",!1,X,Be),Be.onabort=H(V_,ce,"TestLoadImage: abort",!1,X,Be),Be.ontimeout=H(V_,ce,"TestLoadImage: timeout",!1,X,Be),c.setTimeout(function(){Be.ontimeout&&Be.ontimeout()},1e4),Be.src=I}else X(!1)}(Be.toString(),ce):function s5e(I,X){new LC;const Be=new AbortController,Xt=setTimeout(()=>{Be.abort(),V_(0,0,!1,X)},1e4);fetch(I,{signal:Be.signal}).then(Sn=>{clearTimeout(Xt),V_(0,0,!!Sn.ok,X)}).catch(()=>{clearTimeout(Xt),V_(0,0,!1,X)})}(Be.toString(),ce)}else qd(2);I.G=0,I.l&&I.l.sa(X),pte(I),ste(I)}function pte(I){if(I.G=0,I.ka=[],I.l){const X=Gee(I.h);(0!=X.length||0!=I.i.length)&&(xe(I.ka,X),xe(I.ka,I.i),I.h.i.length=0,Ae(I.i),I.i.length=0),I.l.ra()}}function fte(I,X,ce){var Be=ce instanceof Vy?dg(ce):new Vy(ce);if(""!=Be.g)X&&(Be.g=X+"."+Be.g),FD(Be,Be.s);else{var Xt=c.location;Be=Xt.protocol,X=X?X+"."+Xt.hostname:Xt.hostname,Xt=+Xt.port;var Sn=new Vy(null);Be&&OD(Sn,Be),X&&(Sn.g=X),Xt&&FD(Sn,Xt),ce&&(Sn.l=ce),Be=Sn}return X=I.ya,(ce=I.D)&&X&&Qa(Be,ce,X),Qa(Be,"VER",I.la),qC(I,Be),Be}function Ate(I,X,ce){if(X&&!I.J)throw Error("Can't create secondary domain capable XhrIo object.");return(X=new Dl(I.Ca&&!I.pa?new jC({eb:ce}):I.pa)).Ha(I.J),X}function mte(){}function zD(){}function sp(I,X){fd.call(this),this.g=new ote(X),this.l=I,this.h=X&&X.messageUrlParams||null,I=X&&X.messageHeaders||null,X&&X.clientProtocolHeaderRequired&&(I?I["X-Client-Protocol"]="webchannel":I={"X-Client-Protocol":"webchannel"}),this.g.o=I,I=X&&X.initMessageHeaders||null,X&&X.messageContentType&&(I?I["X-WebChannel-Content-Type"]=X.messageContentType:I={"X-WebChannel-Content-Type":X.messageContentType}),X&&X.va&&(I?I["X-WebChannel-Client-Profile"]=X.va:I={"X-WebChannel-Client-Profile":X.va}),this.g.S=I,(I=X&&X.Sb)&&!Ye(I)&&(this.g.m=I),this.v=X&&X.supportsCrossDomainXhr||!1,this.u=X&&X.sendRawJson||!1,(X=X&&X.httpSessionIdParam)&&!Ye(X)&&(this.g.D=X,null!==(I=this.h)&&X in I&&X in(I=this.h)&&delete I[X]),this.j=new G1(this)}function gte(I){O3.call(this),I.__headers__&&(this.headers=I.__headers__,this.statusCode=I.__status__,delete I.__headers__,delete I.__status__);var X=I.__sm__;if(X){e:{for(const ce in X){I=ce;break e}I=void 0}(this.i=I)&&(I=this.i,X=null!==X&&I in X?X[I]:void 0),this.data=X}else this.data=I}function _te(){F3.call(this),this.status=1}function G1(I){this.g=I}(n=Dl.prototype).Ha=function(I){this.J=I},n.ea=function(I,X,ce,Be){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+I);X=X?X.toUpperCase():"GET",this.D=I,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():L3.g(),this.v=function See(I){return I.h||(I.h=I.i())}(this.o?this.o:L3),this.g.onreadystatechange=F(this.Ea,this);try{this.B=!0,this.g.open(X,String(I),!0),this.B=!1}catch(Sn){return void ete(this,Sn)}if(I=ce||"",ce=new Map(this.headers),Be)if(Object.getPrototypeOf(Be)===Object.prototype)for(var Xt in Be)ce.set(Xt,Be[Xt]);else{if("function"!=typeof Be.keys||"function"!=typeof Be.get)throw Error("Unknown input type for opt_headers: "+String(Be));for(const Sn of Be.keys())ce.set(Sn,Be.get(Sn))}Be=Array.from(ce.keys()).find(Sn=>"content-type"==Sn.toLowerCase()),Xt=c.FormData&&I instanceof c.FormData,!(0<=Array.prototype.indexOf.call(u5e,X,void 0))||Be||Xt||ce.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Sn,Ci]of ce)this.g.setRequestHeader(Sn,Ci);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ite(this),this.u=!0,this.g.send(I),this.u=!1}catch(Sn){ete(this,Sn)}},n.abort=function(I){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=I||7,Hd(this,"complete"),Hd(this,"abort"),UD(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),UD(this,!0)),Dl.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?nte(this):this.bb())},n.bb=function(){nte(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<hg(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(I){if(this.g){var X=this.g.responseText;return I&&0==X.indexOf(I)&&(X=X.substring(I.length)),j3e(X)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=ote.prototype).la=8,n.G=1,n.connect=function(I,X,ce,Be){qd(0),this.W=I,this.H=X||{},ce&&void 0!==Be&&(this.H.OSID=ce,this.H.OAID=Be),this.F=this.X,this.I=fte(this,null,this.W),QD(this)},n.Ga=function(I){if(this.s)if(this.s=null,1==this.G){if(!I){this.U=Math.floor(1e5*Math.random()),I=this.U++;const Xt=new N_(this,this.j,I);let Sn=this.o;if(this.S&&(Sn?(Sn=nt(Sn),Ft(Sn,this.S)):Sn=this.S),null!==this.m||this.O||(Xt.H=Sn,Sn=null),this.P)e:{for(var X=0,ce=0;ce<this.i.length;ce++){var Be=this.i[ce];if(void 0===(Be="__data__"in Be.map&&"string"==typeof(Be=Be.map.__data__)?Be.length:void 0))break;if(4096<(X+=Be)){X=ce;break e}if(4096===X||ce===this.i.length-1){X=ce+1;break e}}X=1e3}else X=1e3;X=lte(this,Xt,X),Qa(ce=dg(this.I),"RID",I),Qa(ce,"CVER",22),this.D&&Qa(ce,"X-HTTP-Session-Id",this.D),qC(this,ce),Sn&&(this.O?X="headers="+encodeURIComponent(String(Jee(Sn)))+"&"+X:this.m&&G3(ce,this.m,Sn)),z3(this.h,Xt),this.Ua&&Qa(ce,"TYPE","init"),this.P?(Qa(ce,"$req",X),Qa(ce,"SID","null"),Xt.T=!0,U3(Xt,ce,null)):U3(Xt,ce,X),this.G=2}}else 3==this.G&&(I?ate(this,I):0==this.i.length||Qee(this.h)||ate(this))},n.Fa=function(){if(this.u=null,ute(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var I=2*this.R;this.j.info("BP detection timer enabled: "+I),this.A=FC(F(this.ab,this),I)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,qd(10),VD(this),ute(this))},n.Za=function(){null!=this.C&&(this.C=null,VD(this),q3(this),qd(19))},n.fb=function(I){I?(this.j.info("Successfully pinged google.com"),qd(2)):(this.j.info("Failed to ping google.com"),qd(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=mte.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},zD.prototype.g=function(I,X){return new sp(I,X)},ee(sp,fd),sp.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sp.prototype.close=function(){H3(this.g)},sp.prototype.o=function(I){var X=this.g;if("string"==typeof I){var ce={};ce.__data__=I,I=ce}else this.u&&((ce={}).__data__=B3(I),I=ce);X.i.push(new $3e(X.Ya++,I)),3==X.G&&QD(X)},sp.prototype.N=function(){this.g.l=null,delete this.j,H3(this.g),delete this.g,sp.aa.N.call(this)},ee(gte,O3),ee(_te,F3),ee(G1,mte),G1.prototype.ua=function(){Hd(this.g,"a")},G1.prototype.ta=function(I){Hd(this.g,new gte(I))},G1.prototype.sa=function(I){Hd(this.g,new _te)},G1.prototype.ra=function(){Hd(this.g,"b")},zD.prototype.createWebChannel=zD.prototype.g,sp.prototype.send=sp.prototype.o,sp.prototype.open=sp.prototype.m,sp.prototype.close=sp.prototype.close,aX=Jm.createWebChannelTransport=function(){return new zD},sX=Jm.getStatEventTarget=function(){return RD()},oX=Jm.Event=Ny,KL=Jm.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},MD.NO_ERROR=0,MD.TIMEOUT=8,MD.HTTP_ERROR=6,Tk=Jm.ErrorCode=MD,Pee.COMPLETE="complete",rX=Jm.EventType=Pee,kee.EventType=PC,PC.OPEN="a",PC.CLOSE="b",PC.ERROR="c",PC.MESSAGE="d",fd.prototype.listen=fd.prototype.K,GE=Jm.WebChannel=kee,iX=Jm.FetchXmlHttpFactory=jC,Dl.prototype.listenOnce=Dl.prototype.L,Dl.prototype.getLastError=Dl.prototype.Ka,Dl.prototype.getLastErrorCode=Dl.prototype.Ba,Dl.prototype.getStatus=Dl.prototype.Z,Dl.prototype.getResponseJson=Dl.prototype.Oa,Dl.prototype.getResponseText=Dl.prototype.oa,Dl.prototype.send=Dl.prototype.ea,Dl.prototype.setWithCredentials=Dl.prototype.Ha,nX=Jm.XhrIo=Dl}).apply(typeof Ik<"u"?Ik:typeof self<"u"?self:typeof window<"u"?window:{});const lX="@firebase/firestore";class au{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}au.UNAUTHENTICATED=new au(null),au.GOOGLE_CREDENTIALS=new au("google-credentials-uid"),au.FIRST_PARTY=new au("first-party-uid"),au.MOCK_USER=new au("mock-user");let n1="10.12.5";const m_=new Zh.Vy("@firebase/firestore");function r1(){return m_.logLevel}function Zn(n,...t){if(m_.logLevel<=Zh.$b.DEBUG){const e=t.map(WL);m_.debug(`Firestore (${n1}): ${n}`,...e)}}function Wl(n,...t){if(m_.logLevel<=Zh.$b.ERROR){const e=t.map(WL);m_.error(`Firestore (${n1}): ${n}`,...e)}}function yh(n,...t){if(m_.logLevel<=Zh.$b.WARN){const e=t.map(WL);m_.warn(`Firestore (${n1}): ${n}`,...e)}}function WL(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Yi(n="Unexpected state"){const t=`FIRESTORE (${n1}) INTERNAL ASSERTION FAILED: `+n;throw Wl(t),new Error(t)}function mr(n,t){n||Yi()}function Ei(n,t){return n}const gn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Kn extends Oe.g{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Nc{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class cX{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class GMe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(au.UNAUTHENTICATED))}shutdown(){}}class HMe{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class qMe{constructor(t){this.t=t,this.currentUser=au.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=g=>this.i!==r?(r=this.i,e(g)):Promise.resolve();let s=new Nc;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Nc,t.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const g=s;t.enqueueRetryable((0,Dn.A)(function*(){yield g.promise,yield o(i.currentUser)}))},u=g=>{Zn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.auth.addAuthTokenListener(this.o),c()};this.t.onInit(g=>u(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?u(g):(Zn("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Nc)}},0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Zn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(mr("string"==typeof i.accessToken),new cX(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return mr(null===t||"string"==typeof t),new au(t)}}class KMe{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=au.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class WMe{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new KMe(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(au.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uX{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $Me{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const i=o=>{null!=o.error&&Zn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Zn("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{Zn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):Zn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(mr("string"==typeof e.token),this.R=e.token,new uX(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function XMe(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class dX{static newId(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=XMe(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function to(n,t){return n<t?-1:n>t?1:0}function o1(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function hX(n){return n+"\0"}class Ja{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Kn(gn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Kn(gn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Kn(gn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Kn(gn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ja.fromMillis(Date.now())}static fromDate(t){return Ja.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Ja(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?to(this.nanoseconds,t.nanoseconds):to(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Er{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Er(t)}static min(){return new Er(new Ja(0,0))}static max(){return new Er(new Ja(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class HE{constructor(t,e,i){void 0===e?e=0:e>t.length&&Yi(),void 0===i?i=t.length-e:i>t.length-e&&Yi(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===HE.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof HE?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),s=e.get(r);if(o<s)return-1;if(o>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Zo extends HE{construct(t,e,i){return new Zo(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Kn(gn.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Zo(e)}static emptyPath(){return new Zo([])}}const YMe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fa extends HE{construct(t,e,i){return new Fa(t,e,i)}static isValidIdentifier(t){return YMe.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fa.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Fa(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Kn(gn.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let s=!1;for(;r<t.length;){const c=t[r];if("\\"===c){if(r+1===t.length)throw new Kn(gn.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[r+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Kn(gn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else"`"===c?(s=!s,r++):"."!==c||s?(i+=c,r++):(o(),r++)}if(o(),s)throw new Kn(gn.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fa(e)}static emptyPath(){return new Fa([])}}class Mi{constructor(t){this.path=t}static fromPath(t){return new Mi(Zo.fromString(t))}static fromName(t){return new Mi(Zo.fromString(t).popFirst(5))}static empty(){return new Mi(Zo.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Zo.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Zo.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Mi(new Zo(t.slice()))}}class s1{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function $L(n){return n.fields.find(t=>2===t.kind)}function gy(n){return n.fields.filter(t=>2!==t.kind)}s1.UNKNOWN_ID=-1;class _y{constructor(t,e){this.fieldPath=t,this.kind=e}}class a1{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new a1(0,rp.min())}}function pX(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Er.fromTimestamp(1e9===i?new Ja(e+1,0):new Ja(e,i));return new rp(r,Mi.empty(),t)}function fX(n){return new rp(n.readTime,n.key,-1)}class rp{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new rp(Er.min(),Mi.empty(),-1)}static max(){return new rp(Er.max(),Mi.empty(),-1)}}function XL(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Mi.comparator(n.documentKey,t.documentKey),0!==e?e:to(n.largestBatchId,t.largestBatchId))}const AX="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mX{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function g_(n){return YL.apply(this,arguments)}function YL(){return(YL=(0,Dn.A)(function*(n){if(n.code!==gn.FAILED_PRECONDITION||n.message!==AX)throw n;Zn("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Yt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Yi(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Yt((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Yt?e:Yt.resolve(e)}catch(e){return Yt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Yt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Yt.reject(e)}static resolve(t){return new Yt((e,i)=>{e(t)})}static reject(t){return new Yt((e,i)=>{i(t)})}static waitFor(t){return new Yt((e,i)=>{let r=0,o=0,s=!1;t.forEach(c=>{++r,c.next(()=>{++o,s&&o===r&&e()},u=>i(u))}),s=!0,o===r&&e()})}static or(t){let e=Yt.resolve(!1);for(const i of t)e=e.next(r=>r?Yt.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new Yt((i,r)=>{const o=t.length,s=new Array(o);let c=0;for(let u=0;u<o;u++){const g=u;e(t[g]).next(w=>{s[g]=w,++c,c===o&&i(s)},w=>r(w))}})}static doWhile(t,e){return new Yt((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class Sk{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.V=new Nc,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{e.error?this.V.reject(new qE(t,e.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=ZL(i.target.error);this.V.reject(new qE(t,r))}}static open(t,e,i,r){try{return new Sk(e,t.transaction(r,i))}catch(o){throw new qE(e,o)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(Zn("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new tBe(e)}}class $A{constructor(t,e,i){this.name=t,this.version=e,this.p=i,12.2===$A.S((0,Oe.ZQ)())&&Wl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Zn("SimpleDb","Removing database:",t),vy(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,Oe.zW)())return!1;if($A.C())return!0;const t=(0,Oe.ZQ)(),e=$A.S(t),i=0<e&&e<10,r=gX(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.__PRIVATE_env)||void 0===t?void 0:t.v)}static F(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}M(t){var e=this;return(0,Dn.A)(function*(){return e.db||(Zn("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=s=>{i(s.target.result)},o.onblocked=()=>{r(new qE(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const c=s.target.error;r("VersionError"===c.name?new Kn(gn.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===c.name?new Kn(gn.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c):new qE(t,c))},o.onupgradeneeded=s=>{Zn("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',s.oldVersion),e.p.O(s.target.result,o.transaction,s.oldVersion,e.version).next(()=>{Zn("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.N&&(e.db.onversionchange=i=>e.N(i)),e.db})()}L(t){this.N=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,Dn.A)(function*(){const s="readonly"===e;let c=0;for(;;){++c;try{o.db=yield o.M(t);const u=Sk.open(o.db,t,s?"readonly":"readwrite",i),g=r(u).next(w=>(u.g(),w)).catch(w=>(u.abort(w),Yt.reject(w))).toPromise();return g.catch(()=>{}),yield u.m,g}catch(u){const g=u,w="FirebaseError"!==g.name&&c<3;if(Zn("SimpleDb","Transaction failed with error:",g.message,"Retrying:",w),o.close(),!w)return Promise.reject(g)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function gX(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}class eBe{constructor(t){this.B=t,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(t){this.B=t}done(){this.k=!0}$(t){this.q=t}delete(){return vy(this.B.delete())}}class qE extends Kn{constructor(t,e){super(gn.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function __(n){return"IndexedDbTransactionError"===n.name}class tBe{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Zn("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Zn("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),vy(i)}add(t){return Zn("SimpleDb","ADD",this.store.name,t,t),vy(this.store.add(t))}get(t){return vy(this.store.get(t)).next(e=>(void 0===e&&(e=null),Zn("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Zn("SimpleDb","DELETE",this.store.name,t),vy(this.store.delete(t))}count(){return Zn("SimpleDb","COUNT",this.store.name),vy(this.store.count())}U(t,e){const i=this.options(t,e),r=i.index?this.store.index(i.index):this.store;if("function"==typeof r.getAll){const o=r.getAll(i.range);return new Yt((s,c)=>{o.onerror=u=>{c(u.target.error)},o.onsuccess=u=>{s(u.target.result)}})}{const o=this.cursor(i),s=[];return this.W(o,(c,u)=>{s.push(u)}).next(()=>s)}}G(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new Yt((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}j(t,e){Zn("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.H=!1;const r=this.cursor(i);return this.W(r,(o,s,c)=>c.delete())}J(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.W(r,e)}Y(t){const e=this.cursor({});return new Yt((i,r)=>{e.onerror=o=>{const s=ZL(o.target.error);r(s)},e.onsuccess=o=>{const s=o.target.result;s?t(s.primaryKey,s.value).next(c=>{c?s.continue():i()}):i()}})}W(t,e){const i=[];return new Yt((r,o)=>{t.onerror=s=>{o(s.target.error)},t.onsuccess=s=>{const c=s.target.result;if(!c)return void r();const u=new eBe(c),g=e(c.primaryKey,c.value,u);if(g instanceof Yt){const w=g.catch(T=>(u.done(),Yt.reject(T)));i.push(w)}u.isDone?r():null===u.K?c.continue():c.continue(u.K)}}).next(()=>Yt.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.H?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function vy(n){return new Yt((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=ZL(i.target.error);e(r)}})}let _X=!1;function ZL(n){const t=$A.S((0,Oe.ZQ)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Kn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return _X||(_X=!0,setTimeout(()=>{throw i},0)),i}}return n}class nBe{constructor(t,e){this.asyncQueue=t,this.Z=e,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(t){var e=this;Zn("IndexBackfiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,Dn.A)(function*(){e.task=null;try{Zn("IndexBackfiller",`Documents written: ${yield e.Z.ee()}`)}catch(i){__(i)?Zn("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",i):yield g_(i)}yield e.X(6e4)}))}}class iBe{constructor(t,e){this.localStore=t,this.persistence=e}ee(t=50){var e=this;return(0,Dn.A)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.te(i,t))})()}te(t,e){const i=new Set;let r=e,o=!0;return Yt.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(s=>{if(null!==s&&!i.has(s))return Zn("IndexBackfiller",`Processing collection: ${s}`),this.ne(t,s,r).next(c=>{r-=c,i.add(s)});o=!1})).next(()=>e-r)}ne(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(t,s).next(()=>this.re(r,o)).next(c=>(Zn("IndexBackfiller",`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(t,e,c))).next(()=>s.size)}))}re(t,e){let i=t;return e.changes.forEach((r,o)=>{const s=fX(o);XL(s,i)>0&&(i=s)}),new rp(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let op=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}return n.oe=-1,n})();function KE(n){return null==n}function WE(n){return 0===n&&1/n==-1/0}function vX(n){return"number"==typeof n&&Number.isInteger(n)&&!WE(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function ud(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=yX(t)),t=rBe(n.get(e),t);return yX(t)}function rBe(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function yX(n){return n+"\x01\x01"}function XA(n){const t=n.length;if(mr(t>=2),2===t)return mr("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Zo.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const s=n.indexOf("\x01",o);switch((s<0||s>e)&&Yi(),n.charAt(s+1)){case"\x01":const c=n.substring(o,s);let u;0===r.length?u=c:(r+=c,u=r,r=""),i.push(u);break;case"\x10":r+=n.substring(o,s),r+="\0";break;case"\x11":r+=n.substring(o,s+1);break;default:Yi()}o=s+2}return new Zo(i)}const bX=["userId","batchId"];function kk(n,t){return[n,ud(t)]}function wX(n,t,e){return[n,ud(t),e]}const oBe={},sBe=["prefixPath","collectionGroup","readTime","documentId"],aBe=["prefixPath","collectionGroup","documentId"],lBe=["collectionGroup","readTime","prefixPath","documentId"],cBe=["canonicalId","targetId"],uBe=["targetId","path"],dBe=["path","targetId"],hBe=["collectionId","parent"],pBe=["indexId","uid"],fBe=["uid","sequenceNumber"],ABe=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],mBe=["indexId","uid","orderedDocumentKey"],gBe=["userId","collectionPath","documentId"],_Be=["userId","collectionPath","largestBatchId"],vBe=["userId","collectionGroup","largestBatchId"],xX=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],yBe=[...xX,"documentOverlays"],EX=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],CX=EX,JL=[...CX,"indexConfiguration","indexState","indexEntries"],bBe=JL,wBe=[...JL,"globals"];class e4 extends mX{constructor(t,e){super(),this._e=t,this.currentSequenceNumber=e}}function Uc(n,t){const e=Ei(n);return $A.F(e._e,t)}function IX(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function v_(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function SX(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class ka{constructor(t,e){this.comparator=t,this.root=e||Bu.EMPTY}insert(t,e){return new ka(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Bu.BLACK,null,null))}remove(t){return new ka(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Bu.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Dk(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Dk(this.root,t,this.comparator,!1)}getReverseIterator(){return new Dk(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Dk(this.root,t,this.comparator,!0)}}class Dk{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Bu{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??Bu.RED,this.left=r??Bu.EMPTY,this.right=o??Bu.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new Bu(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Bu.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Bu.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Bu.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Bu.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Yi();const t=this.left.check();if(t!==this.right.check())throw Yi();return t+(this.isRed()?0:1)}}Bu.EMPTY=null,Bu.RED=!0,Bu.BLACK=!1,Bu.EMPTY=new class{constructor(){this.size=0}get key(){throw Yi()}get value(){throw Yi()}get color(){throw Yi()}get left(){throw Yi()}get right(){throw Yi()}copy(t,e,i,r,o){return this}insert(t,e,i){return new Bu(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zs{constructor(t){this.comparator=t,this.data=new ka(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new kX(this.data.getIterator())}getIteratorFrom(t){return new kX(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Zs)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Zs(this.comparator);return e.data=t,e}}class kX{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function l1(n){return n.hasNext()?n.getNext():void 0}class bh{constructor(t){this.fields=t,t.sort(Fa.comparator)}static empty(){return new bh([])}unionWith(t){let e=new Zs(Fa.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new bh(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return o1(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class DX extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Il{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new DX("Invalid base64 string: "+o):o}}(t);return new Il(e)}static fromUint8Array(t){const e=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(t);return new Il(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return to(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Il.EMPTY_BYTE_STRING=new Il("");const EBe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function eg(n){if(mr(!!n),"string"==typeof n){let t=0;const e=EBe.exec(n);if(mr(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Tl(n.seconds),nanos:Tl(n.nanos)}}function Tl(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function tg(n){return"string"==typeof n?Il.fromBase64String(n):Il.fromUint8Array(n)}function Rk(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Mk(n){const t=n.mapValue.fields.__previous_value__;return Rk(t)?Mk(t):t}function $E(n){const t=eg(n.mapValue.fields.__local_write_time__.timestampValue);return new Ja(t.seconds,t.nanos)}class CBe{constructor(t,e,i,r,o,s,c,u,g){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=g}}class y_{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new y_("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof y_&&t.projectId===this.projectId&&t.database===this.database}}const b_={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Bk={nullValue:"NULL_VALUE"};function w_(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Rk(n)?4:PX(n)?9007199254740991:10:Yi()}function YA(n,t){if(n===t)return!0;const e=w_(n);if(e!==w_(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return $E(n).isEqual($E(t));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const s=eg(r.timestampValue),c=eg(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return o=t,tg(n.bytesValue).isEqual(tg(o.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,o){return Tl(r.geoPointValue.latitude)===Tl(o.geoPointValue.latitude)&&Tl(r.geoPointValue.longitude)===Tl(o.geoPointValue.longitude)}(n,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Tl(r.integerValue)===Tl(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const s=Tl(r.doubleValue),c=Tl(o.doubleValue);return s===c?WE(s)===WE(c):isNaN(s)&&isNaN(c)}return!1}(n,t);case 9:return o1(n.arrayValue.values||[],t.arrayValue.values||[],YA);case 10:return function(r,o){const s=r.mapValue.fields||{},c=o.mapValue.fields||{};if(IX(s)!==IX(c))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(void 0===c[u]||!YA(s[u],c[u])))return!1;return!0}(n,t);default:return Yi()}var o}function XE(n,t){return void 0!==(n.values||[]).find(e=>YA(e,t))}function x_(n,t){if(n===t)return 0;const e=w_(n),i=w_(t);if(e!==i)return to(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return to(n.booleanValue,t.booleanValue);case 2:return function(o,s){const c=Tl(o.integerValue||o.doubleValue),u=Tl(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(n,t);case 3:return RX(n.timestampValue,t.timestampValue);case 4:return RX($E(n),$E(t));case 5:return to(n.stringValue,t.stringValue);case 6:return function(o,s){const c=tg(o),u=tg(s);return c.compareTo(u)}(n.bytesValue,t.bytesValue);case 7:return function(o,s){const c=o.split("/"),u=s.split("/");for(let g=0;g<c.length&&g<u.length;g++){const w=to(c[g],u[g]);if(0!==w)return w}return to(c.length,u.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,s){const c=to(Tl(o.latitude),Tl(s.latitude));return 0!==c?c:to(Tl(o.longitude),Tl(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(o,s){const c=o.values||[],u=s.values||[];for(let g=0;g<c.length&&g<u.length;++g){const w=x_(c[g],u[g]);if(w)return w}return to(c.length,u.length)}(n.arrayValue,t.arrayValue);case 10:return function(o,s){if(o===b_.mapValue&&s===b_.mapValue)return 0;if(o===b_.mapValue)return 1;if(s===b_.mapValue)return-1;const c=o.fields||{},u=Object.keys(c),g=s.fields||{},w=Object.keys(g);u.sort(),w.sort();for(let T=0;T<u.length&&T<w.length;++T){const F=to(u[T],w[T]);if(0!==F)return F;const H=x_(c[u[T]],g[w[T]]);if(0!==H)return H}return to(u.length,w.length)}(n.mapValue,t.mapValue);default:throw Yi()}}function RX(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return to(n,t);const e=eg(n),i=eg(t),r=to(e.seconds,i.seconds);return 0!==r?r:to(e.nanos,i.nanos)}function c1(n){return t4(n)}function t4(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=eg(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?tg(n.bytesValue).toBase64():"referenceValue"in n?Mi.fromName(n.referenceValue).toString():"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=t4(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const s of i)o?o=!1:r+=",",r+=`${s}:${t4(e.fields[s])}`;return r+"}"}(n.mapValue):Yi()}function yy(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function n4(n){return!!n&&"integerValue"in n}function YE(n){return!!n&&"arrayValue"in n}function MX(n){return!!n&&"nullValue"in n}function BX(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ok(n){return!!n&&"mapValue"in n}function ZE(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return v_(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=ZE(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=ZE(n.arrayValue.values[e]);return t}return Object.assign({},n)}function PX(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function IBe(n){return"nullValue"in n?Bk:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?yy(y_.empty(),Mi.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Yi()}function TBe(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?yy(y_.empty(),Mi.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?b_:Yi()}function OX(n,t){const e=x_(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function FX(n,t){const e=x_(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Pu{constructor(t){this.value=t}static empty(){return new Pu({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Ok(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ZE(e)}setAll(t){let e=Fa.emptyPath(),i={},r=[];t.forEach((s,c)=>{if(!e.isImmediateParentOf(c)){const u=this.getFieldsMap(e);this.applyChanges(u,i,r),i={},r=[],e=c.popLast()}s?i[c.lastSegment()]=ZE(s):r.push(c.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());Ok(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return YA(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Ok(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){v_(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new Pu(ZE(this.value))}}function LX(n){const t=[];return v_(n.fields,(e,i)=>{const r=new Fa([e]);if(Ok(i)){const o=LX(i.mapValue).fields;if(0===o.length)t.push(r);else for(const s of o)t.push(r.child(s))}else t.push(r)}),new bh(t)}class La{constructor(t,e,i,r,o,s,c){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(t){return new La(t,0,Er.min(),Er.min(),Er.min(),Pu.empty(),0)}static newFoundDocument(t,e,i,r){return new La(t,1,e,Er.min(),i,r,0)}static newNoDocument(t,e){return new La(t,2,e,Er.min(),Er.min(),Pu.empty(),0)}static newUnknownDocument(t,e){return new La(t,3,e,Er.min(),Er.min(),Pu.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Er.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Pu.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Pu.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Er.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof La&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new La(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class E_{constructor(t,e){this.position=t,this.inclusive=e}}function NX(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],s=n.position[r];if(i=o.field.isKeyField()?Mi.comparator(Mi.fromName(s.referenceValue),e.key):x_(s,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function UX(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!YA(n.position[e],t.position[e]))return!1;return!0}class JE{constructor(t,e="asc"){this.field=t,this.dir=e}}function SBe(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class VX{}class Jo extends VX{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new kBe(t,e,i):"array-contains"===e?new MBe(t,i):"in"===e?new qX(t,i):"not-in"===e?new BBe(t,i):"array-contains-any"===e?new PBe(t,i):new Jo(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new DBe(t,i):new RBe(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(x_(e,this.value)):null!==e&&w_(this.value)===w_(e)&&this.matchesComparison(x_(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Yi()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hs extends VX{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new Hs(t,e)}matches(t){return u1(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function u1(n){return"and"===n.op}function r4(n){return"or"===n.op}function o4(n){return QX(n)&&u1(n)}function QX(n){for(const t of n.filters)if(t instanceof Hs)return!1;return!0}function s4(n){if(n instanceof Jo)return n.field.canonicalString()+n.op.toString()+c1(n.value);if(o4(n))return n.filters.map(t=>s4(t)).join(",");{const t=n.filters.map(e=>s4(e)).join(",");return`${n.op}(${t})`}}function jX(n,t){return n instanceof Jo?(i=n,(r=t)instanceof Jo&&i.op===r.op&&i.field.isEqual(r.field)&&YA(i.value,r.value)):n instanceof Hs?function(i,r){return r instanceof Hs&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((o,s,c)=>o&&jX(s,r.filters[c]),!0)}(n,t):void Yi();var i,r}function zX(n,t){const e=n.filters.concat(t);return Hs.create(e,n.op)}function GX(n){return n instanceof Jo?`${(e=n).field.canonicalString()} ${e.op} ${c1(e.value)}`:n instanceof Hs?function(e){return e.op.toString()+" {"+e.getFilters().map(GX).join(" ,")+"}"}(n):"Filter";var e}class kBe extends Jo{constructor(t,e,i){super(t,e,i),this.key=Mi.fromName(i.referenceValue)}matches(t){const e=Mi.comparator(t.key,this.key);return this.matchesComparison(e)}}class DBe extends Jo{constructor(t,e){super(t,"in",e),this.keys=HX(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class RBe extends Jo{constructor(t,e){super(t,"not-in",e),this.keys=HX(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function HX(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Mi.fromName(i.referenceValue))}class MBe extends Jo{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return YE(e)&&XE(e.arrayValue,this.value)}}class qX extends Jo{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&XE(this.value.arrayValue,e)}}class BBe extends Jo{constructor(t,e){super(t,"not-in",e)}matches(t){if(XE(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!XE(this.value.arrayValue,e)}}class PBe extends Jo{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!YE(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>XE(this.value.arrayValue,i))}}class OBe{constructor(t,e=null,i=[],r=[],o=null,s=null,c=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=c,this.ue=null}}function a4(n,t=null,e=[],i=[],r=null,o=null,s=null){return new OBe(n,t,e,i,r,o,s)}function by(n){const t=Ei(n);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>s4(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(o=i).field.canonicalString()+o.dir;var o}).join(","),KE(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>c1(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>c1(i)).join(",")),t.ue=e}return t.ue}function eC(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!SBe(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!jX(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!UX(n.startAt,t.startAt)&&UX(n.endAt,t.endAt)}function Fk(n){return Mi.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Lk(n,t){return n.filters.filter(e=>e instanceof Jo&&e.field.isEqual(t))}function KX(n,t,e){let i=Bk,r=!0;for(const o of Lk(n,t)){let s=Bk,c=!0;switch(o.op){case"<":case"<=":s=IBe(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,c=!1;break;case"!=":case"not-in":s=Bk}OX({value:i,inclusive:r},{value:s,inclusive:c})<0&&(i=s,r=c)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const s=e.position[o];OX({value:i,inclusive:r},{value:s,inclusive:e.inclusive})<0&&(i=s,r=e.inclusive);break}return{value:i,inclusive:r}}function WX(n,t,e){let i=b_,r=!0;for(const o of Lk(n,t)){let s=b_,c=!0;switch(o.op){case">=":case">":s=TBe(o.value),c=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,c=!1;break;case"!=":case"not-in":s=b_}FX({value:i,inclusive:r},{value:s,inclusive:c})>0&&(i=s,r=c)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const s=e.position[o];FX({value:i,inclusive:r},{value:s,inclusive:e.inclusive})>0&&(i=s,r=e.inclusive);break}return{value:i,inclusive:r}}class ng{constructor(t,e=null,i=[],r=[],o=null,s="F",c=null,u=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null}}function $X(n,t,e,i,r,o,s,c){return new ng(n,t,e,i,r,o,s,c)}function d1(n){return new ng(n)}function XX(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function l4(n){return null!==n.collectionGroup}function h1(n){const t=Ei(n);if(null===t.ce){t.ce=[];const e=new Set;for(const o of t.explicitOrderBy)t.ce.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new Zs(Fa.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(g=>{g.isInequality()&&(c=c.add(g.field))})}),c})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.ce.push(new JE(o,i))}),e.has(Fa.keyField().canonicalString())||t.ce.push(new JE(Fa.keyField(),i))}return t.ce}function dd(n){const t=Ei(n);return t.le||(t.le=function ZX(n,t){if("F"===n.limitType)return a4(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>new JE(r.field,"desc"===r.dir?"asc":"desc"));const e=n.endAt?new E_(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new E_(n.startAt.position,n.startAt.inclusive):null;return a4(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}(t,h1(n))),t.le}function c4(n,t){const e=n.filters.concat([t]);return new ng(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Nk(n,t,e){return new ng(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function tC(n,t){return eC(dd(n),dd(t))&&n.limitType===t.limitType}function JX(n){return`${by(dd(n))}|lt:${n.limitType}`}function p1(n){return`Query(target=${function(e){let i=e.path.canonicalString();return null!==e.collectionGroup&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>GX(r)).join(", ")}]`),KE(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>c1(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>c1(r)).join(",")),`Target(${i})`}(dd(n))}; limitType=${n.limitType})`}function nC(n,t){return t.isFoundDocument()&&function(i,r){const o=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Mi.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,t)&&function(i,r){for(const o of h1(i))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,t)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,t)&&(r=t,!((i=n).startAt&&!function(s,c,u){const g=NX(s,c,u);return s.inclusive?g<=0:g<0}(i.startAt,h1(i),r)||i.endAt&&!function(s,c,u){const g=NX(s,c,u);return s.inclusive?g>=0:g>0}(i.endAt,h1(i),r)));var i,r}function eY(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function tY(n){return(t,e)=>{let i=!1;for(const r of h1(n)){const o=FBe(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function FBe(n,t,e){const i=n.field.isKeyField()?Mi.comparator(t.key,e.key):function(o,s,c){const u=s.data.field(o),g=c.data.field(o);return null!==u&&null!==g?x_(u,g):Yi()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Yi()}}class ig{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){v_(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return SX(this.inner)}size(){return this.innerSize}}const LBe=new ka(Mi.comparator);function wh(){return LBe}const nY=new ka(Mi.comparator);function iC(...n){let t=nY;for(const e of n)t=t.insert(e.key,e);return t}function iY(n){let t=nY;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function ZA(){return rC()}function rY(){return rC()}function rC(){return new ig(n=>n.toString(),(n,t)=>n.isEqual(t))}const NBe=new ka(Mi.comparator),UBe=new Zs(Mi.comparator);function yo(...n){let t=UBe;for(const e of n)t=t.add(e);return t}const VBe=new Zs(to);function u4(){return VBe}function oY(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:WE(t)?"-0":t}}function sY(n){return{integerValue:""+n}}function aY(n,t){return vX(t)?sY(t):oY(n,t)}class Uk{constructor(){this._=void 0}}function QBe(n,t,e){return n instanceof f1?function(r,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Rk(o)&&(o=Mk(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(e,t):n instanceof wy?cY(n,t):n instanceof xy?uY(n,t):function(r,o){const s=lY(r,o),c=dY(s)+dY(r.Pe);return n4(s)&&n4(r.Pe)?sY(c):oY(r.serializer,c)}(n,t)}function jBe(n,t,e){return n instanceof wy?cY(n,t):n instanceof xy?uY(n,t):e}function lY(n,t){return n instanceof A1?n4(i=t)||(o=i)&&"doubleValue"in o?t:{integerValue:0}:null;var i,o}class f1 extends Uk{}class wy extends Uk{constructor(t){super(),this.elements=t}}function cY(n,t){const e=hY(t);for(const i of n.elements)e.some(r=>YA(r,i))||e.push(i);return{arrayValue:{values:e}}}class xy extends Uk{constructor(t){super(),this.elements=t}}function uY(n,t){let e=hY(t);for(const i of n.elements)e=e.filter(r=>!YA(r,i));return{arrayValue:{values:e}}}class A1 extends Uk{constructor(t,e){super(),this.serializer=t,this.Pe=e}}function dY(n){return Tl(n.integerValue||n.doubleValue)}function hY(n){return YE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class oC{constructor(t,e){this.field=t,this.transform=e}}class GBe{constructor(t,e){this.version=t,this.transformResults=e}}class el{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new el}static exists(t){return new el(void 0,t)}static updateTime(t){return new el(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Vk(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class Qk{}function pY(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new g1(n.key,el.none()):new m1(n.key,n.data,el.none());{const e=n.data,i=Pu.empty();let r=new Zs(Fa.comparator);for(let o of t.fields)if(!r.has(o)){let s=e.field(o);null===s&&o.length>1&&(o=o.popLast(),s=e.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new rg(n.key,i,new bh(r.toArray()),el.none())}}function HBe(n,t,e){n instanceof m1?function(r,o,s){const c=r.value.clone(),u=mY(r.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,t,e):n instanceof rg?function(r,o,s){if(!Vk(r.precondition,o))return void o.convertToUnknownDocument(s.version);const c=mY(r.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(AY(r)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function sC(n,t,e,i){return n instanceof m1?function(o,s,c,u){if(!Vk(o.precondition,s))return c;const g=o.value.clone(),w=gY(o.fieldTransforms,u,s);return g.setAll(w),s.convertToFoundDocument(s.version,g).setHasLocalMutations(),null}(n,t,e,i):n instanceof rg?function(o,s,c,u){if(!Vk(o.precondition,s))return c;const g=gY(o.fieldTransforms,u,s),w=s.data;return w.setAll(AY(o)),w.setAll(g),s.convertToFoundDocument(s.version,w).setHasLocalMutations(),null===c?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(T=>T.field))}(n,t,e,i):(c=e,Vk(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c);var s,c}function qBe(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=lY(i.transform,r||null);null!=o&&(null===e&&(e=Pu.empty()),e.set(i.field,o))}return e||null}function fY(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&o1(i,r,(o,s)=>function zBe(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(i=n.transform)instanceof wy&&r instanceof wy||i instanceof xy&&r instanceof xy?o1(i.elements,r.elements,YA):i instanceof A1&&r instanceof A1?YA(i.Pe,r.Pe):i instanceof f1&&r instanceof f1);var i,r}(o,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var i,r}class m1 extends Qk{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class rg extends Qk{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function AY(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function mY(n,t,e){const i=new Map;mr(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],s=o.transform,c=t.data.field(o.field);i.set(o.field,jBe(s,c,e[r]))}return i}function gY(n,t,e){const i=new Map;for(const r of n){const o=r.transform,s=e.data.field(r.field);i.set(r.field,QBe(o,s,t))}return i}class g1 extends Qk{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class d4 extends Qk{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class h4{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&HBe(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=sC(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=sC(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=rY();return this.mutations.forEach(r=>{const o=t.get(r.key),s=o.overlayedDocument;let c=this.applyToLocalView(s,o.mutatedFields);c=e.has(r.key)?null:c;const u=pY(s,c);null!==u&&i.set(r.key,u),s.isValidDocument()||s.convertToNoDocument(Er.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),yo())}isEqual(t){return this.batchId===t.batchId&&o1(this.mutations,t.mutations,(e,i)=>fY(e,i))&&o1(this.baseMutations,t.baseMutations,(e,i)=>fY(e,i))}}class p4{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){mr(t.mutations.length===i.length);let r=function(){return NBe}();const o=t.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new p4(t,e,i,r)}}class f4{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class KBe{constructor(t,e){this.count=t,this.unchangedNames=e}}var fc,as;function vY(n){switch(n){default:return Yi();case gn.CANCELLED:case gn.UNKNOWN:case gn.DEADLINE_EXCEEDED:case gn.RESOURCE_EXHAUSTED:case gn.INTERNAL:case gn.UNAVAILABLE:case gn.UNAUTHENTICATED:return!1;case gn.INVALID_ARGUMENT:case gn.NOT_FOUND:case gn.ALREADY_EXISTS:case gn.PERMISSION_DENIED:case gn.FAILED_PRECONDITION:case gn.ABORTED:case gn.OUT_OF_RANGE:case gn.UNIMPLEMENTED:case gn.DATA_LOSS:return!0}}function yY(n){if(void 0===n)return Wl("GRPC error has no .code"),gn.UNKNOWN;switch(n){case fc.OK:return gn.OK;case fc.CANCELLED:return gn.CANCELLED;case fc.UNKNOWN:return gn.UNKNOWN;case fc.DEADLINE_EXCEEDED:return gn.DEADLINE_EXCEEDED;case fc.RESOURCE_EXHAUSTED:return gn.RESOURCE_EXHAUSTED;case fc.INTERNAL:return gn.INTERNAL;case fc.UNAVAILABLE:return gn.UNAVAILABLE;case fc.UNAUTHENTICATED:return gn.UNAUTHENTICATED;case fc.INVALID_ARGUMENT:return gn.INVALID_ARGUMENT;case fc.NOT_FOUND:return gn.NOT_FOUND;case fc.ALREADY_EXISTS:return gn.ALREADY_EXISTS;case fc.PERMISSION_DENIED:return gn.PERMISSION_DENIED;case fc.FAILED_PRECONDITION:return gn.FAILED_PRECONDITION;case fc.ABORTED:return gn.ABORTED;case fc.OUT_OF_RANGE:return gn.OUT_OF_RANGE;case fc.UNIMPLEMENTED:return gn.UNIMPLEMENTED;case fc.DATA_LOSS:return gn.DATA_LOSS;default:return Yi()}}(as=fc||(fc={}))[as.OK=0]="OK",as[as.CANCELLED=1]="CANCELLED",as[as.UNKNOWN=2]="UNKNOWN",as[as.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",as[as.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",as[as.NOT_FOUND=5]="NOT_FOUND",as[as.ALREADY_EXISTS=6]="ALREADY_EXISTS",as[as.PERMISSION_DENIED=7]="PERMISSION_DENIED",as[as.UNAUTHENTICATED=16]="UNAUTHENTICATED",as[as.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",as[as.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",as[as.ABORTED=10]="ABORTED",as[as.OUT_OF_RANGE=11]="OUT_OF_RANGE",as[as.UNIMPLEMENTED=12]="UNIMPLEMENTED",as[as.INTERNAL=13]="INTERNAL",as[as.UNAVAILABLE=14]="UNAVAILABLE",as[as.DATA_LOSS=15]="DATA_LOSS";function bY(){return new TextEncoder}const WBe=new my([4294967295,4294967295],0);function wY(n){const t=bY().encode(n),e=new tX;return e.update(t),new Uint8Array(e.digest())}function xY(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new my([e,i],0),new my([r,o],0)]}class A4{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new aC(`Invalid padding: ${e}`);if(i<0)throw new aC(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new aC(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new aC(`Invalid padding when bitmap length is 0: ${e}`);this.Ie=8*t.length-e,this.Te=my.fromNumber(this.Ie)}Ee(t,e,i){let r=t.add(e.multiply(my.fromNumber(i)));return 1===r.compare(WBe)&&(r=new my([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const e=wY(t),[i,r]=xY(e);for(let o=0;o<this.hashCount;o++){const s=this.Ee(i,r,o);if(!this.de(s))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new A4(o,r,e);return i.forEach(c=>s.insert(c)),s}insert(t){if(0===this.Ie)return;const e=wY(t),[i,r]=xY(e);for(let o=0;o<this.hashCount;o++){const s=this.Ee(i,r,o);this.Ae(s)}}Ae(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class aC extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class lC{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,cC.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new lC(Er.min(),r,new ka(to),wh(),yo())}}class cC{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new cC(i,e,yo(),yo(),yo())}}class zk{constructor(t,e,i,r){this.Re=t,this.removedTargetIds=e,this.key=i,this.Ve=r}}class EY{constructor(t,e){this.targetId=t,this.me=e}}class CY{constructor(t,e,i=Il.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class IY{constructor(){this.fe=0,this.ge=SY(),this.pe=Il.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}Ce(){let t=yo(),e=yo(),i=yo();return this.ge.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Yi()}}),new cC(this.pe,this.ye,t,e,i)}ve(){this.we=!1,this.ge=SY()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,mr(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class $Be{constructor(t){this.Le=t,this.Be=new Map,this.ke=wh(),this.qe=TY(),this.Qe=new ka(to)}Ke(t){for(const e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(e,t.Ve):this.Ue(e,t.key,t.Ve);for(const e of t.removedTargetIds)this.Ue(e,t.key,t.Ve)}We(t){this.forEachTarget(t,e=>{const i=this.Ge(e);switch(t.state){case 0:this.ze(e)&&i.De(t.resumeToken);break;case 1:i.Oe(),i.Se||i.ve(),i.De(t.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(e);break;case 3:this.ze(e)&&(i.Ne(),i.De(t.resumeToken));break;case 4:this.ze(e)&&(this.je(e),i.De(t.resumeToken));break;default:Yi()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Be.forEach((i,r)=>{this.ze(r)&&e(r)})}He(t){const e=t.targetId,i=t.me.count,r=this.Je(e);if(r){const o=r.target;if(Fk(o))if(0===i){const s=new Mi(o.path);this.Ue(e,s,La.newNoDocument(s,Er.min()))}else mr(1===i);else{const s=this.Ye(e);if(s!==i){const c=this.Ze(t),u=c?this.Xe(c,t,s):1;0!==u&&(this.je(e),this.Qe=this.Qe.insert(e,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(t){const e=t.me.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let s,c;try{s=tg(i).toUint8Array()}catch(u){if(u instanceof DX)return yh("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new A4(s,r,o)}catch(u){return yh(u instanceof aC?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===c.Ie?null:c}Xe(t,e,i){return e.me.count===i-this.nt(t,e.targetId)?0:2}nt(t,e){const i=this.Le.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const s=this.Le.tt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(c)||(this.Ue(e,o,null),r++)}),r}rt(t){const e=new Map;this.Be.forEach((o,s)=>{const c=this.Je(s);if(c){if(o.current&&Fk(c.target)){const u=new Mi(c.target.path);null!==this.ke.get(u)||this.it(s,u)||this.Ue(s,u,La.newNoDocument(u,t))}o.be&&(e.set(s,o.Ce()),o.ve())}});let i=yo();this.qe.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{const g=this.Je(u);return!g||"TargetPurposeLimboResolution"===g.purpose||(c=!1,!1)}),c&&(i=i.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(t));const r=new lC(t,e,this.Qe,this.ke,i);return this.ke=wh(),this.qe=TY(),this.Qe=new ka(to),r}$e(t,e){if(!this.ze(t))return;const i=this.it(t,e.key)?2:0;this.Ge(t).Fe(e.key,i),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t))}Ue(t,e,i){if(!this.ze(t))return;const r=this.Ge(t);this.it(t,e)?r.Fe(e,1):r.Me(e),this.qe=this.qe.insert(e,this.st(e).delete(t)),i&&(this.ke=this.ke.insert(e,i))}removeTarget(t){this.Be.delete(t)}Ye(t){const e=this.Ge(t).Ce();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let e=this.Be.get(t);return e||(e=new IY,this.Be.set(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new Zs(to),this.qe=this.qe.insert(t,e)),e}ze(t){const e=null!==this.Je(t);return e||Zn("WatchChangeAggregator","Detected inactive target",t),e}Je(t){const e=this.Be.get(t);return e&&e.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new IY),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.Ue(t,e,null)})}it(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function TY(){return new ka(Mi.comparator)}function SY(){return new ka(Mi.comparator)}const XBe={asc:"ASCENDING",desc:"DESCENDING"},YBe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZBe={and:"AND",or:"OR"};class JBe{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function m4(n,t){return n.useProto3Json||KE(t)?t:{value:t}}function _1(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function kY(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function ePe(n,t){return _1(n,t.toTimestamp())}function $l(n){return mr(!!n),Er.fromTimestamp(function(e){const i=eg(e);return new Ja(i.seconds,i.nanos)}(n))}function g4(n,t){return _4(n,t).canonicalString()}function _4(n,t){const e=(r=n,new Zo(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===t?e:e.child(t)}function DY(n){const t=Zo.fromString(n);return mr(QY(t)),t}function uC(n,t){return g4(n.databaseId,t.path)}function JA(n,t){const e=DY(t);if(e.get(1)!==n.databaseId.projectId)throw new Kn(gn.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Kn(gn.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Mi(BY(e))}function RY(n,t){return g4(n.databaseId,t)}function MY(n){const t=DY(n);return 4===t.length?Zo.emptyPath():BY(t)}function v4(n){return new Zo(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function BY(n){return mr(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function PY(n,t,e){return{name:uC(n,t),fields:e.value.mapValue.fields}}function OY(n,t,e){const i=JA(n,t.name),r=$l(t.updateTime),o=t.createTime?$l(t.createTime):Er.min(),s=new Pu({mapValue:{fields:t.fields}}),c=La.newFoundDocument(i,r,o,s);return e&&c.setHasCommittedMutations(),e?c.setHasCommittedMutations():c}function dC(n,t){let e;if(t instanceof m1)e={update:PY(n,t.key,t.value)};else if(t instanceof g1)e={delete:uC(n,t.key)};else if(t instanceof rg)e={update:PY(n,t.key,t.data),updateMask:lPe(t.fieldMask)};else{if(!(t instanceof d4))return Yi();e={verify:uC(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,s){const c=s.transform;if(c instanceof f1)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof wy)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof xy)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof A1)return{fieldPath:s.field.canonicalString(),increment:c.Pe};throw Yi()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(o=t.precondition).updateTime?{updateTime:ePe(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Yi()),e;var o}function y4(n,t){const e=t.currentDocument?void 0!==(o=t.currentDocument).updateTime?el.updateTime($l(o.updateTime)):void 0!==o.exists?el.exists(o.exists):el.none():el.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,c){let u=null;"setToServerValue"in c?(mr("REQUEST_TIME"===c.setToServerValue),u=new f1):"appendMissingElements"in c?u=new wy(c.appendMissingElements.values||[]):"removeAllFromArray"in c?u=new xy(c.removeAllFromArray.values||[]):"increment"in c?u=new A1(s,c.increment):Yi();const g=Fa.fromServerFormat(c.fieldPath);return new oC(g,u)}(n,r)):[];var o;if(t.update){const r=JA(n,t.update.name),o=new Pu({mapValue:{fields:t.update.fields}});if(t.updateMask){const s=new bh((t.updateMask.fieldPaths||[]).map(w=>Fa.fromServerFormat(w)));return new rg(r,o,s,e,i)}return new m1(r,o,e,i)}if(t.delete){const r=JA(n,t.delete);return new g1(r,e)}if(t.verify){const r=JA(n,t.verify);return new d4(r,e)}return Yi()}function FY(n,t){return{documents:[RY(n,t.path)]}}function Gk(n,t){const e={structuredQuery:{}},i=t.path;let r;null!==t.collectionGroup?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=RY(n,r);const o=function(g){if(0!==g.length)return VY(Hs.create(g,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const s=function(g){if(0!==g.length)return g.map(w=>{return{field:C_((F=w).field),direction:oPe(F.dir)};var F})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const c=m4(n,t.limit);return null!==c&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt={before:(g=t.startAt).inclusive,values:g.position}),t.endAt&&(e.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{_t:e,parent:r};var g}function NY(n){let t=MY(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){mr(1===i);const w=e.from[0];w.allDescendants?r=w.collectionId:t=t.child(w.collectionId)}let o=[];e.where&&(o=function(T){const F=UY(T);return F instanceof Hs&&o4(F)?F.getFilters():[F]}(e.where));let s=[];e.orderBy&&(s=e.orderBy.map(F=>{return new JE(v1((ee=F).field),function(xe){switch(xe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ee.direction));var ee}));let c=null;e.limit&&(c=function(T){let F;return F="object"==typeof T?T.value:T,KE(F)?null:F}(e.limit));let u=null;var T;e.startAt&&(u=new E_((T=e.startAt).values||[],!!T.before));let g=null;return e.endAt&&(g=function(T){return new E_(T.values||[],!T.before)}(e.endAt)),$X(t,r,s,o,c,"F",u,g)}function UY(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=v1(e.unaryFilter.field);return Jo.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=v1(e.unaryFilter.field);return Jo.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=v1(e.unaryFilter.field);return Jo.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=v1(e.unaryFilter.field);return Jo.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Yi()}}(n):void 0!==n.fieldFilter?Jo.create(v1((e=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Yi()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Hs.create(e.compositeFilter.filters.map(i=>UY(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Yi()}}(e.compositeFilter.op))}(n):Yi();var e}function oPe(n){return XBe[n]}function sPe(n){return YBe[n]}function aPe(n){return ZBe[n]}function C_(n){return{fieldPath:n.canonicalString()}}function v1(n){return Fa.fromServerFormat(n.fieldPath)}function VY(n){return n instanceof Jo?function(e){if("=="===e.op){if(BX(e.value))return{unaryFilter:{field:C_(e.field),op:"IS_NAN"}};if(MX(e.value))return{unaryFilter:{field:C_(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(BX(e.value))return{unaryFilter:{field:C_(e.field),op:"IS_NOT_NAN"}};if(MX(e.value))return{unaryFilter:{field:C_(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:C_(e.field),op:sPe(e.op),value:e.value}}}(n):n instanceof Hs?function(e){const i=e.getFilters().map(r=>VY(r));return 1===i.length?i[0]:{compositeFilter:{op:aPe(e.op),filters:i}}}(n):Yi()}function lPe(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function QY(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class og{constructor(t,e,i,r,o=Er.min(),s=Er.min(),c=Il.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(t){return new og(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new og(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new og(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new og(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class jY{constructor(t){this.ct=t}}function zY(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:Hk(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:uC(o=n.ct,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:_1(o,s.version.toTimestamp()),createTime:_1(o,s.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Ey(t.version)};else{if(!t.isUnknownDocument())return Yi();i.unknownDocument={path:e.path.toArray(),version:Ey(t.version)}}var o,s;return i}function Hk(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Ey(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Cy(n){const t=new Ja(n.seconds,n.nanoseconds);return Er.fromTimestamp(t)}function Iy(n,t){const e=(t.baseMutations||[]).map(o=>y4(n.ct,o));for(let o=0;o<t.mutations.length-1;++o)o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(t.mutations[o].updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o);const i=t.mutations.map(o=>y4(n.ct,o)),r=Ja.fromMillis(t.localWriteTimeMs);return new h4(t.batchId,r,e,i)}function hC(n){const t=Cy(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Cy(n.lastLimboFreeSnapshotVersion):Er.min();let i;return i=void 0!==n.query.documents?(mr(1===(o=n.query).documents.length),dd(d1(MY(o.documents[0])))):function(o){return dd(NY(o))}(n.query),new og(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,Il.fromBase64String(n.resumeToken));var o}function GY(n,t){const e=Ey(t.snapshotVersion),i=Ey(t.lastLimboFreeSnapshotVersion);let r;r=Fk(t.target)?FY(n.ct,t.target):Gk(n.ct,t.target)._t;const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:by(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function b4(n){const t=NY({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Nk(t,t.limit,"L"):t}function w4(n,t){return new f4(t.largestBatchId,y4(n.ct,t.overlayMutation))}function HY(n,t){const e=t.path.lastSegment();return[n,ud(t.path.popLast()),e]}function qY(n,t,e,i){return{indexId:n,uid:t,sequenceNumber:e,readTime:Ey(i.readTime),documentKey:ud(i.documentKey.path),largestBatchId:i.largestBatchId}}class uPe{getBundleMetadata(t,e){return KY(t).get(e).next(i=>{if(i)return{id:(o=i).bundleId,createTime:Cy(o.createTime),version:o.version};var o})}saveBundleMetadata(t,e){return KY(t).put({bundleId:(r=e).id,createTime:Ey($l(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return WY(t).get(e).next(i=>{if(i)return{name:(o=i).name,query:b4(o.bundledQuery),readTime:Cy(o.readTime)};var o})}saveNamedQuery(t,e){return WY(t).put({name:(r=e).name,readTime:Ey($l(r.readTime)),bundledQuery:r.bundledQuery});var r}}function KY(n){return Uc(n,"bundles")}function WY(n){return Uc(n,"namedQueries")}class qk{constructor(t,e){this.serializer=t,this.userId=e}static lt(t,e){return new qk(t,e.uid||"")}getOverlay(t,e){return pC(t).get(HY(this.userId,e)).next(i=>i?w4(this.serializer,i):null)}getOverlays(t,e){const i=ZA();return Yt.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,s)=>{const c=new f4(e,s);r.push(this.ht(t,c))}),Yt.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(s=>r.add(ud(s.getCollectionPath())));const o=[];return r.forEach(s=>{const c=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(pC(t).j("collectionPathOverlayIndex",c))}),Yt.waitFor(o)}getOverlaysForCollection(t,e,i){const r=ZA(),o=ud(e),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return pC(t).U("collectionPathOverlayIndex",s).next(c=>{for(const u of c){const g=w4(this.serializer,u);r.set(g.getKey(),g)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=ZA();let s;const c=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return pC(t).J({index:"collectionGroupOverlayIndex",range:c},(u,g,w)=>{const T=w4(this.serializer,g);o.size()<r||T.largestBatchId===s?(o.set(T.getKey(),T),s=T.largestBatchId):w.done()}).next(()=>o)}ht(t,e){return pC(t).put(function(r,o,s){const[c,u,g]=HY(o,s.mutation.key);return{userId:o,collectionPath:u,documentId:g,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:dC(r.ct,s.mutation)}}(this.serializer,this.userId,e))}}function pC(n){return Uc(n,"documentOverlays")}class dPe{Pt(t){return Uc(t,"globals")}getSessionToken(t){return this.Pt(t).get("sessionToken").next(e=>{const i=e?.value;return i?Il.fromUint8Array(i):Il.EMPTY_BYTE_STRING})}setSessionToken(t,e){return this.Pt(t).put({name:"sessionToken",value:e.toUint8Array()})}}class Ty{constructor(){}It(t,e){this.Tt(t,e),e.Et()}Tt(t,e){if("nullValue"in t)this.dt(e,5);else if("booleanValue"in t)this.dt(e,10),e.At(t.booleanValue?1:0);else if("integerValue"in t)this.dt(e,15),e.At(Tl(t.integerValue));else if("doubleValue"in t){const i=Tl(t.doubleValue);isNaN(i)?this.dt(e,13):(this.dt(e,15),WE(i)?e.At(0):e.At(i))}else if("timestampValue"in t){let i=t.timestampValue;this.dt(e,20),"string"==typeof i&&(i=eg(i)),e.Rt(`${i.seconds||""}`),e.At(i.nanos||0)}else if("stringValue"in t)this.Vt(t.stringValue,e),this.ft(e);else if("bytesValue"in t)this.dt(e,30),e.gt(tg(t.bytesValue)),this.ft(e);else if("referenceValue"in t)this.yt(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.dt(e,45),e.At(i.latitude||0),e.At(i.longitude||0)}else"mapValue"in t?PX(t)?this.dt(e,Number.MAX_SAFE_INTEGER):(this.wt(t.mapValue,e),this.ft(e)):"arrayValue"in t?(this.St(t.arrayValue,e),this.ft(e)):Yi()}Vt(t,e){this.dt(e,25),this.bt(t,e)}bt(t,e){e.Rt(t)}wt(t,e){const i=t.fields||{};this.dt(e,55);for(const r of Object.keys(i))this.Vt(r,e),this.Tt(i[r],e)}St(t,e){const i=t.values||[];this.dt(e,50);for(const r of i)this.Tt(r,e)}yt(t,e){this.dt(e,37),Mi.fromName(t).path.forEach(i=>{this.dt(e,60),this.bt(i,e)})}dt(t,e){t.At(e)}ft(t){t.At(2)}}function hPe(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function $Y(n){const t=64-function(i){let r=0;for(let o=0;o<8;++o){const s=hPe(255&i[o]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(t/8)}Ty.Dt=new Ty;class pPe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.vt(i.value),i=e.next();this.Ft()}Mt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.xt(i.value),i=e.next();this.Ot()}Nt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.vt(i);else if(i<2048)this.vt(960|i>>>6),this.vt(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.vt(480|i>>>12),this.vt(128|63&i>>>6),this.vt(128|63&i);else{const r=e.codePointAt(0);this.vt(240|r>>>18),this.vt(128|63&r>>>12),this.vt(128|63&r>>>6),this.vt(128|63&r)}}this.Ft()}Lt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.xt(i);else if(i<2048)this.xt(960|i>>>6),this.xt(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.xt(480|i>>>12),this.xt(128|63&i>>>6),this.xt(128|63&i);else{const r=e.codePointAt(0);this.xt(240|r>>>18),this.xt(128|63&r>>>12),this.xt(128|63&r>>>6),this.xt(128|63&r)}}this.Ot()}Bt(t){const e=this.kt(t),i=$Y(e);this.qt(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Qt(t){const e=this.kt(t),i=$Y(e);this.qt(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}Kt(){this.$t(255),this.$t(255)}Ut(){this.Wt(255),this.Wt(255)}reset(){this.position=0}seed(t){this.qt(t.length),this.buffer.set(t,this.position),this.position+=t.length}Gt(){return this.buffer.slice(0,this.position)}kt(t){const e=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(t),i=!!(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}vt(t){const e=255&t;0===e?(this.$t(0),this.$t(255)):255===e?(this.$t(255),this.$t(0)):this.$t(e)}xt(t){const e=255&t;0===e?(this.Wt(0),this.Wt(255)):255===e?(this.Wt(255),this.Wt(0)):this.Wt(t)}Ft(){this.$t(0),this.$t(1)}Ot(){this.Wt(0),this.Wt(1)}$t(t){this.qt(1),this.buffer[this.position++]=t}Wt(t){this.qt(1),this.buffer[this.position++]=~t}qt(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class fPe{constructor(t){this.zt=t}gt(t){this.zt.Ct(t)}Rt(t){this.zt.Nt(t)}At(t){this.zt.Bt(t)}Et(){this.zt.Kt()}}class APe{constructor(t){this.zt=t}gt(t){this.zt.Mt(t)}Rt(t){this.zt.Lt(t)}At(t){this.zt.Qt(t)}Et(){this.zt.Ut()}}class fC{constructor(){this.zt=new pPe,this.jt=new fPe(this.zt),this.Ht=new APe(this.zt)}seed(t){this.zt.seed(t)}Jt(t){return 0===t?this.jt:this.Ht}Gt(){return this.zt.Gt()}reset(){this.zt.reset()}}class Sy{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Yt(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Sy(this.indexId,this.documentKey,this.arrayValue,i)}}function I_(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=XY(n.arrayValue,t.arrayValue),0!==e?e:(e=XY(n.directionalValue,t.directionalValue),0!==e?e:Mi.comparator(n.documentKey,t.documentKey)))}function XY(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class YY{constructor(t){this.Zt=new Zs((e,i)=>Fa.comparator(e.field,i.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Xt=t.orderBy,this.en=[];for(const e of t.filters){const i=e;i.isInequality()?this.Zt=this.Zt.add(i):this.en.push(i)}}get tn(){return this.Zt.size>1}nn(t){if(mr(t.collectionGroup===this.collectionId),this.tn)return!1;const e=$L(t);if(void 0!==e&&!this.rn(e))return!1;const i=gy(t);let r=new Set,o=0,s=0;for(;o<i.length&&this.rn(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Zt.size>0){const c=this.Zt.getIterator().getNext();if(!r.has(c.field.canonicalString())){const u=i[o];if(!this.sn(c,u)||!this.on(this.Xt[s++],u))return!1}++o}for(;o<i.length;++o)if(s>=this.Xt.length||!this.on(this.Xt[s++],i[o]))return!1;return!0}_n(){if(this.tn)return null;let t=new Zs(Fa.comparator);const e=[];for(const i of this.en)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)e.push(new _y(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),e.push(new _y(i.field,0))}for(const i of this.Xt)i.field.isKeyField()||t.has(i.field)||(t=t.add(i.field),e.push(new _y(i.field,"asc"===i.dir?0:1)));return new s1(s1.UNKNOWN_ID,this.collectionId,e,a1.empty())}rn(t){for(const e of this.en)if(this.sn(e,t))return!0;return!1}sn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}on(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function ZY(n){var t,e;if(mr(n instanceof Jo||n instanceof Hs),n instanceof Jo){if(n instanceof qX){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(o=>Jo.create(n.field,"==",o)))||[];return Hs.create(r,"or")}return n}const i=n.filters.map(r=>ZY(r));return Hs.create(i,n.op)}function mPe(n){if(0===n.getFilters().length)return[];const t=C4(ZY(n));return mr(JY(t)),x4(t)||E4(t)?[t]:t.getFilters()}function x4(n){return n instanceof Jo}function E4(n){return n instanceof Hs&&o4(n)}function JY(n){return x4(n)||E4(n)||function(e){if(e instanceof Hs&&r4(e)){for(const i of e.getFilters())if(!x4(i)&&!E4(i))return!1;return!0}return!1}(n)}function C4(n){if(mr(n instanceof Jo||n instanceof Hs),n instanceof Jo)return n;if(1===n.filters.length)return C4(n.filters[0]);const t=n.filters.map(i=>C4(i));let e=Hs.create(t,n.op);return e=Kk(e),JY(e)?e:(mr(e instanceof Hs),mr(u1(e)),mr(e.filters.length>1),e.filters.reduce((i,r)=>I4(i,r)))}function I4(n,t){let e;return mr(n instanceof Jo||n instanceof Hs),mr(t instanceof Jo||t instanceof Hs),e=n instanceof Jo?t instanceof Jo?Hs.create([n,t],"and"):eZ(n,t):t instanceof Jo?eZ(t,n):function(r,o){if(mr(r.filters.length>0&&o.filters.length>0),u1(r)&&u1(o))return zX(r,o.getFilters());const s=r4(r)?r:o,c=r4(r)?o:r,u=s.filters.map(g=>I4(g,c));return Hs.create(u,"or")}(n,t),Kk(e)}function eZ(n,t){if(u1(t))return zX(t,n.getFilters());{const e=t.filters.map(i=>I4(n,i));return Hs.create(e,"or")}}function Kk(n){if(mr(n instanceof Jo||n instanceof Hs),n instanceof Jo)return n;const t=n.getFilters();if(1===t.length)return Kk(t[0]);if(QX(n))return n;const e=t.map(r=>Kk(r)),i=[];return e.forEach(r=>{r instanceof Jo?i.push(r):r instanceof Hs&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Hs.create(i,n.op)}class gPe{constructor(){this.an=new T4}addToCollectionParentIndex(t,e){return this.an.add(e),Yt.resolve()}getCollectionParents(t,e){return Yt.resolve(this.an.getEntries(e))}addFieldIndex(t,e){return Yt.resolve()}deleteFieldIndex(t,e){return Yt.resolve()}deleteAllFieldIndexes(t){return Yt.resolve()}createTargetIndexes(t,e){return Yt.resolve()}getDocumentsMatchingTarget(t,e){return Yt.resolve(null)}getIndexType(t,e){return Yt.resolve(0)}getFieldIndexes(t,e){return Yt.resolve([])}getNextCollectionGroupToUpdate(t){return Yt.resolve(null)}getMinOffset(t,e){return Yt.resolve(rp.min())}getMinOffsetFromCollectionGroup(t,e){return Yt.resolve(rp.min())}updateCollectionGroup(t,e,i){return Yt.resolve()}updateIndexEntries(t,e){return Yt.resolve()}}class T4{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Zs(Zo.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Zs(Zo.comparator)).toArray()}}const Wk=new Uint8Array(0);class _Pe{constructor(t,e){this.databaseId=e,this.un=new T4,this.cn=new ig(i=>by(i),(i,r)=>eC(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.un.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.un.add(e)});const o={collectionId:i,parent:ud(r)};return tZ(t).put(o)}return Yt.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[hX(e),""],!1,!0);return tZ(t).U(r).next(o=>{for(const s of o){if(s.collectionId!==e)break;i.push(XA(s.parent))}return i})}addFieldIndex(t,e){const i=AC(t),r={indexId:(c=e).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var c;delete r.indexId;const o=i.add(r);if(e.indexState){const s=b1(t);return o.next(c=>{s.put(qY(c,this.uid,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=AC(t),r=b1(t),o=y1(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const e=AC(t),i=y1(t),r=b1(t);return e.j().next(()=>i.j()).next(()=>r.j())}createTargetIndexes(t,e){return Yt.forEach(this.ln(e),i=>this.getIndexType(t,i).next(r=>{if(0===r||1===r){const o=new YY(i)._n();if(null!=o)return this.addFieldIndex(t,o)}}))}getDocumentsMatchingTarget(t,e){const i=y1(t);let r=!0;const o=new Map;return Yt.forEach(this.ln(e),s=>this.hn(t,s).next(c=>{r&&(r=!!c),o.set(s,c)})).next(()=>{if(r){let s=yo();const c=[];return Yt.forEach(o,(u,g)=>{var yt;Zn("IndexedDbIndexManager",`Using index ${yt=u,`id=${yt.indexId}|cg=${yt.collectionGroup}|f=${yt.fields.map(cn=>`${cn.fieldPath}:${cn.kind}`).join(",")}`} to execute ${by(e)}`);const w=function(yt,cn){const $n=$L(cn);if(void 0===$n)return null;for(const si of Lk(yt,$n.fieldPath))switch(si.op){case"array-contains-any":return si.value.arrayValue.values||[];case"array-contains":return[si.value]}return null}(g,u),T=function(yt,cn){const $n=new Map;for(const si of gy(cn))for(const bt of Lk(yt,si.fieldPath))switch(bt.op){case"==":case"in":$n.set(si.fieldPath.canonicalString(),bt.value);break;case"not-in":case"!=":return $n.set(si.fieldPath.canonicalString(),bt.value),Array.from($n.values())}return null}(g,u),F=function(yt,cn){const $n=[];let si=!0;for(const bt of gy(cn)){const nt=0===bt.kind?KX(yt,bt.fieldPath,yt.startAt):WX(yt,bt.fieldPath,yt.startAt);$n.push(nt.value),si&&(si=nt.inclusive)}return new E_($n,si)}(g,u),H=function(yt,cn){const $n=[];let si=!0;for(const bt of gy(cn)){const nt=0===bt.kind?WX(yt,bt.fieldPath,yt.endAt):KX(yt,bt.fieldPath,yt.endAt);$n.push(nt.value),si&&(si=nt.inclusive)}return new E_($n,si)}(g,u),ee=this.Pn(u,g,F),Ae=this.Pn(u,g,H),xe=this.In(u,g,T),et=this.Tn(u.indexId,w,ee,F.inclusive,Ae,H.inclusive,xe);return Yt.forEach(et,Ye=>i.G(Ye,e.limit).next(yt=>{yt.forEach(cn=>{const $n=Mi.fromSegments(cn.documentKey);s.has($n)||(s=s.add($n),c.push($n))})}))}).next(()=>c)}return Yt.resolve(null)})}ln(t){let e=this.cn.get(t);return e||(e=0===t.filters.length?[t]:mPe(Hs.create(t.filters,"and")).map(i=>a4(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.cn.set(t,e),e)}Tn(t,e,i,r,o,s,c){const u=(null!=e?e.length:1)*Math.max(i.length,o.length),g=u/(null!=e?e.length:1),w=[];for(let T=0;T<u;++T){const F=e?this.En(e[T/g]):Wk,H=this.dn(t,F,i[T%g],r),ee=this.An(t,F,o[T%g],s),Ae=c.map(xe=>this.dn(t,F,xe,!0));w.push(...this.createRange(H,ee,Ae))}return w}dn(t,e,i,r){const o=new Sy(t,Mi.empty(),e,i);return r?o:o.Yt()}An(t,e,i,r){const o=new Sy(t,Mi.empty(),e,i);return r?o.Yt():o}hn(t,e){const i=new YY(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let s=null;for(const c of o)i.nn(c)&&(!s||c.fields.length>s.fields.length)&&(s=c);return s})}getIndexType(t,e){let i=2;const r=this.ln(e);return Yt.forEach(r,o=>this.hn(t,o).next(s=>{s?0!==i&&s.fields.length<function(u){let g=new Zs(Fa.comparator),w=!1;for(const T of u.filters)for(const F of T.getFlattenedFilters())F.field.isKeyField()||("array-contains"===F.op||"array-contains-any"===F.op?w=!0:g=g.add(F.field));for(const T of u.orderBy)T.field.isKeyField()||(g=g.add(T.field));return g.size+(w?1:0)}(o)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}Rn(t,e){const i=new fC;for(const r of gy(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const s=i.Jt(r.kind);Ty.Dt.It(o,s)}return i.Gt()}En(t){const e=new fC;return Ty.Dt.It(t,e.Jt(0)),e.Gt()}Vn(t,e){const i=new fC;return Ty.Dt.It(yy(this.databaseId,e),i.Jt(function(o){const s=gy(o);return 0===s.length?0:s[s.length-1].kind}(t))),i.Gt()}In(t,e,i){if(null===i)return[];let r=[];r.push(new fC);let o=0;for(const s of gy(t)){const c=i[o++];for(const u of r)if(this.mn(e,s.fieldPath)&&YE(c))r=this.fn(r,s,c);else{const g=u.Jt(s.kind);Ty.Dt.It(c,g)}}return this.gn(r)}Pn(t,e,i){return this.In(t,e,i.position)}gn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Gt();return e}fn(t,e,i){const r=[...t],o=[];for(const s of i.arrayValue.values||[])for(const c of r){const u=new fC;u.seed(c.Gt()),Ty.Dt.It(s,u.Jt(e.kind)),o.push(u)}return o}mn(t,e){return!!t.filters.find(i=>i instanceof Jo&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=AC(t),r=b1(t);return(e?i.U("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.U()).next(o=>{const s=[];return Yt.forEach(o,c=>r.get([c.indexId,this.uid]).next(u=>{s.push(function(w,T){const F=T?new a1(T.sequenceNumber,new rp(Cy(T.readTime),new Mi(XA(T.documentKey)),T.largestBatchId)):a1.empty(),H=w.fields.map(([ee,Ae])=>new _y(Fa.fromServerFormat(ee),Ae));return new s1(w.indexId,w.collectionGroup,H,F)}(c,u))})).next(()=>s)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:to(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=AC(t),o=b1(t);return this.pn(t).next(s=>r.U("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(c=>Yt.forEach(c,u=>o.put(qY(u.indexId,this.uid,s,i)))))}updateIndexEntries(t,e){const i=new Map;return Yt.forEach(e,(r,o)=>{const s=i.get(r.collectionGroup);return(s?Yt.resolve(s):this.getFieldIndexes(t,r.collectionGroup)).next(c=>(i.set(r.collectionGroup,c),Yt.forEach(c,u=>this.yn(t,r,u).next(g=>{const w=this.wn(o,u);return g.isEqual(w)?Yt.resolve():this.Sn(t,o,u,g,w)}))))})}bn(t,e,i,r){return y1(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Vn(i,e.key),documentKey:e.key.path.toArray()})}Dn(t,e,i,r){return y1(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Vn(i,e.key),e.key.path.toArray()])}yn(t,e,i){const r=y1(t);let o=new Zs(I_);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.Vn(i,e)])},(s,c)=>{o=o.add(new Sy(i.indexId,e,c.arrayValue,c.directionalValue))}).next(()=>o)}wn(t,e){let i=new Zs(I_);const r=this.Rn(e,t);if(null==r)return i;const o=$L(e);if(null!=o){const s=t.data.field(o.fieldPath);if(YE(s))for(const c of s.arrayValue.values||[])i=i.add(new Sy(e.indexId,t.key,this.En(c),r))}else i=i.add(new Sy(e.indexId,t.key,Wk,r));return i}Sn(t,e,i,r,o){Zn("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const s=[];return function(u,g,w,T,F){const H=u.getIterator(),ee=g.getIterator();let Ae=l1(H),xe=l1(ee);for(;Ae||xe;){let et=!1,Ye=!1;if(Ae&&xe){const yt=w(Ae,xe);yt<0?Ye=!0:yt>0&&(et=!0)}else null!=Ae?Ye=!0:et=!0;et?(T(xe),xe=l1(ee)):Ye?(F(Ae),Ae=l1(H)):(Ae=l1(H),xe=l1(ee))}}(r,o,I_,c=>{s.push(this.bn(t,e,i,c))},c=>{s.push(this.Dn(t,e,i,c))}),Yt.waitFor(s)}pn(t){let e=1;return b1(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((s,c)=>I_(s,c)).filter((s,c,u)=>!c||0!==I_(s,u[c-1]));const r=[];r.push(t);for(const s of i){const c=I_(s,t),u=I_(s,e);if(0===c)r[0]=t.Yt();else if(c>0&&u<0)r.push(s),r.push(s.Yt());else if(u>0)break}r.push(e);const o=[];for(let s=0;s<r.length;s+=2){if(this.Cn(r[s],r[s+1]))return[];o.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,Wk,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,Wk,[]]))}return o}Cn(t,e){return I_(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(nZ)}getMinOffset(t,e){return Yt.mapArray(this.ln(e),i=>this.hn(t,i).next(r=>r||Yi())).next(nZ)}}function tZ(n){return Uc(n,"collectionParents")}function y1(n){return Uc(n,"indexEntries")}function AC(n){return Uc(n,"indexConfiguration")}function b1(n){return Uc(n,"indexState")}function nZ(n){mr(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;XL(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new rp(t.readTime,t.documentKey,e)}const iZ={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class hd{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new hd(t,hd.DEFAULT_COLLECTION_PERCENTILE,hd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function rZ(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],s=IDBKeyRange.only(e.batchId);let c=0;const u=i.J({range:s},(w,T,F)=>(c++,F.delete()));o.push(u.next(()=>{mr(1===c)}));const g=[];for(const w of e.mutations){const T=wX(t,w.key.path,e.batchId);o.push(r.delete(T)),g.push(w.key)}return Yt.waitFor(o).next(()=>g)}function $k(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw Yi();t=n.noDocument}return JSON.stringify(t).length}hd.DEFAULT_COLLECTION_PERCENTILE=10,hd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hd.DEFAULT=new hd(41943040,hd.DEFAULT_COLLECTION_PERCENTILE,hd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hd.DISABLED=new hd(-1,0,0);class Xk{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.vn={}}static lt(t,e,i,r){mr(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new Xk(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return T_(t).J({index:"userMutationsIndex",range:i},(r,o,s)=>{e=!1,s.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=w1(t),s=T_(t);return s.add({}).next(c=>{mr("number"==typeof c);const u=new h4(c,e,i,r),g=function(H,ee,Ae){const xe=Ae.baseMutations.map(Ye=>dC(H.ct,Ye)),et=Ae.mutations.map(Ye=>dC(H.ct,Ye));return{userId:ee,batchId:Ae.batchId,localWriteTimeMs:Ae.localWriteTime.toMillis(),baseMutations:xe,mutations:et}}(this.serializer,this.userId,u),w=[];let T=new Zs((F,H)=>to(F.canonicalString(),H.canonicalString()));for(const F of r){const H=wX(this.userId,F.key.path,c);T=T.add(F.key.path.popLast()),w.push(s.put(g)),w.push(o.put(H,oBe))}return T.forEach(F=>{w.push(this.indexManager.addToCollectionParentIndex(t,F))}),t.addOnCommittedListener(()=>{this.vn[c]=u.keys()}),Yt.waitFor(w).next(()=>u)})}lookupMutationBatch(t,e){return T_(t).get(e).next(i=>i?(mr(i.userId===this.userId),Iy(this.serializer,i)):null)}Fn(t,e){return this.vn[e]?Yt.resolve(this.vn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.vn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return T_(t).J({index:"userMutationsIndex",range:r},(s,c,u)=>{c.userId===this.userId&&(mr(c.batchId>=i),o=Iy(this.serializer,c)),u.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return T_(t).J({index:"userMutationsIndex",range:e,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return T_(t).U("userMutationsIndex",e).next(i=>i.map(r=>Iy(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=kk(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return w1(t).J({range:r},(s,c,u)=>{const[g,w,T]=s,F=XA(w);if(g===this.userId&&e.path.isEqual(F))return T_(t).get(T).next(H=>{if(!H)throw Yi();mr(H.userId===this.userId),o.push(Iy(this.serializer,H))});u.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Zs(to);const r=[];return e.forEach(o=>{const s=kk(this.userId,o.path),c=IDBKeyRange.lowerBound(s),u=w1(t).J({range:c},(g,w,T)=>{const[F,H,ee]=g,Ae=XA(H);F===this.userId&&o.path.isEqual(Ae)?i=i.add(ee):T.done()});r.push(u)}),Yt.waitFor(r).next(()=>this.Mn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=kk(this.userId,i),s=IDBKeyRange.lowerBound(o);let c=new Zs(to);return w1(t).J({range:s},(u,g,w)=>{const[T,F,H]=u,ee=XA(F);T===this.userId&&i.isPrefixOf(ee)?ee.length===r&&(c=c.add(H)):w.done()}).next(()=>this.Mn(t,c))}Mn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(T_(t).get(o).next(s=>{if(null===s)throw Yi();mr(s.userId===this.userId),i.push(Iy(this.serializer,s))}))}),Yt.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return rZ(t._e,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.xn(e.batchId)}),Yt.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}xn(t){delete this.vn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Yt.resolve();const i=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),r=[];return w1(t).J({range:i},(o,s,c)=>{if(o[0]===this.userId){const u=XA(o[1]);r.push(u)}else c.done()}).next(()=>{mr(0===r.length)})})}containsKey(t,e){return oZ(t,this.userId,e)}On(t){return sZ(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function oZ(n,t,e){const i=kk(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let s=!1;return w1(n).J({range:o,H:!0},(c,u,g)=>{const[w,T,F]=c;w===t&&T===r&&(s=!0),g.done()}).next(()=>s)}function T_(n){return Uc(n,"mutations")}function w1(n){return Uc(n,"documentMutations")}function sZ(n){return Uc(n,"mutationQueues")}class ky{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static Ln(){return new ky(0)}static Bn(){return new ky(-1)}}class vPe{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.kn(t).next(e=>{const i=new ky(e.highestTargetId);return e.highestTargetId=i.next(),this.qn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.kn(t).next(e=>Er.fromTimestamp(new Ja(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.kn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.kn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.qn(t,r)))}addTargetData(t,e){return this.Qn(t,e).next(()=>this.kn(t).next(i=>(i.targetCount+=1,this.Kn(e,i),this.qn(t,i))))}updateTargetData(t,e){return this.Qn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>x1(t).delete(e.targetId)).next(()=>this.kn(t)).next(i=>(mr(i.targetCount>0),i.targetCount-=1,this.qn(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return x1(t).J((s,c)=>{const u=hC(c);u.sequenceNumber<=e&&null===i.get(u.targetId)&&(r++,o.push(this.removeTargetData(t,u)))}).next(()=>Yt.waitFor(o)).next(()=>r)}forEachTarget(t,e){return x1(t).J((i,r)=>{const o=hC(r);e(o)})}kn(t){return aZ(t).get("targetGlobalKey").next(e=>(mr(null!==e),e))}qn(t,e){return aZ(t).put("targetGlobalKey",e)}Qn(t,e){return x1(t).put(GY(this.serializer,e))}Kn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.kn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=by(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return x1(t).J({range:r,index:"queryTargetsIndex"},(s,c,u)=>{const g=hC(c);eC(e,g.target)&&(o=g,u.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=S_(t);return e.forEach(s=>{const c=ud(s.path);r.push(o.put({targetId:i,path:c})),r.push(this.referenceDelegate.addReference(t,i,s))}),Yt.waitFor(r)}removeMatchingKeys(t,e,i){const r=S_(t);return Yt.forEach(e,o=>{const s=ud(o.path);return Yt.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=S_(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=S_(t);let o=yo();return r.J({range:i,H:!0},(s,c,u)=>{const g=XA(s[1]),w=new Mi(g);o=o.add(w)}).next(()=>o)}containsKey(t,e){const i=ud(e.path),r=IDBKeyRange.bound([i],[hX(i)],!1,!0);let o=0;return S_(t).J({index:"documentTargetsIndex",H:!0,range:r},([s,c],u,g)=>{0!==s&&(o++,g.done())}).next(()=>o>0)}ot(t,e){return x1(t).get(e).next(i=>i?hC(i):null)}}function x1(n){return Uc(n,"targets")}function aZ(n){return Uc(n,"targetGlobal")}function S_(n){return Uc(n,"targetDocuments")}function lZ([n,t],[e,i]){const r=to(n,e);return 0===r?to(t,i):r}class yPe{constructor(t){this.$n=t,this.buffer=new Zs(lZ),this.Un=0}Wn(){return++this.Un}Gn(t){const e=[t,this.Wn()];if(this.buffer.size<this.$n)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();lZ(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class cZ{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.zn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.jn(6e4)}stop(){this.zn&&(this.zn.cancel(),this.zn=null)}get started(){return null!==this.zn}jn(t){var e=this;Zn("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.zn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,Dn.A)(function*(){e.zn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){__(i)?Zn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield g_(i)}yield e.jn(3e5)}))}}class bPe{constructor(t,e){this.Hn=t,this.params=e}calculateTargetCount(t,e){return this.Hn.Jn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return Yt.resolve(op.oe);const i=new yPe(e);return this.Hn.forEachTarget(t,r=>i.Gn(r.sequenceNumber)).next(()=>this.Hn.Yn(t,r=>i.Gn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Hn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Hn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Zn("LruGarbageCollector","Garbage collection skipped; disabled"),Yt.resolve(iZ)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Zn("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iZ):this.Zn(t,e))}getCacheSize(t){return this.Hn.getCacheSize(t)}Zn(t,e){let i,r,o,s,c,u,g;const w=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(Zn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),r=this.params.maximumSequenceNumbersToCollect):r=T,s=Date.now(),this.nthSequenceNumber(t,r))).next(T=>(i=T,c=Date.now(),this.removeTargets(t,i,e))).next(T=>(o=T,u=Date.now(),this.removeOrphanedDocuments(t,i))).next(T=>(g=Date.now(),r1()<=Zh.$b.DEBUG&&Zn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-w}ms\n\tDetermined least recently used ${r} in `+(c-s)+`ms\n\tRemoved ${o} targets in `+(u-c)+`ms\n\tRemoved ${T} documents in `+(g-u)+`ms\nTotal Duration: ${g-w}ms`),Yt.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:T})))}}class wPe{constructor(t,e){this.db=t,this.garbageCollector=function uZ(n,t){return new bPe(n,t)}(this,e)}Jn(t){const e=this.Xn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Xn(t){let e=0;return this.Yn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Yn(t,e){return this.er(t,(i,r)=>e(r))}addReference(t,e,i){return Yk(t,i)}removeReference(t,e,i){return Yk(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return Yk(t,e)}tr(t,e){return function(r,o){let s=!1;return sZ(r).Y(c=>oZ(r,c,o).next(u=>(u&&(s=!0),Yt.resolve(!u)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.er(t,(s,c)=>{if(c<=e){const u=this.tr(t,s).next(g=>{if(!g)return o++,i.getEntry(t,s).next(()=>(i.removeEntry(s,Er.min()),S_(t).delete([0,ud(s.path)])))});r.push(u)}}).next(()=>Yt.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return Yk(t,e)}er(t,e){const i=S_(t);let r,o=op.oe;return i.J({index:"documentTargetsIndex"},([s,c],{path:u,sequenceNumber:g})=>{0===s?(o!==op.oe&&e(new Mi(XA(r)),o),o=g,r=u):o=op.oe}).next(()=>{o!==op.oe&&e(new Mi(XA(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Yk(n,t){return S_(n).put((r=n.currentSequenceNumber,{targetId:0,path:ud(t.path),sequenceNumber:r}));var r}class dZ{constructor(){this.changes=new ig(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,La.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Yt.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class xPe{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Dy(t).put(i)}removeEntry(t,e,i){return Dy(t).delete(function(o,s){const c=o.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],Hk(s),c[c.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.nr(t,i)))}getEntry(t,e){let i=La.newInvalidDocument(e);return Dy(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(mC(e))},(r,o)=>{i=this.rr(e,o)}).next(()=>i)}ir(t,e){let i={size:0,document:La.newInvalidDocument(e)};return Dy(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(mC(e))},(r,o)=>{i={document:this.rr(e,o),size:$k(o)}}).next(()=>i)}getEntries(t,e){let i=wh();return this.sr(t,e,(r,o)=>{const s=this.rr(r,o);i=i.insert(r,s)}).next(()=>i)}_r(t,e){let i=wh(),r=new ka(Mi.comparator);return this.sr(t,e,(o,s)=>{const c=this.rr(o,s);i=i.insert(o,c),r=r.insert(o,$k(s))}).next(()=>({documents:i,ar:r}))}sr(t,e,i){if(e.isEmpty())return Yt.resolve();let r=new Zs(AZ);e.forEach(u=>r=r.add(u));const o=IDBKeyRange.bound(mC(r.first()),mC(r.last())),s=r.getIterator();let c=s.getNext();return Dy(t).J({index:"documentKeyIndex",range:o},(u,g,w)=>{const T=Mi.fromSegments([...g.prefixPath,g.collectionGroup,g.documentId]);for(;c&&AZ(c,T)<0;)i(c,null),c=s.getNext();c&&c.isEqual(T)&&(i(c,g),c=s.hasNext()?s.getNext():null),c?w.$(mC(c)):w.done()}).next(()=>{for(;c;)i(c,null),c=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(t,e,i,r,o){const s=e.path,c=[s.popLast().toArray(),s.lastSegment(),Hk(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],u=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Dy(t).U(IDBKeyRange.bound(c,u,!0)).next(g=>{o?.incrementDocumentReadCount(g.length);let w=wh();for(const T of g){const F=this.rr(Mi.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);F.isFoundDocument()&&(nC(e,F)||r.has(F.key))&&(w=w.insert(F.key,F))}return w})}getAllFromCollectionGroup(t,e,i,r){let o=wh();const s=fZ(e,i),c=fZ(e,rp.max());return Dy(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,c,!0)},(u,g,w)=>{const T=this.rr(Mi.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);o=o.insert(T.key,T),o.size===r&&w.done()}).next(()=>o)}newChangeBuffer(t){return new EPe(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return pZ(t).get("remoteDocumentGlobalKey").next(e=>(mr(!!e),e))}nr(t,e){return pZ(t).put("remoteDocumentGlobalKey",e)}rr(t,e){if(e){const i=function cPe(n,t){let e;if(t.document)e=OY(n.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Mi.fromSegments(t.noDocument.path),r=Cy(t.noDocument.readTime);e=La.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return Yi();{const i=Mi.fromSegments(t.unknownDocument.path),r=Cy(t.unknownDocument.version);e=La.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(r){const o=new Ja(r[0],r[1]);return Er.fromTimestamp(o)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(Er.min()))return i}return La.newInvalidDocument(t)}}function hZ(n){return new xPe(n)}class EPe extends dZ{constructor(t,e){super(),this.ur=t,this.trackRemovals=e,this.cr=new ig(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Zs((o,s)=>to(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const c=this.cr.get(o);if(e.push(this.ur.removeEntry(t,o,c.readTime)),s.isValidDocument()){const u=zY(this.ur.serializer,s);r=r.add(o.path.popLast());const g=$k(u);i+=g-c.size,e.push(this.ur.addEntry(t,o,u))}else if(i-=c.size,this.trackRemovals){const u=zY(this.ur.serializer,s.convertToNoDocument(Er.min()));e.push(this.ur.addEntry(t,o,u))}}),r.forEach(o=>{e.push(this.ur.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.ur.updateMetadata(t,i)),Yt.waitFor(e)}getFromCache(t,e){return this.ur.ir(t,e).next(i=>(this.cr.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.ur._r(t,e).next(({documents:i,ar:r})=>(r.forEach((o,s)=>{this.cr.set(o,{size:s,readTime:i.get(o).readTime})}),i))}}function pZ(n){return Uc(n,"remoteDocumentGlobal")}function Dy(n){return Uc(n,"remoteDocumentsV14")}function mC(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function fZ(n,t){const e=t.documentKey.path.toArray();return[n,Hk(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function AZ(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=to(e[o],i[o]),r)return r;return r=to(e.length,i.length),r||(r=to(e[e.length-2],i[i.length-2]),r||to(e[e.length-1],i[i.length-1]))}class CPe{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class mZ{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&sC(i.mutation,r,bh.empty(),Ja.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,yo()).next(()=>i))}getLocalViewOfDocuments(t,e,i=yo()){const r=ZA();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let s=iC();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(t,e){const i=ZA();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,yo()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((s,c)=>{e.set(s,c)})})}computeViews(t,e,i,r){let o=wh();const s=rC(),c=rC();return e.forEach((u,g)=>{const w=i.get(g.key);r.has(g.key)&&(void 0===w||w.mutation instanceof rg)?o=o.insert(g.key,g):void 0!==w?(s.set(g.key,w.mutation.getFieldMask()),sC(w.mutation,g,w.mutation.getFieldMask(),Ja.now())):s.set(g.key,bh.empty())}),this.recalculateAndSaveOverlays(t,o).next(u=>(u.forEach((g,w)=>s.set(g,w)),e.forEach((g,w)=>{var T;return c.set(g,new CPe(w,null!==(T=s.get(g))&&void 0!==T?T:null))}),c))}recalculateAndSaveOverlays(t,e){const i=rC();let r=new ka((s,c)=>s-c),o=yo();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(s=>{for(const c of s)c.keys().forEach(u=>{const g=e.get(u);if(null===g)return;let w=i.get(u)||bh.empty();w=c.applyToLocalView(g,w),i.set(u,w);const T=(r.get(c.batchId)||yo()).add(u);r=r.insert(c.batchId,T)})}).next(()=>{const s=[],c=r.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),g=u.key,w=u.value,T=rY();w.forEach(F=>{if(!o.has(F)){const H=pY(e.get(F),i.get(F));null!==H&&T.set(F,H),o=o.add(F)}}),s.push(this.documentOverlayCache.saveOverlays(t,g,T))}return Yt.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return Mi.isDocumentKey((s=e).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):l4(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r);var s}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):Yt.resolve(ZA());let c=-1,u=o;return s.next(g=>Yt.forEach(g,(w,T)=>(c<T.largestBatchId&&(c=T.largestBatchId),o.get(w)?Yt.resolve():this.remoteDocumentCache.getEntry(t,w).next(F=>{u=u.insert(w,F)}))).next(()=>this.populateOverlays(t,g,o)).next(()=>this.computeViews(t,u,g,yo())).next(w=>({batchId:c,changes:iY(w)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Mi(e)).next(i=>{let r=iC();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let s=iC();return this.indexManager.getCollectionParents(t,o).next(c=>Yt.forEach(c,u=>{const g=(T=e,F=u.child(o),new ng(F,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt));var T,F;return this.getDocumentsMatchingCollectionQuery(t,g,i,r).next(w=>{w.forEach((T,F)=>{s=s.insert(T,F)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r))).next(s=>{o.forEach((u,g)=>{const w=g.getKey();null===s.get(w)&&(s=s.insert(w,La.newInvalidDocument(w)))});let c=iC();return s.forEach((u,g)=>{const w=o.get(u);void 0!==w&&sC(w.mutation,g,bh.empty(),Ja.now()),nC(e,g)&&(c=c.insert(u,g))}),c})}}class IPe{constructor(t){this.serializer=t,this.lr=new Map,this.hr=new Map}getBundleMetadata(t,e){return Yt.resolve(this.lr.get(e))}saveBundleMetadata(t,e){return this.lr.set(e.id,{id:(r=e).id,version:r.version,createTime:$l(r.createTime)}),Yt.resolve();var r}getNamedQuery(t,e){return Yt.resolve(this.hr.get(e))}saveNamedQuery(t,e){return this.hr.set(e.name,{name:(r=e).name,query:b4(r.bundledQuery),readTime:$l(r.readTime)}),Yt.resolve();var r}}class TPe{constructor(){this.overlays=new ka(Mi.comparator),this.Pr=new Map}getOverlay(t,e){return Yt.resolve(this.overlays.get(e))}getOverlays(t,e){const i=ZA();return Yt.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.ht(t,e,o)}),Yt.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Pr.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Pr.delete(i)),Yt.resolve()}getOverlaysForCollection(t,e,i){const r=ZA(),o=e.length+1,s=new Mi(e.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){const u=c.getNext().value,g=u.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===o&&u.largestBatchId>i&&r.set(u.getKey(),u)}return Yt.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new ka((g,w)=>g-w);const s=this.overlays.getIterator();for(;s.hasNext();){const g=s.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>i){let w=o.get(g.largestBatchId);null===w&&(w=ZA(),o=o.insert(g.largestBatchId,w)),w.set(g.getKey(),g)}}const c=ZA(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((g,w)=>c.set(g,w)),!(c.size()>=r)););return Yt.resolve(c)}ht(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.Pr.get(r.largestBatchId).delete(i.key);this.Pr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new f4(e,i));let o=this.Pr.get(e);void 0===o&&(o=yo(),this.Pr.set(e,o)),this.Pr.set(e,o.add(i.key))}}class SPe{constructor(){this.sessionToken=Il.EMPTY_BYTE_STRING}getSessionToken(t){return Yt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,Yt.resolve()}}class S4{constructor(){this.Ir=new Zs(lu.Tr),this.Er=new Zs(lu.dr)}isEmpty(){return this.Ir.isEmpty()}addReference(t,e){const i=new lu(t,e);this.Ir=this.Ir.add(i),this.Er=this.Er.add(i)}Ar(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Rr(new lu(t,e))}Vr(t,e){t.forEach(i=>this.removeReference(i,e))}mr(t){const e=new Mi(new Zo([])),i=new lu(e,t),r=new lu(e,t+1),o=[];return this.Er.forEachInRange([i,r],s=>{this.Rr(s),o.push(s.key)}),o}gr(){this.Ir.forEach(t=>this.Rr(t))}Rr(t){this.Ir=this.Ir.delete(t),this.Er=this.Er.delete(t)}pr(t){const e=new Mi(new Zo([])),i=new lu(e,t),r=new lu(e,t+1);let o=yo();return this.Er.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(t){const e=new lu(t,0),i=this.Ir.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class lu{constructor(t,e){this.key=t,this.yr=e}static Tr(t,e){return Mi.comparator(t.key,e.key)||to(t.yr,e.yr)}static dr(t,e){return to(t.yr,e.yr)||Mi.comparator(t.key,e.key)}}class kPe{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.wr=1,this.Sr=new Zs(lu.Tr)}checkEmpty(t){return Yt.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.wr;this.wr++;const s=new h4(o,e,i,r);this.mutationQueue.push(s);for(const c of r)this.Sr=this.Sr.add(new lu(c.key,o)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return Yt.resolve(s)}lookupMutationBatch(t,e){return Yt.resolve(this.br(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Dr(e+1),o=r<0?0:r;return Yt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Yt.resolve(0===this.mutationQueue.length?-1:this.wr-1)}getAllMutationBatches(t){return Yt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new lu(e,0),r=new lu(e,Number.POSITIVE_INFINITY),o=[];return this.Sr.forEachInRange([i,r],s=>{const c=this.br(s.yr);o.push(c)}),Yt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Zs(to);return e.forEach(r=>{const o=new lu(r,0),s=new lu(r,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([o,s],c=>{i=i.add(c.yr)})}),Yt.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;Mi.isDocumentKey(o)||(o=o.child(""));const s=new lu(new Mi(o),0);let c=new Zs(to);return this.Sr.forEachWhile(u=>{const g=u.key.path;return!!i.isPrefixOf(g)&&(g.length===r&&(c=c.add(u.yr)),!0)},s),Yt.resolve(this.Cr(c))}Cr(t){const e=[];return t.forEach(i=>{const r=this.br(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){mr(0===this.vr(e.batchId,"removed")),this.mutationQueue.shift();let i=this.Sr;return Yt.forEach(e.mutations,r=>{const o=new lu(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Sr=i})}xn(t){}containsKey(t,e){const i=new lu(e,0),r=this.Sr.firstAfterOrEqual(i);return Yt.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return Yt.resolve()}vr(t,e){return this.Dr(t)}Dr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}br(t){const e=this.Dr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class DPe{constructor(t){this.Fr=t,this.docs=new ka(Mi.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,s=this.Fr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Yt.resolve(i?i.document.mutableCopy():La.newInvalidDocument(e))}getEntries(t,e){let i=wh();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():La.newInvalidDocument(r))}),Yt.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=wh();const s=e.path,c=new Mi(s.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:g,value:{document:w}}=u.getNext();if(!s.isPrefixOf(g.path))break;g.path.length>s.length+1||XL(fX(w),i)<=0||(r.has(w.key)||nC(e,w))&&(o=o.insert(w.key,w.mutableCopy()))}return Yt.resolve(o)}getAllFromCollectionGroup(t,e,i,r){Yi()}Mr(t,e){return Yt.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new RPe(this)}getSize(t){return Yt.resolve(this.size)}}class RPe extends dZ{constructor(t){super(),this.ur=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.ur.addEntry(t,r)):this.ur.removeEntry(i)}),Yt.waitFor(e)}getFromCache(t,e){return this.ur.getEntry(t,e)}getAllFromCache(t,e){return this.ur.getEntries(t,e)}}class MPe{constructor(t){this.persistence=t,this.Or=new ig(e=>by(e),eC),this.lastRemoteSnapshotVersion=Er.min(),this.highestTargetId=0,this.Nr=0,this.Lr=new S4,this.targetCount=0,this.Br=ky.Ln()}forEachTarget(t,e){return this.Or.forEach((i,r)=>e(r)),Yt.resolve()}getLastRemoteSnapshotVersion(t){return Yt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Yt.resolve(this.Nr)}allocateTargetId(t){return this.highestTargetId=this.Br.next(),Yt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Nr&&(this.Nr=e),Yt.resolve()}Qn(t){this.Or.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Br=new ky(e),this.highestTargetId=e),t.sequenceNumber>this.Nr&&(this.Nr=t.sequenceNumber)}addTargetData(t,e){return this.Qn(e),this.targetCount+=1,Yt.resolve()}updateTargetData(t,e){return this.Qn(e),Yt.resolve()}removeTargetData(t,e){return this.Or.delete(e.target),this.Lr.mr(e.targetId),this.targetCount-=1,Yt.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Or.forEach((s,c)=>{c.sequenceNumber<=e&&null===i.get(c.targetId)&&(this.Or.delete(s),o.push(this.removeMatchingKeysForTargetId(t,c.targetId)),r++)}),Yt.waitFor(o).next(()=>r)}getTargetCount(t){return Yt.resolve(this.targetCount)}getTargetData(t,e){const i=this.Or.get(e)||null;return Yt.resolve(i)}addMatchingKeys(t,e,i){return this.Lr.Ar(e,i),Yt.resolve()}removeMatchingKeys(t,e,i){this.Lr.Vr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(s=>{o.push(r.markPotentiallyOrphaned(t,s))}),Yt.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Lr.mr(e),Yt.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Lr.pr(e);return Yt.resolve(i)}containsKey(t,e){return Yt.resolve(this.Lr.containsKey(e))}}class k4{constructor(t,e){this.kr={},this.overlays={},this.qr=new op(0),this.Qr=!1,this.Qr=!0,this.Kr=new SPe,this.referenceDelegate=t(this),this.$r=new MPe(this),this.indexManager=new gPe,this.remoteDocumentCache=new DPe(i=>this.referenceDelegate.Ur(i)),this.serializer=new jY(e),this.Wr=new IPe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new TPe,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.kr[t.toKey()];return i||(i=new kPe(e,this.referenceDelegate),this.kr[t.toKey()]=i),i}getGlobalsCache(){return this.Kr}getTargetCache(){return this.$r}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Wr}runTransaction(t,e,i){Zn("MemoryPersistence","Starting transaction:",t);const r=new BPe(this.qr.next());return this.referenceDelegate.Gr(),i(r).next(o=>this.referenceDelegate.zr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}jr(t,e){return Yt.or(Object.values(this.kr).map(i=>()=>i.containsKey(t,e)))}}class BPe extends mX{constructor(t){super(),this.currentSequenceNumber=t}}class Zk{constructor(t){this.persistence=t,this.Hr=new S4,this.Jr=null}static Yr(t){return new Zk(t)}get Zr(){if(this.Jr)return this.Jr;throw Yi()}addReference(t,e,i){return this.Hr.addReference(i,e),this.Zr.delete(i.toString()),Yt.resolve()}removeReference(t,e,i){return this.Hr.removeReference(i,e),this.Zr.add(i.toString()),Yt.resolve()}markPotentiallyOrphaned(t,e){return this.Zr.add(e.toString()),Yt.resolve()}removeTarget(t,e){this.Hr.mr(e.targetId).forEach(r=>this.Zr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Zr.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Gr(){this.Jr=new Set}zr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Yt.forEach(this.Zr,i=>{const r=Mi.fromPath(i);return this.Xr(t,r).next(o=>{o||e.removeEntry(r,Er.min())})}).next(()=>(this.Jr=null,e.apply(t)))}updateLimboDocument(t,e){return this.Xr(t,e).next(i=>{i?this.Zr.delete(e.toString()):this.Zr.add(e.toString())})}Ur(t){return 0}Xr(t,e){return Yt.or([()=>Yt.resolve(this.Hr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.jr(t,e)])}}class PPe{constructor(t){this.serializer=t}O(t,e,i,r){const o=new Sk("createOrUpgrade",e);var u;i<1&&r>=1&&(t.createObjectStore("owner"),(u=t).createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bX,{unique:!0}),u.createObjectStore("documentMutations"),gZ(t),function(u){u.createObjectStore("remoteDocuments")}(t));let s=Yt.resolve();return i<3&&r>=3&&(0!==i&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(t),gZ(t)),s=s.next(()=>function(u){const g=u.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Er.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",w)}(o))),i<4&&r>=4&&(0!==i&&(s=s.next(()=>function(u,g){return g.store("mutations").U().next(w=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bX,{unique:!0});const T=g.store("mutations"),F=w.map(H=>T.put(H));return Yt.waitFor(F)})}(t,o))),s=s.next(()=>{!function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(s=s.next(()=>this.ti(o))),i<6&&r>=6&&(s=s.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(t),this.ni(o)))),i<7&&r>=7&&(s=s.next(()=>this.ri(o))),i<8&&r>=8&&(s=s.next(()=>this.ii(t,o))),i<9&&r>=9&&(s=s.next(()=>{!function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(s=s.next(()=>this.si(o))),i<11&&r>=11&&(s=s.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(s=s.next(()=>{!function(u){const g=u.createObjectStore("documentOverlays",{keyPath:gBe});g.createIndex("collectionPathOverlayIndex",_Be,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",vBe,{unique:!1})}(t)})),i<13&&r>=13&&(s=s.next(()=>function(u){const g=u.createObjectStore("remoteDocumentsV14",{keyPath:sBe});g.createIndex("documentKeyIndex",aBe),g.createIndex("collectionGroupIndex",lBe)}(t)).next(()=>this.oi(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this._i(t,o))),i<15&&r>=15&&(s=s.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:pBe}).createIndex("sequenceNumberIndex",fBe,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:ABe}).createIndex("documentKeyIndex",mBe,{unique:!1})}(t))),i<16&&r>=16&&(s=s.next(()=>{e.objectStore("indexState").clear()}).next(()=>{e.objectStore("indexEntries").clear()})),i<17&&r>=17&&(s=s.next(()=>{!function(u){u.createObjectStore("globals",{keyPath:"name"})}(t)})),s}ni(t){let e=0;return t.store("remoteDocuments").J((i,r)=>{e+=$k(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}ti(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.U().next(r=>Yt.forEach(r,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.U("userMutationsIndex",s).next(c=>Yt.forEach(c,u=>{mr(u.userId===o.userId);const g=Iy(this.serializer,u);return rZ(t,o.userId,g).next(()=>{})}))}))}ri(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.J((s,c)=>{const u=new Zo(s),g=[0,ud(u)];o.push(e.get(g).next(w=>w?Yt.resolve():e.put({targetId:0,path:ud(u),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Yt.waitFor(o))})}ii(t,e){t.createObjectStore("collectionParents",{keyPath:hBe});const i=e.store("collectionParents"),r=new T4,o=s=>{if(r.add(s)){const c=s.lastSegment(),u=s.popLast();return i.put({collectionId:c,parent:ud(u)})}};return e.store("remoteDocuments").J({H:!0},(s,c)=>{const u=new Zo(s);return o(u.popLast())}).next(()=>e.store("documentMutations").J({H:!0},([s,c,u],g)=>{const w=XA(c);return o(w.popLast())}))}si(t){const e=t.store("targets");return e.J((i,r)=>{const o=hC(r),s=GY(this.serializer,o);return e.put(s)})}oi(t,e){const i=e.store("remoteDocuments"),r=[];return i.J((o,s)=>{const c=e.store("remoteDocumentsV14"),u=(T=s,T.document?new Mi(Zo.fromString(T.document.name).popFirst(5)):T.noDocument?Mi.fromSegments(T.noDocument.path):T.unknownDocument?Mi.fromSegments(T.unknownDocument.path):Yi()).path.toArray(),g={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var T;r.push(c.put(g))}).next(()=>Yt.waitFor(r))}_i(t,e){const i=e.store("mutations"),r=hZ(this.serializer),o=new k4(Zk.Yr,this.serializer.ct);return i.U().next(s=>{const c=new Map;return s.forEach(u=>{var g;let w=null!==(g=c.get(u.userId))&&void 0!==g?g:yo();Iy(this.serializer,u).keys().forEach(T=>w=w.add(T)),c.set(u.userId,w)}),Yt.forEach(c,(u,g)=>{const w=new au(g),T=qk.lt(this.serializer,w),F=o.getIndexManager(w),H=Xk.lt(w,this.serializer,F,o.referenceDelegate);return new mZ(r,H,T,F).recalculateAndSaveOverlaysForDocumentKeys(new e4(e,op.oe),u).next()})})}}function gZ(n){n.createObjectStore("targetDocuments",{keyPath:uBe}).createIndex("documentTargetsIndex",dBe,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",cBe,{unique:!0}),n.createObjectStore("targetGlobal")}const D4="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class R4{constructor(t,e,i,r,o,s,c,u,g,w,T=17){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.ai=o,this.window=s,this.document=c,this.ui=g,this.ci=w,this.li=T,this.qr=null,this.Qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.hi=null,this.inForeground=!1,this.Pi=null,this.Ii=null,this.Ti=Number.NEGATIVE_INFINITY,this.Ei=F=>Promise.resolve(),!R4.D())throw new Kn(gn.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new wPe(this,r),this.di=e+"main",this.serializer=new jY(u),this.Ai=new $A(this.di,this.li,new PPe(this.serializer)),this.Kr=new dPe,this.$r=new vPe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=hZ(this.serializer),this.Wr=new uPe,this.window&&this.window.localStorage?this.Ri=this.window.localStorage:(this.Ri=null,!1===w&&Wl("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Vi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Kn(gn.FAILED_PRECONDITION,D4);return this.mi(),this.fi(),this.gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.$r.getHighestSequenceNumber(t))}).then(t=>{this.qr=new op(t,this.ui)}).then(()=>{this.Qr=!0}).catch(t=>(this.Ai&&this.Ai.close(),Promise.reject(t)))}pi(t){var e=this;return this.Ei=function(){var i=(0,Dn.A)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ai.L(function(){var e=(0,Dn.A)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ai.enqueueAndForget((0,Dn.A)(function*(){e.started&&(yield e.Vi())})))}Vi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>eD(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.yi(t).next(e=>{e||(this.isPrimary=!1,this.ai.enqueueRetryable(()=>this.Ei(!1)))})}).next(()=>this.wi(t)).next(e=>this.isPrimary&&!e?this.Si(t).next(()=>!1):!!e&&this.bi(t).next(()=>!0))).catch(t=>{if(__(t))return Zn("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Zn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ai.enqueueRetryable(()=>this.Ei(t)),this.isPrimary=t})}yi(t){return gC(t).get("owner").next(e=>Yt.resolve(this.Di(e)))}Ci(t){return eD(t).delete(this.clientId)}vi(){var t=this;return(0,Dn.A)(function*(){if(t.isPrimary&&!t.Fi(t.Ti,18e5)){t.Ti=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Uc(i,"clientMetadata");return r.U().next(o=>{const s=t.Mi(o,18e5),c=o.filter(u=>-1===s.indexOf(u));return Yt.forEach(c,u=>r.delete(u.clientId)).next(()=>c)})}).catch(()=>[]);if(t.Ri)for(const i of e)t.Ri.removeItem(t.xi(i.clientId))}})()}gi(){this.Ii=this.ai.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Vi().then(()=>this.vi()).then(()=>this.gi()))}Di(t){return!!t&&t.ownerId===this.clientId}wi(t){return this.ci?Yt.resolve(!0):gC(t).get("owner").next(e=>{if(null!==e&&this.Fi(e.leaseTimestampMs,5e3)&&!this.Oi(e.ownerId)){if(this.Di(e)&&this.networkEnabled)return!0;if(!this.Di(e)){if(!e.allowTabSynchronization)throw new Kn(gn.FAILED_PRECONDITION,D4);return!1}}return!(!this.networkEnabled||!this.inForeground)||eD(t).U().next(i=>void 0===this.Mi(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&Zn("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Dn.A)(function*(){t.Qr=!1,t.Ni(),t.Ii&&(t.Ii.cancel(),t.Ii=null),t.Li(),t.Bi(),yield t.Ai.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new e4(e,op.oe);return t.Si(i).next(()=>t.Ci(i))}),t.Ai.close(),t.ki()})()}Mi(t,e){return t.filter(i=>this.Fi(i.updateTimeMs,e)&&!this.Oi(i.clientId))}qi(){return this.runTransaction("getActiveClients","readonly",t=>eD(t).U().next(e=>this.Mi(e,18e5).map(i=>i.clientId)))}get started(){return this.Qr}getGlobalsCache(){return this.Kr}getMutationQueue(t,e){return Xk.lt(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.$r}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new _Pe(t,this.serializer.ct.databaseId)}getDocumentOverlayCache(t){return qk.lt(this.serializer,t)}getBundleCache(){return this.Wr}runTransaction(t,e,i){Zn("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=17===(u=this.li)?wBe:16===u?bBe:15===u?JL:14===u?CX:13===u?EX:12===u?yBe:11===u?xX:void Yi();var u;let s;return this.Ai.runTransaction(t,r,o,c=>(s=new e4(c,this.qr?this.qr.next():op.oe),"readwrite-primary"===e?this.yi(s).next(u=>!!u||this.wi(s)).next(u=>{if(!u)throw Wl(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ai.enqueueRetryable(()=>this.Ei(!1)),new Kn(gn.FAILED_PRECONDITION,AX);return i(s)}).next(u=>this.bi(s).next(()=>u)):this.Qi(s).next(()=>i(s)))).then(c=>(s.raiseOnCommittedEvent(),c))}Qi(t){return gC(t).get("owner").next(e=>{if(null!==e&&this.Fi(e.leaseTimestampMs,5e3)&&!this.Oi(e.ownerId)&&!this.Di(e)&&!(this.ci||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Kn(gn.FAILED_PRECONDITION,D4)})}bi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return gC(t).put("owner",e)}static D(){return $A.D()}Si(t){const e=gC(t);return e.get("owner").next(i=>this.Di(i)?(Zn("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):Yt.resolve())}Fi(t,e){const i=Date.now();return!(t<i-e||t>i&&(Wl(`Detected an update time that is in the future: ${t} > ${i}`),1))}mi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Pi=()=>{this.ai.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Vi()))},this.document.addEventListener("visibilitychange",this.Pi),this.inForeground="visible"===this.document.visibilityState)}Li(){this.Pi&&(this.document.removeEventListener("visibilitychange",this.Pi),this.Pi=null)}fi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.hi=()=>{this.Ni();const e=/(?:Version|Mobile)\/1[456]/;(0,Oe.nr)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ai.enterRestrictedMode(!0),this.ai.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.hi))}Bi(){this.hi&&(this.window.removeEventListener("pagehide",this.hi),this.hi=null)}Oi(t){var e;try{const i=null!==(null===(e=this.Ri)||void 0===e?void 0:e.getItem(this.xi(t)));return Zn("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Wl("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ni(){if(this.Ri)try{this.Ri.setItem(this.xi(this.clientId),String(Date.now()))}catch(t){Wl("Failed to set zombie client id.",t)}}ki(){if(this.Ri)try{this.Ri.removeItem(this.xi(this.clientId))}catch{}}xi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function gC(n){return Uc(n,"owner")}function eD(n){return Uc(n,"clientMetadata")}function M4(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class B4{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Ki=i,this.$i=r}static Ui(t,e){let i=yo(),r=yo();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new B4(t,e.fromCache,i,r)}}class OPe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class _Z{constructor(){this.Wi=!1,this.Gi=!1,this.zi=100,this.ji=(0,Oe.nr)()?8:gX((0,Oe.ZQ)())>0?6:4}initialize(t,e){this.Hi=t,this.indexManager=e,this.Wi=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.Ji(t,e).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Yi(t,e,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new OPe;return this.Zi(t,e,s).next(c=>{if(o.result=c,this.Gi)return this.Xi(t,e,s,c.size)})}).next(()=>o.result)}Xi(t,e,i,r){return i.documentReadCount<this.zi?(r1()<=Zh.$b.DEBUG&&Zn("QueryEngine","SDK will not create cache indexes for query:",p1(e),"since it only creates cache indexes for collection contains","more than or equal to",this.zi,"documents"),Yt.resolve()):(r1()<=Zh.$b.DEBUG&&Zn("QueryEngine","Query:",p1(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ji*r?(r1()<=Zh.$b.DEBUG&&Zn("QueryEngine","The SDK decides to create cache indexes for query:",p1(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,dd(e))):Yt.resolve())}Ji(t,e){if(XX(e))return Yt.resolve(null);let i=dd(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=Nk(e,null,"F"),i=dd(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const s=yo(...o);return this.Hi.getDocuments(t,s).next(c=>this.indexManager.getMinOffset(t,i).next(u=>{const g=this.es(e,c);return this.ts(e,g,s,u.readTime)?this.Ji(t,Nk(e,null,"F")):this.ns(t,g,e,u)}))})))}Yi(t,e,i,r){return XX(e)||r.isEqual(Er.min())?Yt.resolve(null):this.Hi.getDocuments(t,i).next(o=>{const s=this.es(e,o);return this.ts(e,s,i,r)?Yt.resolve(null):(r1()<=Zh.$b.DEBUG&&Zn("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),p1(e)),this.ns(t,s,e,pX(r,-1)).next(c=>c))})}es(t,e){let i=new Zs(tY(t));return e.forEach((r,o)=>{nC(t,o)&&(i=i.add(o))}),i}ts(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Zi(t,e,i){return r1()<=Zh.$b.DEBUG&&Zn("QueryEngine","Using full collection scan to execute query:",p1(e)),this.Hi.getDocumentsMatchingQuery(t,e,rp.min(),i)}ns(t,e,i,r){return this.Hi.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(s=>{o=o.insert(s.key,s)}),o))}}class FPe{constructor(t,e,i,r){this.persistence=t,this.rs=e,this.serializer=r,this.ss=new ka(to),this.os=new ig(o=>by(o),eC),this._s=new Map,this.us=t.getRemoteDocumentCache(),this.$r=t.getTargetCache(),this.Wr=t.getBundleCache(),this.cs(i)}cs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new mZ(this.us,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.us.setIndexManager(this.indexManager),this.rs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ss))}}function vZ(n,t,e,i){return new FPe(n,t,e,i)}function yZ(n,t){return P4.apply(this,arguments)}function P4(){return(P4=(0,Dn.A)(function*(n,t){const e=Ei(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.cs(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],c=[];let u=yo();for(const g of r){s.push(g.batchId);for(const w of g.mutations)u=u.add(w.key)}for(const g of o){c.push(g.batchId);for(const w of g.mutations)u=u.add(w.key)}return e.localDocuments.getDocuments(i,u).next(g=>({ls:g,removedBatchIds:s,addedBatchIds:c}))})})})).apply(this,arguments)}function bZ(n){const t=Ei(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.$r.getLastRemoteSnapshotVersion(e))}function wZ(n,t,e){let i=yo(),r=yo();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let s=wh();return e.forEach((c,u)=>{const g=o.get(c);u.isFoundDocument()!==g.isFoundDocument()&&(r=r.add(c)),u.isNoDocument()&&u.version.isEqual(Er.min())?(t.removeEntry(c,u.readTime),s=s.insert(c,u)):!g.isValidDocument()||u.version.compareTo(g.version)>0||0===u.version.compareTo(g.version)&&g.hasPendingWrites?(t.addEntry(u),s=s.insert(c,u)):Zn("LocalStore","Ignoring outdated watch update for ",c,". Current version:",g.version," Watch version:",u.version)}),{hs:s,Ps:r}})}function UPe(n,t){const e=Ei(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function E1(n,t){const e=Ei(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.$r.getTargetData(i,t).next(o=>o?(r=o,Yt.resolve(r)):e.$r.allocateTargetId(i).next(s=>(r=new og(t,s,"TargetPurposeListen",i.currentSequenceNumber),e.$r.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.ss.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.ss=e.ss.insert(i.targetId,i),e.os.set(t,i.targetId)),i})}function C1(n,t,e){return O4.apply(this,arguments)}function O4(){return(O4=(0,Dn.A)(function*(n,t,e){const i=Ei(n),r=i.ss.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!__(s))throw s;Zn("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}i.ss=i.ss.remove(t),i.os.delete(r.target)})).apply(this,arguments)}function tD(n,t,e){const i=Ei(n);let r=Er.min(),o=yo();return i.persistence.runTransaction("Execute query","readwrite",s=>function(u,g,w){const T=Ei(u),F=T.os.get(w);return void 0!==F?Yt.resolve(T.ss.get(F)):T.$r.getTargetData(g,w)}(i,s,dd(t)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,i.$r.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>i.rs.getDocumentsMatchingQuery(s,t,e?r:Er.min(),e?o:yo())).next(c=>(CZ(i,eY(t),c),{documents:c,Is:o})))}function xZ(n,t){const e=Ei(n),i=Ei(e.$r),r=e.ss.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.ot(o,t).next(s=>s?s.target:null))}function EZ(n,t){const e=Ei(n),i=e._s.get(t)||Er.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.us.getAllFromCollectionGroup(r,t,pX(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(CZ(e,t,r),r))}function CZ(n,t,e){let i=n._s.get(t)||Er.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n._s.set(t,i)}function F4(){return(F4=(0,Dn.A)(function*(n,t,e,i){const r=Ei(n);let o=yo(),s=wh();for(const g of e){const w=t.Ts(g.metadata.name);g.document&&(o=o.add(w));const T=t.Es(g);T.setReadTime(t.ds(g.metadata.readTime)),s=s.insert(w,T)}const c=r.us.newChangeBuffer({trackRemovals:!0}),u=yield E1(r,(w=i,dd(d1(Zo.fromString(`__bundle__/docs/${w}`)))));var w;return r.persistence.runTransaction("Apply bundle documents","readwrite",g=>wZ(g,c,s).next(w=>(c.apply(g),w)).next(w=>r.$r.removeMatchingKeysForTargetId(g,u.targetId).next(()=>r.$r.addMatchingKeys(g,o,u.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(g,w.hs,w.Ps)).next(()=>w.hs)))})).apply(this,arguments)}function QPe(n,t){return L4.apply(this,arguments)}function L4(){return(L4=(0,Dn.A)(function*(n,t,e=yo()){const i=yield E1(n,dd(b4(t.bundledQuery))),r=Ei(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const s=$l(t.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r.Wr.saveNamedQuery(o,t);const c=i.withResumeToken(Il.EMPTY_BYTE_STRING,s);return r.ss=r.ss.insert(c.targetId,c),r.$r.updateTargetData(o,c).next(()=>r.$r.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.$r.addMatchingKeys(o,e,i.targetId)).next(()=>r.Wr.saveNamedQuery(o,t))})})).apply(this,arguments)}function IZ(n,t){return`firestore_clients_${n}_${t}`}function TZ(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function N4(n,t){return`firestore_targets_${n}_${t}`}class nD{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static As(t,e,i){const r=JSON.parse(i);let o,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(o=new Kn(r.error.code,r.error.message))),s?new nD(t,e,r.state,o):(Wl("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Rs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class _C{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static As(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Kn(i.error.code,i.error.message))),o?new _C(t,i.state,r):(Wl("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Rs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class iD{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static As(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=u4();for(let s=0;r&&s<i.activeTargetIds.length;++s)r=vX(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new iD(t,o):(Wl("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class U4{constructor(t,e){this.clientId=t,this.onlineState=e}static As(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new U4(e.clientId,e.onlineState):(Wl("SharedClientState",`Failed to parse online state: ${t}`),null)}}class V4{constructor(){this.activeTargetIds=u4()}Vs(t){this.activeTargetIds=this.activeTargetIds.add(t)}fs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Rs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Q4{constructor(t,e,i,r,o){this.window=t,this.ai=e,this.persistenceKey=i,this.gs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ps=this.ys.bind(this),this.ws=new ka(to),this.started=!1,this.Ss=[];const s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.bs=IZ(this.persistenceKey,this.gs),this.Ds=`firestore_sequence_number_${this.persistenceKey}`,this.ws=this.ws.insert(this.gs,new V4),this.Cs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.vs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Fs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Ms=`firestore_online_state_${this.persistenceKey}`,this.xs=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this.ps)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Dn.A)(function*(){const e=yield t.syncEngine.qi();for(const r of e){if(r===t.gs)continue;const o=t.getItem(IZ(t.persistenceKey,r));if(o){const s=iD.As(r,o);s&&(t.ws=t.ws.insert(s.clientId,s))}}t.Os();const i=t.storage.getItem(t.Ms);if(i){const r=t.Ns(i);r&&t.Ls(r)}for(const r of t.Ss)t.ys(r);t.Ss=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ds,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Bs(this.ws)}isActiveQueryTarget(t){let e=!1;return this.ws.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.ks(t,"pending")}updateMutationState(t,e,i){this.ks(t,e,i),this.qs(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(N4(this.persistenceKey,t));if(i){const r=_C.As(t,i);r&&(e=r.state)}}return this.Qs.Vs(t),this.Os(),e}removeLocalQueryTarget(t){this.Qs.fs(t),this.Os()}isLocalQueryTarget(t){return this.Qs.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(N4(this.persistenceKey,t))}updateQueryState(t,e,i){this.Ks(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.qs(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.$s(t)}notifyBundleLoaded(t){this.Us(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ps),this.removeItem(this.bs),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Zn("SharedClientState","READ",t,e),e}setItem(t,e){Zn("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Zn("SharedClientState","REMOVE",t),this.storage.removeItem(t)}ys(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Zn("SharedClientState","EVENT",i.key,i.newValue),i.key===this.bs)return void Wl("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ai.enqueueRetryable((0,Dn.A)(function*(){if(e.started){if(null!==i.key)if(e.Cs.test(i.key)){if(null==i.newValue){const r=e.Ws(i.key);return e.Gs(r,null)}{const r=e.zs(i.key,i.newValue);if(r)return e.Gs(r.clientId,r)}}else if(e.vs.test(i.key)){if(null!==i.newValue){const r=e.js(i.key,i.newValue);if(r)return e.Hs(r)}}else if(e.Fs.test(i.key)){if(null!==i.newValue){const r=e.Js(i.key,i.newValue);if(r)return e.Ys(r)}}else if(i.key===e.Ms){if(null!==i.newValue){const r=e.Ns(i.newValue);if(r)return e.Ls(r)}}else if(i.key===e.Ds){const r=function(s){let c=op.oe;if(null!=s)try{const u=JSON.parse(s);mr("number"==typeof u),c=u}catch(u){Wl("SharedClientState","Failed to read sequence number from WebStorage",u)}return c}(i.newValue);r!==op.oe&&e.sequenceNumberHandler(r)}else if(i.key===e.xs){const r=e.Zs(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Xs(o)))}}else e.Ss.push(i)}))}}get Qs(){return this.ws.get(this.gs)}Os(){this.setItem(this.bs,this.Qs.Rs())}ks(t,e,i){const r=new nD(this.currentUser,t,e,i),o=TZ(this.persistenceKey,this.currentUser,t);this.setItem(o,r.Rs())}qs(t){const e=TZ(this.persistenceKey,this.currentUser,t);this.removeItem(e)}$s(t){this.storage.setItem(this.Ms,JSON.stringify({clientId:this.gs,onlineState:t}))}Ks(t,e,i){const r=N4(this.persistenceKey,t),o=new _C(t,e,i);this.setItem(r,o.Rs())}Us(t){const e=JSON.stringify(Array.from(t));this.setItem(this.xs,e)}Ws(t){const e=this.Cs.exec(t);return e?e[1]:null}zs(t,e){const i=this.Ws(t);return iD.As(i,e)}js(t,e){const i=this.vs.exec(t),r=Number(i[1]);return nD.As(new au(void 0!==i[2]?i[2]:null),r,e)}Js(t,e){const i=this.Fs.exec(t),r=Number(i[1]);return _C.As(r,e)}Ns(t){return U4.As(t)}Zs(t){return JSON.parse(t)}Hs(t){var e=this;return(0,Dn.A)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.eo(t.batchId,t.state,t.error);Zn("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Ys(t){return this.syncEngine.no(t.targetId,t.state,t.error)}Gs(t,e){const i=e?this.ws.insert(t,e):this.ws.remove(t),r=this.Bs(this.ws),o=this.Bs(i),s=[],c=[];return o.forEach(u=>{r.has(u)||s.push(u)}),r.forEach(u=>{o.has(u)||c.push(u)}),this.syncEngine.ro(s,c).then(()=>{this.ws=i})}Ls(t){this.ws.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Bs(t){let e=u4();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class SZ{constructor(){this.io=new V4,this.so={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.io.Vs(t),this.so[t]||"not-current"}updateQueryState(t,e,i){this.so[t]=e}removeLocalQueryTarget(t){this.io.fs(t)}isLocalQueryTarget(t){return this.io.activeTargetIds.has(t)}clearQueryState(t){delete this.so[t]}getAllActiveQueryTargets(){return this.io.activeTargetIds}isActiveQueryTarget(t){return this.io.activeTargetIds.has(t)}start(){return this.io=new V4,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class jPe{oo(t){}shutdown(){}}class kZ{constructor(){this._o=()=>this.ao(),this.uo=()=>this.co(),this.lo=[],this.ho()}oo(t){this.lo.push(t)}shutdown(){window.removeEventListener("online",this._o),window.removeEventListener("offline",this.uo)}ho(){window.addEventListener("online",this._o),window.addEventListener("offline",this.uo)}ao(){Zn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.lo)t(0)}co(){Zn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.lo)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let rD=null;function j4(){return null===rD?rD=268435456+Math.round(2147483648*Math.random()):rD++,"0x"+rD.toString(16)}const zPe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GPe{constructor(t){this.Po=t.Po,this.Io=t.Io}To(t){this.Eo=t}Ao(t){this.Ro=t}Vo(t){this.mo=t}onMessage(t){this.fo=t}close(){this.Io()}send(t){this.Po(t)}po(){this.Eo()}yo(){this.Ro()}wo(t){this.mo(t)}So(t){this.fo(t)}}const pd="WebChannelConnection";class HPe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.bo=i+"://"+e.host,this.Do=`projects/${r}/databases/${o}`,this.Co="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get vo(){return!1}Fo(e,i,r,o,s){const c=j4(),u=this.Mo(e,i.toUriEncodedString());Zn("RestConnection",`Sending RPC '${e}' ${c}:`,u,r);const g={"google-cloud-resource-prefix":this.Do,"x-goog-request-params":this.Co};return this.xo(g,o,s),this.Oo(e,u,g,r).then(w=>(Zn("RestConnection",`Received RPC '${e}' ${c}: `,w),w),w=>{throw yh("RestConnection",`RPC '${e}' ${c} failed with error: `,w,"url: ",u,"request:",r),w})}No(e,i,r,o,s,c){return this.Fo(e,i,r,o,s)}xo(e,i,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+n1,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>e[s]=o),r&&r.headers.forEach((o,s)=>e[s]=o)}Mo(e,i){return`${this.bo}/v1/${i}:${zPe[e]}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Oo(t,e,i,r){const o=j4();return new Promise((s,c)=>{const u=new nX;u.setWithCredentials(!0),u.listenOnce(rX.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Tk.NO_ERROR:const w=u.getResponseJson();Zn(pd,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(w)),s(w);break;case Tk.TIMEOUT:Zn(pd,`RPC '${t}' ${o} timed out`),c(new Kn(gn.DEADLINE_EXCEEDED,"Request time out"));break;case Tk.HTTP_ERROR:const T=u.getStatus();if(Zn(pd,`RPC '${t}' ${o} failed with status:`,T,"response text:",u.getResponseText()),T>0){let F=u.getResponseJson();Array.isArray(F)&&(F=F[0]);const H=F?.error;if(H&&H.status&&H.message){const ee=function(xe){const et=xe.toLowerCase().replace(/_/g,"-");return Object.values(gn).indexOf(et)>=0?et:gn.UNKNOWN}(H.status);c(new Kn(ee,H.message))}else c(new Kn(gn.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Kn(gn.UNAVAILABLE,"Connection failed."));break;default:Yi()}}finally{Zn(pd,`RPC '${t}' ${o} completed.`)}});const g=JSON.stringify(r);Zn(pd,`RPC '${t}' ${o} sending request:`,r),u.send(e,"POST",g,i,15)})}Lo(t,e,i){const r=j4(),o=[this.bo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=aX(),c=sX(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;void 0!==g&&(u.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(u.xmlHttpFactory=new iX({})),this.xo(u.initMessageHeaders,e,i),u.encodeInitMessageHeaders=!0;const w=o.join("");Zn(pd,`Creating RPC '${t}' stream ${r}: ${w}`,u);const T=s.createWebChannel(w,u);let F=!1,H=!1;const ee=new GPe({Po:xe=>{H?Zn(pd,`Not sending because RPC '${t}' stream ${r} is closed:`,xe):(F||(Zn(pd,`Opening RPC '${t}' stream ${r} transport.`),T.open(),F=!0),Zn(pd,`RPC '${t}' stream ${r} sending:`,xe),T.send(xe))},Io:()=>T.close()}),Ae=(xe,et,Ye)=>{xe.listen(et,yt=>{try{Ye(yt)}catch(cn){setTimeout(()=>{throw cn},0)}})};return Ae(T,GE.EventType.OPEN,()=>{H||(Zn(pd,`RPC '${t}' stream ${r} transport opened.`),ee.po())}),Ae(T,GE.EventType.CLOSE,()=>{H||(H=!0,Zn(pd,`RPC '${t}' stream ${r} transport closed`),ee.wo())}),Ae(T,GE.EventType.ERROR,xe=>{H||(H=!0,yh(pd,`RPC '${t}' stream ${r} transport errored:`,xe),ee.wo(new Kn(gn.UNAVAILABLE,"The operation could not be completed")))}),Ae(T,GE.EventType.MESSAGE,xe=>{var et;if(!H){const Ye=xe.data[0];mr(!!Ye);const cn=Ye.error||(null===(et=Ye[0])||void 0===et?void 0:et.error);if(cn){Zn(pd,`RPC '${t}' stream ${r} received error:`,cn);const $n=cn.status;let si=function(xt){const Ft=fc[xt];if(void 0!==Ft)return yY(Ft)}($n),bt=cn.message;void 0===si&&(si=gn.INTERNAL,bt="Unknown error status: "+$n+" with message "+cn.message),H=!0,ee.wo(new Kn(si,bt)),T.close()}else Zn(pd,`RPC '${t}' stream ${r} received:`,Ye),ee.So(Ye)}}),Ae(c,oX.STAT_EVENT,xe=>{xe.stat===KL.PROXY?Zn(pd,`RPC '${t}' stream ${r} detected buffering proxy`):xe.stat===KL.NOPROXY&&Zn(pd,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{ee.yo()},0),ee}}function DZ(){return typeof window<"u"?window:null}function oD(){return typeof document<"u"?document:null}function vC(n){return new JBe(n,!0)}class z4{constructor(t,e,i=1e3,r=1.5,o=6e4){this.ai=t,this.timerId=e,this.Bo=i,this.ko=r,this.qo=o,this.Qo=0,this.Ko=null,this.$o=Date.now(),this.reset()}reset(){this.Qo=0}Uo(){this.Qo=this.qo}Wo(t){this.cancel();const e=Math.floor(this.Qo+this.Go()),i=Math.max(0,Date.now()-this.$o),r=Math.max(0,e-i);r>0&&Zn("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Qo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Ko=this.ai.enqueueAfterDelay(this.timerId,r,()=>(this.$o=Date.now(),t())),this.Qo*=this.ko,this.Qo<this.Bo&&(this.Qo=this.Bo),this.Qo>this.qo&&(this.Qo=this.qo)}zo(){null!==this.Ko&&(this.Ko.skipDelay(),this.Ko=null)}cancel(){null!==this.Ko&&(this.Ko.cancel(),this.Ko=null)}Go(){return(Math.random()-.5)*this.Qo}}class RZ{constructor(t,e,i,r,o,s,c,u){this.ai=t,this.jo=i,this.Ho=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Jo=0,this.Yo=null,this.Zo=null,this.stream=null,this.Xo=0,this.e_=new z4(t,e)}t_(){return 1===this.state||5===this.state||this.n_()}n_(){return 2===this.state||3===this.state}start(){this.Xo=0,4!==this.state?this.auth():this.r_()}stop(){var t=this;return(0,Dn.A)(function*(){t.t_()&&(yield t.close(0))})()}i_(){this.state=0,this.e_.reset()}s_(){this.n_()&&null===this.Yo&&(this.Yo=this.ai.enqueueAfterDelay(this.jo,6e4,()=>this.o_()))}__(t){this.a_(),this.stream.send(t)}o_(){var t=this;return(0,Dn.A)(function*(){if(t.n_())return t.close(0)})()}a_(){this.Yo&&(this.Yo.cancel(),this.Yo=null)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}close(t,e){var i=this;return(0,Dn.A)(function*(){i.a_(),i.u_(),i.e_.cancel(),i.Jo++,4!==t?i.e_.reset():e&&e.code===gn.RESOURCE_EXHAUSTED?(Wl(e.toString()),Wl("Using maximum backoff delay to prevent overloading the backend."),i.e_.Uo()):e&&e.code===gn.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.c_(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Vo(e)})()}c_(){}auth(){this.state=1;const t=this.l_(this.Jo),e=this.Jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Jo===e&&this.h_(i,r)},i=>{t(()=>{const r=new Kn(gn.UNKNOWN,"Fetching auth token failed: "+i.message);return this.P_(r)})})}h_(t,e){const i=this.l_(this.Jo);this.stream=this.I_(t,e),this.stream.To(()=>{i(()=>this.listener.To())}),this.stream.Ao(()=>{i(()=>(this.state=2,this.Zo=this.ai.enqueueAfterDelay(this.Ho,1e4,()=>(this.n_()&&(this.state=3),Promise.resolve())),this.listener.Ao()))}),this.stream.Vo(r=>{i(()=>this.P_(r))}),this.stream.onMessage(r=>{i(()=>1==++this.Xo?this.T_(r):this.onNext(r))})}r_(){var t=this;this.state=5,this.e_.Wo((0,Dn.A)(function*(){t.state=0,t.start()}))}P_(t){return Zn("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}l_(t){return e=>{this.ai.enqueueAndForget(()=>this.Jo===t?e():(Zn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qPe extends RZ{constructor(t,e,i,r,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,s),this.serializer=o}I_(t,e){return this.connection.Lo("Listen",t,e)}T_(t){return this.onNext(t)}onNext(t){this.e_.reset();const e=function nPe(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(g=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:Yi(),r=t.targetChange.targetIds||[],o=function(g,w){return g.useProto3Json?(mr(void 0===w||"string"==typeof w),Il.fromBase64String(w||"")):(mr(void 0===w||w instanceof Buffer||w instanceof Uint8Array),Il.fromUint8Array(w||new Uint8Array))}(n,t.targetChange.resumeToken),s=t.targetChange.cause,c=s&&function(g){const w=void 0===g.code?gn.UNKNOWN:yY(g.code);return new Kn(w,g.message||"")}(s);e=new CY(i,r,o,c||null)}else if("documentChange"in t){const i=t.documentChange,r=JA(n,i.document.name),o=$l(i.document.updateTime),s=i.document.createTime?$l(i.document.createTime):Er.min(),c=new Pu({mapValue:{fields:i.document.fields}}),u=La.newFoundDocument(r,o,s,c);e=new zk(i.targetIds||[],i.removedTargetIds||[],u.key,u)}else if("documentDelete"in t){const i=t.documentDelete,r=JA(n,i.document),o=i.readTime?$l(i.readTime):Er.min(),s=La.newNoDocument(r,o);e=new zk([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in t){const i=t.documentRemove,r=JA(n,i.document);e=new zk([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return Yi();{const i=t.filter,{count:r=0,unchangedNames:o}=i,s=new KBe(r,o);e=new EY(i.targetId,s)}}var g;return e}(this.serializer,t),i=function(o){if(!("targetChange"in o))return Er.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Er.min():s.readTime?$l(s.readTime):Er.min()}(t);return this.listener.E_(e,i)}d_(t){const e={};e.database=v4(this.serializer),e.addTarget=function(o,s){let c;const u=s.target;if(c=Fk(u)?{documents:FY(o,u)}:{query:Gk(o,u)._t},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=kY(o,s.resumeToken);const g=m4(o,s.expectedCount);null!==g&&(c.expectedCount=g)}else if(s.snapshotVersion.compareTo(Er.min())>0){c.readTime=_1(o,s.snapshotVersion.toTimestamp());const g=m4(o,s.expectedCount);null!==g&&(c.expectedCount=g)}return c}(this.serializer,t);const i=function rPe(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Yi()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.__(e)}A_(t){const e={};e.database=v4(this.serializer),e.removeTarget=t,this.__(e)}}class KPe extends RZ{constructor(t,e,i,r,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,s),this.serializer=o}get R_(){return this.Xo>0}start(){this.lastStreamToken=void 0,super.start()}c_(){this.R_&&this.V_([])}I_(t,e){return this.connection.Lo("Write",t,e)}T_(t){return mr(!!t.streamToken),this.lastStreamToken=t.streamToken,mr(!t.writeResults||0===t.writeResults.length),this.listener.m_()}onNext(t){mr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.e_.reset();const e=function iPe(n,t){return n&&n.length>0?(mr(void 0!==t),n.map(e=>function(r,o){let s=$l(r.updateTime?r.updateTime:o);return s.isEqual(Er.min())&&(s=$l(o)),new GBe(s,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=$l(t.commitTime);return this.listener.f_(i,e)}g_(){const t={};t.database=v4(this.serializer),this.__(t)}V_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>dC(this.serializer,i))};this.__(e)}}class WPe extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.p_=!1}y_(){if(this.p_)throw new Kn(gn.FAILED_PRECONDITION,"The client has already been terminated.")}Fo(t,e,i,r){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Fo(t,_4(e,i),r,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===gn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Kn(gn.UNKNOWN,o.toString())})}No(t,e,i,r,o){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.No(t,_4(e,i),r,s,c,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===gn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Kn(gn.UNKNOWN,s.toString())})}terminate(){this.p_=!0,this.connection.terminate()}}class $Pe{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.w_=0,this.S_=null,this.b_=!0}D_(){0===this.w_&&(this.C_("Unknown"),this.S_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.S_=null,this.v_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}F_(t){"Online"===this.state?this.C_("Unknown"):(this.w_++,this.w_>=1&&(this.M_(),this.v_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.M_(),this.w_=0,"Online"===t&&(this.b_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}v_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.b_?(Wl(e),this.b_=!1):Zn("OnlineStateTracker",e)}M_(){null!==this.S_&&(this.S_.cancel(),this.S_=null)}}class XPe{constructor(t,e,i,r,o){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.x_=[],this.O_=new Map,this.N_=new Set,this.L_=[],this.B_=o,this.B_.oo(c=>{i.enqueueAndForget((0,Dn.A)(function*(){var u;k_(s)&&(Zn("RemoteStore","Restarting streams for network reachability change."),yield(u=(0,Dn.A)(function*(w){const T=Ei(w);T.N_.add(4),yield I1(T),T.k_.set("Unknown"),T.N_.delete(4),yield yC(T)}),function g(w){return u.apply(this,arguments)})(s))}))}),this.k_=new $Pe(i,r)}}function yC(n){return G4.apply(this,arguments)}function G4(){return(G4=(0,Dn.A)(function*(n){if(k_(n))for(const t of n.L_)yield t(!0)})).apply(this,arguments)}function I1(n){return H4.apply(this,arguments)}function H4(){return(H4=(0,Dn.A)(function*(n){for(const t of n.L_)yield t(!1)})).apply(this,arguments)}function sD(n,t){const e=Ei(n);e.O_.has(t.targetId)||(e.O_.set(t.targetId,t),W4(e)?K4(e):k1(e).n_()&&q4(e,t))}function T1(n,t){const e=Ei(n),i=k1(e);e.O_.delete(t),i.n_()&&MZ(e,t),0===e.O_.size&&(i.n_()?i.s_():k_(e)&&e.k_.set("Unknown"))}function q4(n,t){if(n.q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Er.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}k1(n).d_(t)}function MZ(n,t){n.q_.xe(t),k1(n).A_(t)}function K4(n){n.q_=new $Be({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>n.O_.get(t)||null,tt:()=>n.datastore.serializer.databaseId}),k1(n).start(),n.k_.D_()}function W4(n){return k_(n)&&!k1(n).t_()&&n.O_.size>0}function k_(n){return 0===Ei(n).N_.size}function BZ(n){n.q_=void 0}function YPe(n){return $4.apply(this,arguments)}function $4(){return($4=(0,Dn.A)(function*(n){n.k_.set("Online")})).apply(this,arguments)}function ZPe(n){return X4.apply(this,arguments)}function X4(){return(X4=(0,Dn.A)(function*(n){n.O_.forEach((t,e)=>{q4(n,t)})})).apply(this,arguments)}function JPe(n,t){return Y4.apply(this,arguments)}function Y4(){return(Y4=(0,Dn.A)(function*(n,t){BZ(n),W4(n)?(n.k_.F_(t),K4(n)):n.k_.set("Unknown")})).apply(this,arguments)}function eOe(n,t,e){return Z4.apply(this,arguments)}function Z4(){return Z4=(0,Dn.A)(function*(n,t,e){if(n.k_.set("Online"),t instanceof CY&&2===t.state&&t.cause)try{yield(i=(0,Dn.A)(function*(o,s){const c=s.cause;for(const u of s.targetIds)o.O_.has(u)&&(yield o.remoteSyncer.rejectListen(u,c),o.O_.delete(u),o.q_.removeTarget(u))}),function r(o,s){return i.apply(this,arguments)})(n,t)}catch(i){Zn("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield aD(n,i)}else if(t instanceof zk?n.q_.Ke(t):t instanceof EY?n.q_.He(t):n.q_.We(t),!e.isEqual(Er.min()))try{const i=yield bZ(n.localStore);e.compareTo(i)>=0&&(yield function(o,s){const c=o.q_.rt(s);return c.targetChanges.forEach((u,g)=>{if(u.resumeToken.approximateByteSize()>0){const w=o.O_.get(g);w&&o.O_.set(g,w.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,g)=>{const w=o.O_.get(u);if(!w)return;o.O_.set(u,w.withResumeToken(Il.EMPTY_BYTE_STRING,w.snapshotVersion)),MZ(o,u);const T=new og(w.target,u,g,w.sequenceNumber);q4(o,T)}),o.remoteSyncer.applyRemoteEvent(c)}(n,e))}catch(i){Zn("RemoteStore","Failed to raise snapshot:",i),yield aD(n,i)}var i}),Z4.apply(this,arguments)}function aD(n,t,e){return J4.apply(this,arguments)}function J4(){return(J4=(0,Dn.A)(function*(n,t,e){if(!__(t))throw t;n.N_.add(1),yield I1(n),n.k_.set("Offline"),e||(e=()=>bZ(n.localStore)),n.asyncQueue.enqueueRetryable((0,Dn.A)(function*(){Zn("RemoteStore","Retrying IndexedDB access"),yield e(),n.N_.delete(1),yield yC(n)}))})).apply(this,arguments)}function PZ(n,t){return t().catch(e=>aD(n,e,t))}function S1(n){return eN.apply(this,arguments)}function eN(){return(eN=(0,Dn.A)(function*(n){const t=Ei(n),e=D_(t);let i=t.x_.length>0?t.x_[t.x_.length-1].batchId:-1;for(;tOe(t);)try{const r=yield UPe(t.localStore,i);if(null===r){0===t.x_.length&&e.s_();break}i=r.batchId,nOe(t,r)}catch(r){yield aD(t,r)}OZ(t)&&FZ(t)})).apply(this,arguments)}function tOe(n){return k_(n)&&n.x_.length<10}function nOe(n,t){n.x_.push(t);const e=D_(n);e.n_()&&e.R_&&e.V_(t.mutations)}function OZ(n){return k_(n)&&!D_(n).t_()&&n.x_.length>0}function FZ(n){D_(n).start()}function iOe(n){return tN.apply(this,arguments)}function tN(){return(tN=(0,Dn.A)(function*(n){D_(n).g_()})).apply(this,arguments)}function rOe(n){return nN.apply(this,arguments)}function nN(){return(nN=(0,Dn.A)(function*(n){const t=D_(n);for(const e of n.x_)t.V_(e.mutations)})).apply(this,arguments)}function oOe(n,t,e){return iN.apply(this,arguments)}function iN(){return(iN=(0,Dn.A)(function*(n,t,e){const i=n.x_.shift(),r=p4.from(i,t,e);yield PZ(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield S1(n)})).apply(this,arguments)}function sOe(n,t){return rN.apply(this,arguments)}function rN(){return rN=(0,Dn.A)(function*(n,t){var e;t&&D_(n).R_&&(yield(e=(0,Dn.A)(function*(r,o){if(vY(c=o.code)&&c!==gn.ABORTED){const s=r.x_.shift();D_(r).i_(),yield PZ(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield S1(r)}var c}),function i(r,o){return e.apply(this,arguments)})(n,t)),OZ(n)&&FZ(n)}),rN.apply(this,arguments)}function LZ(n,t){return oN.apply(this,arguments)}function oN(){return(oN=(0,Dn.A)(function*(n,t){const e=Ei(n);e.asyncQueue.verifyOperationInProgress(),Zn("RemoteStore","RemoteStore received new credentials");const i=k_(e);e.N_.add(3),yield I1(e),i&&e.k_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.N_.delete(3),yield yC(e)})).apply(this,arguments)}function sN(n,t){return aN.apply(this,arguments)}function aN(){return(aN=(0,Dn.A)(function*(n,t){const e=Ei(n);t?(e.N_.delete(2),yield yC(e)):t||(e.N_.add(2),yield I1(e),e.k_.set("Unknown"))})).apply(this,arguments)}function k1(n){return n.Q_||(n.Q_=function(e,i,r){const o=Ei(e);return o.y_(),new qPe(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{To:YPe.bind(null,n),Ao:ZPe.bind(null,n),Vo:JPe.bind(null,n),E_:eOe.bind(null,n)}),n.L_.push(function(){var t=(0,Dn.A)(function*(e){e?(n.Q_.i_(),W4(n)?K4(n):n.k_.set("Unknown")):(yield n.Q_.stop(),BZ(n))});return function(e){return t.apply(this,arguments)}}())),n.Q_}function D_(n){return n.K_||(n.K_=function(e,i,r){const o=Ei(e);return o.y_(),new KPe(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{To:()=>Promise.resolve(),Ao:iOe.bind(null,n),Vo:sOe.bind(null,n),m_:rOe.bind(null,n),f_:oOe.bind(null,n)}),n.L_.push(function(){var t=(0,Dn.A)(function*(e){e?(n.K_.i_(),yield S1(n)):(yield n.K_.stop(),n.x_.length>0&&(Zn("RemoteStore",`Stopping write stream with ${n.x_.length} pending writes`),n.x_=[]))});return function(e){return t.apply(this,arguments)}}())),n.K_}class lN{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Nc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const s=Date.now()+i,c=new lN(t,e,s,r,o);return c.start(i),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Kn(gn.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function D1(n,t){if(Wl("AsyncQueue",`${t}: ${n}`),__(n))return new Kn(gn.UNAVAILABLE,`${t}: ${n}`);throw n}class R1{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Mi.comparator(e.key,i.key):(e,i)=>Mi.comparator(e.key,i.key),this.keyedMap=iC(),this.sortedSet=new ka(this.comparator)}static emptySet(t){return new R1(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof R1)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new R1;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class NZ{constructor(){this.U_=new ka(Mi.comparator)}track(t){const e=t.doc.key,i=this.U_.get(e);i?0!==t.type&&3===i.type?this.U_=this.U_.insert(e,t):3===t.type&&1!==i.type?this.U_=this.U_.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.U_=this.U_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.U_=this.U_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.U_=this.U_.remove(e):1===t.type&&2===i.type?this.U_=this.U_.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.U_=this.U_.insert(e,{type:2,doc:t.doc}):Yi():this.U_=this.U_.insert(e,t)}W_(){const t=[];return this.U_.inorderTraversal((e,i)=>{t.push(i)}),t}}class M1{constructor(t,e,i,r,o,s,c,u,g){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=g}static fromInitialDocuments(t,e,i,r,o){const s=[];return e.forEach(c=>{s.push({type:0,doc:c})}),new M1(t,e,R1.emptySet(e),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&tC(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class aOe{constructor(){this.G_=void 0,this.z_=[]}j_(){return this.z_.some(t=>t.H_())}}class lOe{constructor(){this.queries=UZ(),this.onlineState="Unknown",this.J_=new Set}terminate(){!function(e,i){const r=Ei(e),o=r.queries;r.queries=UZ(),o.forEach((s,c)=>{for(const u of c.z_)u.onError(i)})}(this,new Kn(gn.ABORTED,"Firestore shutting down"))}}function UZ(){return new ig(n=>JX(n),tC)}function cN(n,t){return uN.apply(this,arguments)}function uN(){return(uN=(0,Dn.A)(function*(n,t){const e=Ei(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.j_()&&t.H_()&&(i=2):(o=new aOe,i=t.H_()?0:1);try{switch(i){case 0:o.G_=yield e.onListen(r,!0);break;case 1:o.G_=yield e.onListen(r,!1);break;case 2:yield e.onFirstRemoteStoreListen(r)}}catch(s){const c=D1(s,`Initialization of query '${p1(t.query)}' failed`);return void t.onError(c)}e.queries.set(r,o),o.z_.push(t),t.Y_(e.onlineState),o.G_&&t.Z_(o.G_)&&pN(e)})).apply(this,arguments)}function dN(n,t){return hN.apply(this,arguments)}function hN(){return(hN=(0,Dn.A)(function*(n,t){const e=Ei(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const s=o.z_.indexOf(t);s>=0&&(o.z_.splice(s,1),0===o.z_.length?r=t.H_()?0:1:!o.j_()&&t.H_()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}})).apply(this,arguments)}function cOe(n,t){const e=Ei(n);let i=!1;for(const r of t){const s=e.queries.get(r.query);if(s){for(const c of s.z_)c.Z_(r)&&(i=!0);s.G_=r}}i&&pN(e)}function uOe(n,t,e){const i=Ei(n),r=i.queries.get(t);if(r)for(const o of r.z_)o.onError(e);i.queries.delete(t)}function pN(n){n.J_.forEach(t=>{t.next()})}var fN,VZ;(VZ=fN||(fN={})).X_="default",VZ.Cache="cache";class AN{constructor(t,e,i){this.query=t,this.ea=e,this.ta=!1,this.na=null,this.onlineState="Unknown",this.options=i||{}}Z_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new M1(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.ta?this.ra(t)&&(this.ea.next(t),e=!0):this.ia(t,this.onlineState)&&(this.sa(t),e=!0),this.na=t,e}onError(t){this.ea.error(t)}Y_(t){this.onlineState=t;let e=!1;return this.na&&!this.ta&&this.ia(this.na,t)&&(this.sa(this.na),e=!0),e}ia(t,e){return!t.fromCache||!this.H_()||(!this.options.oa||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}ra(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.na&&this.na.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}sa(t){t=M1.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ta=!0,this.ea.next(t)}H_(){return this.options.source!==fN.Cache}}class dOe{constructor(t,e){this._a=t,this.byteLength=e}aa(){return"metadata"in this._a}}class QZ{constructor(t){this.serializer=t}Ts(t){return JA(this.serializer,t)}Es(t){return t.metadata.exists?OY(this.serializer,t.document,!1):La.newNoDocument(this.Ts(t.metadata.name),this.ds(t.metadata.readTime))}ds(t){return $l(t)}}class hOe{constructor(t,e,i){this.ua=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=jZ(t)}ca(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t._a.namedQuery)this.queries.push(t._a.namedQuery);else if(t._a.documentMetadata){this.documents.push({metadata:t._a.documentMetadata}),t._a.documentMetadata.exists||++e;const i=Zo.fromString(t._a.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t._a.document&&(this.documents[this.documents.length-1].document=t._a.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}la(t){const e=new Map,i=new QZ(this.serializer);for(const r of t)if(r.metadata.queries){const o=i.Ts(r.metadata.name);for(const s of r.metadata.queries){const c=(e.get(s)||yo()).add(o);e.set(s,c)}}return e}complete(){var t=this;return(0,Dn.A)(function*(){const e=yield function VPe(n,t,e,i){return F4.apply(this,arguments)}(t.localStore,new QZ(t.serializer),t.documents,t.ua.id),i=t.la(t.documents);for(const r of t.queries)yield QPe(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,ha:t.collectionGroups,Pa:e}})()}}function jZ(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class zZ{constructor(t){this.key=t}}class GZ{constructor(t){this.key=t}}class HZ{constructor(t,e){this.query=t,this.Ia=e,this.Ta=null,this.hasCachedResults=!1,this.current=!1,this.Ea=yo(),this.mutatedKeys=yo(),this.da=tY(t),this.Aa=new R1(this.da)}get Ra(){return this.Ia}Va(t,e){const i=e?e.ma:new NZ,r=e?e.Aa:this.Aa;let o=e?e.mutatedKeys:this.mutatedKeys,s=r,c=!1;const u="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,g="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((w,T)=>{const F=r.get(w),H=nC(this.query,T)?T:null,ee=!!F&&this.mutatedKeys.has(F.key),Ae=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let xe=!1;F&&H?F.data.isEqual(H.data)?ee!==Ae&&(i.track({type:3,doc:H}),xe=!0):this.fa(F,H)||(i.track({type:2,doc:H}),xe=!0,(u&&this.da(H,u)>0||g&&this.da(H,g)<0)&&(c=!0)):!F&&H?(i.track({type:0,doc:H}),xe=!0):F&&!H&&(i.track({type:1,doc:F}),xe=!0,(u||g)&&(c=!0)),xe&&(H?(s=s.add(H),o=Ae?o.add(w):o.delete(w)):(s=s.delete(w),o=o.delete(w)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const w="F"===this.query.limitType?s.last():s.first();s=s.delete(w.key),o=o.delete(w.key),i.track({type:1,doc:w})}return{Aa:s,ma:i,ts:c,mutatedKeys:o}}fa(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.Aa;this.Aa=t.Aa,this.mutatedKeys=t.mutatedKeys;const s=t.ma.W_();s.sort((w,T)=>function(H,ee){const Ae=xe=>{switch(xe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Yi()}};return Ae(H)-Ae(ee)}(w.type,T.type)||this.da(w.doc,T.doc)),this.ga(i),r=null!=r&&r;const c=e&&!r?this.pa():[],u=0===this.Ea.size&&this.current&&!r?1:0,g=u!==this.Ta;return this.Ta=u,0!==s.length||g?{snapshot:new M1(this.query,t.Aa,o,s,t.mutatedKeys,0===u,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),ya:c}:{ya:c}}Y_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Aa:this.Aa,ma:new NZ,mutatedKeys:this.mutatedKeys,ts:!1},!1)):{ya:[]}}wa(t){return!this.Ia.has(t)&&!!this.Aa.has(t)&&!this.Aa.get(t).hasLocalMutations}ga(t){t&&(t.addedDocuments.forEach(e=>this.Ia=this.Ia.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ia=this.Ia.delete(e)),this.current=t.current)}pa(){if(!this.current)return[];const t=this.Ea;this.Ea=yo(),this.Aa.forEach(i=>{this.wa(i.key)&&(this.Ea=this.Ea.add(i.key))});const e=[];return t.forEach(i=>{this.Ea.has(i)||e.push(new GZ(i))}),this.Ea.forEach(i=>{t.has(i)||e.push(new zZ(i))}),e}Sa(t){this.Ia=t.Is,this.Ea=yo();const e=this.Va(t.documents);return this.applyChanges(e,!0)}ba(){return M1.fromInitialDocuments(this.query,this.Aa,this.mutatedKeys,0===this.Ta,this.hasCachedResults)}}class pOe{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class fOe{constructor(t){this.key=t,this.Da=!1}}class AOe{constructor(t,e,i,r,o,s){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.va=new ig(c=>JX(c),tC),this.Fa=new Map,this.Ma=new Set,this.xa=new ka(Mi.comparator),this.Oa=new Map,this.Na=new S4,this.La={},this.Ba=new Map,this.ka=ky.Bn(),this.onlineState="Unknown",this.qa=void 0}get isPrimaryClient(){return!0===this.qa}}function mOe(n,t){return mN.apply(this,arguments)}function mN(){return(mN=(0,Dn.A)(function*(n,t,e=!0){const i=lD(n);let r;const o=i.va.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.ba()):r=yield qZ(i,t,e,!0),r})).apply(this,arguments)}function gOe(n,t){return gN.apply(this,arguments)}function gN(){return(gN=(0,Dn.A)(function*(n,t){const e=lD(n);yield qZ(e,t,!0,!1)})).apply(this,arguments)}function qZ(n,t,e,i){return _N.apply(this,arguments)}function _N(){return(_N=(0,Dn.A)(function*(n,t,e,i){const r=yield E1(n.localStore,dd(t)),o=r.targetId,s=e?n.sharedClientState.addLocalQueryTarget(o):"not-current";let c;return i&&(c=yield vN(n,t,o,"current"===s,r.resumeToken)),n.isPrimaryClient&&e&&sD(n.remoteStore,r),c})).apply(this,arguments)}function vN(n,t,e,i,r){return yN.apply(this,arguments)}function yN(){return yN=(0,Dn.A)(function*(n,t,e,i,r){n.Qa=(T,F,H)=>{return(ee=(0,Dn.A)(function*(xe,et,Ye,yt){let cn=et.view.Va(Ye);cn.ts&&(cn=yield tD(xe.localStore,et.query,!1).then(({documents:nt})=>et.view.Va(nt,cn)));const $n=yt&&yt.targetChanges.get(et.targetId),si=yt&&null!=yt.targetMismatches.get(et.targetId),bt=et.view.applyChanges(cn,xe.isPrimaryClient,$n,si);return RN(xe,et.targetId,bt.ya),bt.snapshot}),function Ae(xe,et,Ye,yt){return ee.apply(this,arguments)})(n,T,F,H);var ee};const o=yield tD(n.localStore,t,!0),s=new HZ(t,o.Is),c=s.Va(o.documents),u=cC.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),g=s.applyChanges(c,n.isPrimaryClient,u);RN(n,e,g.ya);const w=new pOe(t,e,s);return n.va.set(t,w),n.Fa.has(e)?n.Fa.get(e).push(t):n.Fa.set(e,[t]),g.snapshot}),yN.apply(this,arguments)}function _Oe(n,t,e){return bN.apply(this,arguments)}function bN(){return(bN=(0,Dn.A)(function*(n,t,e){const i=Ei(n),r=i.va.get(t),o=i.Fa.get(r.targetId);if(o.length>1)return i.Fa.set(r.targetId,o.filter(s=>!tC(s,t))),void i.va.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield C1(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),e&&T1(i.remoteStore,r.targetId),B1(i,r.targetId)}).catch(g_))):(B1(i,r.targetId),yield C1(i.localStore,r.targetId,!0))})).apply(this,arguments)}function vOe(n,t){return wN.apply(this,arguments)}function wN(){return(wN=(0,Dn.A)(function*(n,t){const e=Ei(n),i=e.va.get(t),r=e.Fa.get(i.targetId);e.isPrimaryClient&&1===r.length&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),T1(e.remoteStore,i.targetId))})).apply(this,arguments)}function xN(){return(xN=(0,Dn.A)(function*(n,t,e){const i=jN(n);try{const r=yield function(s,c){const u=Ei(s),g=Ja.now(),w=c.reduce((H,ee)=>H.add(ee.key),yo());let T,F;return u.persistence.runTransaction("Locally write mutations","readwrite",H=>{let ee=wh(),Ae=yo();return u.us.getEntries(H,w).next(xe=>{ee=xe,ee.forEach((et,Ye)=>{Ye.isValidDocument()||(Ae=Ae.add(et))})}).next(()=>u.localDocuments.getOverlayedDocuments(H,ee)).next(xe=>{T=xe;const et=[];for(const Ye of c){const yt=qBe(Ye,T.get(Ye.key).overlayedDocument);null!=yt&&et.push(new rg(Ye.key,yt,LX(yt.value.mapValue),el.exists(!0)))}return u.mutationQueue.addMutationBatch(H,g,et,c)}).next(xe=>{F=xe;const et=xe.applyToLocalDocumentSet(T,Ae);return u.documentOverlayCache.saveOverlays(H,xe.batchId,et)})}).then(()=>({batchId:F.batchId,changes:iY(T)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,c,u){let g=s.La[s.currentUser.toKey()];g||(g=new ka(to)),g=g.insert(c,u),s.La[s.currentUser.toKey()]=g}(i,r.batchId,e),yield sg(i,r.changes),yield S1(i.remoteStore)}catch(r){const o=D1(r,"Failed to persist write");e.reject(o)}})).apply(this,arguments)}function KZ(n,t){return EN.apply(this,arguments)}function EN(){return(EN=(0,Dn.A)(function*(n,t){const e=Ei(n);try{const i=yield function NPe(n,t){const e=Ei(n),i=t.snapshotVersion;let r=e.ss;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=e.us.newChangeBuffer({trackRemovals:!0});r=e.ss;const c=[];t.targetChanges.forEach((w,T)=>{const F=r.get(T);if(!F)return;c.push(e.$r.removeMatchingKeys(o,w.removedDocuments,T).next(()=>e.$r.addMatchingKeys(o,w.addedDocuments,T)));let H=F.withSequenceNumber(o.currentSequenceNumber);var Ae,xe,et;null!==t.targetMismatches.get(T)?H=H.withResumeToken(Il.EMPTY_BYTE_STRING,Er.min()).withLastLimboFreeSnapshotVersion(Er.min()):w.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(w.resumeToken,i)),r=r.insert(T,H),xe=H,et=w,(0===(Ae=F).resumeToken.approximateByteSize()||xe.snapshotVersion.toMicroseconds()-Ae.snapshotVersion.toMicroseconds()>=3e8||et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0)&&c.push(e.$r.updateTargetData(o,H))});let u=wh(),g=yo();if(t.documentUpdates.forEach(w=>{t.resolvedLimboDocuments.has(w)&&c.push(e.persistence.referenceDelegate.updateLimboDocument(o,w))}),c.push(wZ(o,s,t.documentUpdates).next(w=>{u=w.hs,g=w.Ps})),!i.isEqual(Er.min())){const w=e.$r.getLastRemoteSnapshotVersion(o).next(T=>e.$r.setTargetsMetadata(o,o.currentSequenceNumber,i));c.push(w)}return Yt.waitFor(c).next(()=>s.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,u,g)).next(()=>u)}).then(o=>(e.ss=r,o))}(e.localStore,t);t.targetChanges.forEach((r,o)=>{const s=e.Oa.get(o);s&&(mr(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.Da=!0:r.modifiedDocuments.size>0?mr(s.Da):r.removedDocuments.size>0&&(mr(s.Da),s.Da=!1))}),yield sg(e,i,t)}catch(i){yield g_(i)}})).apply(this,arguments)}function WZ(n,t,e){const i=Ei(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.va.forEach((o,s)=>{const c=s.view.Y_(t);c.snapshot&&r.push(c.snapshot)}),function(s,c){const u=Ei(s);u.onlineState=c;let g=!1;u.queries.forEach((w,T)=>{for(const F of T.z_)F.Y_(c)&&(g=!0)}),g&&pN(u)}(i.eventManager,t),r.length&&i.Ca.E_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function bOe(n,t,e){return CN.apply(this,arguments)}function CN(){return(CN=(0,Dn.A)(function*(n,t,e){const i=Ei(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Oa.get(t),o=r&&r.key;if(o){let s=new ka(Mi.comparator);s=s.insert(o,La.newNoDocument(o,Er.min()));const c=yo().add(o),u=new lC(Er.min(),new Map,new ka(to),s,c);yield KZ(i,u),i.xa=i.xa.remove(o),i.Oa.delete(t),MN(i)}else yield C1(i.localStore,t,!1).then(()=>B1(i,t,e)).catch(g_)})).apply(this,arguments)}function wOe(n,t){return IN.apply(this,arguments)}function IN(){return(IN=(0,Dn.A)(function*(n,t){const e=Ei(n),i=t.batch.batchId;try{const r=yield function LPe(n,t){const e=Ei(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.us.newChangeBuffer({trackRemovals:!0});return function(c,u,g,w){const T=g.batch,F=T.keys();let H=Yt.resolve();return F.forEach(ee=>{H=H.next(()=>w.getEntry(u,ee)).next(Ae=>{const xe=g.docVersions.get(ee);mr(null!==xe),Ae.version.compareTo(xe)<0&&(T.applyToRemoteDocument(Ae,g),Ae.isValidDocument()&&(Ae.setReadTime(g.commitVersion),w.addEntry(Ae)))})}),H.next(()=>c.mutationQueue.removeMutationBatch(u,T))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let u=yo();for(let g=0;g<c.mutationResults.length;++g)c.mutationResults[g].transformResults.length>0&&(u=u.add(c.batch.mutations[g].key));return u}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);DN(e,i,null),kN(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield sg(e,r)}catch(r){yield g_(r)}})).apply(this,arguments)}function xOe(n,t,e){return TN.apply(this,arguments)}function TN(){return(TN=(0,Dn.A)(function*(n,t,e){const i=Ei(n);try{const r=yield function(s,c){const u=Ei(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let w;return u.mutationQueue.lookupMutationBatch(g,c).next(T=>(mr(null!==T),w=T.keys(),u.mutationQueue.removeMutationBatch(g,T))).next(()=>u.mutationQueue.performConsistencyCheck(g)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(g,w,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,w)).next(()=>u.localDocuments.getDocuments(g,w))})}(i.localStore,t);DN(i,t,e),kN(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield sg(i,r)}catch(r){yield g_(r)}})).apply(this,arguments)}function SN(){return(SN=(0,Dn.A)(function*(n,t){const e=Ei(n);k_(e.remoteStore)||Zn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const c=Ei(s);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>c.mutationQueue.getHighestUnacknowledgedBatchId(u))}(e.localStore);if(-1===i)return void t.resolve();const r=e.Ba.get(i)||[];r.push(t),e.Ba.set(i,r)}catch(i){const r=D1(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}})).apply(this,arguments)}function kN(n,t){(n.Ba.get(t)||[]).forEach(e=>{e.resolve()}),n.Ba.delete(t)}function DN(n,t,e){const i=Ei(n);let r=i.La[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.La[i.currentUser.toKey()]=r}}function B1(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Fa.get(t))n.va.delete(i),e&&n.Ca.Ka(i,e);n.Fa.delete(t),n.isPrimaryClient&&n.Na.mr(t).forEach(i=>{n.Na.containsKey(i)||$Z(n,i)})}function $Z(n,t){n.Ma.delete(t.path.canonicalString());const e=n.xa.get(t);null!==e&&(T1(n.remoteStore,e),n.xa=n.xa.remove(t),n.Oa.delete(e),MN(n))}function RN(n,t,e){for(const i of e)i instanceof zZ?(n.Na.addReference(i.key,t),COe(n,i)):i instanceof GZ?(Zn("SyncEngine","Document no longer in limbo: "+i.key),n.Na.removeReference(i.key,t),n.Na.containsKey(i.key)||$Z(n,i.key)):Yi()}function COe(n,t){const e=t.key,i=e.path.canonicalString();n.xa.get(e)||n.Ma.has(i)||(Zn("SyncEngine","New document in limbo: "+e),n.Ma.add(i),MN(n))}function MN(n){for(;n.Ma.size>0&&n.xa.size<n.maxConcurrentLimboResolutions;){const t=n.Ma.values().next().value;n.Ma.delete(t);const e=new Mi(Zo.fromString(t)),i=n.ka.next();n.Oa.set(i,new fOe(e)),n.xa=n.xa.insert(e,i),sD(n.remoteStore,new og(dd(d1(e.path)),i,"TargetPurposeLimboResolution",op.oe))}}function sg(n,t,e){return BN.apply(this,arguments)}function BN(){return BN=(0,Dn.A)(function*(n,t,e){const i=Ei(n),r=[],o=[],s=[];var c;i.va.isEmpty()||(i.va.forEach((c,u)=>{s.push(i.Qa(u,t,e).then(g=>{var w;if((g||e)&&i.isPrimaryClient){const T=g?!g.fromCache:null===(w=e?.targetChanges.get(u.targetId))||void 0===w?void 0:w.current;i.sharedClientState.updateQueryState(u.targetId,T?"current":"not-current")}if(g){r.push(g);const T=B4.Ui(u.targetId,g);o.push(T)}}))}),yield Promise.all(s),i.Ca.E_(r),yield(c=(0,Dn.A)(function*(g,w){const T=Ei(g);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",F=>Yt.forEach(w,H=>Yt.forEach(H.Ki,ee=>T.persistence.referenceDelegate.addReference(F,H.targetId,ee)).next(()=>Yt.forEach(H.$i,ee=>T.persistence.referenceDelegate.removeReference(F,H.targetId,ee)))))}catch(F){if(!__(F))throw F;Zn("LocalStore","Failed to update sequence numbers: "+F)}for(const F of w){const H=F.targetId;if(!F.fromCache){const ee=T.ss.get(H),xe=ee.withLastLimboFreeSnapshotVersion(ee.snapshotVersion);T.ss=T.ss.insert(H,xe)}}}),function u(g,w){return c.apply(this,arguments)})(i.localStore,o))}),BN.apply(this,arguments)}function IOe(n,t){return PN.apply(this,arguments)}function PN(){return(PN=(0,Dn.A)(function*(n,t){const e=Ei(n);if(!e.currentUser.isEqual(t)){Zn("SyncEngine","User change. New user:",t.toKey());const i=yield yZ(e.localStore,t);e.currentUser=t,(o=e).Ba.forEach(c=>{c.forEach(u=>{u.reject(new Kn(gn.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ba.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield sg(e,i.ls)}var o})).apply(this,arguments)}function TOe(n,t){const e=Ei(n),i=e.Oa.get(t);if(i&&i.Da)return yo().add(i.key);{let r=yo();const o=e.Fa.get(t);if(!o)return r;for(const s of o){const c=e.va.get(s);r=r.unionWith(c.view.Ra)}return r}}function SOe(n,t){return ON.apply(this,arguments)}function ON(){return(ON=(0,Dn.A)(function*(n,t){const e=Ei(n),i=yield tD(e.localStore,t.query,!0),r=t.view.Sa(i);return e.isPrimaryClient&&RN(e,t.targetId,r.ya),r})).apply(this,arguments)}function kOe(n,t){return FN.apply(this,arguments)}function FN(){return(FN=(0,Dn.A)(function*(n,t){const e=Ei(n);return EZ(e.localStore,t).then(i=>sg(e,i))})).apply(this,arguments)}function DOe(n,t,e,i){return LN.apply(this,arguments)}function LN(){return(LN=(0,Dn.A)(function*(n,t,e,i){const r=Ei(n),o=yield function(c,u){const g=Ei(c),w=Ei(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",T=>w.Fn(T,u).next(F=>F?g.localDocuments.getDocuments(T,F):Yt.resolve(null)))}(r.localStore,t);var u;null!==o?("pending"===e?yield S1(r.remoteStore):"acknowledged"===e||"rejected"===e?(DN(r,t,i||null),kN(r,t),u=t,Ei(Ei(r.localStore).mutationQueue).xn(u)):Yi(),yield sg(r,o)):Zn("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function NN(){return(NN=(0,Dn.A)(function*(n,t){const e=Ei(n);if(lD(e),jN(e),!0===t&&!0!==e.qa){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield XZ(e,i.toArray());e.qa=!0,yield sN(e.remoteStore,!0);for(const o of r)sD(e.remoteStore,o)}else if(!1===t&&!1!==e.qa){const i=[];let r=Promise.resolve();e.Fa.forEach((o,s)=>{e.sharedClientState.isLocalQueryTarget(s)?i.push(s):r=r.then(()=>(B1(e,s),C1(e.localStore,s,!0))),T1(e.remoteStore,s)}),yield r,yield XZ(e,i),function(s){const c=Ei(s);c.Oa.forEach((u,g)=>{T1(c.remoteStore,g)}),c.Na.gr(),c.Oa=new Map,c.xa=new ka(Mi.comparator)}(e),e.qa=!1,yield sN(e.remoteStore,!1)}})).apply(this,arguments)}function XZ(n,t,e){return UN.apply(this,arguments)}function UN(){return(UN=(0,Dn.A)(function*(n,t,e){const i=Ei(n),r=[],o=[];for(const s of t){let c;const u=i.Fa.get(s);if(u&&0!==u.length){c=yield E1(i.localStore,dd(u[0]));for(const g of u){const w=i.va.get(g),T=yield SOe(i,w);T.snapshot&&o.push(T.snapshot)}}else{const g=yield xZ(i.localStore,s);c=yield E1(i.localStore,g),yield vN(i,YZ(g),s,!1,c.resumeToken)}r.push(c)}return i.Ca.E_(o),r})).apply(this,arguments)}function YZ(n){return $X(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function MOe(n){return e=Ei(n).localStore,Ei(Ei(e).persistence).qi();var e}function BOe(n,t,e,i){return VN.apply(this,arguments)}function VN(){return(VN=(0,Dn.A)(function*(n,t,e,i){const r=Ei(n);if(r.qa)return void Zn("SyncEngine","Ignoring unexpected query state notification.");const o=r.Fa.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const s=yield EZ(r.localStore,eY(o[0])),c=lC.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,Il.EMPTY_BYTE_STRING);yield sg(r,s,c);break}case"rejected":yield C1(r.localStore,t,!0),B1(r,t,i);break;default:Yi()}})).apply(this,arguments)}function POe(n,t,e){return QN.apply(this,arguments)}function QN(){return(QN=(0,Dn.A)(function*(n,t,e){const i=lD(n);if(i.qa){for(const r of t){if(i.Fa.has(r)&&i.sharedClientState.isActiveQueryTarget(r)){Zn("SyncEngine","Adding an already active target "+r);continue}const o=yield xZ(i.localStore,r),s=yield E1(i.localStore,o);yield vN(i,YZ(o),s.targetId,!1,s.resumeToken),sD(i.remoteStore,s)}for(const r of e)i.Fa.has(r)&&(yield C1(i.localStore,r,!1).then(()=>{T1(i.remoteStore,r),B1(i,r)}).catch(g_))}})).apply(this,arguments)}function lD(n){const t=Ei(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=KZ.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=TOe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=bOe.bind(null,t),t.Ca.E_=cOe.bind(null,t.eventManager),t.Ca.Ka=uOe.bind(null,t.eventManager),t}function jN(n){const t=Ei(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wOe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xOe.bind(null,t),t}class P1{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Dn.A)(function*(){e.serializer=vC(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return vZ(this.persistence,new _Z,t.initialUser,this.serializer)}createPersistence(t){return new k4(Zk.Yr,this.serializer)}createSharedClientState(t){return new SZ}terminate(){var t=this;return(0,Dn.A)(function*(){var e,i;null===(e=t.gcScheduler)||void 0===e||e.stop(),null===(i=t.indexBackfillerScheduler)||void 0===i||i.stop(),t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class zN extends P1{constructor(t,e,i){super(),this.Ua=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,Dn.A)(function*(){yield e().call(i,t),yield i.Ua.initialize(i,t),yield jN(i.Ua.syncEngine),yield S1(i.Ua.remoteStore),yield i.persistence.pi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return vZ(this.persistence,new _Z,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new cZ(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new iBe(e,this.persistence);return new nBe(t.asyncQueue,i)}createPersistence(t){const e=M4(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?hd.withCacheSize(this.cacheSizeBytes):hd.DEFAULT;return new R4(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,DZ(),oD(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new SZ}}class ZZ extends zN{constructor(t,e){super(t,e,!1),this.Ua=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,Dn.A)(function*(){yield e().call(i,t);const r=i.Ua.syncEngine;i.sharedClientState instanceof Q4&&(i.sharedClientState.syncEngine={eo:DOe.bind(null,r),no:BOe.bind(null,r),ro:POe.bind(null,r),qi:MOe.bind(null,r),Xs:kOe.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.pi(function(){var o=(0,Dn.A)(function*(s){yield function ROe(n,t){return NN.apply(this,arguments)}(i.Ua.syncEngine,s),i.gcScheduler&&(s&&!i.gcScheduler.started?i.gcScheduler.start():s||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(s&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():s||i.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(t){const e=DZ();if(!Q4.D(e))throw new Kn(gn.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=M4(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Q4(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class O1{initialize(t,e){var i=this;return(0,Dn.A)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>WZ(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=IOe.bind(null,i.syncEngine),yield sN(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new lOe}createDatastore(t){const e=vC(t.databaseInfo.databaseId),i=new HPe(t.databaseInfo);return new WPe(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return i=this.localStore,r=this.datastore,o=t.asyncQueue,s=e=>WZ(this.syncEngine,e,0),c=kZ.D()?new kZ:new jPe,new XPe(i,r,o,s,c);var i,r,o,s,c}createSyncEngine(t,e){return function(r,o,s,c,u,g,w){const T=new AOe(r,o,s,c,u,g);return w&&(T.qa=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){var t=this;return(0,Dn.A)(function*(){var e,i,r;yield(r=(0,Dn.A)(function*(s){const c=Ei(s);Zn("RemoteStore","RemoteStore shutting down."),c.N_.add(5),yield I1(c),c.B_.shutdown(),c.k_.set("Unknown")}),function o(s){return r.apply(this,arguments)})(t.remoteStore),null===(e=t.datastore)||void 0===e||e.terminate(),null===(i=t.eventManager)||void 0===i||i.terminate()})()}}function JZ(n,t=10240){let e=0;return{read:()=>(0,Dn.A)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,Dn.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class cD{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Wa(this.observer.next,t)}error(t){this.observer.error?this.Wa(this.observer.error,t):Wl("Uncaught Error in snapshot listener:",t.toString())}Ga(){this.muted=!0}Wa(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class LOe{constructor(t,e){this.za=t,this.serializer=e,this.metadata=new Nc,this.buffer=new Uint8Array,this.ja=new TextDecoder("utf-8"),this.Ha().then(i=>{i&&i.aa()?this.metadata.resolve(i._a.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?._a)}`))},i=>this.metadata.reject(i))}close(){return this.za.cancel()}getMetadata(){var t=this;return(0,Dn.A)(function*(){return t.metadata.promise})()}$a(){var t=this;return(0,Dn.A)(function*(){return yield t.getMetadata(),t.Ha()})()}Ha(){var t=this;return(0,Dn.A)(function*(){const e=yield t.Ja();if(null===e)return null;const i=t.ja.decode(e),r=Number(i);isNaN(r)&&t.Ya(`length string (${i}) is not valid number`);const o=yield t.Za(r);return new dOe(JSON.parse(o),e.length+r)})()}Xa(){return this.buffer.findIndex(t=>123===t)}Ja(){var t=this;return(0,Dn.A)(function*(){for(;t.Xa()<0&&!(yield t.eu()););if(0===t.buffer.length)return null;const e=t.Xa();e<0&&t.Ya("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Za(t){var e=this;return(0,Dn.A)(function*(){for(;e.buffer.length<t;)(yield e.eu())&&e.Ya("Reached the end of bundle when more is expected.");const i=e.ja.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Ya(t){throw this.za.cancel(),new Error(`Invalid bundle format: ${t}`)}eu(){var t=this;return(0,Dn.A)(function*(){const e=yield t.za.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class NOe{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Dn.A)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw e.lastTransactionError=new Kn(gn.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),e.lastTransactionError;const i=yield(r=(0,Dn.A)(function*(s,c){const u=Ei(s),g={documents:c.map(H=>uC(u.serializer,H))},w=yield u.No("BatchGetDocuments",u.serializer.databaseId,Zo.emptyPath(),g,c.length),T=new Map;w.forEach(H=>{const ee=function tPe(n,t){return"found"in t?function(i,r){mr(!!r.found);const o=JA(i,r.found.name),s=$l(r.found.updateTime),c=r.found.createTime?$l(r.found.createTime):Er.min(),u=new Pu({mapValue:{fields:r.found.fields}});return La.newFoundDocument(o,s,c,u)}(n,t):"missing"in t?function(i,r){mr(!!r.missing),mr(!!r.readTime);const o=JA(i,r.missing),s=$l(r.readTime);return La.newNoDocument(o,s)}(n,t):Yi()}(u.serializer,H);T.set(ee.key.toString(),ee)});const F=[];return c.forEach(H=>{const ee=T.get(H.toString());mr(!!ee),F.push(ee)}),F}),function o(s,c){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new g1(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Dn.A)(function*(){if(t.ensureCommitNotCalled(),t.lastTransactionError)throw t.lastTransactionError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=Mi.fromPath(r);t.mutations.push(new d4(o,t.precondition(o)))}),yield(i=(0,Dn.A)(function*(o,s){const c=Ei(o),u={writes:s.map(g=>dC(c.serializer,g))};yield c.Fo("Commit",c.serializer.databaseId,Zo.emptyPath(),u)}),function r(o,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Yi();e=Er.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Kn(gn.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Er.min())?el.exists(!1):el.updateTime(e):el.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Er.min()))throw new Kn(gn.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return el.updateTime(e)}return el.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class UOe{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.tu=i.maxAttempts,this.e_=new z4(this.asyncQueue,"transaction_retry")}nu(){this.tu-=1,this.ru()}ru(){var t=this;this.e_.Wo((0,Dn.A)(function*(){const e=new NOe(t.datastore),i=t.iu(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.su(o)}))}).catch(r=>{t.su(r)})}))}iu(t){try{const e=this.updateFunction(t);return!KE(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}su(t){this.tu>0&&this.ou(t)?(this.tu-=1,this.asyncQueue.enqueueAndForget(()=>(this.ru(),Promise.resolve()))):this.deferred.reject(t)}ou(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!vY(e)}return!1}}class VOe{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=au.UNAUTHENTICATED,this.clientId=dX.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var s=(0,Dn.A)(function*(c){Zn("FirestoreClient","Received user=",c.uid),yield o.authCredentialListener(c),o.user=c});return function(c){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(i,s=>(Zn("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Kn(gn.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Nc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Dn.A)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=D1(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function uD(n,t){return GN.apply(this,arguments)}function GN(){return GN=(0,Dn.A)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Zn("FirestoreClient","Initializing OfflineComponentProvider");const e=n.configuration;yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,Dn.A)(function*(o){i.isEqual(o)||(yield yZ(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),GN.apply(this,arguments)}function HN(n,t){return qN.apply(this,arguments)}function qN(){return(qN=(0,Dn.A)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield KN(n);Zn("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>LZ(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>LZ(t.remoteStore,r)),n._onlineComponents=t})).apply(this,arguments)}function eJ(n){return"FirebaseError"===n.name?n.code===gn.FAILED_PRECONDITION||n.code===gn.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function KN(n){return WN.apply(this,arguments)}function WN(){return(WN=(0,Dn.A)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Zn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield uD(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!eJ(e))throw e;yh("Error using user provided cache. Falling back to memory cache: "+e),yield uD(n,new P1)}}else Zn("FirestoreClient","Using default OfflineComponentProvider"),yield uD(n,new P1);return n._offlineComponents})).apply(this,arguments)}function dD(n){return $N.apply(this,arguments)}function $N(){return($N=(0,Dn.A)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Zn("FirestoreClient","Using user provided OnlineComponentProvider"),yield HN(n,n._uninitializedComponentsProvider._online)):(Zn("FirestoreClient","Using default OnlineComponentProvider"),yield HN(n,new O1))),n._onlineComponents})).apply(this,arguments)}function tJ(n){return KN(n).then(t=>t.persistence)}function F1(n){return KN(n).then(t=>t.localStore)}function nJ(n){return dD(n).then(t=>t.remoteStore)}function XN(n){return dD(n).then(t=>t.syncEngine)}function L1(n){return YN.apply(this,arguments)}function YN(){return(YN=(0,Dn.A)(function*(n){const t=yield dD(n),e=t.eventManager;return e.onListen=mOe.bind(null,t.syncEngine),e.onUnlisten=_Oe.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=gOe.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=vOe.bind(null,t.syncEngine),e})).apply(this,arguments)}function rJ(n,t,e={}){const i=new Nc;return n.asyncQueue.enqueueAndForget((0,Dn.A)(function*(){return function(o,s,c,u,g){const w=new cD({next:F=>{s.enqueueAndForget(()=>dN(o,T));const H=F.docs.has(c);!H&&F.fromCache?g.reject(new Kn(gn.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&F.fromCache&&u&&"server"===u.source?g.reject(new Kn(gn.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(F)},error:F=>g.reject(F)}),T=new AN(d1(c.path),w,{includeMetadataChanges:!0,oa:!0});return cN(o,T)}(yield L1(n),n.asyncQueue,t,e,i)})),i.promise}function oJ(n,t,e={}){const i=new Nc;return n.asyncQueue.enqueueAndForget((0,Dn.A)(function*(){return function(o,s,c,u,g){const w=new cD({next:F=>{s.enqueueAndForget(()=>dN(o,T)),F.fromCache&&"server"===u.source?g.reject(new Kn(gn.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(F)},error:F=>g.reject(F)}),T=new AN(c,w,{includeMetadataChanges:!0,oa:!0});return cN(o,T)}(yield L1(n),n.asyncQueue,t,e,i)})),i.promise}function sJ(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const aJ=new Map;function ZN(n,t,e){if(!e)throw new Kn(gn.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function lJ(n,t,e,i){if(!0===t&&!0===i)throw new Kn(gn.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function cJ(n){if(!Mi.isDocumentKey(n))throw new Kn(gn.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function uJ(n){if(Mi.isDocumentKey(n))throw new Kn(gn.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function hD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(i=n).constructor?i.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var i;return"function"==typeof n?"a function":Yi()}function Lo(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Kn(gn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=hD(n);throw new Kn(gn.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function dJ(n,t){if(t<=0)throw new Kn(gn.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class hJ{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new Kn(gn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Kn(gn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}lJ("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=sJ(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new Kn(gn.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Kn(gn.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Kn(gn.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bC{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hJ({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Kn(gn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Kn(gn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hJ(t),void 0!==t.credentials&&(this._authCredentials=function(i){if(!i)return new GMe;switch(i.type){case"firstParty":return new WMe(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Kn(gn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=aJ.get(e);i&&(Zn("ComponentProvider","Removing Datastore"),aJ.delete(e),i.terminate())}(this),Promise.resolve()}}class Ou{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Ou(this.firestore,t,this._query)}}class Na{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new em(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Na(this.firestore,t,this._key)}}class em extends Ou{constructor(t,e,i){super(t,e,d1(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Na(this.firestore,null,new Mi(t))}withConverter(t){return new em(this.firestore,t,this._path)}}function fJ(n,t,...e){if(n=(0,Oe.Ku)(n),ZN("collection","path",t),n instanceof bC){const i=Zo.fromString(t,...e);return uJ(i),new em(n,null,i)}{if(!(n instanceof Na||n instanceof em))throw new Kn(gn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Zo.fromString(t,...e));return uJ(i),new em(n.firestore,null,i)}}function pD(n,t,...e){if(n=(0,Oe.Ku)(n),1===arguments.length&&(t=dX.newId()),ZN("doc","path",t),n instanceof bC){const i=Zo.fromString(t,...e);return cJ(i),new Na(n,null,new Mi(i))}{if(!(n instanceof Na||n instanceof em))throw new Kn(gn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Zo.fromString(t,...e));return cJ(i),new Na(n.firestore,n instanceof em?n.converter:null,new Mi(i))}}function AJ(n,t){return n=(0,Oe.Ku)(n),t=(0,Oe.Ku)(t),(n instanceof Na||n instanceof em)&&(t instanceof Na||t instanceof em)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function JN(n,t){return n=(0,Oe.Ku)(n),t=(0,Oe.Ku)(t),n instanceof Ou&&t instanceof Ou&&n.firestore===t.firestore&&tC(n._query,t._query)&&n.converter===t.converter}class JOe{constructor(){this._u=Promise.resolve(),this.au=[],this.uu=!1,this.cu=[],this.lu=null,this.hu=!1,this.Pu=!1,this.Iu=[],this.e_=new z4(this,"async_queue_retry"),this.Tu=()=>{const e=oD();e&&Zn("AsyncQueue","Visibility state changed to "+e.visibilityState),this.e_.zo()};const t=oD();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Tu)}get isShuttingDown(){return this.uu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Eu(),this.du(t)}enterRestrictedMode(t){if(!this.uu){this.uu=!0,this.Pu=t||!1;const e=oD();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Tu)}}enqueue(t){if(this.Eu(),this.uu)return new Promise(()=>{});const e=new Nc;return this.du(()=>this.uu&&this.Pu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.au.push(t),this.Au()))}Au(){var t=this;return(0,Dn.A)(function*(){if(0!==t.au.length){try{yield t.au[0](),t.au.shift(),t.e_.reset()}catch(e){if(!__(e))throw e;Zn("AsyncQueue","Operation failed with retryable error: "+e)}t.au.length>0&&t.e_.Wo(()=>t.Au())}})()}du(t){const e=this._u.then(()=>(this.hu=!0,t().catch(i=>{throw this.lu=i,this.hu=!1,Wl("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(i)),i}).then(i=>(this.hu=!1,i))));return this._u=e,e}enqueueAfterDelay(t,e,i){this.Eu(),this.Iu.indexOf(t)>-1&&(e=0);const r=lN.createAndSchedule(this,t,e,i,o=>this.Ru(o));return this.cu.push(r),r}Eu(){this.lu&&Yi()}verifyOperationInProgress(){}Vu(){var t=this;return(0,Dn.A)(function*(){let e;do{e=t._u,yield e}while(e!==t._u)})()}mu(t){for(const e of this.cu)if(e.timerId===t)return!0;return!1}fu(t){return this.Vu().then(()=>{this.cu.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.cu)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Vu()})}gu(t){this.Iu.push(t)}Ru(t){const e=this.cu.indexOf(t);this.cu.splice(e,1)}}function e3(n){return function(e,i){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class eFe{constructor(){this._progressObserver={},this._taskCompletionResolver=new Nc,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Js extends bC{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new JOe,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||mJ(this),this._firestoreClient.terminate()}}function tl(n){return n._firestoreClient||mJ(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function mJ(n){var t,e,i;const r=n._freezeSettings(),o=(u=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new CBe(n._databaseId,u,n._persistenceKey,(w=r).host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,sJ(w.experimentalLongPollingOptions),w.useFetchStreams));var u,w;n._firestoreClient=new VOe(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(e=r.localCache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function gJ(n,t,e){const i=new Nc;return n.asyncQueue.enqueue((0,Dn.A)(function*(){try{yield uD(n,e),yield HN(n,t),i.resolve()}catch(r){const o=r;if(!eJ(o))throw o;yh("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function _J(n){if(n._initialized||n._terminated)throw new Kn(gn.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class tm{constructor(t){this._byteString=t}static fromBase64String(t){try{return new tm(Il.fromBase64String(t))}catch(e){throw new Kn(gn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new tm(Il.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class ag{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Kn(gn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fa(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ry{constructor(t){this._methodName=t}}class fD{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Kn(gn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Kn(gn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return to(this._lat,t._lat)||to(this._long,t._long)}}const dFe=/^__.*__$/;class hFe{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new rg(t,this.data,this.fieldMask,e,this.fieldTransforms):new m1(t,this.data,e,this.fieldTransforms)}}class vJ{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new rg(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function yJ(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Yi()}}class AD{constructor(t,e,i,r,o,s){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get yu(){return this.settings.yu}wu(t){return new AD(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Su(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.wu({path:i,bu:!1});return r.Du(t),r}Cu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.wu({path:i,bu:!1});return r.pu(),r}vu(t){return this.wu({path:void 0,bu:!0})}Fu(t){return _D(t,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.xu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Du(this.path.get(t))}Du(t){if(0===t.length)throw this.Fu("Document fields must not be empty");if(yJ(this.yu)&&dFe.test(t))throw this.Fu('Document fields cannot begin and end with "__"')}}class pFe{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||vC(t)}Ou(t,e,i,r=!1){return new AD({yu:t,methodName:e,xu:i,path:Fa.emptyPath(),bu:!1,Mu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function My(n){const t=n._freezeSettings(),e=vC(n._databaseId);return new pFe(n._databaseId,!!t.ignoreUndefinedProperties,e)}function mD(n,t,e,i,r,o={}){const s=n.Ou(o.merge||o.mergeFields?2:0,t,e,r);l3("Data must be an object, but it was:",s,i);const c=xJ(i,s);let u,g;if(o.merge)u=new bh(s.fieldMask),g=s.fieldTransforms;else if(o.mergeFields){const w=[];for(const T of o.mergeFields){const F=EC(t,T,e);if(!s.contains(F))throw new Kn(gn.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);CJ(w,F)||w.push(F)}u=new bh(w),g=s.fieldTransforms.filter(T=>u.covers(T.field))}else u=null,g=s.fieldTransforms;return new hFe(new Pu(c),u,g)}class xC extends Ry{_toFieldTransform(t){if(2!==t.yu)throw t.Fu(1===t.yu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof xC}}function bJ(n,t,e){return new AD({yu:3,xu:t.settings.xu,methodName:n._methodName,bu:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class t3 extends Ry{_toFieldTransform(t){return new oC(t.path,new f1)}isEqual(t){return t instanceof t3}}class n3 extends Ry{constructor(t,e){super(t),this.Nu=e}_toFieldTransform(t){const e=bJ(this,t,!0),i=this.Nu.map(o=>By(o,e)),r=new wy(i);return new oC(t.path,r)}isEqual(t){return t instanceof n3&&(0,Oe.bD)(this.Nu,t.Nu)}}class r3 extends Ry{constructor(t,e){super(t),this.Nu=e}_toFieldTransform(t){const e=bJ(this,t,!0),i=this.Nu.map(o=>By(o,e)),r=new xy(i);return new oC(t.path,r)}isEqual(t){return t instanceof r3&&(0,Oe.bD)(this.Nu,t.Nu)}}class o3 extends Ry{constructor(t,e){super(t),this.Lu=e}_toFieldTransform(t){const e=new A1(t.serializer,aY(t.serializer,this.Lu));return new oC(t.path,e)}isEqual(t){return t instanceof o3&&this.Lu===t.Lu}}function s3(n,t,e,i){const r=n.Ou(1,t,e);l3("Data must be an object, but it was:",r,i);const o=[],s=Pu.empty();v_(i,(u,g)=>{const w=gD(t,u,e);g=(0,Oe.Ku)(g);const T=r.Cu(w);if(g instanceof xC)o.push(w);else{const F=By(g,T);null!=F&&(o.push(w),s.set(w,F))}});const c=new bh(o);return new vJ(s,c,r.fieldTransforms)}function a3(n,t,e,i,r,o){const s=n.Ou(1,t,e),c=[EC(t,i,e)],u=[r];if(o.length%2!=0)throw new Kn(gn.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<o.length;F+=2)c.push(EC(t,o[F])),u.push(o[F+1]);const g=[],w=Pu.empty();for(let F=c.length-1;F>=0;--F)if(!CJ(g,c[F])){const H=c[F];let ee=u[F];ee=(0,Oe.Ku)(ee);const Ae=s.Cu(H);if(ee instanceof xC)g.push(H);else{const xe=By(ee,Ae);null!=xe&&(g.push(H),w.set(H,xe))}}const T=new bh(g);return new vJ(w,T,s.fieldTransforms)}function wJ(n,t,e,i=!1){return By(e,n.Ou(i?4:3,t))}function By(n,t){if(EJ(n=(0,Oe.Ku)(n)))return l3("Unsupported field value:",t,n),xJ(n,t);if(n instanceof Ry)return function(i,r){if(!yJ(r.yu))throw r.Fu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Fu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.bu&&4!==t.yu)throw t.Fu("Nested arrays are not supported");return function(i,r){const o=[];let s=0;for(const c of i){let u=By(c,r.vu(s));null==u&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,t)}return function(i,r){if(null===(i=(0,Oe.Ku)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return aY(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const o=Ja.fromDate(i);return{timestampValue:_1(r.serializer,o)}}if(i instanceof Ja){const o=new Ja(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:_1(r.serializer,o)}}if(i instanceof fD)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof tm)return{bytesValue:kY(r.serializer,i._byteString)};if(i instanceof Na){const o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.Fu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:g4(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Fu(`Unsupported field value: ${hD(i)}`)}(n,t)}function xJ(n,t){const e={};return SX(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):v_(n,(i,r)=>{const o=By(r,t.Su(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function EJ(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ja||n instanceof fD||n instanceof tm||n instanceof Na||n instanceof Ry)}function l3(n,t,e){if(!EJ(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=hD(e);throw t.Fu("an object"===i?n+" a custom object":n+" "+i)}var r}function EC(n,t,e){if((t=(0,Oe.Ku)(t))instanceof ag)return t._internalPath;if("string"==typeof t)return gD(n,t);throw _D("Field path arguments must be of type string or ",n,!1,void 0,e)}const fFe=new RegExp("[~\\*/\\[\\]]");function gD(n,t,e){if(t.search(fFe)>=0)throw _D(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new ag(...t.split("."))._internalPath}catch{throw _D(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function _D(n,t,e,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let c=`Function ${t}() called with invalid data`;e&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${i}`),s&&(u+=` in document ${r}`),u+=")"),new Kn(gn.INVALID_ARGUMENT,c+n+u)}function CJ(n,t){return n.some(e=>e.isEqual(t))}class CC{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Na(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new AFe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(vD("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class AFe extends CC{data(){return super.data()}}function vD(n,t){return"string"==typeof t?gD(n,t):t instanceof ag?t._internalPath:t._delegate._internalPath}function IJ(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Kn(gn.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class c3{}class IC extends c3{}function R_(n,t,...e){let i=[];t instanceof c3&&i.push(t),i=i.concat(e),function(o){const s=o.filter(u=>u instanceof N1).length,c=o.filter(u=>u instanceof TC).length;if(s>1||s>0&&c>0)throw new Kn(gn.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class TC extends IC{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new TC(t,e,i)}_apply(t){const e=this._parse(t);return DJ(t._query,e),new Ou(t.firestore,t.converter,c4(t._query,e))}_parse(t){const e=My(t.firestore);return function(o,s,c,u,g,w,T){let F;if(g.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Kn(gn.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){kJ(T,w);const H=[];for(const ee of T)H.push(SJ(u,o,ee));F={arrayValue:{values:H}}}else F=SJ(u,o,T)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||kJ(T,w),F=wJ(c,"where",T,"in"===w||"not-in"===w);return Jo.create(g,w,F)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class N1 extends c3{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new N1(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:Hs.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(r,o){let s=r;const c=o.getFlattenedFilters();for(const u of c)DJ(s,u),s=c4(s,u)}(t._query,e),new Ou(t.firestore,t.converter,c4(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class u3 extends IC{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new u3(t,e)}_apply(t){const e=function(r,o,s){if(null!==r.startAt)throw new Kn(gn.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Kn(gn.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new JE(o,s)}(t._query,this._field,this._direction);return new Ou(t.firestore,t.converter,function(r,o){const s=r.explicitOrderBy.concat([o]);return new ng(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class yD extends IC{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new yD(t,e,i)}_apply(t){return new Ou(t.firestore,t.converter,Nk(t._query,this._limit,this._limitType))}}class bD extends IC{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new bD(t,e,i)}_apply(t){const e=TJ(t,this.type,this._docOrFields,this._inclusive);return new Ou(t.firestore,t.converter,(o=e,new ng((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class wD extends IC{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new wD(t,e,i)}_apply(t){const e=TJ(t,this.type,this._docOrFields,this._inclusive);return new Ou(t.firestore,t.converter,(o=e,new ng((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function TJ(n,t,e,i){if(e[0]=(0,Oe.Ku)(e[0]),e[0]instanceof CC)return function(o,s,c,u,g){if(!u)throw new Kn(gn.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const w=[];for(const T of h1(o))if(T.field.isKeyField())w.push(yy(s,u.key));else{const F=u.data.field(T.field);if(Rk(F))throw new Kn(gn.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===F){const H=T.field.canonicalString();throw new Kn(gn.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${H}' (used as the orderBy) does not exist.`)}w.push(F)}return new E_(w,g)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=My(n.firestore);return function(s,c,u,g,w,T){const F=s.explicitOrderBy;if(w.length>F.length)throw new Kn(gn.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const H=[];for(let ee=0;ee<w.length;ee++){const Ae=w[ee];if(F[ee].field.isKeyField()){if("string"!=typeof Ae)throw new Kn(gn.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof Ae}`);if(!l4(s)&&-1!==Ae.indexOf("/"))throw new Kn(gn.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${Ae}' contains a slash.`);const xe=s.path.child(Zo.fromString(Ae));if(!Mi.isDocumentKey(xe))throw new Kn(gn.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${xe}' is not because it contains an odd number of segments.`);const et=new Mi(xe);H.push(yy(c,et))}else{const xe=wJ(u,g,Ae);H.push(xe)}}return new E_(H,T)}(n._query,n.firestore._databaseId,r,t,e,i)}}function SJ(n,t,e){if("string"==typeof(e=(0,Oe.Ku)(e))){if(""===e)throw new Kn(gn.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!l4(t)&&-1!==e.indexOf("/"))throw new Kn(gn.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Zo.fromString(e));if(!Mi.isDocumentKey(i))throw new Kn(gn.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return yy(n,new Mi(i))}if(e instanceof Na)return yy(n,e._key);throw new Kn(gn.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hD(e)}.`)}function kJ(n,t){if(!Array.isArray(n)||0===n.length)throw new Kn(gn.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function DJ(n,t){const e=function(r,o){for(const s of r)for(const c of s.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Kn(gn.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class d3{convertValue(t,e="none"){switch(w_(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Tl(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(tg(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Yi()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return v_(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new fD(Tl(t.latitude),Tl(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Mk(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp($E(t));default:return null}}convertTimestamp(t){const e=eg(t);return new Ja(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Zo.fromString(t);mr(QY(i));const r=new y_(i.get(1),i.get(3)),o=new Mi(i.popFirst(5));return r.isEqual(e)||Wl(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function xD(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class EFe extends d3{constructor(t){super(),this.firestore=t}convertBytes(t){return new tm(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Na(this.firestore,null,e)}}class Py{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class lg extends CC{constructor(t,e,i,r,o,s){super(t,e,i,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new SC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(vD("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class SC extends lg{data(t={}){return super.data(t)}}class M_{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Py(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new SC(this._firestore,this._userDataWriter,i.key,i,new Py(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Kn(gn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new SC(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Py(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>o||3!==c.type).map(c=>{const u=new SC(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Py(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let g=-1,w=-1;return 0!==c.type&&(g=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),w=s.indexOf(c.doc.key)),{type:IFe(c.type),doc:u,oldIndex:g,newIndex:w}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function IFe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Yi()}}function MJ(n,t){return n instanceof lg&&t instanceof lg?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof M_&&t instanceof M_&&n._firestore===t._firestore&&JN(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class B_ extends d3{constructor(t){super(),this.firestore=t}convertBytes(t){return new tm(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Na(this.firestore,null,e)}}function BJ(n,t,e){n=Lo(n,Na);const i=Lo(n.firestore,Js),r=xD(n.converter,t,e);return U1(i,[mD(My(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,el.none())])}function PJ(n,t,e,...i){n=Lo(n,Na);const r=Lo(n.firestore,Js),o=My(r);let s;return s="string"==typeof(t=(0,Oe.Ku)(t))||t instanceof ag?a3(o,"updateDoc",n._key,t,e,i):s3(o,"updateDoc",n._key,t),U1(r,[s.toMutation(n._key,el.exists(!0))])}function OJ(n,...t){var e,i,r;n=(0,Oe.Ku)(n);let o={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof t[s]||e3(t[s])||(o=t[s],s++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(e3(t[s])){const T=t[s];t[s]=null===(e=T.next)||void 0===e?void 0:e.bind(T),t[s+1]=null===(i=T.error)||void 0===i?void 0:i.bind(T),t[s+2]=null===(r=T.complete)||void 0===r?void 0:r.bind(T)}let u,g,w;if(n instanceof Na)g=Lo(n.firestore,Js),w=d1(n._key.path),u={next:T=>{t[s]&&t[s](h3(g,n,T))},error:t[s+1],complete:t[s+2]};else{const T=Lo(n,Ou);g=Lo(T.firestore,Js),w=T._query;const F=new B_(g);u={next:H=>{t[s]&&t[s](new M_(g,F,T,H))},error:t[s+1],complete:t[s+2]},IJ(n._query)}return function(F,H,ee,Ae){const xe=new cD(Ae),et=new AN(H,xe,ee);return F.asyncQueue.enqueueAndForget((0,Dn.A)(function*(){return cN(yield L1(F),et)})),()=>{xe.Ga(),F.asyncQueue.enqueueAndForget((0,Dn.A)(function*(){return dN(yield L1(F),et)}))}}(tl(g),w,c,u)}function U1(n,t){return function(i,r){const o=new Nc;return i.asyncQueue.enqueueAndForget((0,Dn.A)(function*(){return function yOe(n,t,e){return xN.apply(this,arguments)}(yield XN(i),r,o)})),o.promise}(tl(n),t)}function h3(n,t,e){const i=e.docs.get(t._key),r=new B_(n);return new lg(n,r,t._key,i,new Py(e.hasPendingWrites,e.fromCache),t.converter)}const GFe={maxAttempts:5};class FJ{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=My(t)}set(t,e,i){this._verifyNotCommitted();const r=P_(t,this._firestore),o=xD(r.converter,e,i),s=mD(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(s.toMutation(r._key,el.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=P_(t,this._firestore);let s;return s="string"==typeof(e=(0,Oe.Ku)(e))||e instanceof ag?a3(this._dataReader,"WriteBatch.update",o._key,e,i,r):s3(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,el.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=P_(t,this._firestore);return this._mutations=this._mutations.concat(new g1(e._key,el.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Kn(gn.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function P_(n,t){if((n=(0,Oe.Ku)(n)).firestore!==t)throw new Kn(gn.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class HFe extends class{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=My(e)}get(e){const i=P_(e,this._firestore),r=new EFe(this._firestore);return this._transaction.lookup([i._key]).then(o=>{if(!o||1!==o.length)return Yi();const s=o[0];if(s.isFoundDocument())return new CC(this._firestore,r,s.key,s,i.converter);if(s.isNoDocument())return new CC(this._firestore,r,i._key,null,i.converter);throw Yi()})}set(e,i,r){const o=P_(e,this._firestore),s=xD(o.converter,i,r),c=mD(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,r);return this._transaction.set(o._key,c),this}update(e,i,r,...o){const s=P_(e,this._firestore);let c;return c="string"==typeof(i=(0,Oe.Ku)(i))||i instanceof ag?a3(this._dataReader,"Transaction.update",s._key,i,r,o):s3(this._dataReader,"Transaction.update",s._key,i),this._transaction.update(s._key,c),this}delete(e){const i=P_(e,this._firestore);return this._transaction.delete(i._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=P_(t,this._firestore),i=new B_(this._firestore);return super.get(t).then(r=>new lg(this._firestore,i,e._key,r._document,new Py(!1,!1),e.converter))}}function f3(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Kn("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function VJ(){if(typeof Uint8Array>"u")throw new Kn("unimplemented","Uint8Arrays are not available in this environment.")}function QJ(){if(!function xBe(){return typeof atob<"u"}())throw new Kn("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,e=!0){n1=gh.SDK_VERSION,(0,gh._registerComponent)(new Zf.uA("firestore",(i,{instanceIdentifier:r,options:o})=>{const s=i.getProvider("app").getImmediate(),c=new Js(new qMe(i.getProvider("auth-internal")),new $Me(i.getProvider("app-check-internal")),function(g,w){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Kn(gn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new y_(g.options.projectId,w)}(s,r),s);return o=Object.assign({useFetchStreams:e},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),(0,gh.registerVersion)(lX,"4.6.5",t),(0,gh.registerVersion)(lX,"4.6.5","esm2017")}();class kC{constructor(t){this._delegate=t}static fromBase64String(t){return QJ(),new kC(tm.fromBase64String(t))}static fromUint8Array(t){return VJ(),new kC(tm.fromUint8Array(t))}toBase64(){return QJ(),this._delegate.toBase64()}toUint8Array(){return VJ(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function A3(n){return function tLe(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class nLe{enableIndexedDbPersistence(t,e){return function nFe(n,t){_J(n=Lo(n,Js));const e=tl(n);if(e._uninitializedComponentsProvider)throw new Kn(gn.FAILED_PRECONDITION,"SDK cache is already specified.");yh("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new O1;return gJ(e,r,new zN(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function iFe(n){_J(n=Lo(n,Js));const t=tl(n);if(t._uninitializedComponentsProvider)throw new Kn(gn.FAILED_PRECONDITION,"SDK cache is already specified.");yh("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new O1;return gJ(t,i,new ZZ(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function rFe(n){if(n._initialized&&!n._terminated)throw new Kn(gn.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Nc;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Dn.A)(function*(){try{yield(e=(0,Dn.A)(function*(r){if(!$A.D())return Promise.resolve();const o=r+"main";yield $A.delete(o)}),function i(r){return e.apply(this,arguments)})(M4(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class jJ{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof y_||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&yh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function pJ(n,t,e,i={}){var r;const o=(n=Lo(n,bC))._getSettings(),s=`${t}:${e}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&yh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let c,u;if("string"==typeof i.mockUserToken)c=i.mockUserToken,u=au.MOCK_USER;else{c=(0,Oe.Fy)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new Kn(gn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new au(g)}n._authCredentials=new HMe(new cX(c,u))}}(this._delegate,t,e,i)}enableNetwork(){return function sFe(n){return function QOe(n){return n.asyncQueue.enqueue((0,Dn.A)(function*(){const t=yield tJ(n),e=yield nJ(n);return t.setNetworkEnabled(!0),function(r){const o=Ei(r);return o.N_.delete(0),yC(o)}(e)}))}(tl(n=Lo(n,Js)))}(this._delegate)}disableNetwork(){return function aFe(n){return function jOe(n){return n.asyncQueue.enqueue((0,Dn.A)(function*(){const t=yield tJ(n),e=yield nJ(n);return t.setNetworkEnabled(!1),(i=(0,Dn.A)(function*(o){const s=Ei(o);s.N_.add(0),yield I1(s),s.k_.set("Offline")}),function r(o){return i.apply(this,arguments)})(e);var i}))}(tl(n=Lo(n,Js)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,lJ("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function oFe(n){return function(e){const i=new Nc;return e.asyncQueue.enqueueAndForget((0,Dn.A)(function*(){return function EOe(n,t){return SN.apply(this,arguments)}(yield XN(e),i)})),i.promise}(tl(n=Lo(n,Js)))}(this._delegate)}onSnapshotsInSync(t){return function OFe(n,t){return function qOe(n,t){const e=new cD(t);return n.asyncQueue.enqueueAndForget((0,Dn.A)(function*(){return r=yield L1(n),o=e,Ei(r).J_.add(o),void o.next();var r,o})),()=>{e.Ga(),n.asyncQueue.enqueueAndForget((0,Dn.A)(function*(){return r=yield L1(n),o=e,void Ei(r).J_.delete(o);var r,o}))}}(tl(n=Lo(n,Js)),e3(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Kn("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new V1(this,fJ(this._delegate,t))}catch(e){throw zd(e,"collection()","Firestore.collection()")}}doc(t){try{return new ef(this,pD(this._delegate,t))}catch(e){throw zd(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Gd(this,function ZOe(n,t){if(n=Lo(n,bC),ZN("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Kn(gn.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ou(n,null,(i=t,new ng(Zo.emptyPath(),i)));var i}(this._delegate,t))}catch(e){throw zd(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function qFe(n,t,e){n=Lo(n,Js);const i=Object.assign(Object.assign({},GFe),e);return function(o){if(o.maxAttempts<1)throw new Kn(gn.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,s,c){const u=new Nc;return o.asyncQueue.enqueueAndForget((0,Dn.A)(function*(){const g=yield function iJ(n){return dD(n).then(t=>t.datastore)}(o);new UOe(o.asyncQueue,g,c,s,u).nu()})),u.promise}(tl(n),r=>t(new HFe(n,r)),i)}(this._delegate,e=>t(new zJ(this,e)))}batch(){return tl(this._delegate),new GJ(new FJ(this._delegate,t=>U1(this._delegate,t)))}loadBundle(t){return function lFe(n,t){const e=tl(n=Lo(n,Js)),i=new eFe;return function KOe(n,t,e,i){const r=function(s,c){let u;return u="string"==typeof s?bY().encode(s):s,w=function(w,T){if(w instanceof Uint8Array)return JZ(w,T);if(w instanceof ArrayBuffer)return JZ(new Uint8Array(w),T);if(w instanceof ReadableStream)return w.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),new LOe(w,c);var w}(e,vC(t));n.asyncQueue.enqueueAndForget((0,Dn.A)(function*(){!function OOe(n,t,e){const i=Ei(n);var r;(r=(0,Dn.A)(function*(s,c,u){try{const g=yield c.getMetadata();if(yield function(ee,Ae){const xe=Ei(ee),et=$l(Ae.createTime);return xe.persistence.runTransaction("hasNewerBundle","readonly",Ye=>xe.Wr.getBundleMetadata(Ye,Ae.id)).then(Ye=>!!Ye&&Ye.createTime.compareTo(et)>=0)}(s.localStore,g))return yield c.close(),u._completeWith({taskState:"Success",documentsLoaded:(ee=g).totalDocuments,bytesLoaded:ee.totalBytes,totalDocuments:ee.totalDocuments,totalBytes:ee.totalBytes}),Promise.resolve(new Set);u._updateProgress(jZ(g));const w=new hOe(g,s.localStore,c.serializer);let T=yield c.$a();for(;T;){const H=yield w.ca(T);H&&u._updateProgress(H),T=yield c.$a()}const F=yield w.complete();return yield sg(s,F.Pa,void 0),yield function(ee,Ae){const xe=Ei(ee);return xe.persistence.runTransaction("Save bundle","readwrite",et=>xe.Wr.saveBundleMetadata(et,Ae))}(s.localStore,g),u._completeWith(F.progress),Promise.resolve(F.ha)}catch(g){return yh("SyncEngine",`Loading bundle failed with ${g}`),u._failWith(g),Promise.resolve(new Set)}var ee}),function o(s,c,u){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield XN(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function cFe(n,t){return function WOe(n,t){return n.asyncQueue.enqueue((0,Dn.A)(function*(){return function(i,r){const o=Ei(i);return o.persistence.runTransaction("Get named query","readonly",s=>o.Wr.getNamedQuery(s,r))}(yield F1(n),t)}))}(tl(n=Lo(n,Js)),t).then(e=>e?new Ou(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Gd(this,e):null)}}class CD extends d3{constructor(t){super(),this.firestore=t}convertBytes(t){return new kC(new tm(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return ef.forKey(e,this.firestore,null)}}class zJ{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new CD(t)}get(t){const e=Fy(t);return this._delegate.get(e).then(i=>new DC(this._firestore,new lg(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Fy(t);return i?(f3("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Fy(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Fy(t);return this._delegate.delete(e),this}}class GJ{constructor(t){this._delegate=t}set(t,e,i){const r=Fy(t);return i?(f3("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Fy(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Fy(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Oy{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new SC(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new RC(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Oy.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new Oy(t,new CD(t),e),r.set(e,o)),o}}Oy.INSTANCES=new WeakMap;class ef{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new CD(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Kn("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new ef(e,new Na(e._delegate,i,new Mi(t)))}static forKey(t,e,i){return new ef(e,new Na(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new V1(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new V1(this.firestore,fJ(this._delegate,t))}catch(e){throw zd(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Oe.Ku)(t))instanceof Na&&AJ(this._delegate,t)}set(t,e){e=f3("DocumentReference.set",e);try{return e?BJ(this._delegate,t,e):BJ(this._delegate,t)}catch(i){throw zd(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?PJ(this._delegate,t):PJ(this._delegate,t,e,...i)}catch(r){throw zd(r,"updateDoc()","DocumentReference.update()")}}delete(){return function BFe(n){return U1(Lo(n.firestore,Js),[new g1(n._key,el.none())])}(this._delegate)}onSnapshot(...t){const e=HJ(t),i=qJ(t,r=>new DC(this.firestore,new lg(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return OJ(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function SFe(n){n=Lo(n,Na);const t=Lo(n.firestore,Js),e=tl(t),i=new B_(t);return function zOe(n,t){const e=new Nc;return n.asyncQueue.enqueueAndForget((0,Dn.A)(function*(){return(i=(0,Dn.A)(function*(o,s,c){try{const u=yield function(w,T){const F=Ei(w);return F.persistence.runTransaction("read document","readonly",H=>F.localDocuments.getDocument(H,T))}(o,s);u.isFoundDocument()?c.resolve(u):u.isNoDocument()?c.resolve(null):c.reject(new Kn(gn.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const g=D1(u,`Failed to get document '${s} from cache`);c.reject(g)}}),function r(o,s,c){return i.apply(this,arguments)})(yield F1(n),t,e);var i})),e.promise}(e,n._key).then(r=>new lg(t,i,n._key,r,new Py(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function kFe(n){n=Lo(n,Na);const t=Lo(n.firestore,Js);return rJ(tl(t),n._key,{source:"server"}).then(e=>h3(t,n,e))}(this._delegate):function TFe(n){n=Lo(n,Na);const t=Lo(n.firestore,Js);return rJ(tl(t),n._key).then(e=>h3(t,n,e))}(this._delegate),e.then(i=>new DC(this.firestore,new lg(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new ef(this.firestore,this._delegate.withConverter(t?Oy.getInstance(this.firestore,t):null))}}function zd(n,t,e){return n.message=n.message.replace(t,e),n}function HJ(n){for(const t of n)if("object"==typeof t&&!A3(t))return t;return{}}function qJ(n,t){var e,i;let r;return r=A3(n[0])?n[0]:A3(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class DC{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new ef(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return MJ(this._delegate,t._delegate)}}class RC extends DC{data(t){const e=this._delegate.data(t);return this._delegate._converter||function zMe(n,t){n||Yi()}(void 0!==e),e}}class Gd{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new CD(t)}where(t,e,i){try{return new Gd(this.firestore,R_(this._delegate,function mFe(n,t,e){const i=t,r=vD("where",n);return TC._create(r,i,e)}(t,e,i)))}catch(r){throw zd(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Gd(this.firestore,R_(this._delegate,function gFe(n,t="asc"){const e=t,i=vD("orderBy",n);return u3._create(i,e)}(t,e)))}catch(i){throw zd(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Gd(this.firestore,R_(this._delegate,function _Fe(n){return dJ("limit",n),yD._create("limit",n,"F")}(t)))}catch(e){throw zd(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Gd(this.firestore,R_(this._delegate,function vFe(n){return dJ("limitToLast",n),yD._create("limitToLast",n,"L")}(t)))}catch(e){throw zd(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Gd(this.firestore,R_(this._delegate,function yFe(...n){return bD._create("startAt",n,!0)}(...t)))}catch(e){throw zd(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Gd(this.firestore,R_(this._delegate,function bFe(...n){return bD._create("startAfter",n,!1)}(...t)))}catch(e){throw zd(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Gd(this.firestore,R_(this._delegate,function wFe(...n){return wD._create("endBefore",n,!1)}(...t)))}catch(e){throw zd(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Gd(this.firestore,R_(this._delegate,function xFe(...n){return wD._create("endAt",n,!0)}(...t)))}catch(e){throw zd(e,"endAt()","Query.endAt()")}}isEqual(t){return JN(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function RFe(n){n=Lo(n,Ou);const t=Lo(n.firestore,Js),e=tl(t),i=new B_(t);return function GOe(n,t){const e=new Nc;return n.asyncQueue.enqueueAndForget((0,Dn.A)(function*(){return(i=(0,Dn.A)(function*(o,s,c){try{const u=yield tD(o,s,!0),g=new HZ(s,u.Is),w=g.Va(u.documents),T=g.applyChanges(w,!1);c.resolve(T.snapshot)}catch(u){const g=D1(u,`Failed to execute query '${s} against cache`);c.reject(g)}}),function r(o,s,c){return i.apply(this,arguments)})(yield F1(n),t,e);var i})),e.promise}(e,n._query).then(r=>new M_(t,i,n,r))}(this._delegate):"server"===t?.source?function MFe(n){n=Lo(n,Ou);const t=Lo(n.firestore,Js),e=tl(t),i=new B_(t);return oJ(e,n._query,{source:"server"}).then(r=>new M_(t,i,n,r))}(this._delegate):function DFe(n){n=Lo(n,Ou);const t=Lo(n.firestore,Js),e=tl(t),i=new B_(t);return IJ(n._query),oJ(e,n._query).then(r=>new M_(t,i,n,r))}(this._delegate),e.then(i=>new m3(this.firestore,new M_(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=HJ(t),i=qJ(t,r=>new m3(this.firestore,new M_(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return OJ(this._delegate,e,i)}withConverter(t){return new Gd(this.firestore,this._delegate.withConverter(t?Oy.getInstance(this.firestore,t):null))}}class rLe{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new RC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class m3{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Gd(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new RC(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new rLe(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new RC(this._firestore,i))})}isEqual(t){return MJ(this._delegate,t._delegate)}}class V1 extends Gd{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new ef(this.firestore,t):null}doc(t){try{return new ef(this.firestore,void 0===t?pD(this._delegate):pD(this._delegate,t))}catch(e){throw zd(e,"doc()","CollectionReference.doc()")}}add(t){return function PFe(n,t){const e=Lo(n.firestore,Js),i=pD(n),r=xD(n.converter,t);return U1(e,[mD(My(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,el.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new ef(this.firestore,e))}isEqual(t){return AJ(this._delegate,t._delegate)}withConverter(t){return new V1(this.firestore,this._delegate.withConverter(t?Oy.getInstance(this.firestore,t):null))}}function Fy(n){return Lo(n,Na)}class g3{constructor(...t){this._delegate=new ag(...t)}static documentId(){return new g3(Fa.keyField().canonicalString())}isEqual(t){return(t=(0,Oe.Ku)(t))instanceof ag&&this._delegate._internalPath.isEqual(t._internalPath)}}class Ly{constructor(t){this._delegate=t}static serverTimestamp(){const t=function WFe(){return new t3("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Ly(t)}static delete(){const t=function KFe(){return new xC("deleteField")}();return t._methodName="FieldValue.delete",new Ly(t)}static arrayUnion(...t){const e=function $Fe(...n){return new n3("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Ly(e)}static arrayRemove(...t){const e=function XFe(...n){return new r3("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Ly(e)}static increment(t){const e=function YFe(n){return new o3("increment",n)}(t);return e._methodName="FieldValue.increment",new Ly(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const oLe={Firestore:jJ,GeoPoint:fD,Timestamp:Ja,Blob:kC,Transaction:zJ,WriteBatch:GJ,DocumentReference:ef,DocumentSnapshot:DC,Query:Gd,QueryDocumentSnapshot:RC,QuerySnapshot:m3,CollectionReference:V1,FieldPath:g3,FieldValue:Ly,setLogLevel:function iLe(n){!function jMe(n){m_.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function KJ(n,t){return function lLe(n,t=Qv){return new pr(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function _3(n,t){return KJ(n,t).pipe(We(e=>({payload:e,type:"query"})))}!function aLe(n){(function sLe(n,t){n.INTERNAL.registerComponent(new Zf.uA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},oLe)))})(n,(t,e)=>new jJ(t,e,new nLe)),n.registerVersion("@firebase/firestore-compat","0.3.34")}(Xf.A);class WJ{ref;afs;constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=eee(i,e);return new YJ(r,o,this.afs)}snapshotChanges(){return function cLe(n,t){return KJ(n,t).pipe(Gf(void 0),qL(),We(e=>{const[i,r]=e;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Kl)}valueChanges(t={}){return this.snapshotChanges().pipe(We(({payload:e})=>t.idField?{...e.data(),[t.idField]:e.id}:e.data()))}get(t){return Ls(this.ref.get(t)).pipe(Kl)}}function ID(n,t){return _3(n,t).pipe(Gf(void 0),qL(),We(e=>{const[i,r]=e,o=r.payload.docChanges(),s=o.map(c=>({type:c.type,payload:c}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,u)=>{const g=o.find(T=>T.doc.ref.isEqual(c.ref)),w=i?.payload.docs.find(T=>T.ref.isEqual(c.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(c.metadata)||!g&&w&&JSON.stringify(w.metadata)===JSON.stringify(c.metadata)||s.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:c}})}),s}))}function $J(n,t,e){return ID(n,e).pipe(ab((i,r)=>function uLe(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function dLe(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return v3(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return v3(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return v3(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),cO(),We(i=>i.map(r=>({type:r.type,payload:r}))))}function v3(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function XJ(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class YJ{ref;query;afs;constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=ID(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(We(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Gf(void 0),qL(),Ia(([i,r])=>r.length>0||!i),We(([,i])=>i),Kl)}auditTrail(t){return this.stateChanges(t).pipe(ab((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=XJ(t);return $J(this.query,e,this.afs.schedulers.outsideAngular).pipe(Kl)}valueChanges(t={}){return _3(this.query,this.afs.schedulers.outsideAngular).pipe(We(e=>e.payload.docs.map(i=>t.idField?{...i.data(),[t.idField]:i.id}:i.data())),Kl)}get(t){return Ls(this.query.get(t)).pipe(Kl)}add(t){return this.ref.add(t)}doc(t){return new WJ(this.ref.doc(t),this.afs)}}class hLe{query;afs;constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?ID(this.query,this.afs.schedulers.outsideAngular).pipe(We(e=>e.filter(i=>t.indexOf(i.type)>-1)),Ia(e=>e.length>0),Kl):ID(this.query,this.afs.schedulers.outsideAngular).pipe(Kl)}auditTrail(t){return this.stateChanges(t).pipe(ab((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=XJ(t);return $J(this.query,e,this.afs.schedulers.outsideAngular).pipe(Kl)}valueChanges(t={}){return _3(this.query,this.afs.schedulers.outsideAngular).pipe(We(i=>i.payload.docs.map(r=>t.idField?{[t.idField]:r.id,...r.data()}:r.data())),Kl)}get(t){return Ls(this.query.get(t)).pipe(Kl)}}const ZJ=new Wt("angularfire2.enableFirestorePersistence"),JJ=new Wt("angularfire2.firestore.persistenceSettings"),pLe=new Wt("angularfire2.firestore.settings"),fLe=new Wt("angularfire2.firestore.use-emulator");function eee(n,t=(e=>e)){return{query:t(n),ref:n}}let ALe=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(e,i,r,o,s,c,u,g,w,T,F,H,ee,Ae,xe,et,Ye){this.schedulers=u;const yt=jx(e,c,i),cn=w;T&&aO(yt,c,F,ee,Ae,xe,H,et),[this.firestore,this.persistenceEnabled$]=XT(`${yt.name}.firestore`,"AngularFirestore",yt.name,()=>{const $n=c.runOutsideAngular(()=>yt.firestore());if(o&&$n.settings(o),cn&&$n.useEmulator(...cn),r&&!J2(s)){const si=()=>{try{return Ls($n.enablePersistence(g||void 0).then(()=>!0,()=>!1))}catch(bt){return typeof console<"u"&&console.warn(bt),Xi(!1)}};return[$n,c.runOutsideAngular(si)]}return[$n,Xi(!1)]},[o,cn,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:s}=eee(r,i),c=this.schedulers.ngZone.run(()=>o);return new YJ(c,s,this)}collectionGroup(e,i){const r=i||(s=>s),o=this.firestore.collectionGroup(e);return new hLe(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new WJ(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(Ct(Tb),Ct(Sb,8),Ct(ZJ,8),Ct(pLe,8),Ct(Pa),Ct(Ri),Ct($T),Ct(JJ,8),Ct(fLe,8),Ct(lO,8),Ct(tO,8),Ct(nO,8),Ct(iO,8),Ct(rO,8),Ct(oO,8),Ct(sO,8),Ct(WT,8))};static \u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),mLe=(()=>{class n{constructor(){Xf.A.registerVersion("angularfire",KT.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:ZJ,useValue:!0},{provide:JJ,useValue:e}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=bi({type:n});static \u0275inj=di({providers:[ALe]})}return n})(),_Le=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({imports:[Is]})}return n})();function vLe(n,t){if(1&n){const e=ur();$e(0,"div",1)(1,"button",2),Hn("click",function(){return mn(e),pn(He().action())}),$i(2),rt()()}if(2&n){const e=He();Ie(2),fh(" ",e.data.action," ")}}const yLe=["label"];function bLe(n,t){}const wLe=Math.pow(2,31)-1;class y3{constructor(t,e){this._overlayRef=e,this._afterDismissed=new $,this._afterOpened=new $,this._onAction=new $,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,wLe))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const tee=new Wt("MatSnackBarData");class TD{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let nee=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=zn({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}return n})(),iee=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=zn({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}return n})(),ree=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=zn({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}return n})(),oee=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(i){return new(i||n)(Re(y3),Re(tee))};static#t=this.\u0275cmp=Ii({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[vo],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(i,r){1&i&&($e(0,"div",0),$i(1),rt(),Kt(2,vLe,3,1,"div",1)),2&i&&(Ie(),fh(" ",r.data.message,"\n"),Ie(),Oc(r.hasAction?2:-1))},dependencies:[KS,nee,iee,ree],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return n})();const xLe={snackBarState:Uv("state",[Eb("void, hidden",Cl({transform:"scale(0.8)",opacity:0})),Eb("visible",Cl({transform:"scale(1)",opacity:1})),Kp("* => visible",$f("150ms cubic-bezier(0, 0, 0.2, 1)")),Kp("* => void, * => hidden",$f("75ms cubic-bezier(0.4, 0.0, 1, 1)",Cl({opacity:0})))])};let ELe=0,see=(()=>{class n extends XS{constructor(e,i,r,o,s){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=s,this._document=Ht(Rr),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new $,this._onExit=new $,this._onEnter=new $,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+ELe++,this.attachDomPortal=c=>{this._assertNotAttached();const u=this._portalOutlet.attachDomPortal(c);return this._afterPortalAttached(),u},this._live="assertive"!==s.politeness||s.announcementMessage?"off"===s.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(s=>e.classList.add(s)):e.classList.add(i)),this._exposeToModals();const r=this._label.nativeElement,o="mdc-snackbar__label";r.classList.toggle(o,!r.querySelector(`.${o}`))}_exposeToModals(){const e=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?-1===s.indexOf(e)&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{const i=e.getAttribute("aria-owns");if(i){const r=i.replace(this._liveElementId,"").trim();r.length>0?e.setAttribute("aria-owns",r):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(i){return new(i||n)(Re(Ri),Re(or),Re(qo),Re(Lc),Re(TD))};static#t=this.\u0275cmp=Ii({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,r){if(1&i&&(po(RE,7),po(yLe,7)),2&i){let o;Ti(o=Si())&&(r._portalOutlet=o.first),Ti(o=Si())&&(r._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(i,r){1&i&&FM("@state.done",function(s){return r.onAnimationEnd(s)}),2&i&&BM("@state",r._animationState)},standalone:!0,features:[cr,vo],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&($e(0,"div",1)(1,"div",2,0)(3,"div",3),Kt(4,bLe,0,0,"ng-template",4),rt(),Pn(5,"div"),rt()()),2&i&&(Ie(5),Qt("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[RE],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}.cdk-high-contrast-active .mat-mdc-snackbar-surface{outline:solid 1px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color);border-radius:var(--mdc-snackbar-container-shape);background-color:var(--mdc-snackbar-container-color)}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font);font-size:var(--mdc-snackbar-supporting-text-size);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[xLe.snackBarState]}})}return n})();const ILe=new Wt("mat-snack-bar-default-options",{providedIn:"root",factory:function CLe(){return new TD}});let TLe=(()=>{class n{get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,i,r,o,s,c){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=s,this._defaultConfig=c,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=oee,this.snackBarContainerComponent=see,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const o={...this._defaultConfig,...r};return o.data={message:e,action:i},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const o=ho.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:TD,useValue:i}]}),s=new DE(this.snackBarContainerComponent,i.viewContainerRef,o),c=e.attach(s);return c.instance.snackBarConfig=i,c.instance}_attach(e,i){const r={...new TD,...this._defaultConfig,...i},o=this._createOverlay(r),s=this._attachSnackBarContainer(o,r),c=new y3(s,o);if(e instanceof Hh){const u=new qF(e,null,{$implicit:r.data,snackBarRef:c});c.instance=s.attachTemplatePortal(u)}else{const u=this._createInjector(r,c),g=new DE(e,void 0,u),w=s.attachComponentPortal(g);c.instance=w.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(hc(o.detachments())).subscribe(u=>{o.overlayElement.classList.toggle(this.handsetCssClass,u.matches)}),r.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(c,r),this._openedSnackBarRef=c,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new WF;i.direction=e.direction;let r=this._overlay.position().global();const o="rtl"===e.direction,s="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!o||"end"===e.horizontalPosition&&o,c=!s&&"center"!==e.horizontalPosition;return s?r.left("0"):c?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return ho.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:y3,useValue:i},{provide:tee,useValue:e.data}]})}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(GA),Ct(WEe),Ct(ho),Ct(Pq),Ct(n,12),Ct(ILe))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),SLe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({providers:[TLe],imports:[$F,ME,pK,Is,oee,Is]})}return n})(),qLe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=bi({type:n});static \u0275inj=di({imports:[Gs,Yg,ey,wF,vE,bF,Vv]})}return n})();const KLe=(n,t,e)=>({"p-togglebutton p-button p-component":!0,"p-button-icon-only":n,"p-highlight":t,"p-disabled":e}),WLe=(n,t)=>({"p-button-icon":!0,"p-button-icon-left":n,"p-button-icon-right":t}),$Le=n=>({$implicit:n});function XLe(n,t){if(1&n&&Pn(0,"span",4),2&n){const e=He(2);jr(e.checked?e.onIcon:e.offIcon),be("ngClass",Xa(4,WLe,"left"===e.iconPos,"right"===e.iconPos)),Qt("data-pc-section","icon")}}function YLe(n,t){if(1&n&&Kt(0,XLe,1,7,"span",3),2&n){const e=He();be("ngIf",e.onIcon||e.offIcon)}}function ZLe(n,t){1&n&&rs(0)}function JLe(n,t){if(1&n&&Kt(0,ZLe,1,0,"ng-container",5),2&n){const e=He();be("ngTemplateOutlet",e.iconTemplate)("ngTemplateOutletContext",gs(2,$Le,e.checked))}}function e4e(n,t){if(1&n&&($e(0,"span",6),$i(1),rt()),2&n){const e=He();Qt("data-pc-section","label"),Ie(),Oa(e.checked?e.hasOnLabel?e.onLabel:"":e.hasOffLabel?e.offLabel:"")}}const t4e={provide:fa,useExisting:Ir(()=>n4e),multi:!0};let n4e=(()=>{class n{cd;onLabel;offLabel;onIcon;offIcon;ariaLabel;ariaLabelledBy;disabled;style;styleClass;inputId;tabindex=0;iconPos="left";autofocus;onChange=new ni;templates;iconTemplate;checked=!1;onModelChange=()=>{};onModelTouched=()=>{};constructor(e){this.cd=e}ngAfterContentInit(){this.templates.forEach(e=>{e.getType(),this.iconTemplate=e.template})}toggle(e){this.disabled||(this.checked=!this.checked,this.onModelChange(this.checked),this.onModelTouched(),this.onChange.emit({originalEvent:e,checked:this.checked}),this.cd.markForCheck())}onKeyDown(e){switch(e.code){case"Enter":case"Space":this.toggle(e),e.preventDefault()}}onBlur(){this.onModelTouched()}writeValue(e){this.checked=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get hasOnLabel(){return this.onLabel&&this.onLabel.length>0}get hasOffLabel(){return this.onLabel&&this.onLabel.length>0}static \u0275fac=function(i){return new(i||n)(Re(qo))};static \u0275cmp=Ii({type:n,selectors:[["p-toggleButton"]],contentQueries:function(i,r,o){if(1&i&&jo(o,sd,4),2&i){let s;Ti(s=Si())&&(r.templates=s)}},hostAttrs:[1,"p-element"],inputs:{onLabel:"onLabel",offLabel:"offLabel",onIcon:"onIcon",offIcon:"offIcon",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",disabled:[2,"disabled","disabled",xn],style:"style",styleClass:"styleClass",inputId:"inputId",tabindex:[2,"tabindex","tabindex",Eo],iconPos:"iconPos",autofocus:[2,"autofocus","autofocus",xn]},outputs:{onChange:"onChange"},features:[Vr([t4e]),ao],decls:4,vars:17,consts:[["role","switch","pRipple","","pAutoFocus","",3,"click","keydown","ngClass","ngStyle","autofocus"],[3,"class","ngClass"],["class","p-button-label",4,"ngIf"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-button-label"]],template:function(i,r){1&i&&($e(0,"div",0),Hn("click",function(s){return r.toggle(s)})("keydown",function(s){return r.onKeyDown(s)}),Kt(1,YLe,1,1,"span",1)(2,JLe,1,4,"ng-container")(3,e4e,2,2,"span",2),rt()),2&i&&(jr(r.styleClass),be("ngClass",Gp(13,KLe,r.onIcon&&r.offIcon&&!r.hasOnLabel&&!r.hasOffLabel,r.checked,r.disabled))("ngStyle",r.style)("autofocus",r.autofocus),Qt("tabindex",r.disabled?null:r.tabindex)("aria-checked",r.checked)("aria-labelledby",r.ariaLabelledBy)("aria-label",r.ariaLabel)("data-pc-name","togglebutton")("data-pc-section","root"),Ie(),Oc(r.iconTemplate?2:1),Ie(2),be("ngIf",r.onLabel||r.offLabel))},dependencies:[Gl,xl,ku,Su,Nv,Gm],styles:['@layer primeng{.p-button[_ngcontent-%COMP%]{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label[_ngcontent-%COMP%]{flex:1 1 auto}.p-button-icon-right[_ngcontent-%COMP%]{order:1}.p-button[_ngcontent-%COMP%]:disabled{cursor:default;pointer-events:none}.p-button-icon-only[_ngcontent-%COMP%]{justify-content:center}.p-button-icon-only[_ngcontent-%COMP%]:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical[_ngcontent-%COMP%]{flex-direction:column}.p-button-icon-bottom[_ngcontent-%COMP%]{order:2}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{margin:0}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus, .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:focus   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus, .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:focus   .p-button[_ngcontent-%COMP%]{position:relative;z-index:1}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child), .p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child):hover, .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:last-child)   .p-button[_ngcontent-%COMP%], .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:last-child)   .p-button[_ngcontent-%COMP%]:hover, .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child), .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child):hover, .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:last-child)   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:last-child)   .p-button[_ngcontent-%COMP%]:hover{border-right:0 none}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type), .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type)   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type), .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type)   .p-button[_ngcontent-%COMP%]{border-radius:0}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type:not(:only-of-type), .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:first-of-type:not(:only-of-type)   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type:not(:only-of-type), .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:first-of-type:not(:only-of-type)   .p-button[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type:not(:only-of-type), .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:last-of-type:not(:only-of-type)   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type:not(:only-of-type), .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:last-of-type:not(:only-of-type)   .p-button[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0}p-button[iconpos=right][_ngcontent-%COMP%]   spinnericon[_ngcontent-%COMP%]{order:1}}'],changeDetection:0})}return n})(),i4e=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=bi({type:n});static \u0275inj=di({imports:[Gs,Yg,dl,Xg,dl]})}return n})(),aee=(()=>{class n extends mh{pathId;ngOnInit(){this.pathId="url(#"+Ru()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fi(n)))(r||n)}})();static \u0275cmp=Ii({type:n,selectors:[["SearchIcon"]],standalone:!0,features:[cr,vo],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){1&i&&(wa(),$e(0,"svg",0)(1,"g"),Pn(2,"path",1),rt(),$e(3,"defs")(4,"clipPath",2),Pn(5,"rect",3),rt()()()),2&i&&(jr(r.getClassNames()),Qt("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),Ie(),Qt("clip-path",r.pathId),Ie(3),be("id",r.pathId))},encapsulation:2})}return n})();const r4e=["element"],o4e=["content"],s4e=["*"],a4e=(n,t,e)=>({"p-scroller":!0,"p-scroller-inline":n,"p-both-scroll":t,"p-horizontal-scroll":e}),b3=(n,t)=>({$implicit:n,options:t}),l4e=n=>({"p-scroller-loading":n}),c4e=n=>({"p-component-overlay":n}),u4e=n=>({numCols:n}),lee=n=>({options:n}),d4e=()=>({styleClass:"p-scroller-loading-icon"}),h4e=(n,t)=>({rows:n,columns:t});function p4e(n,t){1&n&&rs(0)}function f4e(n,t){if(1&n&&(lo(0),Kt(1,p4e,1,0,"ng-container",10),co()),2&n){const e=He(2);Ie(),be("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",Xa(2,b3,e.loadedItems,e.getContentOptions()))}}function A4e(n,t){1&n&&rs(0)}function m4e(n,t){if(1&n&&(lo(0),Kt(1,A4e,1,0,"ng-container",10),co()),2&n){const e=t.$implicit,i=t.index,r=He(3);Ie(),be("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",Xa(2,b3,e,r.getOptions(i)))}}function g4e(n,t){if(1&n&&($e(0,"div",11,3),Kt(2,m4e,2,5,"ng-container",12),rt()),2&n){const e=He(2);be("ngClass",gs(5,l4e,e.d_loading))("ngStyle",e.contentStyle),Qt("data-pc-section","content"),Ie(2),be("ngForOf",e.loadedItems)("ngForTrackBy",e._trackBy||e.index)}}function _4e(n,t){1&n&&Pn(0,"div",13),2&n&&(be("ngStyle",He(2).spacerStyle),Qt("data-pc-section","spacer"))}function v4e(n,t){1&n&&rs(0)}function y4e(n,t){if(1&n&&(lo(0),Kt(1,v4e,1,0,"ng-container",10),co()),2&n){const e=t.index,i=He(4);Ie(),be("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",gs(4,lee,i.getLoaderOptions(e,i.both&&gs(2,u4e,i._numItemsInViewport.cols))))}}function b4e(n,t){if(1&n&&(lo(0),Kt(1,y4e,2,6,"ng-container",15),co()),2&n){const e=He(3);Ie(),be("ngForOf",e.loaderArr)}}function w4e(n,t){1&n&&rs(0)}function x4e(n,t){if(1&n&&(lo(0),Kt(1,w4e,1,0,"ng-container",10),co()),2&n){const e=He(4);Ie(),be("ngTemplateOutlet",e.loaderIconTemplate)("ngTemplateOutletContext",gs(3,lee,$h(2,d4e)))}}function E4e(n,t){1&n&&Pn(0,"SpinnerIcon",16),2&n&&(be("styleClass","p-scroller-loading-icon pi-spin"),Qt("data-pc-section","loadingIcon"))}function C4e(n,t){if(1&n&&Kt(0,x4e,2,5,"ng-container",6)(1,E4e,1,2,"ng-template",null,5,id),2&n){const e=ua(2);be("ngIf",He(3).loaderIconTemplate)("ngIfElse",e)}}function I4e(n,t){if(1&n&&($e(0,"div",14),Kt(1,b4e,2,1,"ng-container",6)(2,C4e,3,2,"ng-template",null,4,id),rt()),2&n){const e=ua(3),i=He(2);be("ngClass",gs(4,c4e,!i.loaderTemplate)),Qt("data-pc-section","loader"),Ie(),be("ngIf",i.loaderTemplate)("ngIfElse",e)}}function T4e(n,t){if(1&n){const e=ur();lo(0),$e(1,"div",7,1),Hn("scroll",function(r){return mn(e),pn(He().onContainerScroll(r))}),Kt(3,f4e,2,5,"ng-container",6)(4,g4e,3,7,"ng-template",null,2,id)(6,_4e,1,2,"div",8)(7,I4e,4,6,"div",9),rt(),co()}if(2&n){const e=ua(5),i=He();Ie(),jr(i._styleClass),be("ngStyle",i._style)("ngClass",Gp(12,a4e,i.inline,i.both,i.horizontal)),Qt("id",i._id)("tabindex",i.tabindex)("data-pc-name","scroller")("data-pc-section","root"),Ie(2),be("ngIf",i.contentTemplate)("ngIfElse",e),Ie(3),be("ngIf",i._showSpacer),Ie(),be("ngIf",!i.loaderDisabled&&i._showLoader&&i.d_loading)}}function S4e(n,t){1&n&&rs(0)}function k4e(n,t){if(1&n&&(lo(0),Kt(1,S4e,1,0,"ng-container",10),co()),2&n){const e=He(2);Ie(),be("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",Xa(5,b3,e.items,Xa(2,h4e,e._items,e.loadedColumns)))}}function D4e(n,t){if(1&n&&(Zr(0),Kt(1,k4e,2,8,"ng-container",17)),2&n){const e=He();Ie(),be("ngIf",e.contentTemplate)}}let R4e=(()=>{class n{document;platformId;renderer;cd;zone;get id(){return this._id}set id(e){this._id=e}get style(){return this._style}set style(e){this._style=e}get styleClass(){return this._styleClass}set styleClass(e){this._styleClass=e}get tabindex(){return this._tabindex}set tabindex(e){this._tabindex=e}get items(){return this._items}set items(e){this._items=e}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e}get scrollHeight(){return this._scrollHeight}set scrollHeight(e){this._scrollHeight=e}get scrollWidth(){return this._scrollWidth}set scrollWidth(e){this._scrollWidth=e}get orientation(){return this._orientation}set orientation(e){this._orientation=e}get step(){return this._step}set step(e){this._step=e}get delay(){return this._delay}set delay(e){this._delay=e}get resizeDelay(){return this._resizeDelay}set resizeDelay(e){this._resizeDelay=e}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=e}get inline(){return this._inline}set inline(e){this._inline=e}get lazy(){return this._lazy}set lazy(e){this._lazy=e}get disabled(){return this._disabled}set disabled(e){this._disabled=e}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(e){this._loaderDisabled=e}get columns(){return this._columns}set columns(e){this._columns=e}get showSpacer(){return this._showSpacer}set showSpacer(e){this._showSpacer=e}get showLoader(){return this._showLoader}set showLoader(e){this._showLoader=e}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(e){this._numToleratedItems=e}get loading(){return this._loading}set loading(e){this._loading=e}get autoSize(){return this._autoSize}set autoSize(e){this._autoSize=e}get trackBy(){return this._trackBy}set trackBy(e){this._trackBy=e}get options(){return this._options}set options(e){this._options=e,e&&"object"==typeof e&&Object.entries(e).forEach(([i,r])=>this[`_${i}`]!==r&&(this[`_${i}`]=r))}onLazyLoad=new ni;onScroll=new ni;onScrollIndexChange=new ni;elementViewChild;contentViewChild;templates;_id;_style;_styleClass;_tabindex=0;_items;_itemSize=0;_scrollHeight;_scrollWidth;_orientation="vertical";_step=0;_delay=0;_resizeDelay=10;_appendOnly=!1;_inline=!1;_lazy=!1;_disabled=!1;_loaderDisabled=!1;_columns;_showSpacer=!0;_showLoader=!1;_numToleratedItems;_loading;_autoSize=!1;_trackBy;_options;d_loading=!1;d_numToleratedItems;contentEl;contentTemplate;itemTemplate;loaderTemplate;loaderIconTemplate;first=0;last=0;page=0;isRangeChanged=!1;numItemsInViewport=0;lastScrollPos=0;lazyLoadState={};loaderArr=[];spacerStyle={};contentStyle={};scrollTimeout;resizeTimeout;initialized=!1;windowResizeListener;defaultWidth;defaultHeight;defaultContentWidth;defaultContentHeight;get vertical(){return"vertical"===this._orientation}get horizontal(){return"horizontal"===this._orientation}get both(){return"both"===this._orientation}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(e=>this._columns?e:e.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}constructor(e,i,r,o,s){this.document=e,this.platformId=i,this.renderer=r,this.cd=o,this.zone=s}ngOnInit(){this.setInitialState()}ngOnChanges(e){let i=!1;if(e.loading){const{previousValue:r,currentValue:o}=e.loading;this.lazy&&r!==o&&o!==this.d_loading&&(this.d_loading=o,i=!0)}if(e.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),e.numToleratedItems){const{previousValue:r,currentValue:o}=e.numToleratedItems;r!==o&&o!==this.d_numToleratedItems&&(this.d_numToleratedItems=o)}if(e.options){const{previousValue:r,currentValue:o}=e.options;this.lazy&&r?.loading!==o?.loading&&o?.loading!==this.d_loading&&(this.d_loading=o.loading,i=!0),r?.numToleratedItems!==o?.numToleratedItems&&o?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=o.numToleratedItems)}this.initialized&&!i&&(e.items?.previousValue?.length!==e.items?.currentValue?.length||e.itemSize||e.scrollHeight||e.scrollWidth)&&(this.init(),this.calculateAutoSize())}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"item":default:this.itemTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"loadericon":this.loaderIconTemplate=e.template}})}ngAfterViewInit(){Promise.resolve().then(()=>{this.viewInit()})}ngAfterViewChecked(){this.initialized||this.viewInit()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1}viewInit(){Du(this.platformId)&&!this.initialized&&_n.isVisible(this.elementViewChild?.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.calculateAutoSize(),this.defaultWidth=_n.getWidth(this.elementViewChild?.nativeElement),this.defaultHeight=_n.getHeight(this.elementViewChild?.nativeElement),this.defaultContentWidth=_n.getWidth(this.contentEl),this.defaultContentHeight=_n.getHeight(this.contentEl),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.bindResizeListener(),this.cd.detectChanges())}setContentEl(e){this.contentEl=e||this.contentViewChild?.nativeElement||_n.findSingle(this.elementViewChild?.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(e){return Math.floor(((e??this.first)+4*this.d_numToleratedItems)/(this._step||1))}isPageChanged(e){return!this._step||this.page!==this.getPageByFirst(e??this.first)}scrollTo(e){this.elementViewChild?.nativeElement?.scrollTo(e)}scrollToIndex(e,i="auto"){if(this.both?e.every(o=>o>-1):e>-1){const o=this.first,{scrollTop:s=0,scrollLeft:c=0}=this.elementViewChild?.nativeElement,{numToleratedItems:u}=this.calculateNumItems(),g=this.getContentPosition(),w=this.itemSize,T=(et=0,Ye)=>et<=Ye?0:et,F=(et,Ye,yt)=>et*Ye+yt,H=(et=0,Ye=0)=>this.scrollTo({left:et,top:Ye,behavior:i});let ee=this.both?{rows:0,cols:0}:0,Ae=!1,xe=!1;this.both?(ee={rows:T(e[0],u[0]),cols:T(e[1],u[1])},H(F(ee.cols,w[1],g.left),F(ee.rows,w[0],g.top)),xe=this.lastScrollPos.top!==s||this.lastScrollPos.left!==c,Ae=ee.rows!==o.rows||ee.cols!==o.cols):(ee=T(e,u),this.horizontal?H(F(ee,w,g.left),s):H(c,F(ee,w,g.top)),xe=this.lastScrollPos!==(this.horizontal?c:s),Ae=ee!==o),this.isRangeChanged=Ae,xe&&(this.first=ee)}}scrollInView(e,i,r="auto"){if(i){const{first:o,viewport:s}=this.getRenderedRange(),c=(w=0,T=0)=>this.scrollTo({left:w,top:T,behavior:r}),g="to-end"===i;if("to-start"===i){if(this.both)s.first.rows-o.rows>e[0]?c(s.first.cols*this._itemSize[1],(s.first.rows-1)*this._itemSize[0]):s.first.cols-o.cols>e[1]&&c((s.first.cols-1)*this._itemSize[1],s.first.rows*this._itemSize[0]);else if(s.first-o>e){const w=(s.first-1)*this._itemSize;this.horizontal?c(w,0):c(0,w)}}else if(g)if(this.both)s.last.rows-o.rows<=e[0]+1?c(s.first.cols*this._itemSize[1],(s.first.rows+1)*this._itemSize[0]):s.last.cols-o.cols<=e[1]+1&&c((s.first.cols+1)*this._itemSize[1],s.first.rows*this._itemSize[0]);else if(s.last-o<=e+1){const w=(s.first+1)*this._itemSize;this.horizontal?c(w,0):c(0,w)}}else this.scrollToIndex(e,r)}getRenderedRange(){const e=(o,s)=>s||o?Math.floor(o/(s||o)):0;let i=this.first,r=0;if(this.elementViewChild?.nativeElement){const{scrollTop:o,scrollLeft:s}=this.elementViewChild.nativeElement;this.both?(i={rows:e(o,this._itemSize[0]),cols:e(s,this._itemSize[1])},r={rows:i.rows+this.numItemsInViewport.rows,cols:i.cols+this.numItemsInViewport.cols}):(i=e(this.horizontal?s:o,this._itemSize),r=i+this.numItemsInViewport)}return{first:this.first,last:this.last,viewport:{first:i,last:r}}}calculateNumItems(){const e=this.getContentPosition(),i=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetWidth-e.left:0)||0,r=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetHeight-e.top:0)||0,o=(g,w)=>w||g?Math.ceil(g/(w||g)):0,s=g=>Math.ceil(g/2),c=this.both?{rows:o(r,this._itemSize[0]),cols:o(i,this._itemSize[1])}:o(this.horizontal?i:r,this._itemSize);return{numItemsInViewport:c,numToleratedItems:this.d_numToleratedItems||(this.both?[s(c.rows),s(c.cols)]:s(c))}}calculateOptions(){const{numItemsInViewport:e,numToleratedItems:i}=this.calculateNumItems(),r=(c,u,g,w=!1)=>this.getLast(c+u+(c<g?2:3)*g,w),o=this.first,s=this.both?{rows:r(this.first.rows,e.rows,i[0]),cols:r(this.first.cols,e.cols,i[1],!0)}:r(this.first,e,i);this.last=s,this.numItemsInViewport=e,this.d_numToleratedItems=i,this.showLoader&&(this.loaderArr=this.both?Array.from({length:e.rows}).map(()=>Array.from({length:e.cols})):Array.from({length:e})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:o.cols}:0:o,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto",this.contentEl.style.position="relative",this.elementViewChild.nativeElement.style.contain="none";const[e,i]=[_n.getWidth(this.contentEl),_n.getHeight(this.contentEl)];e!==this.defaultContentWidth&&(this.elementViewChild.nativeElement.style.width=""),i!==this.defaultContentHeight&&(this.elementViewChild.nativeElement.style.height="");const[r,o]=[_n.getWidth(this.elementViewChild.nativeElement),_n.getHeight(this.elementViewChild.nativeElement)];(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=r<this.defaultWidth?r+"px":this._scrollWidth||this.defaultWidth+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=o<this.defaultHeight?o+"px":this._scrollHeight||this.defaultHeight+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth="",this.contentEl.style.position="",this.elementViewChild.nativeElement.style.contain=""}})}getLast(e=0,i=!1){return this._items?Math.min(i?(this._columns||this._items[0]).length:this._items.length,e):0}getContentPosition(){if(this.contentEl){const e=getComputedStyle(this.contentEl),i=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),r=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),o=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),s=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:i,right:r,top:o,bottom:s,x:i+r,y:o+s}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){if(this.elementViewChild?.nativeElement){const e=this.elementViewChild.nativeElement.parentElement.parentElement,i=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||e.offsetWidth}px`,r=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||e.offsetHeight}px`,o=(s,c)=>this.elementViewChild.nativeElement.style[s]=c;this.both||this.horizontal?(o("height",r),o("width",i)):o("height",r)}}setSpacerSize(){if(this._items){const e=this.getContentPosition(),i=(r,o,s,c=0)=>this.spacerStyle={...this.spacerStyle,[`${r}`]:(o||[]).length*s+c+"px"};this.both?(i("height",this._items,this._itemSize[0],e.y),i("width",this._columns||this._items[1],this._itemSize[1],e.x)):this.horizontal?i("width",this._columns||this._items,this._itemSize,e.x):i("height",this._items,this._itemSize,e.y)}}setContentPosition(e){if(this.contentEl&&!this._appendOnly){const i=e?e.first:this.first,r=(s,c)=>s*c,o=(s=0,c=0)=>this.contentStyle={...this.contentStyle,transform:`translate3d(${s}px, ${c}px, 0)`};if(this.both)o(r(i.cols,this._itemSize[1]),r(i.rows,this._itemSize[0]));else{const s=r(i,this._itemSize);this.horizontal?o(s,0):o(0,s)}}}onScrollPositionChange(e){const i=e.target,r=this.getContentPosition(),o=(xe,et)=>xe?xe>et?xe-et:xe:0,s=(xe,et)=>et||xe?Math.floor(xe/(et||xe)):0,c=(xe,et,Ye,yt,cn,$n)=>xe<=cn?cn:$n?Ye-yt-cn:et+cn-1,u=(xe,et,Ye,yt,cn,$n,si)=>xe<=$n?0:Math.max(0,si?xe<et?Ye:xe-$n:xe>et?Ye:xe-2*$n),g=(xe,et,Ye,yt,cn,$n=!1)=>{let si=et+yt+2*cn;return xe>=cn&&(si+=cn+1),this.getLast(si,$n)},w=o(i.scrollTop,r.top),T=o(i.scrollLeft,r.left);let F=this.both?{rows:0,cols:0}:0,H=this.last,ee=!1,Ae=this.lastScrollPos;if(this.both){const xe=this.lastScrollPos.top<=w,et=this.lastScrollPos.left<=T;if(!this._appendOnly||this._appendOnly&&(xe||et)){const Ye={rows:s(w,this._itemSize[0]),cols:s(T,this._itemSize[1])},yt={rows:c(Ye.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],xe),cols:c(Ye.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],et)};F={rows:u(Ye.rows,yt.rows,this.first.rows,0,0,this.d_numToleratedItems[0],xe),cols:u(Ye.cols,yt.cols,this.first.cols,0,0,this.d_numToleratedItems[1],et)},H={rows:g(Ye.rows,F.rows,0,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:g(Ye.cols,F.cols,0,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},ee=F.rows!==this.first.rows||H.rows!==this.last.rows||F.cols!==this.first.cols||H.cols!==this.last.cols||this.isRangeChanged,Ae={top:w,left:T}}}else{const xe=this.horizontal?T:w,et=this.lastScrollPos<=xe;if(!this._appendOnly||this._appendOnly&&et){const Ye=s(xe,this._itemSize);F=u(Ye,c(Ye,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,et),this.first,0,0,this.d_numToleratedItems,et),H=g(Ye,F,0,this.numItemsInViewport,this.d_numToleratedItems),ee=F!==this.first||H!==this.last||this.isRangeChanged,Ae=xe}}return{first:F,last:H,isRangeChanged:ee,scrollPos:Ae}}onScrollChange(e){const{first:i,last:r,isRangeChanged:o,scrollPos:s}=this.onScrollPositionChange(e);if(o){const c={first:i,last:r};if(this.setContentPosition(c),this.first=i,this.last=r,this.lastScrollPos=s,this.handleEvents("onScrollIndexChange",c),this._lazy&&this.isPageChanged(i)){const u={first:this._step?Math.min(this.getPageByFirst(i)*this._step,this.items.length-this._step):i,last:Math.min(this._step?(this.getPageByFirst(i)+1)*this._step:r,this.items.length)};(this.lazyLoadState.first!==u.first||this.lazyLoadState.last!==u.last)&&this.handleEvents("onLazyLoad",u),this.lazyLoadState=u}}}onContainerScroll(e){if(this.handleEvents("onScroll",{originalEvent:e}),this._delay&&this.isPageChanged()){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){const{isRangeChanged:i}=this.onScrollPositionChange(e);(i||this._step&&this.isPageChanged())&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(e),this.d_loading&&this.showLoader&&(!this._lazy||void 0===this._loading)&&(this.d_loading=!1,this.page=this.getPageByFirst(),this.cd.detectChanges())},this._delay)}else!this.d_loading&&this.onScrollChange(e)}bindResizeListener(){Du(this.platformId)&&(this.windowResizeListener||this.zone.runOutsideAngular(()=>{const e=this.document.defaultView,i=_n.isTouchDevice()?"orientationchange":"resize";this.windowResizeListener=this.renderer.listen(e,i,this.onWindowResize.bind(this))}))}unbindResizeListener(){this.windowResizeListener&&(this.windowResizeListener(),this.windowResizeListener=null)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(_n.isVisible(this.elementViewChild?.nativeElement)){const[e,i]=[_n.getWidth(this.elementViewChild?.nativeElement),_n.getHeight(this.elementViewChild?.nativeElement)],[r,o]=[e!==this.defaultWidth,i!==this.defaultHeight];(this.both?r||o:this.horizontal?r:this.vertical&&o)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=e,this.defaultHeight=i,this.defaultContentWidth=_n.getWidth(this.contentEl),this.defaultContentHeight=_n.getHeight(this.contentEl),this.init(),this.calculateAutoSize()})}},this._resizeDelay)}handleEvents(e,i){return this.options&&this.options[e]?this.options[e](i):this[e].emit(i)}getContentOptions(){return{contentStyleClass:"p-scroller-content "+(this.d_loading?"p-scroller-loading":""),items:this.loadedItems,getItemOptions:e=>this.getOptions(e),loading:this.d_loading,getLoaderOptions:(e,i)=>this.getLoaderOptions(e,i),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(e){const i=(this._items||[]).length,r=this.both?this.first.rows+e:this.first+e;return{index:r,count:i,first:0===r,last:r===i-1,even:r%2==0,odd:r%2!=0}}getLoaderOptions(e,i){const r=this.loaderArr.length;return{index:e,count:r,first:0===e,last:e===r-1,even:e%2==0,odd:e%2!=0,...i}}static \u0275fac=function(i){return new(i||n)(Re(Rr),Re(Pa),Re(tu),Re(qo),Re(Ri))};static \u0275cmp=Ii({type:n,selectors:[["p-scroller"]],contentQueries:function(i,r,o){if(1&i&&jo(o,sd,4),2&i){let s;Ti(s=Si())&&(r.templates=s)}},viewQuery:function(i,r){if(1&i&&(po(r4e,5),po(o4e,5)),2&i){let o;Ti(o=Si())&&(r.elementViewChild=o.first),Ti(o=Si())&&(r.contentViewChild=o.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[Qs],ngContentSelectors:s4e,decls:3,vars:2,consts:[["disabledContainer",""],["element",""],["buildInContent",""],["content",""],["buildInLoader",""],["buildInLoaderIcon",""],[4,"ngIf","ngIfElse"],[3,"scroll","ngStyle","ngClass"],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"styleClass"],[4,"ngIf"]],template:function(i,r){if(1&i&&(zs(),Kt(0,T4e,8,16,"ng-container",6)(1,D4e,2,1,"ng-template",null,0,id)),2&i){const o=ua(2);be("ngIf",!r._disabled)("ngIfElse",o)}},dependencies:()=>[Gl,Qf,xl,ku,Su,KP],styles:["@layer primeng{p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{scale:2}.p-scroller-inline .p-scroller-content{position:static}}\n"],encapsulation:2})}return n})(),cee=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=bi({type:n});static \u0275inj=di({imports:[Gs,dl,KP,dl]})}return n})();const M4e=["headerchkbox"],B4e=["filter"],P4e=["lastHiddenFocusableElement"],O4e=["firstHiddenFocusableElement"],F4e=["scroller"],L4e=["list"],N4e=[[["p-header"]],[["p-footer"]]],U4e=["p-header","p-footer"],SD=(n,t)=>({$implicit:n,options:t}),uee=n=>({"p-checkbox-disabled":n}),V4e=(n,t,e)=>({"p-highlight":n,"p-focus":t,"p-disabled":e}),dee=n=>({options:n}),w3=n=>({height:n}),Q4e=()=>({}),j4e=n=>({$implicit:n}),z4e=(n,t,e)=>({"p-listbox-item":!0,"p-highlight":n,"p-focus":t,"p-disabled":e}),G4e=(n,t)=>({$implicit:n,index:t}),H4e=n=>({"p-highlight":n});function q4e(n,t){1&n&&rs(0)}function K4e(n,t){if(1&n&&($e(0,"div",19),Zr(1),Kt(2,q4e,1,0,"ng-container",20),rt()),2&n){const e=He();Ie(2),be("ngTemplateOutlet",e.headerTemplate)("ngTemplateOutletContext",Xa(2,SD,e.modelValue(),e.visibleOptions()))}}function W4e(n,t){1&n&&Pn(0,"CheckIcon",29),2&n&&(be("styleClass","p-checkbox-icon"),Qt("aria-hidden",!0))}function $4e(n,t){}function X4e(n,t){1&n&&Kt(0,$4e,0,0,"ng-template")}function Y4e(n,t){if(1&n&&($e(0,"span",30),Kt(1,X4e,1,0,null,31),rt()),2&n){const e=He(4);Qt("aria-hidden",!0),Ie(),be("ngTemplateOutlet",e.checkIconTemplate)}}function Z4e(n,t){if(1&n&&(lo(0),Kt(1,W4e,1,2,"CheckIcon",27)(2,Y4e,2,2,"span",28),co()),2&n){const e=He(3);Ie(),be("ngIf",!e.checkIconTemplate),Ie(),be("ngIf",e.checkIconTemplate)}}function J4e(n,t){if(1&n){const e=ur();$e(0,"div",23),Hn("click",function(r){return mn(e),pn(He(2).onToggleAll(r))})("keydown",function(r){return mn(e),pn(He(2).onHeaderCheckboxKeyDown(r))}),$e(1,"div",24)(2,"input",25,4),Hn("focus",function(r){return mn(e),pn(He(2).onHeaderCheckboxFocus(r))})("blur",function(r){return mn(e),pn(He(2).onHeaderCheckboxBlur(r))}),rt()(),$e(4,"div",26),Kt(5,Z4e,3,2,"ng-container",15),rt()()}if(2&n){const e=He(2);be("ngClass",gs(8,uee,e.disabled||e.toggleAllDisabled)),Ie(),Qt("data-p-hidden-accessible",!0),Ie(),be("disabled",e.disabled||e.toggleAllDisabled),Qt("checked",e.allSelected())("aria-label",e.toggleAllAriaLabel),Ie(2),be("ngClass",Gp(10,V4e,e.allSelected(),e.headerCheckboxFocus,e.disabled||e.toggleAllDisabled)),Qt("aria-checked",e.allSelected()),Ie(),be("ngIf",e.allSelected())}}function eNe(n,t){1&n&&rs(0)}function tNe(n,t){if(1&n&&(lo(0),Kt(1,eNe,1,0,"ng-container",20),co()),2&n){const e=He(2);Ie(),be("ngTemplateOutlet",e.filterTemplate)("ngTemplateOutletContext",gs(2,dee,e.filterOptions))}}function nNe(n,t){1&n&&Pn(0,"SearchIcon",29),2&n&&(be("styleClass","p-listbox-filter-icon"),Qt("aria-hidden",!0))}function iNe(n,t){}function rNe(n,t){1&n&&Kt(0,iNe,0,0,"ng-template")}function oNe(n,t){if(1&n&&($e(0,"span",37),Kt(1,rNe,1,0,null,31),rt()),2&n){const e=He(4);Qt("aria-hidden",!0),Ie(),be("ngTemplateOutlet",e.filterIconTemplate)}}function sNe(n,t){if(1&n){const e=ur();$e(0,"div",34)(1,"input",35,5),Hn("input",function(r){return mn(e),pn(He(3).onFilterChange(r))})("keydown",function(r){return mn(e),pn(He(3).onFilterKeyDown(r))})("blur",function(r){return mn(e),pn(He(3).onFilterBlur(r))}),rt(),Kt(3,nNe,1,2,"SearchIcon",27)(4,oNe,2,2,"span",36),rt()}if(2&n){const e=He(3);Ie(),be("value",e._filterValue()||"")("disabled",e.disabled)("tabindex",e.disabled||e.focused?-1:e.tabindex),Qt("aria-owns",e.id+"_list")("aria-activedescendant",e.focusedOptionId)("placeholder",e.filterPlaceHolder)("aria-label",e.ariaFilterLabel),Ie(2),be("ngIf",!e.filterIconTemplate),Ie(),be("ngIf",e.filterIconTemplate)}}function aNe(n,t){if(1&n&&(Kt(0,sNe,5,9,"div",32),$e(1,"span",33),$i(2),rt()),2&n){const e=He(2);be("ngIf",e.filter),Ie(),Qt("data-p-hidden-accessible",!0),Ie(),fh(" ",e.filterResultMessageText," ")}}function lNe(n,t){if(1&n&&($e(0,"div",19),Kt(1,J4e,6,14,"div",21)(2,tNe,2,4,"ng-container",22)(3,aNe,3,3,"ng-template",null,3,id),rt()),2&n){const e=ua(4),i=He();Ie(),be("ngIf",i.checkbox&&i.multiple&&i.showToggleAll),Ie(),be("ngIf",i.filterTemplate)("ngIfElse",e)}}function cNe(n,t){1&n&&rs(0)}function uNe(n,t){if(1&n&&Kt(0,cNe,1,0,"ng-container",20),2&n){const e=t.$implicit,i=t.options;He(2),be("ngTemplateOutlet",ua(9))("ngTemplateOutletContext",Xa(2,SD,e,i))}}function dNe(n,t){1&n&&rs(0)}function hNe(n,t){if(1&n&&Kt(0,dNe,1,0,"ng-container",20),2&n){const e=t.options;be("ngTemplateOutlet",He(3).loaderTemplate)("ngTemplateOutletContext",gs(2,dee,e))}}function pNe(n,t){1&n&&(lo(0),Kt(1,hNe,1,4,"ng-template",40),co())}function fNe(n,t){if(1&n){const e=ur();$e(0,"p-scroller",38,6),Hn("onLazyLoad",function(r){return mn(e),pn(He().onLazyLoad.emit(r))}),Kt(2,uNe,1,5,"ng-template",39)(3,pNe,2,0,"ng-container",15),rt()}if(2&n){const e=He();nu(gs(9,w3,e.scrollHeight)),be("items",e.visibleOptions())("itemSize",e.virtualScrollItemSize)("autoSize",!0)("tabindex",-1)("lazy",e.lazy)("options",e.virtualScrollOptions),Ie(3),be("ngIf",e.loaderTemplate)}}function ANe(n,t){1&n&&rs(0)}function mNe(n,t){if(1&n&&(lo(0),Kt(1,ANe,1,0,"ng-container",20),co()),2&n){const e=He(),i=ua(9);Ie(),be("ngTemplateOutlet",i)("ngTemplateOutletContext",Xa(3,SD,e.visibleOptions(),$h(2,Q4e)))}}function gNe(n,t){if(1&n&&($e(0,"span"),$i(1),rt()),2&n){const e=He(2).$implicit,i=He(2);Ie(),Oa(i.getOptionGroupLabel(e.optionGroup))}}function _Ne(n,t){1&n&&rs(0)}function vNe(n,t){if(1&n&&(lo(0),$e(1,"li",44),Kt(2,gNe,2,1,"span",15)(3,_Ne,1,0,"ng-container",20),rt(),co()),2&n){const e=He(),i=e.$implicit,r=e.index,o=He().options,s=He();Ie(),be("ngStyle",gs(5,w3,o.itemSize+"px")),Qt("id",s.id+"_"+s.getOptionIndex(r,o)),Ie(),be("ngIf",!s.groupTemplate),Ie(),be("ngTemplateOutlet",s.groupTemplate)("ngTemplateOutletContext",gs(7,j4e,i.optionGroup))}}function yNe(n,t){1&n&&Pn(0,"CheckIcon",29),2&n&&(be("styleClass","p-checkbox-icon"),Qt("aria-hidden",!0))}function bNe(n,t){}function wNe(n,t){1&n&&Kt(0,bNe,0,0,"ng-template")}function xNe(n,t){if(1&n&&($e(0,"span",30),Kt(1,wNe,1,0,null,31),rt()),2&n){const e=He(6);Qt("aria-hidden",!0),Ie(),be("ngTemplateOutlet",e.checkIconTemplate)}}function ENe(n,t){if(1&n&&(lo(0),Kt(1,yNe,1,2,"CheckIcon",27)(2,xNe,2,2,"span",28),co()),2&n){const e=He(5);Ie(),be("ngIf",!e.checkIconTemplate),Ie(),be("ngIf",e.checkIconTemplate)}}function CNe(n,t){if(1&n&&($e(0,"div",47)(1,"div",48),Kt(2,ENe,3,2,"ng-container",15),rt()()),2&n){const e=He(2).$implicit,i=He(2);be("ngClass",gs(3,uee,i.disabled||i.isOptionDisabled(e))),Ie(),be("ngClass",gs(5,H4e,i.isSelected(e))),Ie(),be("ngIf",i.isSelected(e))}}function INe(n,t){if(1&n&&($e(0,"span"),$i(1),rt()),2&n){const e=He(2).$implicit,i=He(2);Ie(),Oa(i.getOptionLabel(e))}}function TNe(n,t){1&n&&rs(0)}function SNe(n,t){if(1&n){const e=ur();lo(0),$e(1,"li",45),Hn("click",function(r){mn(e);const o=He(),s=o.$implicit,c=o.index,u=He().options,g=He();return pn(g.onOptionSelect(r,s,g.getOptionIndex(c,u)))})("dblclick",function(r){mn(e);const o=He().$implicit;return pn(He(2).onOptionDoubleClick(r,o))})("mousedown",function(r){mn(e);const o=He().index,s=He().options,c=He();return pn(c.onOptionMouseDown(r,c.getOptionIndex(o,s)))})("mouseenter",function(r){mn(e);const o=He().index,s=He().options,c=He();return pn(c.onOptionMouseEnter(r,c.getOptionIndex(o,s)))})("touchend",function(){return mn(e),pn(He(3).onOptionTouchEnd())}),Kt(2,CNe,3,7,"div",46)(3,INe,2,1,"span",15)(4,TNe,1,0,"ng-container",20),rt(),co()}if(2&n){const e=He(),i=e.$implicit,r=e.index,o=He().options,s=He();Ie(),be("ngStyle",gs(12,w3,o.itemSize+"px"))("ngClass",Gp(14,z4e,s.isSelected(i),s.focusedOptionIndex()===s.getOptionIndex(r,o),s.isOptionDisabled(i))),Qt("id",s.id+"_"+s.getOptionIndex(r,o))("aria-label",s.getOptionLabel(i))("aria-selected",s.isSelected(i))("aria-disabled",s.isOptionDisabled(i))("aria-setsize",s.ariaSetSize)("ariaPosInset",s.getAriaPosInset(s.getOptionIndex(r,o))),Ie(),be("ngIf",s.checkbox&&s.multiple),Ie(),be("ngIf",!s.itemTemplate),Ie(),be("ngTemplateOutlet",s.itemTemplate)("ngTemplateOutletContext",Xa(18,G4e,i,s.getOptionIndex(r,o)))}}function kNe(n,t){if(1&n&&Kt(0,vNe,4,9,"ng-container",15)(1,SNe,5,21,"ng-container",15),2&n){const e=t.$implicit,i=He(2);be("ngIf",i.isOptionGroup(e)),Ie(),be("ngIf",!i.isOptionGroup(e))}}function DNe(n,t){if(1&n&&(lo(0),$i(1),co()),2&n){const e=He(3);Ie(),fh(" ",e.emptyFilterMessageText," ")}}function RNe(n,t){1&n&&rs(0,null,8)}function MNe(n,t){if(1&n&&($e(0,"li",49),Kt(1,DNe,2,1,"ng-container",22)(2,RNe,2,0,"ng-container",31),rt()),2&n){const e=He(2);Ie(),be("ngIf",!e.emptyFilterTemplate&&!e.emptyTemplate)("ngIfElse",e.emptyFilter),Ie(),be("ngTemplateOutlet",e.emptyFilterTemplate||e.emptyTemplate)}}function BNe(n,t){if(1&n&&(lo(0),$i(1),co()),2&n){const e=He(3);Ie(),fh(" ",e.emptyMessage," ")}}function PNe(n,t){1&n&&rs(0,null,9)}function ONe(n,t){if(1&n&&($e(0,"li",49),Kt(1,BNe,2,1,"ng-container",22)(2,PNe,2,0,"ng-container",31),rt()),2&n){const e=He(2);Ie(),be("ngIf",!e.emptyTemplate)("ngIfElse",e.empty),Ie(),be("ngTemplateOutlet",e.emptyTemplate)}}function FNe(n,t){if(1&n){const e=ur();$e(0,"ul",41,7),Hn("focus",function(r){return mn(e),pn(He().onListFocus(r))})("blur",function(r){return mn(e),pn(He().onListBlur(r))})("keydown",function(r){return mn(e),pn(He().onListKeyDown(r))}),Kt(2,kNe,2,2,"ng-template",42)(3,MNe,3,3,"li",43)(4,ONe,3,3,"li",43),rt()}if(2&n){const e=t.$implicit,i=t.options,r=He();be("tabindex",-1)("ngClass",i.contentStyleClass)("ngStyle",i.contentStyle),Qt("aria-multiselectable",!0)("aria-activedescendant",r.focused?r.focusedOptionId:void 0)("aria-label",r.ariaLabel)("aria-multiselectable",r.multiple)("aria-disabled",r.disabled),Ie(2),be("ngForOf",e),Ie(),be("ngIf",r.hasFilter()&&r.isEmpty()),Ie(),be("ngIf",!r.hasFilter()&&r.isEmpty())}}function LNe(n,t){1&n&&rs(0)}function NNe(n,t){if(1&n&&($e(0,"div",50),Zr(1,1),Kt(2,LNe,1,0,"ng-container",20),rt()),2&n){const e=He();Ie(2),be("ngTemplateOutlet",e.footerTemplate)("ngTemplateOutletContext",Xa(2,SD,e.modelValue(),e.visibleOptions()))}}function UNe(n,t){if(1&n&&($e(0,"span",18),$i(1),rt()),2&n){const e=He();Ie(),fh(" ",e.emptyMessage," ")}}const VNe={provide:fa,useExisting:Ir(()=>QNe),multi:!0};let QNe=(()=>{class n{el;cd;filterService;config;renderer;id;searchMessage;emptySelectionMessage;selectionMessage;autoOptionFocus=!0;ariaLabel;selectOnFocus;searchLocale;focusOnHover;filterMessage;filterFields;lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;scrollHeight="200px";tabindex=0;multiple;style;styleClass;listStyle;listStyleClass;readonly;disabled;checkbox=!1;filter=!1;filterBy;filterMatchMode="contains";filterLocale;metaKeySelection=!1;dataKey;showToggleAll=!0;optionLabel;optionValue;optionGroupChildren="items";optionGroupLabel="label";optionDisabled;ariaFilterLabel;filterPlaceHolder;emptyFilterMessage;emptyMessage;group;get options(){return this._options()}set options(e){this._options.set(e)}get filterValue(){return this._filterValue()}set filterValue(e){this._filterValue.set(e)}get selectAll(){return this._selectAll}set selectAll(e){this._selectAll=e}onChange=new ni;onClick=new ni;onDblClick=new ni;onFilter=new ni;onFocus=new ni;onBlur=new ni;onSelectAllChange=new ni;headerCheckboxViewChild;filterViewChild;lastHiddenFocusableElement;firstHiddenFocusableElement;scroller;listViewChild;headerFacet;footerFacet;templates;itemTemplate;groupTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;filterIconTemplate;checkIconTemplate;_filterValue=Od(null);_filteredOptions;filterOptions;filtered;value;onModelChange=()=>{};onModelTouched=()=>{};optionTouched;focus;headerCheckboxFocus;translationSubscription;focused;get containerClass(){return{"p-listbox p-component":!0,"p-disabled":this.disabled}}get focusedOptionId(){return-1!==this.focusedOptionIndex()?`${this.id}_${this.focusedOptionIndex()}`:null}get filterResultMessageText(){return Wr.isNotEmpty(this.visibleOptions())?this.filterMessageText.replaceAll("{0}",this.visibleOptions().length):this.emptyFilterMessageText}get filterMessageText(){return this.filterMessage||this.config.translation.searchMessage||""}get searchMessageText(){return this.searchMessage||this.config.translation.searchMessage||""}get emptyFilterMessageText(){return this.emptyFilterMessage||this.config.translation.emptySearchMessage||this.config.translation.emptyFilterMessage||""}get selectionMessageText(){return this.selectionMessage||this.config.translation.selectionMessage||""}get emptySelectionMessageText(){return this.emptySelectionMessage||this.config.translation.emptySelectionMessage||""}get selectedMessageText(){return this.hasSelectedOption()?this.selectionMessageText.replaceAll("{0}",this.multiple?this.modelValue().length:"1"):this.emptySelectionMessageText}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}get virtualScrollerDisabled(){return!this.virtualScroll}get searchFields(){return this.filterFields||[this.optionLabel]}get toggleAllAriaLabel(){return this.config.translation.aria?this.config.translation.aria[this.allSelected()?"selectAll":"unselectAll"]:void 0}searchValue;searchTimeout;_selectAll=null;_options=Od(null);startRangeIndex=Od(-1);focusedOptionIndex=Od(-1);modelValue=Od(null);visibleOptions=Y0(()=>{const e=this.group?this.flatOptions(this._options()):this._options()||[],i=this._filterValue();return void 0===this.searchFields[0]?i?e.filter(r=>-1!==r.toString().toLocaleLowerCase(this.filterLocale).indexOf(i.toLocaleLowerCase(this.filterLocale).trim())):e:i?this.filterService.filter(e,this.searchFields,i,this.filterMatchMode,this.filterLocale):e});constructor(e,i,r,o,s){this.el=e,this.cd=i,this.filterService=r,this.config=o,this.renderer=s}ngOnInit(){this.id=this.id||Ru(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()}),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterChange(e),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"filter":this.filterTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"filtericon":this.filterIconTemplate=e.template;break;case"checkicon":this.checkIconTemplate=e.template}})}writeValue(e){this.value=e,this.modelValue.set(this.value),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}flatOptions(e){return(e||[]).reduce((i,r,o)=>{i.push({optionGroup:r,group:!0,index:o});const s=this.getOptionGroupChildren(r);return s&&s.forEach(c=>i.push(c)),i},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()&&!this.multiple){const e=this.findFirstFocusedOptionIndex();this.focusedOptionIndex.set(e),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()])}}updateModel(e,i){this.value=e,this.modelValue.set(e),this.onModelChange(e),this.onChange.emit({originalEvent:i,value:this.value})}removeOption(e){return this.modelValue().filter(i=>!Wr.equals(i,this.getOptionValue(e),this.equalityKey()))}onOptionSelect(e,i,r=-1){this.disabled||this.isOptionDisabled(i)||this.readonly||(e&&this.onClick.emit({originalEvent:e,option:i,value:this.value}),this.multiple?this.onOptionSelectMultiple(e,i):this.onOptionSelectSingle(e,i),this.optionTouched=!1,-1!==r&&this.focusedOptionIndex.set(r))}onOptionSelectMultiple(e,i){let r=this.isSelected(i),o=null;if(!this.optionTouched&&this.metaKeySelection){let c=e.metaKey||e.ctrlKey;r?o=c?this.removeOption(i):[this.getOptionValue(i)]:(o=c&&this.modelValue()||[],o=[...o,this.getOptionValue(i)])}else o=r?this.removeOption(i):[...this.modelValue()||[],this.getOptionValue(i)];this.updateModel(o,e)}onOptionSelectSingle(e,i){let r=this.isSelected(i),o=!1,s=null;!this.optionTouched&&this.metaKeySelection?r?(e.metaKey||e.ctrlKey)&&(s=null,o=!0):(s=this.getOptionValue(i),o=!0):(s=r?null:this.getOptionValue(i),o=!0),o&&this.updateModel(s,e)}onOptionSelectRange(e,i=-1,r=-1){if(-1===i&&(i=this.findNearestSelectedOptionIndex(r,!0)),-1===r&&(r=this.findNearestSelectedOptionIndex(i)),-1!==i&&-1!==r){const o=Math.min(i,r),s=Math.max(i,r),c=this.visibleOptions().slice(o,s+1).filter(u=>this.isValidOption(u)).map(u=>this.getOptionValue(u));this.updateModel(c,e)}}onToggleAll(e){if(!this.disabled&&!this.readonly){if(_n.focus(this.headerCheckboxViewChild.nativeElement),null!==this.selectAll)this.onSelectAllChange.emit({originalEvent:e,checked:!this.allSelected()});else{const i=this.allSelected()?[]:this.visibleOptions().filter(r=>this.isValidOption(r)).map(r=>this.getOptionValue(r));this.updateModel(i,e)}e.preventDefault()}}allSelected(){return null!==this.selectAll?this.selectAll:Wr.isNotEmpty(this.visibleOptions())&&this.visibleOptions().every(e=>this.isOptionGroup(e)||this.isOptionDisabled(e)||this.isSelected(e))}onOptionTouchEnd(){this.disabled||(this.optionTouched=!0)}onOptionMouseDown(e,i){this.changeFocusedOptionIndex(e,i)}onOptionMouseEnter(e,i){this.focusOnHover&&this.changeFocusedOptionIndex(e,i)}onOptionDoubleClick(e,i){this.disabled||this.isOptionDisabled(i)||this.readonly||this.onDblClick.emit({originalEvent:e,option:i,value:this.value})}onFirstHiddenFocus(e){_n.focus(this.listViewChild.nativeElement);const i=_n.getFirstFocusableElement(this.el.nativeElement,':not([data-p-hidden-focusable="true"])');this.lastHiddenFocusableElement.nativeElement.tabIndex=Wr.isEmpty(i)?"-1":void 0,this.firstHiddenFocusableElement.nativeElement.tabIndex=-1}onLastHiddenFocus(e){if(e.relatedTarget===this.listViewChild.nativeElement){const r=_n.getFirstFocusableElement(this.el.nativeElement,":not(.p-hidden-focusable)");_n.focus(r),this.firstHiddenFocusableElement.nativeElement.tabIndex=void 0}else _n.focus(this.firstHiddenFocusableElement.nativeElement);this.lastHiddenFocusableElement.nativeElement.tabIndex=-1}onFocusout(e){!this.el.nativeElement.contains(e.relatedTarget)&&this.lastHiddenFocusableElement&&this.firstHiddenFocusableElement&&(this.firstHiddenFocusableElement.nativeElement.tabIndex=this.lastHiddenFocusableElement.nativeElement.tabIndex=void 0)}onListFocus(e){this.focused=!0;const i=-1!==this.focusedOptionIndex()?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(i),this.onFocus.emit(e)}onListBlur(e){this.focused=!1,this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1),this.searchValue=""}onHeaderCheckboxFocus(e){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}onHeaderCheckboxKeyDown(e){if(this.disabled)e.preventDefault();else switch(e.code){case"Space":case"Enter":this.onToggleAll(e);break;case"Tab":this.onHeaderCheckboxTabKeyDown(e)}}onHeaderCheckboxTabKeyDown(e){_n.focus(this.listViewChild.nativeElement),e.preventDefault()}onFilterChange(e){let i=e.target.value?.trim();this._filterValue.set(i),this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1),this.onFilter.emit({originalEvent:e,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0)}onFilterBlur(e){this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1)}onListKeyDown(e){const i=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"Space":case"NumpadEnter":this.onSpaceKey(e);break;case"Tab":break;case"ShiftLeft":case"ShiftRight":this.onShiftKey();break;default:if(this.multiple&&"KeyA"===e.code&&i){const r=this.visibleOptions().filter(o=>this.isValidOption(o)).map(o=>this.getOptionValue(o));this.updateModel(r,e),e.preventDefault();break}!i&&Wr.isPrintableCharacter(e.key)&&(this.searchOptions(e,e.key),e.preventDefault())}}onFilterKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":this.onEnterKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey()}}onArrowDownKey(e){const i=-1!==this.focusedOptionIndex()?this.findNextOptionIndex(this.focusedOptionIndex()):this.findFirstFocusedOptionIndex();this.multiple&&e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex(),i),this.changeFocusedOptionIndex(e,i),e.preventDefault()}onArrowUpKey(e){const i=-1!==this.focusedOptionIndex()?this.findPrevOptionIndex(this.focusedOptionIndex()):this.findLastFocusedOptionIndex();this.multiple&&e.shiftKey&&this.onOptionSelectRange(e,i,this.startRangeIndex()),this.changeFocusedOptionIndex(e,i),e.preventDefault()}onArrowLeftKey(e,i=!1){i&&this.focusedOptionIndex.set(-1)}onHomeKey(e,i=!1){if(i)e.currentTarget.setSelectionRange(0,0),this.focusedOptionIndex.set(-1);else{let r=e.metaKey||e.ctrlKey,o=this.findFirstOptionIndex();this.multiple&&e.shiftKey&&r&&this.onOptionSelectRange(e,o,this.startRangeIndex()),this.changeFocusedOptionIndex(e,o)}e.preventDefault()}onEndKey(e,i=!1){if(i){const r=e.currentTarget,o=r.value.length;r.setSelectionRange(o,o),this.focusedOptionIndex.set(-1)}else{let r=e.metaKey||e.ctrlKey,o=this.findLastOptionIndex();this.multiple&&e.shiftKey&&r&&this.onOptionSelectRange(e,this.startRangeIndex(),o),this.changeFocusedOptionIndex(e,o)}e.preventDefault()}onPageDownKey(e){this.scrollInView(0),e.preventDefault()}onPageUpKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onEnterKey(e){-1!==this.focusedOptionIndex()&&(this.multiple&&e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex()):this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()])),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}onShiftKey(){const e=this.focusedOptionIndex();this.startRangeIndex.set(e)}getOptionGroupChildren(e){return this.optionGroupChildren?Wr.resolveFieldData(e,this.optionGroupChildren):e.items}getOptionGroupLabel(e){return this.optionGroupLabel?Wr.resolveFieldData(e,this.optionGroupLabel):e&&void 0!==e.label?e.label:e}getOptionLabel(e){return this.optionLabel?Wr.resolveFieldData(e,this.optionLabel):null!=e.label?e.label:e}getOptionIndex(e,i){return this.virtualScrollerDisabled?e:i&&i.getItemOptions(e).index}getOptionValue(e){return this.optionValue?Wr.resolveFieldData(e,this.optionValue):!this.optionLabel&&e&&void 0!==e.value?e.value:e}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(i=>this.isOptionGroup(i)).length:e)+1}hasSelectedOption(){return Wr.isNotEmpty(this.modelValue())}isOptionGroup(e){return this.optionGroupLabel&&e.optionGroup&&e.group}changeFocusedOptionIndex(e,i){this.focusedOptionIndex()!==i&&(this.focusedOptionIndex.set(i),this.scrollInView(),this.selectOnFocus&&!this.multiple&&this.onOptionSelect(e,this.visibleOptions()[i]))}searchOptions(e,i){this.searchValue=(this.searchValue||"")+i;let r=-1,o=!1;return-1!==this.focusedOptionIndex()?(r=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(s=>this.isOptionMatched(s)),r=-1===r?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(s=>this.isOptionMatched(s)):r+this.focusedOptionIndex()):r=this.visibleOptions().findIndex(s=>this.isOptionMatched(s)),-1!==r&&(o=!0),-1===r&&-1===this.focusedOptionIndex()&&(r=this.findFirstFocusedOptionIndex()),-1!==r&&this.changeFocusedOptionIndex(e,r),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),o}isOptionMatched(e){return this.isValidOption(e)&&this.getOptionLabel(e).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}scrollInView(e=-1){const r=_n.findSingle(this.listViewChild.nativeElement,`li[id="${-1!==e?`${this.id}_${e}`:this.focusedOptionId}"]`);r?r.scrollIntoView&&r.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||this.virtualScroll&&this.scroller.scrollToIndex(-1!==e?e:this.focusedOptionIndex())}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findLastOptionIndex(){return Wr.findLastIndex(this.visibleOptions(),e=>this.isValidOption(e))}findFirstFocusedOptionIndex(){const e=this.findFirstSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findLastFocusedOptionIndex(){const e=this.findLastSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}findLastSelectedOptionIndex(){return this.hasSelectedOption()?Wr.findLastIndex(this.visibleOptions(),e=>this.isValidSelectedOption(e)):-1}findNextOptionIndex(e){const i=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(r=>this.isValidOption(r)):-1;return i>-1?i+e+1:e}findNextSelectedOptionIndex(e){const i=this.hasSelectedOption()&&e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(r=>this.isValidSelectedOption(r)):-1;return i>-1?i+e+1:-1}findPrevSelectedOptionIndex(e){const i=this.hasSelectedOption()&&e>0?Wr.findLastIndex(this.visibleOptions().slice(0,e),r=>this.isValidSelectedOption(r)):-1;return i>-1?i:-1}findFirstSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findPrevOptionIndex(e){const i=e>0?Wr.findLastIndex(this.visibleOptions().slice(0,e),r=>this.isValidOption(r)):-1;return i>-1?i:e}findNearestSelectedOptionIndex(e,i=!1){let r=-1;return this.hasSelectedOption()&&(i?(r=this.findPrevSelectedOptionIndex(e),r=-1===r?this.findNextSelectedOptionIndex(e):r):(r=this.findNextSelectedOptionIndex(e),r=-1===r?this.findPrevSelectedOptionIndex(e):r)),r>-1?r:e}equalityKey(){return this.optionValue?null:this.dataKey}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}isOptionDisabled(e){return!!this.optionDisabled&&Wr.resolveFieldData(e,this.optionDisabled)}isSelected(e){const i=this.getOptionValue(e);return this.multiple?(this.modelValue()||[]).some(r=>Wr.equals(r,i,this.equalityKey())):Wr.equals(this.modelValue(),i,this.equalityKey())}isValidOption(e){return e&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isEmpty(){return!this._options()?.length||!this.visibleOptions()?.length}hasFilter(){return this._filterValue()&&this._filterValue().trim().length>0}resetFilter(){this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this._filterValue.set(null)}ngOnDestroy(){this.translationSubscription&&this.translationSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(Re(or),Re(qo),Re(Qme),Re(Wf),Re(tu))};static \u0275cmp=Ii({type:n,selectors:[["p-listbox"]],contentQueries:function(i,r,o){if(1&i&&(jo(o,o7,5),jo(o,s7,5),jo(o,sd,4)),2&i){let s;Ti(s=Si())&&(r.headerFacet=s.first),Ti(s=Si())&&(r.footerFacet=s.first),Ti(s=Si())&&(r.templates=s)}},viewQuery:function(i,r){if(1&i&&(po(M4e,5),po(B4e,5),po(P4e,5),po(O4e,5),po(F4e,5),po(L4e,5)),2&i){let o;Ti(o=Si())&&(r.headerCheckboxViewChild=o.first),Ti(o=Si())&&(r.filterViewChild=o.first),Ti(o=Si())&&(r.lastHiddenFocusableElement=o.first),Ti(o=Si())&&(r.firstHiddenFocusableElement=o.first),Ti(o=Si())&&(r.scroller=o.first),Ti(o=Si())&&(r.listViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{id:"id",searchMessage:"searchMessage",emptySelectionMessage:"emptySelectionMessage",selectionMessage:"selectionMessage",autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",xn],ariaLabel:"ariaLabel",selectOnFocus:[2,"selectOnFocus","selectOnFocus",xn],searchLocale:[2,"searchLocale","searchLocale",xn],focusOnHover:[2,"focusOnHover","focusOnHover",xn],filterMessage:"filterMessage",filterFields:"filterFields",lazy:[2,"lazy","lazy",xn],virtualScroll:[2,"virtualScroll","virtualScroll",xn],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",Eo],virtualScrollOptions:"virtualScrollOptions",scrollHeight:"scrollHeight",tabindex:[2,"tabindex","tabindex",Eo],multiple:[2,"multiple","multiple",xn],style:"style",styleClass:"styleClass",listStyle:"listStyle",listStyleClass:"listStyleClass",readonly:[2,"readonly","readonly",xn],disabled:[2,"disabled","disabled",xn],checkbox:[2,"checkbox","checkbox",xn],filter:[2,"filter","filter",xn],filterBy:"filterBy",filterMatchMode:"filterMatchMode",filterLocale:"filterLocale",metaKeySelection:[2,"metaKeySelection","metaKeySelection",xn],dataKey:"dataKey",showToggleAll:[2,"showToggleAll","showToggleAll",xn],optionLabel:"optionLabel",optionValue:"optionValue",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",optionDisabled:"optionDisabled",ariaFilterLabel:"ariaFilterLabel",filterPlaceHolder:"filterPlaceHolder",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",group:[2,"group","group",xn],options:"options",filterValue:"filterValue",selectAll:"selectAll"},outputs:{onChange:"onChange",onClick:"onClick",onDblClick:"onDblClick",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onSelectAllChange:"onSelectAllChange"},features:[Vr([VNe]),ao],ngContentSelectors:U4e,decls:16,vars:24,consts:[["firstHiddenFocusableElement",""],["buildInItems",""],["lastHiddenFocusableElement",""],["builtInFilterElement",""],["headerchkbox",""],["filterInput",""],["scroller",""],["list",""],["emptyFilter",""],["empty",""],[3,"focusout","ngClass","ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus","tabindex"],["class","p-listbox-header",4,"ngIf"],[3,"ngClass","ngStyle"],[3,"items","style","itemSize","autoSize","tabindex","lazy","options","onLazyLoad",4,"ngIf"],[4,"ngIf"],["class","p-listbox-footer",4,"ngIf"],["role","status","aria-live","polite","class","p-hidden-accessible",4,"ngIf"],["role","status","aria-live","polite",1,"p-hidden-accessible"],[1,"p-listbox-header"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-checkbox p-component",3,"ngClass","click","keydown",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"p-checkbox","p-component",3,"click","keydown","ngClass"],[1,"p-hidden-accessible"],["type","checkbox","readonly","readonly",3,"focus","blur","disabled"],["role","checkbox",1,"p-checkbox-box",3,"ngClass"],[3,"styleClass",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],["class","p-listbox-filter-container",4,"ngIf"],["role","status","attr.aria-live","polite",1,"p-hidden-accessible"],[1,"p-listbox-filter-container"],["type","text","role","searchbox",1,"p-listbox-filter","p-inputtext","p-component",3,"input","keydown","blur","value","disabled","tabindex"],["class","p-listbox-filter-icon",4,"ngIf"],[1,"p-listbox-filter-icon"],[3,"onLazyLoad","items","itemSize","autoSize","tabindex","lazy","options"],["pTemplate","content"],["pTemplate","loader"],["role","listbox",1,"p-listbox-list",3,"focus","blur","keydown","tabindex","ngClass","ngStyle"],["ngFor","",3,"ngForOf"],["class","p-listbox-empty-message","role","option",4,"ngIf"],["role","option",1,"p-listbox-item-group",3,"ngStyle"],["pRipple","","role","option",1,"p-listbox-item",3,"click","dblclick","mousedown","mouseenter","touchend","ngStyle","ngClass"],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-checkbox-box",3,"ngClass"],["role","option",1,"p-listbox-empty-message"],[1,"p-listbox-footer"]],template:function(i,r){if(1&i){const o=ur();zs(N4e),$e(0,"div",10),Hn("focusout",function(c){return mn(o),pn(r.onFocusout(c))}),$e(1,"span",11,0),Hn("focus",function(c){return mn(o),pn(r.onFirstHiddenFocus(c))}),rt(),Kt(3,K4e,3,5,"div",12)(4,lNe,5,3,"div",12),$e(5,"div",13),Kt(6,fNe,4,11,"p-scroller",14)(7,mNe,2,6,"ng-container",15)(8,FNe,5,11,"ng-template",null,1,id),rt(),Kt(10,NNe,3,5,"div",16)(11,UNe,2,1,"span",17),$e(12,"span",18),$i(13),rt(),$e(14,"span",11,2),Hn("focus",function(c){return mn(o),pn(r.onLastHiddenFocus(c))}),rt()()}2&i&&(jr(r.styleClass),be("ngClass",r.containerClass)("ngStyle",r.style),Qt("id",r.id),Ie(),be("tabindex",r.disabled?-1:r.tabindex),Qt("aria-hidden",!0)("data-p-hidden-focusable",!0),Ie(2),be("ngIf",r.headerFacet||r.headerTemplate),Ie(),be("ngIf",r.checkbox&&r.multiple&&r.showToggleAll||r.filter),Ie(),jr(r.listStyleClass),Of("max-height",r.virtualScroll?"auto":r.scrollHeight||"auto"),be("ngClass","p-listbox-list-wrapper")("ngStyle",r.listStyle),Ie(),be("ngIf",r.virtualScroll),Ie(),be("ngIf",!r.virtualScroll),Ie(3),be("ngIf",r.footerFacet||r.footerTemplate),Ie(),be("ngIf",r.isEmpty()),Ie(2),fh(" ",r.selectedMessageText," "),Ie(),be("tabindex",r.disabled?-1:r.tabindex),Qt("aria-hidden",!0)("data-p-hidden-focusable",!0))},dependencies:()=>[Gl,Qf,xl,ku,Su,sd,Nv,R4e,aee,ey],styles:["@layer primeng{.p-listbox-list-wrapper{overflow:auto}.p-listbox-list{list-style-type:none;margin:0;padding:0}.p-listbox-item{cursor:pointer;position:relative;overflow:hidden;display:flex;align-items:center;-webkit-user-select:none;user-select:none}.p-listbox-header{display:flex;align-items:center}.p-listbox-filter-container{position:relative;flex:1 1 auto}.p-listbox-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-listbox-filter{width:100%}}\n"],encapsulation:2,changeDetection:0})}return n})(),jNe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=bi({type:n});static \u0275inj=di({imports:[Gs,dl,Yg,cee,aee,ey,dl,cee]})}return n})();const zNe=["input"],GNe=(n,t,e,i)=>({"p-radiobutton p-component":!0,"p-radiobutton-checked":n,"p-radiobutton-disabled":t,"p-radiobutton-focused":e,"p-variant-filled":i}),HNe=(n,t,e)=>({"p-radiobutton-box":!0,"p-highlight":n,"p-disabled":t,"p-focus":e}),qNe=(n,t,e)=>({"p-radiobutton-label":!0,"p-radiobutton-label-active":n,"p-disabled":t,"p-radiobutton-label-focus":e});function KNe(n,t){if(1&n){const e=ur();$e(0,"label",7),Hn("click",function(r){return mn(e),pn(He().select(r))}),$i(1),rt()}if(2&n){const e=He(),i=ua(3);jr(e.labelStyleClass),be("ngClass",Gp(6,qNe,i.checked,e.disabled,e.focused)),Qt("for",e.inputId)("data-pc-section","label"),Ie(),Oa(e.label)}}const WNe={provide:fa,useExisting:Ir(()=>XNe),multi:!0};let $Ne=(()=>{class n{accessors=[];add(e,i){this.accessors.push([e,i])}remove(e){this.accessors=this.accessors.filter(i=>i[1]!==e)}select(e){this.accessors.forEach(i=>{this.isSameGroup(i,e)&&i[1]!==e&&i[1].writeValue(e.value)})}isSameGroup(e,i){return!!e[0].control&&e[0].control.root===i.control.control.root&&e[1].name===i.name}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),XNe=(()=>{class n{cd;injector;registry;config;value;formControlName;name;disabled;label;variant="outlined";tabindex;inputId;ariaLabelledBy;ariaLabel;style;styleClass;labelStyleClass;autofocus;onClick=new ni;onFocus=new ni;onBlur=new ni;inputViewChild;onModelChange=()=>{};onModelTouched=()=>{};checked;focused;control;constructor(e,i,r,o){this.cd=e,this.injector=i,this.registry=r,this.config=o}ngOnInit(){this.control=this.injector.get(Kf),this.checkName(),this.registry.add(this.control,this)}handleClick(e,i,r){e.preventDefault(),!this.disabled&&(this.select(e),r&&i.focus())}select(e){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.registry.select(this),this.onClick.emit({originalEvent:e,value:this.value}))}writeValue(e){this.checked=e==this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onModelTouched(),this.onBlur.emit(e)}focus(){this.inputViewChild.nativeElement.focus()}ngOnDestroy(){this.registry.remove(this)}checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this.throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}throwNameError(){throw new Error('\n          If you define both a name and a formControlName attribute on your radio button, their values\n          must match. Ex: <p-radioButton formControlName="food" name="food"></p-radioButton>\n        ')}static \u0275fac=function(i){return new(i||n)(Re(qo),Re(ho),Re($Ne),Re(Wf))};static \u0275cmp=Ii({type:n,selectors:[["p-radioButton"]],viewQuery:function(i,r){if(1&i&&po(zNe,5),2&i){let o;Ti(o=Si())&&(r.inputViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",formControlName:"formControlName",name:"name",disabled:[2,"disabled","disabled",xn],label:"label",variant:"variant",tabindex:[2,"tabindex","tabindex",Eo],inputId:"inputId",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",autofocus:[2,"autofocus","autofocus",xn]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[Vr([WNe]),ao],decls:7,vars:31,consts:[["input",""],[3,"click","ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","radio","pAutoFocus","",3,"focus","blur","checked","disabled","value","autofocus"],[3,"ngClass"],[1,"p-radiobutton-icon"],[3,"class","ngClass","click",4,"ngIf"],[3,"click","ngClass"]],template:function(i,r){if(1&i){const o=ur();$e(0,"div",1),Hn("click",function(c){mn(o);const u=ua(3);return pn(r.handleClick(c,u,!0))}),$e(1,"div",2)(2,"input",3,0),Hn("focus",function(c){return mn(o),pn(r.onInputFocus(c))})("blur",function(c){return mn(o),pn(r.onInputBlur(c))}),rt()(),$e(4,"div",4),Pn(5,"span",5),rt()(),Kt(6,KNe,2,10,"label",6)}2&i&&(jr(r.styleClass),be("ngStyle",r.style)("ngClass",W0(22,GNe,r.checked,r.disabled,r.focused,"filled"===r.variant||"filled"===r.config.inputStyle())),Qt("data-pc-name","radiobutton")("data-pc-section","root"),Ie(),Qt("data-pc-section","hiddenInputWrapper"),Ie(),be("checked",r.checked)("disabled",r.disabled)("value",r.value)("autofocus",r.autofocus),Qt("id",r.inputId)("name",r.name)("aria-labelledby",r.ariaLabelledBy)("aria-label",r.ariaLabel)("tabindex",r.tabindex)("aria-checked",r.checked)("data-pc-section","hiddenInput"),Ie(2),be("ngClass",Gp(27,HNe,r.checked,r.disabled,r.focused)),Qt("data-pc-section","input"),Ie(),Qt("data-pc-section","icon"),Ie(),be("ngIf",r.label))},dependencies:[Gl,xl,Su,Gm],encapsulation:2,changeDetection:0})}return n})(),YNe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=bi({type:n});static \u0275inj=di({imports:[Gs,Xg]})}return n})(),_3e=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=bi({type:n});static \u0275inj=di({imports:[Gs,TT,dl,Yg,MF,DF,RF,TT,dl,MF]})}return n})();const v3e=(n,t,e)=>({$implicit:n,events:t,index:e});function y3e(n,t){if(1&n){const e=ur();lo(0),$e(1,"input",2),Hn("input",function(r){mn(e);const o=He().$implicit;return pn(He().onInput(r,o-1))})("focus",function(r){return mn(e),pn(He(2).onInputFocus(r))})("blur",function(r){return mn(e),pn(He(2).onInputBlur(r))})("paste",function(r){return mn(e),pn(He(2).onPaste(r))})("keydown",function(r){return mn(e),pn(He(2).onKeyDown(r))}),rt(),co()}if(2&n){const e=He().$implicit,i=He();Ie(),be("value",i.getModelValue(e))("maxLength",1)("type",i.inputType)("inputmode",i.inputMode)("variant",i.variant)("readonly",i.readonly)("disabled",i.disabled)("invalid",i.invalid)("tabindex",i.tabindex)("unstyled",i.unstyled)("autofocus",i.getAutofocus(e))}}function b3e(n,t){1&n&&rs(0)}function w3e(n,t){if(1&n&&(lo(0),Kt(1,b3e,1,0,"ng-container",3),co()),2&n){const e=He().$implicit,i=He();Ie(),be("ngTemplateOutlet",i.inputTemplate)("ngTemplateOutletContext",Gp(2,v3e,i.getToken(e-1),i.getTemplateEvents(e-1),e))}}function x3e(n,t){if(1&n&&(lo(0),Kt(1,y3e,2,11,"ng-container",1)(2,w3e,2,6,"ng-container",1),co()),2&n){const e=He();Ie(),be("ngIf",!e.inputTemplate),Ie(),be("ngIf",e.inputTemplate)}}const E3e={provide:fa,useExisting:Ir(()=>C3e),multi:!0};let C3e=(()=>{class n{cd;invalid=!1;disabled=!1;readonly=!1;variant="outlined";tabindex=null;length=4;mask=!1;integerOnly=!1;autofocus;onChange=new ni;onFocus=new ni;onBlur=new ni;templates;inputTemplate;tokens=[];onModelChange=()=>{};onModelTouched=()=>{};value;get inputMode(){return this.integerOnly?"numeric":"text"}get inputType(){return this.mask?"password":"text"}constructor(e){this.cd=e}ngAfterContentInit(){this.templates.forEach(e=>{e.getType(),this.inputTemplate=e.template})}getToken(e){return this.tokens[e]}getTemplateEvents(e){return{input:i=>this.onInput(i,e),keydown:i=>this.onKeyDown(i),focus:i=>this.onFocus.emit(i),blur:i=>this.onBlur.emit(i),paste:i=>this.onPaste(i)}}onInput(e,i){this.tokens[i]=e.target.value,this.updateModel(e),"deleteContentBackward"===e.inputType?this.moveToPrev(e):("insertText"===e.inputType||"deleteContentForward"===e.inputType)&&this.moveToNext(e)}updateModel(e){const i=this.tokens.join("");this.onModelChange(i),this.onChange.emit({originalEvent:e,value:i})}writeValue(e){this.value=e?Array.isArray(e)&&e.length>0?e.slice(0,this.length):e.toString().split("").slice(0,this.length):e,this.updateTokens(),this.cd.markForCheck()}updateTokens(){this.tokens=null!=this.value?Array.isArray(this.value)?[...this.value]:this.value.toString().split(""):[]}getModelValue(e){return this.tokens[e-1]||""}getAutofocus(e){return 1===e&&this.autofocus}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}moveToPrev(e){let i=this.findPrevInput(e.target);i&&(i.focus(),i.select())}moveToNext(e){let i=this.findNextInput(e.target);i&&(i.focus(),i.select())}findNextInput(e){let i=e.nextElementSibling;if(i)return"INPUT"===i.nodeName?i:this.findNextInput(i)}findPrevInput(e){let i=e.previousElementSibling;if(i)return"INPUT"===i.nodeName?i:this.findPrevInput(i)}onInputFocus(e){e.target.select(),this.onFocus.emit(e)}onInputBlur(e){this.onBlur.emit(e)}onKeyDown(e){if(!(e.altKey||e.ctrlKey||e.metaKey))switch(e.key){case"ArrowLeft":this.moveToPrev(e),e.preventDefault();break;case"ArrowUp":case"ArrowDown":e.preventDefault();break;case"Backspace":0===e.target.value.length&&(this.moveToPrev(e),e.preventDefault());break;case"ArrowRight":this.moveToNext(e),e.preventDefault();break;default:(this.integerOnly&&!((e.code.startsWith("Digit")||e.code.startsWith("Numpad"))&&Number(e.key)>=0&&Number(e.key)<=9)||this.tokens.join("").length>=this.length&&"Delete"!==e.code)&&e.preventDefault()}}onPaste(e){if(!this.disabled&&!this.readonly){let i=e.clipboardData.getData("text");if(i.length){let r=i.substring(0,this.length+1);(!this.integerOnly||!isNaN(r))&&(this.tokens=r.split(""),this.updateModel(e))}e.preventDefault()}}getRange(e){return Array.from({length:e},(i,r)=>r+1)}trackByFn(e){return e}static \u0275fac=function(i){return new(i||n)(Re(qo))};static \u0275cmp=Ii({type:n,selectors:[["p-inputOtp"]],contentQueries:function(i,r,o){if(1&i&&jo(o,sd,4),2&i){let s;Ti(s=Si())&&(r.templates=s)}},hostAttrs:[1,"p-inputotp","p-component"],inputs:{invalid:"invalid",disabled:"disabled",readonly:"readonly",variant:"variant",tabindex:"tabindex",length:"length",mask:"mask",integerOnly:"integerOnly",autofocus:[2,"autofocus","autofocus",xn]},outputs:{onChange:"onChange",onFocus:"onFocus",onBlur:"onBlur"},features:[Vr([E3e]),ao],decls:1,vars:2,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["type","text","pInputText","","pAutoFocus","",1,"p-inputotp-input",3,"input","focus","blur","paste","keydown","value","maxLength","type","inputmode","variant","readonly","disabled","invalid","tabindex","unstyled","autofocus"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){1&i&&Kt(0,x3e,3,2,"ng-container",0),2&i&&be("ngForOf",r.getRange(r.length))("ngForTrackBy",r.trackByFn)},dependencies:[Qf,xl,ku,zT,Gm],encapsulation:2,changeDetection:0})}return n})(),I3e=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=bi({type:n});static \u0275inj=di({imports:[Gs,dl,l7,Xg,dl]})}return n})();const Q1=new pr(Pr),S3e={connector:()=>new $};function hee(n,t=S3e){const{connector:e}=t;return Qe((i,r)=>{const o=e();iu(n(function T3e(n){return new pr(t=>n.subscribe(t))}(o))).subscribe(r),r.add(i.subscribe(o))})}function pee(n,t){return t?e=>ib(t.pipe(El(1),function R3e(){return Qe((n,t)=>{n.subscribe(ge(t,Pr))})}()),e.pipe(pee(n))):ru((e,i)=>iu(n(e,i)).pipe(El(1),tj(e)))}const MC="Service workers are disabled or not supported by this browser";class kD{constructor(t){if(this.serviceWorker=t,t){const i=Wb(t,"controllerchange").pipe(We(()=>t.controller)),o=ib(rb(()=>Xi(t.controller)),i);this.worker=o.pipe(Ia(w=>!!w)),this.registration=this.worker.pipe(pa(()=>t.getRegistration()));const g=Wb(t,"message").pipe(We(w=>w.data)).pipe(Ia(w=>w&&w.type)).pipe(function D3e(n){return n?t=>hee(n)(t):t=>function k3e(n,t){const e=An(n)?n:()=>n;return An(t)?hee(t,{connector:e}):i=>new XB(i,e)}(new $)(t)}());g.connect(),this.events=g}else this.worker=this.events=this.registration=function B3e(n){return rb(()=>ob(new Error(n)))}(MC)}postMessage(t,e){return this.worker.pipe(El(1),Hl(i=>{i.postMessage({action:t,...e})})).toPromise().then(()=>{})}postMessageWithOperation(t,e,i){const r=this.waitForOperationCompleted(i),o=this.postMessage(t,e);return Promise.all([o,r]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(t){let e;return e="string"==typeof t?i=>i.type===t:i=>t.includes(i.type),this.events.pipe(Ia(e))}nextEventOfType(t){return this.eventsOfType(t).pipe(El(1))}waitForOperationCompleted(t){return this.eventsOfType("OPERATION_COMPLETED").pipe(Ia(e=>e.nonce===t),El(1),We(e=>{if(void 0!==e.result)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let fee=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,this.pushManager=null,this.subscriptionChanges=new $,!e.isEnabled)return this.messages=Q1,this.notificationClicks=Q1,void(this.subscription=Q1);this.messages=this.sw.eventsOfType("PUSH").pipe(We(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(We(r=>r.data)),this.pushManager=this.sw.registration.pipe(We(r=>r.pushManager));const i=this.pushManager.pipe(pa(r=>r.getSubscription()));this.subscription=Yf(i,this.subscriptionChanges)}requestSubscription(e){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(MC));const i={userVisibleOnly:!0};let r=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(r.length));for(let s=0;s<r.length;s++)o[s]=r.charCodeAt(s);return i.applicationServerKey=o,this.pushManager.pipe(pa(s=>s.subscribe(i)),El(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(El(1),pa(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(MC))}decodeBase64(e){return atob(e)}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(kD))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac})}return n})(),Aee=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,!e.isEnabled)return this.versionUpdates=Q1,void(this.unrecoverable=Q1);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(MC));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(MC));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static#e=this.\u0275fac=function(i){return new(i||n)(Ct(kD))};static#t=this.\u0275prov=Nn({token:n,factory:n.\u0275fac})}return n})();const mee=new Wt("");function P3e(n,t,e,i){return()=>{if(!Du(i)||!("serviceWorker"in navigator)||!1===e.enabled)return;const r=n.get(Ri),o=n.get(Ah);let s;if(r.runOutsideAngular(()=>{const c=navigator.serviceWorker,u=()=>c.controller?.postMessage({action:"INITIALIZE"});c.addEventListener("controllerchange",u),o.onDestroy(()=>{c.removeEventListener("controllerchange",u)})}),"function"==typeof e.registrationStrategy)s=e.registrationStrategy();else{const[c,...u]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(c){case"registerImmediately":s=Xi(null);break;case"registerWithDelay":s=gee(+u[0]||0);break;case"registerWhenStable":s=u[0]?Yf(_ee(n),gee(+u[0])):_ee(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}r.runOutsideAngular(()=>s.pipe(El(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:e.scope}).catch(c=>console.error("Service worker registration failed with:",c))))}}function gee(n){return Xi(null).pipe(function M3e(n,t=Qv){const e=mK(n,t);return pee(()=>e)}(n))}function _ee(n){return n.get(Ah).isStable.pipe(Ia(e=>e))}function O3e(n,t){return new kD(Du(t)&&!1!==n.enabled?navigator.serviceWorker:void 0)}class x3{}function F3e(n,t={}){return Nh([fee,Aee,{provide:mee,useValue:n},{provide:x3,useValue:t},{provide:kD,useFactory:O3e,deps:[x3,Pa]},{provide:k2,useFactory:P3e,deps:[ho,mee,x3,Pa],multi:!0}])}let L3e=(()=>{class n{static register(e,i={}){return{ngModule:n,providers:[F3e(e,i)]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=bi({type:n});static#n=this.\u0275inj=di({providers:[fee,Aee]})}return n})(),N3e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=bi({type:n,bootstrap:[LTe]});static#n=this.\u0275inj=di({providers:[{provide:zg,useClass:$Q},qP,Y1e(Z1e())],imports:[O9,BTe,Ike,Fke,Hke,tDe,dDe,jDe,GDe,Lme,Nme,pK,LIe,wIe,BMe,QMe,D_e.initializeApp(HH_firebaseConfig),mLe,g2e,_Le,SLe,Whe,W2e,l7,u7,qbe,qLe,A1e,xwe,i4e,Bwe,jNe,UIe,i_e,ATe,Kwe,rxe,e2e,lxe,YNe,qxe,_3e,I3e,s_e,c_e,L3e.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]})}return n})();hr(511),Uhe().bootstrapModule(N3e).catch(n=>console.error(n))},911:cu=>{self,cu.exports=function(){var ea=[,function(j,Q,v){"use strict";var O=v(2),V=v(5),A=v(3),L=v(15),P=v(14),N=v(19).f,W=v(32),Y=A.Symbol;if(V&&"function"==typeof Y&&(!("description"in Y.prototype)||void 0!==Y().description)){var G={},ne=function(){var we=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),Ze=this instanceof ne?new Y(we):void 0===we?Y():Y(we);return""===we&&(G[Ze]=!0),Ze};W(ne,Y);var Z=ne.prototype=Y.prototype;Z.constructor=ne;var se=Z.toString,fe="Symbol(test)"==String(Y("test")),me=/^Symbol\((.*)\)[^)]+$/;N(Z,"description",{configurable:!0,get:function(){var we=P(this)?this.valueOf():this,Ze=se.call(we);if(L(G,we))return"";var ot=fe?Ze.slice(7,-1):Ze.replace(me,"$1");return""===ot?void 0:ot}}),O({global:!0,forced:!0},{Symbol:ne})}},function(j,Q,v){var O=v(3),V=v(4).f,A=v(18),L=v(21),P=v(22),N=v(32),W=v(44);j.exports=function(Y,G){var ne,Z,se,fe,me,we=Y.target,Ze=Y.global,ot=Y.stat;if(ne=Ze?O:ot?O[we]||P(we,{}):(O[we]||{}).prototype)for(Z in G){if(fe=G[Z],se=Y.noTargetGet?(me=V(ne,Z))&&me.value:ne[Z],!W(Ze?Z:we+(ot?".":"#")+Z,Y.forced)&&void 0!==se){if(typeof fe==typeof se)continue;N(fe,se)}(Y.sham||se&&se.sham)&&A(fe,"sham",!0),L(ne,Z,fe,Y)}}},function(j,Q,v){var O=function(V){return V&&V.Math==Math&&V};j.exports=O("object"==typeof globalThis&&globalThis)||O("object"==typeof window&&window)||O("object"==typeof self&&self)||O("object"==typeof v.g&&v.g)||Function("return this")()},function(j,Q,v){var O=v(5),V=v(7),A=v(8),L=v(9),P=v(13),N=v(15),W=v(16),Y=Object.getOwnPropertyDescriptor;Q.f=O?Y:function(G,ne){if(G=L(G),ne=P(ne,!0),W)try{return Y(G,ne)}catch{}if(N(G,ne))return A(!V.f.call(G,ne),G[ne])}},function(j,Q,v){var O=v(6);j.exports=!O(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(j){j.exports=function(Q){try{return!!Q()}catch{return!0}}},function(j,Q){"use strict";var v={}.propertyIsEnumerable,O=Object.getOwnPropertyDescriptor,V=O&&!v.call({1:2},1);Q.f=V?function(A){var L=O(this,A);return!!L&&L.enumerable}:v},function(j){j.exports=function(Q,v){return{enumerable:!(1&Q),configurable:!(2&Q),writable:!(4&Q),value:v}}},function(j,Q,v){var O=v(10),V=v(12);j.exports=function(A){return O(V(A))}},function(j,Q,v){var O=v(6),V=v(11),A="".split;j.exports=O(function(){return!Object("z").propertyIsEnumerable(0)})?function(L){return"String"==V(L)?A.call(L,""):Object(L)}:Object},function(j){var Q={}.toString;j.exports=function(v){return Q.call(v).slice(8,-1)}},function(j){j.exports=function(Q){if(null==Q)throw TypeError("Can't call method on "+Q);return Q}},function(j,Q,v){var O=v(14);j.exports=function(V,A){if(!O(V))return V;var L,P;if(A&&"function"==typeof(L=V.toString)&&!O(P=L.call(V))||"function"==typeof(L=V.valueOf)&&!O(P=L.call(V))||!A&&"function"==typeof(L=V.toString)&&!O(P=L.call(V)))return P;throw TypeError("Can't convert object to primitive value")}},function(j){j.exports=function(Q){return"object"==typeof Q?null!==Q:"function"==typeof Q}},function(j){var Q={}.hasOwnProperty;j.exports=function(v,O){return Q.call(v,O)}},function(j,Q,v){var O=v(5),V=v(6),A=v(17);j.exports=!O&&!V(function(){return 7!=Object.defineProperty(A("div"),"a",{get:function(){return 7}}).a})},function(j,Q,v){var O=v(3),V=v(14),A=O.document,L=V(A)&&V(A.createElement);j.exports=function(P){return L?A.createElement(P):{}}},function(j,Q,v){var O=v(5),V=v(19),A=v(8);j.exports=O?function(L,P,N){return V.f(L,P,A(1,N))}:function(L,P,N){return L[P]=N,L}},function(j,Q,v){var O=v(5),V=v(16),A=v(20),L=v(13),P=Object.defineProperty;Q.f=O?P:function(N,W,Y){if(A(N),W=L(W,!0),A(Y),V)try{return P(N,W,Y)}catch{}if("get"in Y||"set"in Y)throw TypeError("Accessors not supported");return"value"in Y&&(N[W]=Y.value),N}},function(j,Q,v){var O=v(14);j.exports=function(V){if(!O(V))throw TypeError(String(V)+" is not an object");return V}},function(j,Q,v){var O=v(3),V=v(18),A=v(15),L=v(22),P=v(23),N=v(25),W=N.get,Y=N.enforce,G=String(String).split("String");(j.exports=function(ne,Z,se,fe){var me=!!fe&&!!fe.unsafe,we=!!fe&&!!fe.enumerable,Ze=!!fe&&!!fe.noTargetGet;"function"==typeof se&&("string"!=typeof Z||A(se,"name")||V(se,"name",Z),Y(se).source=G.join("string"==typeof Z?Z:"")),ne!==O?(me?!Ze&&ne[Z]&&(we=!0):delete ne[Z],we?ne[Z]=se:V(ne,Z,se)):we?ne[Z]=se:L(Z,se)})(Function.prototype,"toString",function(){return"function"==typeof this&&W(this).source||P(this)})},function(j,Q,v){var O=v(3),V=v(18);j.exports=function(A,L){try{V(O,A,L)}catch{O[A]=L}return L}},function(j,Q,v){var O=v(24),V=Function.toString;"function"!=typeof O.inspectSource&&(O.inspectSource=function(A){return V.call(A)}),j.exports=O.inspectSource},function(j,Q,v){var O=v(3),V=v(22),A="__core-js_shared__",L=O[A]||V(A,{});j.exports=L},function(j,Q,v){var O,V,A,L=v(26),P=v(3),N=v(14),W=v(18),Y=v(15),G=v(27),ne=v(31);if(L){var se=new(0,P.WeakMap),fe=se.get,me=se.has,we=se.set;O=function(ot,wt){return we.call(se,ot,wt),wt},V=function(ot){return fe.call(se,ot)||{}},A=function(ot){return me.call(se,ot)}}else{var Ze=G("state");ne[Ze]=!0,O=function(ot,wt){return W(ot,Ze,wt),wt},V=function(ot){return Y(ot,Ze)?ot[Ze]:{}},A=function(ot){return Y(ot,Ze)}}j.exports={set:O,get:V,has:A,enforce:function(ot){return A(ot)?V(ot):O(ot,{})},getterFor:function(ot){return function(wt){var ht;if(!N(wt)||(ht=V(wt)).type!==ot)throw TypeError("Incompatible receiver, "+ot+" required");return ht}}}},function(j,Q,v){var O=v(3),V=v(23),A=O.WeakMap;j.exports="function"==typeof A&&/native code/.test(V(A))},function(j,Q,v){var O=v(28),V=v(30),A=O("keys");j.exports=function(L){return A[L]||(A[L]=V(L))}},function(j,Q,v){var O=v(29),V=v(24);(j.exports=function(A,L){return V[A]||(V[A]=void 0!==L?L:{})})("versions",[]).push({version:"3.6.2",mode:O?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},function(j){j.exports=!1},function(j){var Q=0,v=Math.random();j.exports=function(O){return"Symbol("+String(void 0===O?"":O)+")_"+(++Q+v).toString(36)}},function(j){j.exports={}},function(j,Q,v){var O=v(15),V=v(33),A=v(4),L=v(19);j.exports=function(P,N){for(var W=V(N),Y=L.f,G=A.f,ne=0;ne<W.length;ne++){var Z=W[ne];O(P,Z)||Y(P,Z,G(N,Z))}}},function(j,Q,v){var O=v(34),V=v(36),A=v(43),L=v(20);j.exports=O("Reflect","ownKeys")||function(P){var N=V.f(L(P)),W=A.f;return W?N.concat(W(P)):N}},function(j,Q,v){var O=v(35),V=v(3),A=function(L){return"function"==typeof L?L:void 0};j.exports=function(L,P){return arguments.length<2?A(O[L])||A(V[L]):O[L]&&O[L][P]||V[L]&&V[L][P]}},function(j,Q,v){var O=v(3);j.exports=O},function(j,Q,v){var O=v(37),V=v(42).concat("length","prototype");Q.f=Object.getOwnPropertyNames||function(A){return O(A,V)}},function(j,Q,v){var O=v(15),V=v(9),A=v(38).indexOf,L=v(31);j.exports=function(P,N){var W,Y=V(P),G=0,ne=[];for(W in Y)!O(L,W)&&O(Y,W)&&ne.push(W);for(;N.length>G;)O(Y,W=N[G++])&&(~A(ne,W)||ne.push(W));return ne}},function(j,Q,v){var O=v(9),V=v(39),A=v(41),L=function(P){return function(N,W,Y){var G,ne=O(N),Z=V(ne.length),se=A(Y,Z);if(P&&W!=W){for(;Z>se;)if((G=ne[se++])!=G)return!0}else for(;Z>se;se++)if((P||se in ne)&&ne[se]===W)return P||se||0;return!P&&-1}};j.exports={includes:L(!0),indexOf:L(!1)}},function(j,Q,v){var O=v(40),V=Math.min;j.exports=function(A){return A>0?V(O(A),9007199254740991):0}},function(j){var Q=Math.ceil,v=Math.floor;j.exports=function(O){return isNaN(O=+O)?0:(O>0?v:Q)(O)}},function(j,Q,v){var O=v(40),V=Math.max,A=Math.min;j.exports=function(L,P){var N=O(L);return N<0?V(N+P,0):A(N,P)}},function(j){j.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(j,Q){Q.f=Object.getOwnPropertySymbols},function(j,Q,v){var O=v(6),V=/#|\.prototype\./,A=function(Y,G){var ne=P[L(Y)];return ne==W||ne!=N&&("function"==typeof G?O(G):!!G)},L=A.normalize=function(Y){return String(Y).replace(V,".").toLowerCase()},P=A.data={},N=A.NATIVE="N",W=A.POLYFILL="P";j.exports=A},function(j,Q,v){v(46)("asyncIterator")},function(j,Q,v){var O=v(35),V=v(15),A=v(47),L=v(19).f;j.exports=function(P){var N=O.Symbol||(O.Symbol={});V(N,P)||L(N,P,{value:A.f(P)})}},function(j,Q,v){var O=v(48);Q.f=O},function(j,Q,v){var O=v(3),V=v(28),A=v(15),L=v(30),P=v(49),N=v(50),W=V("wks"),Y=O.Symbol,G=N?Y:Y&&Y.withoutSetter||L;j.exports=function(ne){return A(W,ne)||(W[ne]=P&&A(Y,ne)?Y[ne]:G("Symbol."+ne)),W[ne]}},function(j,Q,v){var O=v(6);j.exports=!!Object.getOwnPropertySymbols&&!O(function(){return!String(Symbol())})},function(j,Q,v){var O=v(49);j.exports=O&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(j,Q,v){v(46)("match")},function(j,Q,v){v(46)("replace")},function(j,Q,v){v(46)("search")},function(j,Q,v){v(46)("split")},function(j,Q,v){"use strict";var O=v(2),V=v(56),A=v(60),L=v(39),P=v(40),N=v(61);O({target:"Array",proto:!0},{flat:function(){var W=arguments.length?arguments[0]:void 0,Y=A(this),G=L(Y.length),ne=N(Y,0);return ne.length=V(ne,Y,Y,G,0,void 0===W?1:P(W)),ne}})},function(j,Q,v){"use strict";var O=v(57),V=v(39),A=v(58),L=function(P,N,W,Y,G,ne,Z,se){for(var fe,me=G,we=0,Ze=!!Z&&A(Z,se,3);we<Y;){if(we in W){if(fe=Ze?Ze(W[we],we,N):W[we],ne>0&&O(fe))me=L(P,N,fe,V(fe.length),me,ne-1)-1;else{if(me>=9007199254740991)throw TypeError("Exceed the acceptable array length");P[me]=fe}me++}we++}return me};j.exports=L},function(j,Q,v){var O=v(11);j.exports=Array.isArray||function(V){return"Array"==O(V)}},function(j,Q,v){var O=v(59);j.exports=function(V,A,L){if(O(V),void 0===A)return V;switch(L){case 0:return function(){return V.call(A)};case 1:return function(P){return V.call(A,P)};case 2:return function(P,N){return V.call(A,P,N)};case 3:return function(P,N,W){return V.call(A,P,N,W)}}return function(){return V.apply(A,arguments)}}},function(j){j.exports=function(Q){if("function"!=typeof Q)throw TypeError(String(Q)+" is not a function");return Q}},function(j,Q,v){var O=v(12);j.exports=function(V){return Object(O(V))}},function(j,Q,v){var O=v(14),V=v(57),A=v(48)("species");j.exports=function(L,P){var N;return V(L)&&("function"!=typeof(N=L.constructor)||N!==Array&&!V(N.prototype)?O(N)&&null===(N=N[A])&&(N=void 0):N=void 0),new(void 0===N?Array:N)(0===P?0:P)}},function(j,Q,v){"use strict";var O=v(2),V=v(56),A=v(60),L=v(39),P=v(59),N=v(61);O({target:"Array",proto:!0},{flatMap:function(W){var Y,G=A(this),ne=L(G.length);return P(W),(Y=N(G,0)).length=V(Y,G,G,ne,0,1,W,arguments.length>1?arguments[1]:void 0),Y}})},function(j,Q,v){"use strict";var O=v(2),V=v(64).left,A=v(65),L=v(66),P=A("reduce"),N=L("reduce",{1:0});O({target:"Array",proto:!0,forced:!P||!N},{reduce:function(W){return V(this,W,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(j,Q,v){var O=v(59),V=v(60),A=v(10),L=v(39),P=function(N){return function(W,Y,G,ne){O(Y);var Z=V(W),se=A(Z),fe=L(Z.length),me=N?fe-1:0,we=N?-1:1;if(G<2)for(;;){if(me in se){ne=se[me],me+=we;break}if(me+=we,N?me<0:fe<=me)throw TypeError("Reduce of empty array with no initial value")}for(;N?me>=0:fe>me;me+=we)me in se&&(ne=Y(ne,se[me],me,Z));return ne}};j.exports={left:P(!1),right:P(!0)}},function(j,Q,v){"use strict";var O=v(6);j.exports=function(V,A){var L=[][V];return!!L&&O(function(){L.call(null,A||function(){throw 1},1)})}},function(j,Q,v){var O=v(5),V=v(6),A=v(15),L=Object.defineProperty,P=function(N){throw N};j.exports=function(N,W){W||(W={});var Y=[][N],G=!!A(W,"ACCESSORS")&&W.ACCESSORS,ne=A(W,0)?W[0]:P,Z=A(W,1)?W[1]:void 0;return!!Y&&!V(function(){if(G&&!O)return!0;var se={length:-1},fe=function(me){G?L(se,me,{enumerable:!0,get:P}):se[me]=1};fe(1),fe(2147483646),fe(4294967294),Y.call(se,ne,Z)})}},function(j,Q,v){"use strict";var O=v(2),V=v(64).right,A=v(65),L=v(66),P=A("reduceRight"),N=L("reduceRight",{1:0});O({target:"Array",proto:!0,forced:!P||!N},{reduceRight:function(W){return V(this,W,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(j,Q,v){"use strict";var O=v(2),V=v(57),A=[].reverse,L=[1,2];O({target:"Array",proto:!0,forced:String(L)===String(L.reverse())},{reverse:function(){return V(this)&&(this.length=this.length),A.call(this)}})},function(j,Q,v){v(70)("flat")},function(j,Q,v){var O=v(48),V=v(71),A=v(19),L=O("unscopables"),P=Array.prototype;null==P[L]&&A.f(P,L,{configurable:!0,value:V(null)}),j.exports=function(N){P[L][N]=!0}},function(j,Q,v){var O,V=v(20),A=v(72),L=v(42),P=v(31),N=v(74),W=v(17),G=v(27)("IE_PROTO"),ne=function(){},Z=function(fe){return"<script>"+fe+"<\/script>"},se=function(){try{O=document.domain&&new ActiveXObject("htmlfile")}catch{}var fe,me;se=O?function(Ze){Ze.write(Z("")),Ze.close();var ot=Ze.parentWindow.Object;return Ze=null,ot}(O):((me=W("iframe")).style.display="none",N.appendChild(me),me.src="javascript:",(fe=me.contentWindow.document).open(),fe.write(Z("document.F=Object")),fe.close(),fe.F);for(var we=L.length;we--;)delete se.prototype[L[we]];return se()};P[G]=!0,j.exports=Object.create||function(fe,me){var we;return null!==fe?(ne.prototype=V(fe),we=new ne,ne.prototype=null,we[G]=fe):we=se(),void 0===me?we:A(we,me)}},function(j,Q,v){var O=v(5),V=v(19),A=v(20),L=v(73);j.exports=O?Object.defineProperties:function(P,N){A(P);for(var W,Y=L(N),G=Y.length,ne=0;G>ne;)V.f(P,W=Y[ne++],N[W]);return P}},function(j,Q,v){var O=v(37),V=v(42);j.exports=Object.keys||function(A){return O(A,V)}},function(j,Q,v){var O=v(34);j.exports=O("document","documentElement")},function(j,Q,v){v(70)("flatMap")},function(j,Q,v){"use strict";var O=v(2),V=v(6),A=v(77),L=v(20),P=v(41),N=v(39),W=v(89),Y=A.ArrayBuffer,G=A.DataView,ne=Y.prototype.slice;O({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:V(function(){return!new Y(2).slice(1,void 0).byteLength})},{slice:function(Z,se){if(void 0!==ne&&void 0===se)return ne.call(L(this),Z);for(var fe=L(this).byteLength,me=P(Z,fe),we=P(void 0===se?fe:se,fe),Ze=new(W(this,Y))(N(we-me)),ot=new G(this),wt=new G(Ze),ht=0;me<we;)wt.setUint8(ht++,ot.getUint8(me++));return Ze}})},function(j,Q,v){"use strict";var O=v(3),V=v(5),A=v(78),L=v(18),P=v(79),N=v(6),W=v(80),Y=v(40),G=v(39),ne=v(81),Z=v(82),se=v(83),fe=v(85),me=v(36).f,we=v(19).f,Ze=v(87),ot=v(88),wt=v(25),ht=wt.get,pt=wt.set,mt="ArrayBuffer",vt="DataView",Je="Wrong index",st=O.ArrayBuffer,Fe=st,ze=O.DataView,Dt=ze&&ze.prototype,jt=Object.prototype,Tt=O.RangeError,yn=Z.pack,Le=Z.unpack,gt=function(Gt){return[255&Gt]},St=function(Gt){return[255&Gt,Gt>>8&255]},Et=function(Gt){return[255&Gt,Gt>>8&255,Gt>>16&255,Gt>>24&255]},bn=function(Gt){return Gt[3]<<24|Gt[2]<<16|Gt[1]<<8|Gt[0]},on=function(Gt){return yn(Gt,23,4)},On=function(Gt){return yn(Gt,52,8)},ki=function(Gt,Zt){we(Gt.prototype,Zt,{get:function(){return ht(this)[Zt]}})},Ui=function(Gt,Zt,fi,Bi){var gi=ne(fi),Di=ht(Gt);if(gi+Zt>Di.byteLength)throw Tt(Je);var nr=ht(Di.buffer).bytes,Ao=gi+Di.byteOffset,Pr=nr.slice(Ao,Ao+Zt);return Bi?Pr:Pr.reverse()},Wn=function(Gt,Zt,fi,Bi,gi,Di){var nr=ne(fi),Ao=ht(Gt);if(nr+Zt>Ao.byteLength)throw Tt(Je);for(var Pr=ht(Ao.buffer).bytes,Qr=nr+Ao.byteOffset,zi=Bi(+gi),Qn=0;Qn<Zt;Qn++)Pr[Qr+Qn]=zi[Di?Qn:Zt-Qn-1]};if(A){if(!N(function(){st(1)})||!N(function(){new st(-1)})||N(function(){return new st,new st(1.5),new st(NaN),st.name!=mt})){for(var ei,Xn=(Fe=function(Gt){return W(this,Fe),new st(ne(Gt))}).prototype=st.prototype,qn=me(st),An=0;qn.length>An;)(ei=qn[An++])in Fe||L(Fe,ei,st[ei]);Xn.constructor=Fe}fe&&se(Dt)!==jt&&fe(Dt,jt);var Jn=new ze(new Fe(2)),kn=Dt.setInt8;Jn.setInt8(0,2147483648),Jn.setInt8(1,2147483649),!Jn.getInt8(0)&&Jn.getInt8(1)||P(Dt,{setInt8:function(Gt,Zt){kn.call(this,Gt,Zt<<24>>24)},setUint8:function(Gt,Zt){kn.call(this,Gt,Zt<<24>>24)}},{unsafe:!0})}else Fe=function(Gt){W(this,Fe,mt);var Zt=ne(Gt);pt(this,{bytes:Ze.call(new Array(Zt),0),byteLength:Zt}),V||(this.byteLength=Zt)},ze=function(Gt,Zt,fi){W(this,ze,vt),W(Gt,Fe,vt);var Bi=ht(Gt).byteLength,gi=Y(Zt);if(gi<0||gi>Bi)throw Tt("Wrong offset");if(gi+(fi=void 0===fi?Bi-gi:G(fi))>Bi)throw Tt("Wrong length");pt(this,{buffer:Gt,byteLength:fi,byteOffset:gi}),V||(this.buffer=Gt,this.byteLength=fi,this.byteOffset=gi)},V&&(ki(Fe,"byteLength"),ki(ze,"buffer"),ki(ze,"byteLength"),ki(ze,"byteOffset")),P(ze.prototype,{getInt8:function(Gt){return Ui(this,1,Gt)[0]<<24>>24},getUint8:function(Gt){return Ui(this,1,Gt)[0]},getInt16:function(Gt){var Zt=Ui(this,2,Gt,arguments.length>1?arguments[1]:void 0);return(Zt[1]<<8|Zt[0])<<16>>16},getUint16:function(Gt){var Zt=Ui(this,2,Gt,arguments.length>1?arguments[1]:void 0);return Zt[1]<<8|Zt[0]},getInt32:function(Gt){return bn(Ui(this,4,Gt,arguments.length>1?arguments[1]:void 0))},getUint32:function(Gt){return bn(Ui(this,4,Gt,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(Gt){return Le(Ui(this,4,Gt,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(Gt){return Le(Ui(this,8,Gt,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(Gt,Zt){Wn(this,1,Gt,gt,Zt)},setUint8:function(Gt,Zt){Wn(this,1,Gt,gt,Zt)},setInt16:function(Gt,Zt){Wn(this,2,Gt,St,Zt,arguments.length>2?arguments[2]:void 0)},setUint16:function(Gt,Zt){Wn(this,2,Gt,St,Zt,arguments.length>2?arguments[2]:void 0)},setInt32:function(Gt,Zt){Wn(this,4,Gt,Et,Zt,arguments.length>2?arguments[2]:void 0)},setUint32:function(Gt,Zt){Wn(this,4,Gt,Et,Zt,arguments.length>2?arguments[2]:void 0)},setFloat32:function(Gt,Zt){Wn(this,4,Gt,on,Zt,arguments.length>2?arguments[2]:void 0)},setFloat64:function(Gt,Zt){Wn(this,8,Gt,On,Zt,arguments.length>2?arguments[2]:void 0)}});ot(Fe,mt),ot(ze,vt),j.exports={ArrayBuffer:Fe,DataView:ze}},function(j){j.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},function(j,Q,v){var O=v(21);j.exports=function(V,A,L){for(var P in A)O(V,P,A[P],L);return V}},function(j){j.exports=function(Q,v,O){if(!(Q instanceof v))throw TypeError("Incorrect "+(O?O+" ":"")+"invocation");return Q}},function(j,Q,v){var O=v(40),V=v(39);j.exports=function(A){if(void 0===A)return 0;var L=O(A),P=V(L);if(L!==P)throw RangeError("Wrong length or index");return P}},function(j){var Q=1/0,v=Math.abs,O=Math.pow,V=Math.floor,A=Math.log,L=Math.LN2;j.exports={pack:function(P,N,W){var Y,G,ne,Z=new Array(W),se=8*W-N-1,fe=(1<<se)-1,me=fe>>1,we=23===N?O(2,-24)-O(2,-77):0,Ze=P<0||0===P&&1/P<0?1:0,ot=0;for((P=v(P))!=P||P===Q?(G=P!=P?1:0,Y=fe):(Y=V(A(P)/L),P*(ne=O(2,-Y))<1&&(Y--,ne*=2),(P+=Y+me>=1?we/ne:we*O(2,1-me))*ne>=2&&(Y++,ne/=2),Y+me>=fe?(G=0,Y=fe):Y+me>=1?(G=(P*ne-1)*O(2,N),Y+=me):(G=P*O(2,me-1)*O(2,N),Y=0));N>=8;Z[ot++]=255&G,G/=256,N-=8);for(Y=Y<<N|G,se+=N;se>0;Z[ot++]=255&Y,Y/=256,se-=8);return Z[--ot]|=128*Ze,Z},unpack:function(P,N){var W,Y=P.length,G=8*Y-N-1,ne=(1<<G)-1,Z=ne>>1,se=G-7,fe=Y-1,me=P[fe--],we=127&me;for(me>>=7;se>0;we=256*we+P[fe],fe--,se-=8);for(W=we&(1<<-se)-1,we>>=-se,se+=N;se>0;W=256*W+P[fe],fe--,se-=8);if(0===we)we=1-Z;else{if(we===ne)return W?NaN:me?-1/0:Q;W+=O(2,N),we-=Z}return(me?-1:1)*W*O(2,we-N)}}},function(j,Q,v){var O=v(15),V=v(60),A=v(27),L=v(84),P=A("IE_PROTO"),N=Object.prototype;j.exports=L?Object.getPrototypeOf:function(W){return W=V(W),O(W,P)?W[P]:"function"==typeof W.constructor&&W instanceof W.constructor?W.constructor.prototype:W instanceof Object?N:null}},function(j,Q,v){var O=v(6);j.exports=!O(function(){function V(){}return V.prototype.constructor=null,Object.getPrototypeOf(new V)!==V.prototype})},function(j,Q,v){var O=v(20),V=v(86);j.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var A,L=!1,P={};try{(A=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(P,[]),L=P instanceof Array}catch{}return function(N,W){return O(N),V(W),L?A.call(N,W):N.__proto__=W,N}}():void 0)},function(j,Q,v){var O=v(14);j.exports=function(V){if(!O(V)&&null!==V)throw TypeError("Can't set "+String(V)+" as a prototype");return V}},function(j,Q,v){"use strict";var O=v(60),V=v(41),A=v(39);j.exports=function(L){for(var P=O(this),N=A(P.length),W=arguments.length,Y=V(W>1?arguments[1]:void 0,N),G=W>2?arguments[2]:void 0,ne=void 0===G?N:V(G,N);ne>Y;)P[Y++]=L;return P}},function(j,Q,v){var O=v(19).f,V=v(15),A=v(48)("toStringTag");j.exports=function(L,P,N){L&&!V(L=N?L:L.prototype,A)&&O(L,A,{configurable:!0,value:P})}},function(j,Q,v){var O=v(20),V=v(59),A=v(48)("species");j.exports=function(L,P){var N,W=O(L).constructor;return void 0===W||null==(N=O(W)[A])?P:V(N)}},function(j,Q,v){var O=v(2),V=Math.hypot,A=Math.abs,L=Math.sqrt;O({target:"Math",stat:!0,forced:!!V&&V(1/0,NaN)!==1/0},{hypot:function(P,N){for(var W,Y,G=0,ne=0,Z=arguments.length,se=0;ne<Z;)se<(W=A(arguments[ne++]))?(G=G*(Y=se/W)*Y+1,se=W):G+=W>0?(Y=W/se)*Y:W;return se===1/0?1/0:se*L(G)}})},function(j,Q,v){"use strict";var O=v(2),V=v(40),A=v(92),L=v(93),P=v(6),N=1..toFixed,W=Math.floor,Y=function(G,ne,Z){return 0===ne?Z:ne%2==1?Y(G,ne-1,Z*G):Y(G*G,ne/2,Z)};O({target:"Number",proto:!0,forced:N&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!P(function(){N.call({})})},{toFixed:function(G){var ne,Z,se,fe,me=A(this),we=V(G),Ze=[0,0,0,0,0,0],ot="",wt="0",ht=function(vt,Je){for(var st=-1,Fe=Je;++st<6;)Ze[st]=(Fe+=vt*Ze[st])%1e7,Fe=W(Fe/1e7)},pt=function(vt){for(var Je=6,st=0;--Je>=0;)Ze[Je]=W((st+=Ze[Je])/vt),st=st%vt*1e7},mt=function(){for(var vt=6,Je="";--vt>=0;)if(""!==Je||0===vt||0!==Ze[vt]){var st=String(Ze[vt]);Je=""===Je?st:Je+L.call("0",7-st.length)+st}return Je};if(we<0||we>20)throw RangeError("Incorrect fraction digits");if(me!=me)return"NaN";if(me<=-1e21||me>=1e21)return String(me);if(me<0&&(ot="-",me=-me),me>1e-21)if(Z=(ne=function(vt){for(var Je=0,st=vt;st>=4096;)Je+=12,st/=4096;for(;st>=2;)Je+=1,st/=2;return Je}(me*Y(2,69,1))-69)<0?me*Y(2,-ne,1):me/Y(2,ne,1),Z*=4503599627370496,(ne=52-ne)>0){for(ht(0,Z),se=we;se>=7;)ht(1e7,0),se-=7;for(ht(Y(10,se,1),0),se=ne-1;se>=23;)pt(8388608),se-=23;pt(1<<se),ht(1,1),pt(2),wt=mt()}else ht(0,Z),ht(1<<-ne,0),wt=mt()+L.call("0",we);return we>0?ot+((fe=wt.length)<=we?"0."+L.call("0",we-fe)+wt:wt.slice(0,fe-we)+"."+wt.slice(fe-we)):ot+wt}})},function(j,Q,v){var O=v(11);j.exports=function(V){if("number"!=typeof V&&"Number"!=O(V))throw TypeError("Incorrect invocation");return+V}},function(j,Q,v){"use strict";var O=v(40),V=v(12);j.exports="".repeat||function(A){var L=String(V(this)),P="",N=O(A);if(N<0||N==1/0)throw RangeError("Wrong number of repetitions");for(;N>0;(N>>>=1)&&(L+=L))1&N&&(P+=L);return P}},function(j,Q,v){var O=v(2),V=v(95);O({target:"Object",stat:!0,forced:Object.assign!==V},{assign:V})},function(j,Q,v){"use strict";var O=v(5),V=v(6),A=v(73),L=v(43),P=v(7),N=v(60),W=v(10),Y=Object.assign,G=Object.defineProperty;j.exports=!Y||V(function(){if(O&&1!==Y({b:1},Y(G({},"a",{enumerable:!0,get:function(){G(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var ne={},Z={},se=Symbol(),fe="abcdefghijklmnopqrst";return ne[se]=7,fe.split("").forEach(function(me){Z[me]=me}),7!=Y({},ne)[se]||A(Y({},Z)).join("")!=fe})?function(ne,Z){for(var se=N(ne),fe=arguments.length,me=1,we=L.f,Ze=P.f;fe>me;)for(var ot,wt=W(arguments[me++]),ht=we?A(wt).concat(we(wt)):A(wt),pt=ht.length,mt=0;pt>mt;)ot=ht[mt++],O&&!Ze.call(wt,ot)||(se[ot]=wt[ot]);return se}:Y},function(j,Q,v){var O=v(2),V=v(97),A=v(104);O({target:"Object",stat:!0},{fromEntries:function(L){var P={};return V(L,function(N,W){A(P,N,W)},void 0,!0),P}})},function(j,Q,v){var O=v(20),V=v(98),A=v(39),L=v(58),P=v(100),N=v(103),W=function(Y,G){this.stopped=Y,this.result=G};(j.exports=function(Y,G,ne,Z,se){var fe,me,we,Ze,ot,wt,ht,pt=L(G,ne,Z?2:1);if(se)fe=Y;else{if("function"!=typeof(me=P(Y)))throw TypeError("Target is not iterable");if(V(me)){for(we=0,Ze=A(Y.length);Ze>we;we++)if((ot=Z?pt(O(ht=Y[we])[0],ht[1]):pt(Y[we]))&&ot instanceof W)return ot;return new W(!1)}fe=me.call(Y)}for(wt=fe.next;!(ht=wt.call(fe)).done;)if("object"==typeof(ot=N(fe,pt,ht.value,Z))&&ot&&ot instanceof W)return ot;return new W(!1)}).stop=function(Y){return new W(!0,Y)}},function(j,Q,v){var O=v(48),V=v(99),A=O("iterator"),L=Array.prototype;j.exports=function(P){return void 0!==P&&(V.Array===P||L[A]===P)}},function(j){j.exports={}},function(j,Q,v){var O=v(101),V=v(99),A=v(48)("iterator");j.exports=function(L){if(null!=L)return L[A]||L["@@iterator"]||V[O(L)]}},function(j,Q,v){var O=v(102),V=v(11),A=v(48)("toStringTag"),L="Arguments"==V(function(){return arguments}());j.exports=O?V:function(P){var N,W,Y;return void 0===P?"Undefined":null===P?"Null":"string"==typeof(W=function(G,ne){try{return G[ne]}catch{}}(N=Object(P),A))?W:L?V(N):"Object"==(Y=V(N))&&"function"==typeof N.callee?"Arguments":Y}},function(j,Q,v){var O={};O[v(48)("toStringTag")]="z",j.exports="[object z]"===String(O)},function(j,Q,v){var O=v(20);j.exports=function(V,A,L,P){try{return P?A(O(L)[0],L[1]):A(L)}catch(W){var N=V.return;throw void 0!==N&&O(N.call(V)),W}}},function(j,Q,v){"use strict";var O=v(13),V=v(19),A=v(8);j.exports=function(L,P,N){var W=O(P);W in L?V.f(L,W,A(0,N)):L[W]=N}},function(j,Q,v){"use strict";var O,V,A,L,P=v(2),N=v(29),W=v(3),Y=v(34),G=v(106),ne=v(21),Z=v(79),se=v(88),fe=v(107),me=v(14),we=v(59),Ze=v(80),ot=v(11),wt=v(23),ht=v(97),pt=v(108),mt=v(89),vt=v(109).set,Je=v(112),st=v(113),Fe=v(115),ze=v(114),Dt=v(116),jt=v(25),Tt=v(44),yn=v(48),Le=v(117),gt=yn("species"),St="Promise",Et=jt.get,bn=jt.set,on=jt.getterFor(St),On=G,ki=W.TypeError,Ui=W.document,Wn=W.process,ei=Y("fetch"),Xn=ze.f,qn=Xn,An="process"==ot(Wn),Jn=!!(Ui&&Ui.createEvent&&W.dispatchEvent),kn="unhandledrejection",Gt=Tt(St,function(){if(wt(On)===String(On)&&(66===Le||!An&&"function"!=typeof PromiseRejectionEvent)||N&&!On.prototype.finally)return!0;if(Le>=51&&/native code/.test(On))return!1;var Qn=On.resolve(1),jn=function(ai){ai(function(){},function(){})};return(Qn.constructor={})[gt]=jn,!(Qn.then(function(){})instanceof jn)}),Zt=Gt||!pt(function(Qn){On.all(Qn).catch(function(){})}),fi=function(Qn){var jn;return!(!me(Qn)||"function"!=typeof(jn=Qn.then))&&jn},Bi=function(Qn,jn,ai){if(!jn.notified){jn.notified=!0;var mi=jn.reactions;Je(function(){for(var wi=jn.value,sr=1==jn.state,gr=0;mi.length>gr;){var _r,Lr,Tr,mo=mi[gr++],Jr=sr?mo.ok:mo.fail,Io=mo.resolve,Wo=mo.reject,oo=mo.domain;try{Jr?(sr||(2===jn.rejection&&Ao(Qn,jn),jn.rejection=1),!0===Jr?_r=wi:(oo&&oo.enter(),_r=Jr(wi),oo&&(oo.exit(),Tr=!0)),_r===mo.promise?Wo(ki("Promise-chain cycle")):(Lr=fi(_r))?Lr.call(_r,Io,Wo):Io(_r)):Wo(wi)}catch(To){oo&&!Tr&&oo.exit(),Wo(To)}}jn.reactions=[],jn.notified=!1,ai&&!jn.rejection&&Di(Qn,jn)})}},gi=function(Qn,jn,ai){var mi,wi;Jn?((mi=Ui.createEvent("Event")).promise=jn,mi.reason=ai,mi.initEvent(Qn,!1,!0),W.dispatchEvent(mi)):mi={promise:jn,reason:ai},(wi=W["on"+Qn])?wi(mi):Qn===kn&&Fe("Unhandled promise rejection",ai)},Di=function(Qn,jn){vt.call(W,function(){var ai,mi=jn.value;if(nr(jn)&&(ai=Dt(function(){An?Wn.emit("unhandledRejection",mi,Qn):gi(kn,Qn,mi)}),jn.rejection=An||nr(jn)?2:1,ai.error))throw ai.value})},nr=function(Qn){return 1!==Qn.rejection&&!Qn.parent},Ao=function(Qn,jn){vt.call(W,function(){An?Wn.emit("rejectionHandled",Qn):gi("rejectionhandled",Qn,jn.value)})},Pr=function(Qn,jn,ai,mi){return function(wi){Qn(jn,ai,wi,mi)}},Qr=function(Qn,jn,ai,mi){jn.done||(jn.done=!0,mi&&(jn=mi),jn.value=ai,jn.state=2,Bi(Qn,jn,!0))},zi=function(Qn,jn,ai,mi){if(!jn.done){jn.done=!0,mi&&(jn=mi);try{if(Qn===ai)throw ki("Promise can't be resolved itself");var wi=fi(ai);wi?Je(function(){var sr={done:!1};try{wi.call(ai,Pr(zi,Qn,sr,jn),Pr(Qr,Qn,sr,jn))}catch(gr){Qr(Qn,sr,gr,jn)}}):(jn.value=ai,jn.state=1,Bi(Qn,jn,!1))}catch(sr){Qr(Qn,{done:!1},sr,jn)}}};Gt&&(On=function(Qn){Ze(this,On,St),we(Qn),O.call(this);var jn=Et(this);try{Qn(Pr(zi,this,jn),Pr(Qr,this,jn))}catch(ai){Qr(this,jn,ai)}},(O=function(Qn){bn(this,{type:St,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=Z(On.prototype,{then:function(Qn,jn){var ai=on(this),mi=Xn(mt(this,On));return mi.ok="function"!=typeof Qn||Qn,mi.fail="function"==typeof jn&&jn,mi.domain=An?Wn.domain:void 0,ai.parent=!0,ai.reactions.push(mi),0!=ai.state&&Bi(this,ai,!1),mi.promise},catch:function(Qn){return this.then(void 0,Qn)}}),V=function(){var Qn=new O,jn=Et(Qn);this.promise=Qn,this.resolve=Pr(zi,Qn,jn),this.reject=Pr(Qr,Qn,jn)},ze.f=Xn=function(Qn){return Qn===On||Qn===A?new V(Qn):qn(Qn)},N||"function"!=typeof G||(L=G.prototype.then,ne(G.prototype,"then",function(Qn,jn){var ai=this;return new On(function(mi,wi){L.call(ai,mi,wi)}).then(Qn,jn)},{unsafe:!0}),"function"==typeof ei&&P({global:!0,enumerable:!0,forced:!0},{fetch:function(Qn){return st(On,ei.apply(W,arguments))}}))),P({global:!0,wrap:!0,forced:Gt},{Promise:On}),se(On,St,!1,!0),fe(St),A=Y(St),P({target:St,stat:!0,forced:Gt},{reject:function(Qn){var jn=Xn(this);return jn.reject.call(void 0,Qn),jn.promise}}),P({target:St,stat:!0,forced:N||Gt},{resolve:function(Qn){return st(N&&this===A?On:this,Qn)}}),P({target:St,stat:!0,forced:Zt},{all:function(Qn){var jn=this,ai=Xn(jn),mi=ai.resolve,wi=ai.reject,sr=Dt(function(){var gr=we(jn.resolve),_r=[],Lr=0,Tr=1;ht(Qn,function(mo){var Jr=Lr++,Io=!1;_r.push(void 0),Tr++,gr.call(jn,mo).then(function(Wo){Io||(Io=!0,_r[Jr]=Wo,--Tr||mi(_r))},wi)}),--Tr||mi(_r)});return sr.error&&wi(sr.value),ai.promise},race:function(Qn){var jn=this,ai=Xn(jn),mi=ai.reject,wi=Dt(function(){var sr=we(jn.resolve);ht(Qn,function(gr){sr.call(jn,gr).then(ai.resolve,mi)})});return wi.error&&mi(wi.value),ai.promise}})},function(j,Q,v){var O=v(3);j.exports=O.Promise},function(j,Q,v){"use strict";var O=v(34),V=v(19),A=v(48),L=v(5),P=A("species");j.exports=function(N){var W=O(N);L&&W&&!W[P]&&(0,V.f)(W,P,{configurable:!0,get:function(){return this}})}},function(j,Q,v){var O=v(48)("iterator"),V=!1;try{var A=0,L={next:function(){return{done:!!A++}},return:function(){V=!0}};L[O]=function(){return this},Array.from(L,function(){throw 2})}catch{}j.exports=function(P,N){if(!N&&!V)return!1;var W=!1;try{var Y={};Y[O]=function(){return{next:function(){return{done:W=!0}}}},P(Y)}catch{}return W}},function(j,Q,v){var O,V,A,L=v(3),P=v(6),N=v(11),W=v(58),Y=v(74),G=v(17),ne=v(110),Z=L.location,se=L.setImmediate,fe=L.clearImmediate,me=L.process,we=L.MessageChannel,Ze=L.Dispatch,ot=0,wt={},pt=function(st){if(wt.hasOwnProperty(st)){var Fe=wt[st];delete wt[st],Fe()}},mt=function(st){return function(){pt(st)}},vt=function(st){pt(st.data)},Je=function(st){L.postMessage(st+"",Z.protocol+"//"+Z.host)};se&&fe||(se=function(st){for(var Fe=[],ze=1;arguments.length>ze;)Fe.push(arguments[ze++]);return wt[++ot]=function(){("function"==typeof st?st:Function(st)).apply(void 0,Fe)},O(ot),ot},fe=function(st){delete wt[st]},"process"==N(me)?O=function(st){me.nextTick(mt(st))}:Ze&&Ze.now?O=function(st){Ze.now(mt(st))}:we&&!ne?(A=(V=new we).port2,V.port1.onmessage=vt,O=W(A.postMessage,A,1)):!L.addEventListener||"function"!=typeof postMessage||L.importScripts||P(Je)?O="onreadystatechange"in G("script")?function(st){Y.appendChild(G("script")).onreadystatechange=function(){Y.removeChild(this),pt(st)}}:function(st){setTimeout(mt(st),0)}:(O=Je,L.addEventListener("message",vt,!1))),j.exports={set:se,clear:fe}},function(j,Q,v){var O=v(111);j.exports=/(iphone|ipod|ipad).*applewebkit/i.test(O)},function(j,Q,v){var O=v(34);j.exports=O("navigator","userAgent")||""},function(j,Q,v){var O,V,A,L,P,N,W,Y,G=v(3),ne=v(4).f,Z=v(11),se=v(109).set,fe=v(110),me=G.MutationObserver||G.WebKitMutationObserver,we=G.process,Ze=G.Promise,ot="process"==Z(we),wt=ne(G,"queueMicrotask"),ht=wt&&wt.value;ht||(O=function(){var pt,mt;for(ot&&(pt=we.domain)&&pt.exit();V;){mt=V.fn,V=V.next;try{mt()}catch(vt){throw V?L():A=void 0,vt}}A=void 0,pt&&pt.enter()},ot?L=function(){we.nextTick(O)}:me&&!fe?(P=!0,N=document.createTextNode(""),new me(O).observe(N,{characterData:!0}),L=function(){N.data=P=!P}):Ze&&Ze.resolve?(W=Ze.resolve(void 0),Y=W.then,L=function(){Y.call(W,O)}):L=function(){se.call(G,O)}),j.exports=ht||function(pt){var mt={fn:pt,next:void 0};A&&(A.next=mt),V||(V=mt,L()),A=mt}},function(j,Q,v){var O=v(20),V=v(14),A=v(114);j.exports=function(L,P){if(O(L),V(P)&&P.constructor===L)return P;var N=A.f(L);return(0,N.resolve)(P),N.promise}},function(j,Q,v){"use strict";var O=v(59),V=function(A){var L,P;this.promise=new A(function(N,W){if(void 0!==L||void 0!==P)throw TypeError("Bad Promise constructor");L=N,P=W}),this.resolve=O(L),this.reject=O(P)};j.exports.f=function(A){return new V(A)}},function(j,Q,v){var O=v(3);j.exports=function(V,A){var L=O.console;L&&L.error&&(1===arguments.length?L.error(V):L.error(V,A))}},function(j){j.exports=function(Q){try{return{error:!1,value:Q()}}catch(v){return{error:!0,value:v}}}},function(j,Q,v){var O,V,A=v(3),L=v(111),P=A.process,N=P&&P.versions,W=N&&N.v8;W?V=(O=W.split("."))[0]+O[1]:L&&(!(O=L.match(/Edge\/(\d+)/))||O[1]>=74)&&(O=L.match(/Chrome\/(\d+)/))&&(V=O[1]),j.exports=V&&+V},function(j,Q,v){"use strict";var O=v(2),V=v(29),A=v(106),L=v(6),P=v(34),N=v(89),W=v(113),Y=v(21);O({target:"Promise",proto:!0,real:!0,forced:!!A&&L(function(){A.prototype.finally.call({then:function(){}},function(){})})},{finally:function(G){var ne=N(this,P("Promise")),Z="function"==typeof G;return this.then(Z?function(se){return W(ne,G()).then(function(){return se})}:G,Z?function(se){return W(ne,G()).then(function(){throw se})}:G)}}),V||"function"!=typeof A||A.prototype.finally||Y(A.prototype,"finally",P("Promise").prototype.finally)},function(j,Q,v){var O=v(2),V=v(20),A=v(14),L=v(15),P=v(6),N=v(19),W=v(4),Y=v(83),G=v(8);O({target:"Reflect",stat:!0,forced:P(function(){var ne=N.f({},"a",{configurable:!0});return!1!==Reflect.set(Y(ne),"a",1,ne)})},{set:function ne(Z,se,fe){var me,we,Ze=arguments.length<4?Z:arguments[3],ot=W.f(V(Z),se);if(!ot){if(A(we=Y(Z)))return ne(we,se,fe,Ze);ot=G(0)}if(L(ot,"value")){if(!1===ot.writable||!A(Ze))return!1;if(me=W.f(Ze,se)){if(me.get||me.set||!1===me.writable)return!1;me.value=fe,N.f(Ze,se,me)}else N.f(Ze,se,G(0,fe));return!0}return void 0!==ot.set&&(ot.set.call(Ze,fe),!0)}})},function(j,Q,v){var O=v(5),V=v(3),A=v(44),L=v(121),P=v(19).f,N=v(36).f,W=v(122),Y=v(123),G=v(124),ne=v(21),Z=v(6),se=v(25).set,fe=v(107),me=v(48)("match"),we=V.RegExp,Ze=we.prototype,ot=/a/g,wt=/a/g,ht=new we(ot)!==ot,pt=G.UNSUPPORTED_Y;if(O&&A("RegExp",!ht||pt||Z(function(){return wt[me]=!1,we(ot)!=ot||we(wt)==wt||"/a/i"!=we(ot,"i")}))){for(var mt=function(Fe,ze){var Dt,jt=this instanceof mt,Tt=W(Fe),yn=void 0===ze;if(!jt&&Tt&&Fe.constructor===mt&&yn)return Fe;ht?Tt&&!yn&&(Fe=Fe.source):Fe instanceof mt&&(yn&&(ze=Y.call(Fe)),Fe=Fe.source),pt&&(Dt=!!ze&&ze.indexOf("y")>-1)&&(ze=ze.replace(/y/g,""));var Le=L(ht?new we(Fe,ze):we(Fe,ze),jt?this:Ze,mt);return pt&&Dt&&se(Le,{sticky:Dt}),Le},vt=function(Fe){Fe in mt||P(mt,Fe,{configurable:!0,get:function(){return we[Fe]},set:function(ze){we[Fe]=ze}})},Je=N(we),st=0;Je.length>st;)vt(Je[st++]);Ze.constructor=mt,mt.prototype=Ze,ne(V,"RegExp",mt)}fe("RegExp")},function(j,Q,v){var O=v(14),V=v(85);j.exports=function(A,L,P){var N,W;return V&&"function"==typeof(N=L.constructor)&&N!==P&&O(W=N.prototype)&&W!==P.prototype&&V(A,W),A}},function(j,Q,v){var O=v(14),V=v(11),A=v(48)("match");j.exports=function(L){var P;return O(L)&&(void 0!==(P=L[A])?!!P:"RegExp"==V(L))}},function(j,Q,v){"use strict";var O=v(20);j.exports=function(){var V=O(this),A="";return V.global&&(A+="g"),V.ignoreCase&&(A+="i"),V.multiline&&(A+="m"),V.dotAll&&(A+="s"),V.unicode&&(A+="u"),V.sticky&&(A+="y"),A}},function(j,Q,v){"use strict";var O=v(6);function V(A,L){return RegExp(A,L)}Q.UNSUPPORTED_Y=O(function(){var A=V("a","y");return A.lastIndex=2,null!=A.exec("abcd")}),Q.BROKEN_CARET=O(function(){var A=V("^r","gy");return A.lastIndex=2,null!=A.exec("str")})},function(j,Q,v){var O=v(5),V=v(19),A=v(123),L=v(124).UNSUPPORTED_Y;O&&("g"!=/./g.flags||L)&&V.f(RegExp.prototype,"flags",{configurable:!0,get:A})},function(j,Q,v){"use strict";var O=v(21),V=v(20),A=v(6),L=v(123),P="toString",N=RegExp.prototype,W=N.toString;(A(function(){return"/a/b"!=W.call({source:"a",flags:"b"})})||W.name!=P)&&O(RegExp.prototype,P,function(){var ne=V(this),Z=String(ne.source),se=ne.flags;return"/"+Z+"/"+String(void 0===se&&ne instanceof RegExp&&!("flags"in N)?L.call(ne):se)},{unsafe:!0})},function(j,Q,v){"use strict";var O,V=v(2),A=v(4).f,L=v(39),P=v(128),N=v(12),W=v(129),Y=v(29),G="".endsWith,ne=Math.min,Z=W("endsWith");V({target:"String",proto:!0,forced:!(!Y&&!Z&&(O=A(String.prototype,"endsWith"),O&&!O.writable)||Z)},{endsWith:function(se){var fe=String(N(this));P(se);var me=arguments.length>1?arguments[1]:void 0,we=L(fe.length),Ze=void 0===me?we:ne(L(me),we),ot=String(se);return G?G.call(fe,ot,Ze):fe.slice(Ze-ot.length,Ze)===ot}})},function(j,Q,v){var O=v(122);j.exports=function(V){if(O(V))throw TypeError("The method doesn't accept regular expressions");return V}},function(j,Q,v){var O=v(48)("match");j.exports=function(V){var A=/./;try{"/./"[V](A)}catch{try{return A[O]=!1,"/./"[V](A)}catch{}}return!1}},function(j,Q,v){"use strict";var O=v(2),V=v(128),A=v(12);O({target:"String",proto:!0,forced:!v(129)("includes")},{includes:function(L){return!!~String(A(this)).indexOf(V(L),arguments.length>1?arguments[1]:void 0)}})},function(j,Q,v){"use strict";var O=v(132),V=v(20),A=v(39),L=v(12),P=v(135),N=v(137);O("match",1,function(W,Y,G){return[function(ne){var Z=L(this),se=ne?.[W];return void 0!==se?se.call(ne,Z):new RegExp(ne)[W](String(Z))},function(ne){var Z=G(Y,ne,this);if(Z.done)return Z.value;var se=V(ne),fe=String(this);if(!se.global)return N(se,fe);var me=se.unicode;se.lastIndex=0;for(var we,Ze=[],ot=0;null!==(we=N(se,fe));){var wt=String(we[0]);Ze[ot]=wt,""===wt&&(se.lastIndex=P(fe,A(se.lastIndex),me)),ot++}return 0===ot?null:Ze}]})},function(j,Q,v){"use strict";v(133);var O=v(21),V=v(6),A=v(48),L=v(134),P=v(18),N=A("species"),W=!V(function(){var ne=/./;return ne.exec=function(){var Z=[];return Z.groups={a:"7"},Z},"7"!=="".replace(ne,"$<a>")}),Y="$0"==="a".replace(/./,"$0"),G=!V(function(){var ne=/(?:)/,Z=ne.exec;ne.exec=function(){return Z.apply(this,arguments)};var se="ab".split(ne);return 2!==se.length||"a"!==se[0]||"b"!==se[1]});j.exports=function(ne,Z,se,fe){var me=A(ne),we=!V(function(){var mt={};return mt[me]=function(){return 7},7!=""[ne](mt)}),Ze=we&&!V(function(){var mt=!1,vt=/a/;return"split"===ne&&((vt={}).constructor={},vt.constructor[N]=function(){return vt},vt.flags="",vt[me]=/./[me]),vt.exec=function(){return mt=!0,null},vt[me](""),!mt});if(!we||!Ze||"replace"===ne&&(!W||!Y)||"split"===ne&&!G){var ot=/./[me],wt=se(me,""[ne],function(mt,vt,Je,st,Fe){return vt.exec===L?we&&!Fe?{done:!0,value:ot.call(vt,Je,st)}:{done:!0,value:mt.call(Je,vt,st)}:{done:!1}},{REPLACE_KEEPS_$0:Y}),pt=wt[1];O(String.prototype,ne,wt[0]),O(RegExp.prototype,me,2==Z?function(mt,vt){return pt.call(mt,this,vt)}:function(mt){return pt.call(mt,this)})}fe&&P(RegExp.prototype[me],"sham",!0)}},function(j,Q,v){"use strict";var O=v(2),V=v(134);O({target:"RegExp",proto:!0,forced:/./.exec!==V},{exec:V})},function(j,Q,v){"use strict";var O,V,A=v(123),L=v(124),P=RegExp.prototype.exec,N=String.prototype.replace,W=P,Y=(V=/b*/g,P.call(O=/a/,"a"),P.call(V,"a"),0!==O.lastIndex||0!==V.lastIndex),G=L.UNSUPPORTED_Y||L.BROKEN_CARET,ne=void 0!==/()??/.exec("")[1];(Y||ne||G)&&(W=function(Z){var se,fe,me,we,Ze=this,ot=G&&Ze.sticky,wt=A.call(Ze),ht=Ze.source,pt=0,mt=Z;return ot&&(-1===(wt=wt.replace("y","")).indexOf("g")&&(wt+="g"),mt=String(Z).slice(Ze.lastIndex),Ze.lastIndex>0&&(!Ze.multiline||Ze.multiline&&"\n"!==Z[Ze.lastIndex-1])&&(ht="(?: "+ht+")",mt=" "+mt,pt++),fe=new RegExp("^(?:"+ht+")",wt)),ne&&(fe=new RegExp("^"+ht+"$(?!\\s)",wt)),Y&&(se=Ze.lastIndex),me=P.call(ot?fe:Ze,mt),ot?me?(me.input=me.input.slice(pt),me[0]=me[0].slice(pt),me.index=Ze.lastIndex,Ze.lastIndex+=me[0].length):Ze.lastIndex=0:Y&&me&&(Ze.lastIndex=Ze.global?me.index+me[0].length:se),ne&&me&&me.length>1&&N.call(me[0],fe,function(){for(we=1;we<arguments.length-2;we++)void 0===arguments[we]&&(me[we]=void 0)}),me}),j.exports=W},function(j,Q,v){"use strict";var O=v(136).charAt;j.exports=function(V,A,L){return A+(L?O(V,A).length:1)}},function(j,Q,v){var O=v(40),V=v(12),A=function(L){return function(P,N){var W,Y,G=String(V(P)),ne=O(N),Z=G.length;return ne<0||ne>=Z?L?"":void 0:(W=G.charCodeAt(ne))<55296||W>56319||ne+1===Z||(Y=G.charCodeAt(ne+1))<56320||Y>57343?L?G.charAt(ne):W:L?G.slice(ne,ne+2):Y-56320+(W-55296<<10)+65536}};j.exports={codeAt:A(!1),charAt:A(!0)}},function(j,Q,v){var O=v(11),V=v(134);j.exports=function(A,L){var P=A.exec;if("function"==typeof P){var N=P.call(A,L);if("object"!=typeof N)throw TypeError("RegExp exec method returned something other than an Object or null");return N}if("RegExp"!==O(A))throw TypeError("RegExp#exec called on incompatible receiver");return V.call(A,L)}},function(j,Q,v){"use strict";var O=v(132),V=v(20),A=v(60),L=v(39),P=v(40),N=v(12),W=v(135),Y=v(137),G=Math.max,ne=Math.min,Z=Math.floor,se=/\$([$&'`]|\d\d?|<[^>]*>)/g,fe=/\$([$&'`]|\d\d?)/g;O("replace",2,function(me,we,Ze,ot){return[function(ht,pt){var mt=N(this),vt=ht?.[me];return void 0!==vt?vt.call(ht,mt,pt):we.call(String(mt),ht,pt)},function(ht,pt){if(ot.REPLACE_KEEPS_$0||"string"==typeof pt&&-1===pt.indexOf("$0")){var mt=Ze(we,ht,this,pt);if(mt.done)return mt.value}var vt=V(ht),Je=String(this),st="function"==typeof pt;st||(pt=String(pt));var Fe=vt.global;if(Fe){var ze=vt.unicode;vt.lastIndex=0}for(var Dt=[];;){var jt=Y(vt,Je);if(null===jt||(Dt.push(jt),!Fe))break;""===String(jt[0])&&(vt.lastIndex=W(Je,L(vt.lastIndex),ze))}for(var Tt,yn="",Le=0,gt=0;gt<Dt.length;gt++){jt=Dt[gt];for(var St=String(jt[0]),Et=G(ne(P(jt.index),Je.length),0),bn=[],on=1;on<jt.length;on++)bn.push(void 0===(Tt=jt[on])?Tt:String(Tt));var On=jt.groups;if(st){var ki=[St].concat(bn,Et,Je);void 0!==On&&ki.push(On);var Ui=String(pt.apply(void 0,ki))}else Ui=wt(St,Je,Et,bn,On,pt);Et>=Le&&(yn+=Je.slice(Le,Et)+Ui,Le=Et+St.length)}return yn+Je.slice(Le)}];function wt(ht,pt,mt,vt,Je,st){var Fe=mt+ht.length,ze=vt.length,Dt=fe;return void 0!==Je&&(Je=A(Je),Dt=se),we.call(st,Dt,function(jt,Tt){var yn;switch(Tt.charAt(0)){case"$":return"$";case"&":return ht;case"`":return pt.slice(0,mt);case"'":return pt.slice(Fe);case"<":yn=Je[Tt.slice(1,-1)];break;default:var Le=+Tt;if(0===Le)return jt;if(Le>ze){var gt=Z(Le/10);return 0===gt?jt:gt<=ze?void 0===vt[gt-1]?Tt.charAt(1):vt[gt-1]+Tt.charAt(1):jt}yn=vt[Le-1]}return void 0===yn?"":yn})}})},function(j,Q,v){"use strict";var O=v(132),V=v(20),A=v(12),L=v(140),P=v(137);O("search",1,function(N,W,Y){return[function(G){var ne=A(this),Z=G?.[N];return void 0!==Z?Z.call(G,ne):new RegExp(G)[N](String(ne))},function(G){var ne=Y(W,G,this);if(ne.done)return ne.value;var Z=V(G),se=String(this),fe=Z.lastIndex;L(fe,0)||(Z.lastIndex=0);var me=P(Z,se);return L(Z.lastIndex,fe)||(Z.lastIndex=fe),null===me?-1:me.index}]})},function(j){j.exports=Object.is||function(Q,v){return Q===v?0!==Q||1/Q==1/v:Q!=Q&&v!=v}},function(j,Q,v){"use strict";var O=v(132),V=v(122),A=v(20),L=v(12),P=v(89),N=v(135),W=v(39),Y=v(137),G=v(134),ne=v(6),Z=[].push,se=Math.min,fe=4294967295,me=!ne(function(){return!RegExp(fe,"y")});O("split",2,function(we,Ze,ot){var wt;return wt="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(ht,pt){var mt=String(L(this)),vt=void 0===pt?fe:pt>>>0;if(0===vt)return[];if(void 0===ht)return[mt];if(!V(ht))return Ze.call(mt,ht,vt);for(var Je,st,Fe,ze=[],jt=0,Tt=new RegExp(ht.source,(ht.ignoreCase?"i":"")+(ht.multiline?"m":"")+(ht.unicode?"u":"")+(ht.sticky?"y":"")+"g");(Je=G.call(Tt,mt))&&!((st=Tt.lastIndex)>jt&&(ze.push(mt.slice(jt,Je.index)),Je.length>1&&Je.index<mt.length&&Z.apply(ze,Je.slice(1)),Fe=Je[0].length,jt=st,ze.length>=vt));)Tt.lastIndex===Je.index&&Tt.lastIndex++;return jt===mt.length?!Fe&&Tt.test("")||ze.push(""):ze.push(mt.slice(jt)),ze.length>vt?ze.slice(0,vt):ze}:"0".split(void 0,0).length?function(ht,pt){return void 0===ht&&0===pt?[]:Ze.call(this,ht,pt)}:Ze,[function(ht,pt){var mt=L(this),vt=ht?.[we];return void 0!==vt?vt.call(ht,mt,pt):wt.call(String(mt),ht,pt)},function(ht,pt){var mt=ot(wt,ht,this,pt,wt!==Ze);if(mt.done)return mt.value;var vt=A(ht),Je=String(this),st=P(vt,RegExp),Fe=vt.unicode,Dt=new st(me?vt:"^(?:"+vt.source+")",(vt.ignoreCase?"i":"")+(vt.multiline?"m":"")+(vt.unicode?"u":"")+(me?"y":"g")),jt=void 0===pt?fe:pt>>>0;if(0===jt)return[];if(0===Je.length)return null===Y(Dt,Je)?[Je]:[];for(var Tt=0,yn=0,Le=[];yn<Je.length;){Dt.lastIndex=me?yn:0;var gt,St=Y(Dt,me?Je:Je.slice(yn));if(null===St||(gt=se(W(Dt.lastIndex+(me?0:yn)),Je.length))===Tt)yn=N(Je,yn,Fe);else{if(Le.push(Je.slice(Tt,yn)),Le.length===jt)return Le;for(var Et=1;Et<=St.length-1;Et++)if(Le.push(St[Et]),Le.length===jt)return Le;yn=Tt=gt}}return Le.push(Je.slice(Tt)),Le}]},!me)},function(j,Q,v){"use strict";var O,V=v(2),A=v(4).f,L=v(39),P=v(128),N=v(12),W=v(129),Y=v(29),G="".startsWith,ne=Math.min,Z=W("startsWith");V({target:"String",proto:!0,forced:!(!Y&&!Z&&(O=A(String.prototype,"startsWith"),O&&!O.writable)||Z)},{startsWith:function(se){var fe=String(N(this));P(se);var me=L(ne(arguments.length>1?arguments[1]:void 0,fe.length)),we=String(se);return G?G.call(fe,we,me):fe.slice(me,me+we.length)===we}})},function(j,Q,v){"use strict";var O=v(2),V=v(144).trim;O({target:"String",proto:!0,forced:v(146)("trim")},{trim:function(){return V(this)}})},function(j,Q,v){var O=v(12),V="["+v(145)+"]",A=RegExp("^"+V+V+"*"),L=RegExp(V+V+"*$"),P=function(N){return function(W){var Y=String(O(W));return 1&N&&(Y=Y.replace(A,"")),2&N&&(Y=Y.replace(L,"")),Y}};j.exports={start:P(1),end:P(2),trim:P(3)}},function(j){j.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(j,Q,v){var O=v(6),V=v(145);j.exports=function(A){return O(function(){return!!V[A]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[A]()||V[A].name!==A})}},function(j,Q,v){"use strict";var O=v(2),V=v(144).end,A=v(146)("trimEnd"),L=A?function(){return V(this)}:"".trimEnd;O({target:"String",proto:!0,forced:A},{trimEnd:L,trimRight:L})},function(j,Q,v){"use strict";var O=v(2),V=v(144).start,A=v(146)("trimStart"),L=A?function(){return V(this)}:"".trimStart;O({target:"String",proto:!0,forced:A},{trimStart:L,trimLeft:L})},function(j,Q,v){v(150)("Float32",function(O){return function(V,A,L){return O(this,V,A,L)}})},function(j,Q,v){"use strict";var O=v(2),V=v(3),A=v(5),L=v(151),P=v(152),N=v(77),W=v(80),Y=v(8),G=v(18),ne=v(39),Z=v(81),se=v(153),fe=v(13),me=v(15),we=v(101),Ze=v(14),ot=v(71),wt=v(85),ht=v(36).f,pt=v(155),mt=v(156).forEach,vt=v(107),Je=v(19),st=v(4),Fe=v(25),ze=v(121),Dt=Fe.get,jt=Fe.set,Tt=Je.f,yn=st.f,Le=Math.round,gt=V.RangeError,St=N.ArrayBuffer,Et=N.DataView,bn=P.NATIVE_ARRAY_BUFFER_VIEWS,on=P.TYPED_ARRAY_TAG,On=P.TypedArray,ki=P.TypedArrayPrototype,Ui=P.aTypedArrayConstructor,Wn=P.isTypedArray,ei="BYTES_PER_ELEMENT",Xn="Wrong length",qn=function(fi,Bi){for(var gi=0,Di=Bi.length,nr=new(Ui(fi))(Di);Di>gi;)nr[gi]=Bi[gi++];return nr},An=function(fi,Bi){Tt(fi,Bi,{get:function(){return Dt(this)[Bi]}})},Jn=function(fi){var Bi;return fi instanceof St||"ArrayBuffer"==(Bi=we(fi))||"SharedArrayBuffer"==Bi},kn=function(fi,Bi){return Wn(fi)&&"symbol"!=typeof Bi&&Bi in fi&&String(+Bi)==String(Bi)},Gt=function(fi,Bi){return kn(fi,Bi=fe(Bi,!0))?Y(2,fi[Bi]):yn(fi,Bi)},Zt=function(fi,Bi,gi){return!(kn(fi,Bi=fe(Bi,!0))&&Ze(gi)&&me(gi,"value"))||me(gi,"get")||me(gi,"set")||gi.configurable||me(gi,"writable")&&!gi.writable||me(gi,"enumerable")&&!gi.enumerable?Tt(fi,Bi,gi):(fi[Bi]=gi.value,fi)};A?(bn||(st.f=Gt,Je.f=Zt,An(ki,"buffer"),An(ki,"byteOffset"),An(ki,"byteLength"),An(ki,"length")),O({target:"Object",stat:!0,forced:!bn},{getOwnPropertyDescriptor:Gt,defineProperty:Zt}),j.exports=function(fi,Bi,gi){var Di=fi.match(/\d+$/)[0]/8,nr=fi+(gi?"Clamped":"")+"Array",Ao="get"+fi,Pr="set"+fi,Qr=V[nr],zi=Qr,Qn=zi&&zi.prototype,jn={},ai=function(mi,wi){Tt(mi,wi,{get:function(){return gr=wi,(_r=Dt(this)).view[Ao](gr*Di+_r.byteOffset,!0);var gr,_r},set:function(sr){return _r=wi,Lr=sr,Tr=Dt(this),gi&&(Lr=(Lr=Le(Lr))<0?0:Lr>255?255:255&Lr),void Tr.view[Pr](_r*Di+Tr.byteOffset,Lr,!0);var _r,Lr,Tr},enumerable:!0})};bn?L&&(zi=Bi(function(mi,wi,sr,gr){return W(mi,zi,nr),ze(Ze(wi)?Jn(wi)?void 0!==gr?new Qr(wi,se(sr,Di),gr):void 0!==sr?new Qr(wi,se(sr,Di)):new Qr(wi):Wn(wi)?qn(zi,wi):pt.call(zi,wi):new Qr(Z(wi)),mi,zi)}),wt&&wt(zi,On),mt(ht(Qr),function(mi){mi in zi||G(zi,mi,Qr[mi])}),zi.prototype=Qn):(zi=Bi(function(mi,wi,sr,gr){W(mi,zi,nr);var _r,Lr,Tr,mo=0,Jr=0;if(Ze(wi)){if(!Jn(wi))return Wn(wi)?qn(zi,wi):pt.call(zi,wi);_r=wi,Jr=se(sr,Di);var Io=wi.byteLength;if(void 0===gr){if(Io%Di||(Lr=Io-Jr)<0)throw gt(Xn)}else if((Lr=ne(gr)*Di)+Jr>Io)throw gt(Xn);Tr=Lr/Di}else Tr=Z(wi),_r=new St(Lr=Tr*Di);for(jt(mi,{buffer:_r,byteOffset:Jr,byteLength:Lr,length:Tr,view:new Et(_r)});mo<Tr;)ai(mi,mo++)}),wt&&wt(zi,On),Qn=zi.prototype=ot(ki)),Qn.constructor!==zi&&G(Qn,"constructor",zi),on&&G(Qn,on,nr),jn[nr]=zi,O({global:!0,forced:zi!=Qr,sham:!bn},jn),ei in zi||G(zi,ei,Di),ei in Qn||G(Qn,ei,Di),vt(nr)}):j.exports=function(){}},function(j,Q,v){var O=v(3),V=v(6),A=v(108),L=v(152).NATIVE_ARRAY_BUFFER_VIEWS,P=O.ArrayBuffer,N=O.Int8Array;j.exports=!L||!V(function(){N(1)})||!V(function(){new N(-1)})||!A(function(W){new N,new N(null),new N(1.5),new N(W)},!0)||V(function(){return 1!==new N(new P(2),1,void 0).length})},function(j,Q,v){"use strict";var O,V=v(78),A=v(5),L=v(3),P=v(14),N=v(15),W=v(101),Y=v(18),G=v(21),ne=v(19).f,Z=v(83),se=v(85),fe=v(48),me=v(30),we=L.Int8Array,Ze=we&&we.prototype,ot=L.Uint8ClampedArray,wt=ot&&ot.prototype,ht=we&&Z(we),pt=Ze&&Z(Ze),mt=Object.prototype,vt=mt.isPrototypeOf,Je=fe("toStringTag"),st=me("TYPED_ARRAY_TAG"),Fe=V&&!!se&&"Opera"!==W(L.opera),ze=!1,Dt={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},jt=function(Tt){return P(Tt)&&N(Dt,W(Tt))};for(O in Dt)L[O]||(Fe=!1);if((!Fe||"function"!=typeof ht||ht===Function.prototype)&&(ht=function(){throw TypeError("Incorrect invocation")},Fe))for(O in Dt)L[O]&&se(L[O],ht);if((!Fe||!pt||pt===mt)&&(pt=ht.prototype,Fe))for(O in Dt)L[O]&&se(L[O].prototype,pt);if(Fe&&Z(wt)!==pt&&se(wt,pt),A&&!N(pt,Je))for(O in ze=!0,ne(pt,Je,{get:function(){return P(this)?this[st]:void 0}}),Dt)L[O]&&Y(L[O],st,O);j.exports={NATIVE_ARRAY_BUFFER_VIEWS:Fe,TYPED_ARRAY_TAG:ze&&st,aTypedArray:function(Tt){if(jt(Tt))return Tt;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(Tt){if(se){if(vt.call(ht,Tt))return Tt}else for(var yn in Dt)if(N(Dt,O)){var Le=L[yn];if(Le&&(Tt===Le||vt.call(Le,Tt)))return Tt}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(Tt,yn,Le){if(A){if(Le)for(var gt in Dt){var St=L[gt];St&&N(St.prototype,Tt)&&delete St.prototype[Tt]}pt[Tt]&&!Le||G(pt,Tt,Le?yn:Fe&&Ze[Tt]||yn)}},exportTypedArrayStaticMethod:function(Tt,yn,Le){var gt,St;if(A){if(se){if(Le)for(gt in Dt)(St=L[gt])&&N(St,Tt)&&delete St[Tt];if(ht[Tt]&&!Le)return;try{return G(ht,Tt,Le?yn:Fe&&we[Tt]||yn)}catch{}}for(gt in Dt)!(St=L[gt])||St[Tt]&&!Le||G(St,Tt,yn)}},isView:function(Tt){var yn=W(Tt);return"DataView"===yn||N(Dt,yn)},isTypedArray:jt,TypedArray:ht,TypedArrayPrototype:pt}},function(j,Q,v){var O=v(154);j.exports=function(V,A){var L=O(V);if(L%A)throw RangeError("Wrong offset");return L}},function(j,Q,v){var O=v(40);j.exports=function(V){var A=O(V);if(A<0)throw RangeError("The argument can't be less than 0");return A}},function(j,Q,v){var O=v(60),V=v(39),A=v(100),L=v(98),P=v(58),N=v(152).aTypedArrayConstructor;j.exports=function(W){var Y,G,ne,Z,se,fe,me=O(W),we=arguments.length,Ze=we>1?arguments[1]:void 0,ot=void 0!==Ze,wt=A(me);if(null!=wt&&!L(wt))for(fe=(se=wt.call(me)).next,me=[];!(Z=fe.call(se)).done;)me.push(Z.value);for(ot&&we>2&&(Ze=P(Ze,arguments[2],2)),G=V(me.length),ne=new(N(this))(G),Y=0;G>Y;Y++)ne[Y]=ot?Ze(me[Y],Y):me[Y];return ne}},function(j,Q,v){var O=v(58),V=v(10),A=v(60),L=v(39),P=v(61),N=[].push,W=function(Y){var G=1==Y,ne=2==Y,Z=3==Y,se=4==Y,fe=6==Y,me=5==Y||fe;return function(we,Ze,ot,wt){for(var ht,pt,mt=A(we),vt=V(mt),Je=O(Ze,ot,3),st=L(vt.length),Fe=0,ze=wt||P,Dt=G?ze(we,st):ne?ze(we,0):void 0;st>Fe;Fe++)if((me||Fe in vt)&&(pt=Je(ht=vt[Fe],Fe,mt),Y))if(G)Dt[Fe]=pt;else if(pt)switch(Y){case 3:return!0;case 5:return ht;case 6:return Fe;case 2:N.call(Dt,ht)}else if(se)return!1;return fe?-1:Z||se?se:Dt}};j.exports={forEach:W(0),map:W(1),filter:W(2),some:W(3),every:W(4),find:W(5),findIndex:W(6)}},function(j,Q,v){v(150)("Float64",function(O){return function(V,A,L){return O(this,V,A,L)}})},function(j,Q,v){v(150)("Int8",function(O){return function(V,A,L){return O(this,V,A,L)}})},function(j,Q,v){v(150)("Int16",function(O){return function(V,A,L){return O(this,V,A,L)}})},function(j,Q,v){v(150)("Int32",function(O){return function(V,A,L){return O(this,V,A,L)}})},function(j,Q,v){v(150)("Uint8",function(O){return function(V,A,L){return O(this,V,A,L)}})},function(j,Q,v){v(150)("Uint8",function(O){return function(V,A,L){return O(this,V,A,L)}},!0)},function(j,Q,v){v(150)("Uint16",function(O){return function(V,A,L){return O(this,V,A,L)}})},function(j,Q,v){v(150)("Uint32",function(O){return function(V,A,L){return O(this,V,A,L)}})},function(j,Q,v){"use strict";var O=v(151);(0,v(152).exportTypedArrayStaticMethod)("from",v(155),O)},function(j,Q,v){"use strict";var O=v(152),V=v(151),A=O.aTypedArrayConstructor;(0,O.exportTypedArrayStaticMethod)("of",function(){for(var L=0,P=arguments.length,N=new(A(this))(P);P>L;)N[L]=arguments[L++];return N},V)},function(j,Q,v){"use strict";var O=v(3),V=v(152),A=v(6),L=O.Int8Array,P=V.aTypedArray,N=V.exportTypedArrayMethod,W=[].toLocaleString,Y=[].slice,G=!!L&&A(function(){W.call(new L(1))});N("toLocaleString",function(){return W.apply(G?Y.call(P(this)):P(this),arguments)},A(function(){return[1,2].toLocaleString()!=new L([1,2]).toLocaleString()})||!A(function(){L.prototype.toLocaleString.call([1,2])}))},function(j,Q,v){"use strict";var O=v(2),V=v(5),A=v(83),L=v(85),P=v(71),N=v(19),W=v(8),Y=v(97),G=v(18),ne=v(25),Z=ne.set,se=ne.getterFor("AggregateError"),fe=function(me,we){var Ze=this;if(!(Ze instanceof fe))return new fe(me,we);L&&(Ze=L(new Error(we),A(Ze)));var ot=[];return Y(me,ot.push,ot),V?Z(Ze,{errors:ot,type:"AggregateError"}):Ze.errors=ot,void 0!==we&&G(Ze,"message",String(we)),Ze};fe.prototype=P(Error.prototype,{constructor:W(5,fe),message:W(5,""),name:W(5,"AggregateError")}),V&&N.f(fe.prototype,"errors",{get:function(){return se(this).errors},configurable:!0}),O({global:!0},{AggregateError:fe})},function(j,Q,v){"use strict";var O=v(5),V=v(70),A=v(60),L=v(39),P=v(19).f;O&&!("lastIndex"in[])&&(P(Array.prototype,"lastIndex",{configurable:!0,get:function(){var N=A(this),W=L(N.length);return 0==W?0:W-1}}),V("lastIndex"))},function(j,Q,v){"use strict";var O=v(5),V=v(70),A=v(60),L=v(39),P=v(19).f;O&&!("lastItem"in[])&&(P(Array.prototype,"lastItem",{configurable:!0,get:function(){var N=A(this),W=L(N.length);return 0==W?void 0:N[W-1]},set:function(N){var W=A(this),Y=L(W.length);return W[0==Y?0:Y-1]=N}}),V("lastItem"))},function(j,Q,v){var O=v(2),V=v(172),A=v(34),L=v(71),P=function(){var N=A("Object","freeze");return N?N(L(null)):L(null)};O({global:!0},{compositeKey:function(){return V.apply(Object,arguments).get("object",P)}})},function(j,Q,v){var O=v(173),V=v(181),A=v(71),L=v(14),P=function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=A(null)};P.prototype.get=function(W,Y){return this[W]||(this[W]=Y())},P.prototype.next=function(W,Y,G){var ne=G?this.objectsByIndex[W]||(this.objectsByIndex[W]=new V):this.primitives||(this.primitives=new O),Z=ne.get(Y);return Z||ne.set(Y,Z=new P),Z};var N=new P;j.exports=function(){var W,Y,G=N,ne=arguments.length;for(W=0;W<ne;W++)L(Y=arguments[W])&&(G=G.next(W,Y,!0));if(this===Object&&G===N)throw TypeError("Composite keys must contain a non-primitive component");for(W=0;W<ne;W++)L(Y=arguments[W])||(G=G.next(W,Y,!1));return G}},function(j,Q,v){"use strict";var O=v(174),V=v(177);j.exports=O("Map",function(A){return function(){return A(this,arguments.length?arguments[0]:void 0)}},V)},function(j,Q,v){"use strict";var O=v(2),V=v(3),A=v(44),L=v(21),P=v(175),N=v(97),W=v(80),Y=v(14),G=v(6),ne=v(108),Z=v(88),se=v(121);j.exports=function(fe,me,we){var Ze=-1!==fe.indexOf("Map"),ot=-1!==fe.indexOf("Weak"),wt=Ze?"set":"add",ht=V[fe],pt=ht&&ht.prototype,mt=ht,vt={},Je=function(Tt){var yn=pt[Tt];L(pt,Tt,"add"==Tt?function(Le){return yn.call(this,0===Le?0:Le),this}:"delete"==Tt?function(Le){return!(ot&&!Y(Le))&&yn.call(this,0===Le?0:Le)}:"get"==Tt?function(Le){return ot&&!Y(Le)?void 0:yn.call(this,0===Le?0:Le)}:"has"==Tt?function(Le){return!(ot&&!Y(Le))&&yn.call(this,0===Le?0:Le)}:function(Le,gt){return yn.call(this,0===Le?0:Le,gt),this})};if(A(fe,"function"!=typeof ht||!(ot||pt.forEach&&!G(function(){(new ht).entries().next()}))))mt=we.getConstructor(me,fe,Ze,wt),P.REQUIRED=!0;else if(A(fe,!0)){var st=new mt,Fe=st[wt](ot?{}:-0,1)!=st,ze=G(function(){st.has(1)}),Dt=ne(function(Tt){new ht(Tt)}),jt=!ot&&G(function(){for(var Tt=new ht,yn=5;yn--;)Tt[wt](yn,yn);return!Tt.has(-0)});Dt||((mt=me(function(Tt,yn){W(Tt,mt,fe);var Le=se(new ht,Tt,mt);return null!=yn&&N(yn,Le[wt],Le,Ze),Le})).prototype=pt,pt.constructor=mt),(ze||jt)&&(Je("delete"),Je("has"),Ze&&Je("get")),(jt||Fe)&&Je(wt),ot&&pt.clear&&delete pt.clear}return vt[fe]=mt,O({global:!0,forced:mt!=ht},vt),Z(mt,fe),ot||we.setStrong(mt,fe,Ze),mt}},function(j,Q,v){var O=v(31),V=v(14),A=v(15),L=v(19).f,P=v(30),N=v(176),W=P("meta"),Y=0,G=Object.isExtensible||function(){return!0},ne=function(se){L(se,W,{value:{objectID:"O"+ ++Y,weakData:{}}})},Z=j.exports={REQUIRED:!1,fastKey:function(se,fe){if(!V(se))return"symbol"==typeof se?se:("string"==typeof se?"S":"P")+se;if(!A(se,W)){if(!G(se))return"F";if(!fe)return"E";ne(se)}return se[W].objectID},getWeakData:function(se,fe){if(!A(se,W)){if(!G(se))return!0;if(!fe)return!1;ne(se)}return se[W].weakData},onFreeze:function(se){return N&&Z.REQUIRED&&G(se)&&!A(se,W)&&ne(se),se}};O[W]=!0},function(j,Q,v){var O=v(6);j.exports=!O(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(j,Q,v){"use strict";var O=v(19).f,V=v(71),A=v(79),L=v(58),P=v(80),N=v(97),W=v(178),Y=v(107),G=v(5),ne=v(175).fastKey,Z=v(25),se=Z.set,fe=Z.getterFor;j.exports={getConstructor:function(me,we,Ze,ot){var wt=me(function(vt,Je){P(vt,wt,we),se(vt,{type:we,index:V(null),first:void 0,last:void 0,size:0}),G||(vt.size=0),null!=Je&&N(Je,vt[ot],vt,Ze)}),ht=fe(we),pt=function(vt,Je,st){var Fe,ze,Dt=ht(vt),jt=mt(vt,Je);return jt?jt.value=st:(Dt.last=jt={index:ze=ne(Je,!0),key:Je,value:st,previous:Fe=Dt.last,next:void 0,removed:!1},Dt.first||(Dt.first=jt),Fe&&(Fe.next=jt),G?Dt.size++:vt.size++,"F"!==ze&&(Dt.index[ze]=jt)),vt},mt=function(vt,Je){var st,Fe=ht(vt),ze=ne(Je);if("F"!==ze)return Fe.index[ze];for(st=Fe.first;st;st=st.next)if(st.key==Je)return st};return A(wt.prototype,{clear:function(){for(var vt=ht(this),Je=vt.index,st=vt.first;st;)st.removed=!0,st.previous&&(st.previous=st.previous.next=void 0),delete Je[st.index],st=st.next;vt.first=vt.last=void 0,G?vt.size=0:this.size=0},delete:function(vt){var st=ht(this),Fe=mt(this,vt);if(Fe){var ze=Fe.next,Dt=Fe.previous;delete st.index[Fe.index],Fe.removed=!0,Dt&&(Dt.next=ze),ze&&(ze.previous=Dt),st.first==Fe&&(st.first=ze),st.last==Fe&&(st.last=Dt),G?st.size--:this.size--}return!!Fe},forEach:function(vt){for(var Je,st=ht(this),Fe=L(vt,arguments.length>1?arguments[1]:void 0,3);Je=Je?Je.next:st.first;)for(Fe(Je.value,Je.key,this);Je&&Je.removed;)Je=Je.previous},has:function(vt){return!!mt(this,vt)}}),A(wt.prototype,Ze?{get:function(vt){var Je=mt(this,vt);return Je&&Je.value},set:function(vt,Je){return pt(this,0===vt?0:vt,Je)}}:{add:function(vt){return pt(this,vt=0===vt?0:vt,vt)}}),G&&O(wt.prototype,"size",{get:function(){return ht(this).size}}),wt},setStrong:function(me,we,Ze){var ot=we+" Iterator",wt=fe(we),ht=fe(ot);W(me,we,function(pt,mt){se(this,{type:ot,target:pt,state:wt(pt),kind:mt,last:void 0})},function(){for(var pt=ht(this),mt=pt.kind,vt=pt.last;vt&&vt.removed;)vt=vt.previous;return pt.target&&(pt.last=vt=vt?vt.next:pt.state.first)?"keys"==mt?{value:vt.key,done:!1}:"values"==mt?{value:vt.value,done:!1}:{value:[vt.key,vt.value],done:!1}:(pt.target=void 0,{value:void 0,done:!0})},Ze?"entries":"values",!Ze,!0),Y(we)}}},function(j,Q,v){"use strict";var O=v(2),V=v(179),A=v(83),L=v(85),P=v(88),N=v(18),W=v(21),Y=v(48),G=v(29),ne=v(99),Z=v(180),se=Z.IteratorPrototype,fe=Z.BUGGY_SAFARI_ITERATORS,me=Y("iterator"),Ze="values",ot="entries",wt=function(){return this};j.exports=function(ht,pt,mt,vt,Je,st,Fe){V(mt,pt,vt);var ze,Dt,jt,Tt=function(on){if(on===Je&&Et)return Et;if(!fe&&on in gt)return gt[on];switch(on){case"keys":case Ze:case ot:return function(){return new mt(this,on)}}return function(){return new mt(this)}},yn=pt+" Iterator",Le=!1,gt=ht.prototype,St=gt[me]||gt["@@iterator"]||Je&&gt[Je],Et=!fe&&St||Tt(Je),bn="Array"==pt&&gt.entries||St;if(bn&&(ze=A(bn.call(new ht)),se!==Object.prototype&&ze.next&&(G||A(ze)===se||(L?L(ze,se):"function"!=typeof ze[me]&&N(ze,me,wt)),P(ze,yn,!0,!0),G&&(ne[yn]=wt))),Je==Ze&&St&&St.name!==Ze&&(Le=!0,Et=function(){return St.call(this)}),G&&!Fe||gt[me]===Et||N(gt,me,Et),ne[pt]=Et,Je)if(Dt={values:Tt(Ze),keys:st?Et:Tt("keys"),entries:Tt(ot)},Fe)for(jt in Dt)(fe||Le||!(jt in gt))&&W(gt,jt,Dt[jt]);else O({target:pt,proto:!0,forced:fe||Le},Dt);return Dt}},function(j,Q,v){"use strict";var O=v(180).IteratorPrototype,V=v(71),A=v(8),L=v(88),P=v(99),N=function(){return this};j.exports=function(W,Y,G){var ne=Y+" Iterator";return W.prototype=V(O,{next:A(1,G)}),L(W,ne,!1,!0),P[ne]=N,W}},function(j,Q,v){"use strict";var O,V,A,L=v(83),P=v(18),N=v(15),W=v(48),Y=v(29),G=W("iterator"),ne=!1;[].keys&&("next"in(A=[].keys())?(V=L(L(A)))!==Object.prototype&&(O=V):ne=!0),null==O&&(O={}),Y||N(O,G)||P(O,G,function(){return this}),j.exports={IteratorPrototype:O,BUGGY_SAFARI_ITERATORS:ne}},function(j,Q,v){"use strict";var O,V=v(3),A=v(79),L=v(175),P=v(174),N=v(182),W=v(14),Y=v(25).enforce,G=v(26),ne=!V.ActiveXObject&&"ActiveXObject"in V,Z=Object.isExtensible,se=function(ht){return function(){return ht(this,arguments.length?arguments[0]:void 0)}},fe=j.exports=P("WeakMap",se,N);if(G&&ne){O=N.getConstructor(se,"WeakMap",!0),L.REQUIRED=!0;var me=fe.prototype,we=me.delete,Ze=me.has,ot=me.get,wt=me.set;A(me,{delete:function(ht){if(W(ht)&&!Z(ht)){var pt=Y(this);return pt.frozen||(pt.frozen=new O),we.call(this,ht)||pt.frozen.delete(ht)}return we.call(this,ht)},has:function(ht){if(W(ht)&&!Z(ht)){var pt=Y(this);return pt.frozen||(pt.frozen=new O),Ze.call(this,ht)||pt.frozen.has(ht)}return Ze.call(this,ht)},get:function(ht){if(W(ht)&&!Z(ht)){var pt=Y(this);return pt.frozen||(pt.frozen=new O),Ze.call(this,ht)?ot.call(this,ht):pt.frozen.get(ht)}return ot.call(this,ht)},set:function(ht,pt){if(W(ht)&&!Z(ht)){var mt=Y(this);mt.frozen||(mt.frozen=new O),Ze.call(this,ht)?wt.call(this,ht,pt):mt.frozen.set(ht,pt)}else wt.call(this,ht,pt);return this}})}},function(j,Q,v){"use strict";var O=v(79),V=v(175).getWeakData,A=v(20),L=v(14),P=v(80),N=v(97),W=v(156),Y=v(15),G=v(25),ne=G.set,Z=G.getterFor,se=W.find,fe=W.findIndex,me=0,we=function(wt){return wt.frozen||(wt.frozen=new Ze)},Ze=function(){this.entries=[]},ot=function(wt,ht){return se(wt.entries,function(pt){return pt[0]===ht})};Ze.prototype={get:function(wt){var ht=ot(this,wt);if(ht)return ht[1]},has:function(wt){return!!ot(this,wt)},set:function(wt,ht){var pt=ot(this,wt);pt?pt[1]=ht:this.entries.push([wt,ht])},delete:function(wt){var ht=fe(this.entries,function(pt){return pt[0]===wt});return~ht&&this.entries.splice(ht,1),!!~ht}},j.exports={getConstructor:function(wt,ht,pt,mt){var vt=wt(function(Fe,ze){P(Fe,vt,ht),ne(Fe,{type:ht,id:me++,frozen:void 0}),null!=ze&&N(ze,Fe[mt],Fe,pt)}),Je=Z(ht),st=function(Fe,ze,Dt){var jt=Je(Fe),Tt=V(A(ze),!0);return!0===Tt?we(jt).set(ze,Dt):Tt[jt.id]=Dt,Fe};return O(vt.prototype,{delete:function(Fe){var ze=Je(this);if(!L(Fe))return!1;var Dt=V(Fe);return!0===Dt?we(ze).delete(Fe):Dt&&Y(Dt,ze.id)&&delete Dt[ze.id]},has:function(Fe){var ze=Je(this);if(!L(Fe))return!1;var Dt=V(Fe);return!0===Dt?we(ze).has(Fe):Dt&&Y(Dt,ze.id)}}),O(vt.prototype,pt?{get:function(Fe){var ze=Je(this);if(L(Fe)){var Dt=V(Fe);return!0===Dt?we(ze).get(Fe):Dt?Dt[ze.id]:void 0}},set:function(Fe,ze){return st(this,Fe,ze)}}:{add:function(Fe){return st(this,Fe,!0)}}),vt}}},function(j,Q,v){var O=v(2),V=v(172),A=v(34);O({global:!0},{compositeSymbol:function(){return 1===arguments.length&&"string"==typeof arguments[0]?A("Symbol").for(arguments[0]):V.apply(null,arguments).get("symbol",A("Symbol"))}})},function(j,Q,v){v(185)},function(j,Q,v){v(2)({global:!0},{globalThis:v(3)})},function(j,Q,v){"use strict";var O=v(2),V=v(29),A=v(187);O({target:"Map",proto:!0,real:!0,forced:V},{deleteAll:function(){return A.apply(this,arguments)}})},function(j,Q,v){"use strict";var O=v(20),V=v(59);j.exports=function(){for(var A,L=O(this),P=V(L.delete),N=!0,W=0,Y=arguments.length;W<Y;W++)A=P.call(L,arguments[W]),N=N&&A;return!!N}},function(j,Q,v){"use strict";var O=v(2),V=v(29),A=v(20),L=v(58),P=v(189),N=v(97);O({target:"Map",proto:!0,real:!0,forced:V},{every:function(W){var Y=A(this),G=P(Y),ne=L(W,arguments.length>1?arguments[1]:void 0,3);return!N(G,function(Z,se){if(!ne(se,Z,Y))return N.stop()},void 0,!0,!0).stopped}})},function(j,Q,v){var O=v(29),V=v(190);j.exports=O?V:function(A){return Map.prototype.entries.call(A)}},function(j,Q,v){var O=v(20),V=v(100);j.exports=function(A){var L=V(A);if("function"!=typeof L)throw TypeError(String(A)+" is not iterable");return O(L.call(A))}},function(j,Q,v){"use strict";var O=v(2),V=v(29),A=v(34),L=v(20),P=v(59),N=v(58),W=v(89),Y=v(189),G=v(97);O({target:"Map",proto:!0,real:!0,forced:V},{filter:function(ne){var Z=L(this),se=Y(Z),fe=N(ne,arguments.length>1?arguments[1]:void 0,3),me=new(W(Z,A("Map"))),we=P(me.set);return G(se,function(Ze,ot){fe(ot,Ze,Z)&&we.call(me,Ze,ot)},void 0,!0,!0),me}})},function(j,Q,v){"use strict";var O=v(2),V=v(29),A=v(20),L=v(58),P=v(189),N=v(97);O({target:"Map",proto:!0,real:!0,forced:V},{find:function(W){var Y=A(this),G=P(Y),ne=L(W,arguments.length>1?arguments[1]:void 0,3);return N(G,function(Z,se){if(ne(se,Z,Y))return N.stop(se)},void 0,!0,!0).result}})},function(j,Q,v){"use strict";var O=v(2),V=v(29),A=v(20),L=v(58),P=v(189),N=v(97);O({target:"Map",proto:!0,real:!0,forced:V},{findKey:function(W){var Y=A(this),G=P(Y),ne=L(W,arguments.length>1?arguments[1]:void 0,3);return N(G,function(Z,se){if(ne(se,Z,Y))return N.stop(Z)},void 0,!0,!0).result}})},function(j,Q,v){v(2)({target:"Map",stat:!0},{from:v(195)})},function(j,Q,v){"use strict";var O=v(59),V=v(58),A=v(97);j.exports=function(L){var P,N,W,Y,G=arguments.length,ne=G>1?arguments[1]:void 0;return O(this),(P=void 0!==ne)&&O(ne),null==L?new this:(N=[],P?(W=0,Y=V(ne,G>2?arguments[2]:void 0,2),A(L,function(Z){N.push(Y(Z,W++))})):A(L,N.push,N),new this(N))}},function(j,Q,v){"use strict";var O=v(2),V=v(97),A=v(59);O({target:"Map",stat:!0},{groupBy:function(L,P){var N=new this;A(P);var W=A(N.has),Y=A(N.get),G=A(N.set);return V(L,function(ne){var Z=P(ne);W.call(N,Z)?Y.call(N,Z).push(ne):G.call(N,Z,[ne])}),N}})},function(j,Q,v){"use strict";var O=v(2),V=v(29),A=v(20),L=v(189),P=v(198),N=v(97);O({target:"Map",proto:!0,real:!0,forced:V},{includes:function(W){return N(L(A(this)),function(Y,G){if(P(G,W))return N.stop()},void 0,!0,!0).stopped}})},function(j){j.exports=function(Q,v){return Q===v||Q!=Q&&v!=v}},function(j,Q,v){"use strict";var O=v(2),V=v(97),A=v(59);O({target:"Map",stat:!0},{keyBy:function(L,P){var N=new this;A(P);var W=A(N.set);return V(L,function(Y){W.call(N,P(Y),Y)}),N}})},function(j,Q,v){"use strict";var O=v(2),V=v(29),A=v(20),L=v(189),P=v(97);O({target:"Map",proto:!0,real:!0,forced:V},{keyOf:function(N){return P(L(A(this)),function(W,Y){if(Y===N)return P.stop(W)},void 0,!0,!0).result}})},function(j,Q,v){"use strict";var O=v(2),V=v(29),A=v(34),L=v(20),P=v(59),N=v(58),W=v(89),Y=v(189),G=v(97);O({target:"Map",proto:!0,real:!0,forced:V},{mapKeys:function(ne){var Z=L(this),se=Y(Z),fe=N(ne,arguments.length>1?arguments[1]:void 0,3),me=new(W(Z,A("Map"))),we=P(me.set);return G(se,function(Ze,ot){we.call(me,fe(ot,Ze,Z),ot)},void 0,!0,!0),me}})},function(j,Q,v){"use strict";var O=v(2),V=v(29),A=v(34),L=v(20),P=v(59),N=v(58),W=v(89),Y=v(189),G=v(97);O({target:"Map",proto:!0,real:!0,forced:V},{mapValues:function(ne){var Z=L(this),se=Y(Z),fe=N(ne,arguments.length>1?arguments[1]:void 0,3),me=new(W(Z,A("Map"))),we=P(me.set);return G(se,function(Ze,ot){we.call(me,Ze,fe(ot,Ze,Z))},void 0,!0,!0),me}})},function(j,Q,v){"use strict";var O=v(2),V=v(29),A=v(20),L=v(59),P=v(97);O({target:"Map",proto:!0,real:!0,forced:V},{merge:function(N){for(var W=A(this),Y=L(W.set),G=0;G<arguments.length;)P(arguments[G++],Y,W,!0);return W}})},function(j,Q,v){v(2)({target:"Map",stat:!0},{of:v(205)})},function(j){"use strict";j.exports=function(){for(var Q=arguments.length,v=new Array(Q);Q--;)v[Q]=arguments[Q];return new this(v)}},function(j,Q,v){"use strict";var O=v(2),V=v(29),A=v(20),L=v(59),P=v(189),N=v(97);O({target:"Map",proto:!0,real:!0,forced:V},{reduce:function(W){var Y=A(this),G=P(Y),ne=arguments.length<2,Z=ne?void 0:arguments[1];if(L(W),N(G,function(se,fe){ne?(ne=!1,Z=fe):Z=W(Z,fe,se,Y)},void 0,!0,!0),ne)throw TypeError("Reduce of empty map with no initial value");return Z}})},function(j,Q,v){"use strict";var O=v(2),V=v(29),A=v(20),L=v(58),P=v(189),N=v(97);O({target:"Map",proto:!0,real:!0,forced:V},{some:function(W){var Y=A(this),G=P(Y),ne=L(W,arguments.length>1?arguments[1]:void 0,3);return N(G,function(Z,se){if(ne(se,Z,Y))return N.stop()},void 0,!0,!0).stopped}})},function(j,Q,v){"use strict";var O=v(2),V=v(29),A=v(20),L=v(59);O({target:"Map",proto:!0,real:!0,forced:V},{update:function(P,N){var W=A(this),Y=arguments.length;L(N);var G=W.has(P);if(!G&&Y<3)throw TypeError("Updating absent value");var ne=G?W.get(P):L(Y>2?arguments[2]:void 0)(P,W);return W.set(P,N(ne,P,W)),W}})},function(j,Q,v){var O=v(2),V=Math.min,A=Math.max;O({target:"Math",stat:!0},{clamp:function(L,P,N){return V(N,A(P,L))}})},function(j,Q,v){v(2)({target:"Math",stat:!0},{DEG_PER_RAD:Math.PI/180})},function(j,Q,v){var O=v(2),V=180/Math.PI;O({target:"Math",stat:!0},{degrees:function(A){return A*V}})},function(j,Q,v){var O=v(2),V=v(213),A=v(214);O({target:"Math",stat:!0},{fscale:function(L,P,N,W,Y){return A(V(L,P,N,W,Y))}})},function(j){j.exports=Math.scale||function(Q,v,O,V,A){return 0===arguments.length||Q!=Q||v!=v||O!=O||V!=V||A!=A?NaN:Q===1/0||Q===-1/0?Q:(Q-v)*(A-V)/(O-v)+V}},function(j,Q,v){var O=v(215),V=Math.abs,A=Math.pow,L=A(2,-52),P=A(2,-23),N=A(2,127)*(2-P),W=A(2,-126);j.exports=Math.fround||function(Y){var G,ne,Z=V(Y),se=O(Y);return Z<W?se*(Z/W/P+1/L-1/L)*W*P:(ne=(G=(1+P/L)*Z)-(G-Z))>N||ne!=ne?se*(1/0):se*ne}},function(j){j.exports=Math.sign||function(Q){return 0==(Q=+Q)||Q!=Q?Q:Q<0?-1:1}},function(j,Q,v){v(2)({target:"Math",stat:!0},{iaddh:function(O,V,A,L){var P=O>>>0,N=A>>>0;return(V>>>0)+(L>>>0)+((P&N|(P|N)&~(P+N>>>0))>>>31)|0}})},function(j,Q,v){v(2)({target:"Math",stat:!0},{imulh:function(O,V){var A=65535,L=+O,P=+V,N=L&A,W=P&A,Y=L>>16,G=P>>16,ne=(Y*W>>>0)+(N*W>>>16);return Y*G+(ne>>16)+((N*G>>>0)+(ne&A)>>16)}})},function(j,Q,v){v(2)({target:"Math",stat:!0},{isubh:function(O,V,A,L){var P=O>>>0,N=A>>>0;return(V>>>0)-(L>>>0)-((~P&N|(P^~N)&P-N>>>0)>>>31)|0}})},function(j,Q,v){v(2)({target:"Math",stat:!0},{RAD_PER_DEG:180/Math.PI})},function(j,Q,v){var O=v(2),V=Math.PI/180;O({target:"Math",stat:!0},{radians:function(A){return A*V}})},function(j,Q,v){v(2)({target:"Math",stat:!0},{scale:v(213)})},function(j,Q,v){var O=v(2),V=v(20),A=v(223),L=v(179),P=v(25),W="Seeded Random Generator",Y=P.set,G=P.getterFor(W),ne=L(function(Z){Y(this,{type:W,seed:Z%2147483647})},"Seeded Random",function(){var Z=G(this);return{value:(1073741823&(Z.seed=(1103515245*Z.seed+12345)%2147483647))/1073741823,done:!1}});O({target:"Math",stat:!0,forced:!0},{seededPRNG:function(Z){var se=V(Z).seed;if(!A(se))throw TypeError('Math.seededPRNG() argument should have a "seed" field with a finite value.');return new ne(se)}})},function(j,Q,v){var O=v(3).isFinite;j.exports=Number.isFinite||function(V){return"number"==typeof V&&O(V)}},function(j,Q,v){v(2)({target:"Math",stat:!0},{signbit:function(O){return(O=+O)==O&&0==O?1/O==-1/0:O<0}})},function(j,Q,v){v(2)({target:"Math",stat:!0},{umulh:function(O,V){var A=65535,L=+O,P=+V,N=L&A,W=P&A,Y=L>>>16,G=P>>>16,ne=(Y*W>>>0)+(N*W>>>16);return Y*G+(ne>>>16)+((N*G>>>0)+(ne&A)>>>16)}})},function(j,Q,v){"use strict";var O=v(2),V=v(40),A=v(227),L="Invalid number representation",P=/^[\da-z]+$/;O({target:"Number",stat:!0},{fromString:function(N,W){var Y,G,ne=1;if("string"!=typeof N)throw TypeError(L);if(!N.length||"-"==N.charAt(0)&&(ne=-1,!(N=N.slice(1)).length))throw SyntaxError(L);if((Y=void 0===W?10:V(W))<2||Y>36)throw RangeError("Invalid radix");if(!P.test(N)||(G=A(N,Y)).toString(Y)!==N)throw SyntaxError(L);return ne*G}})},function(j,Q,v){var O=v(3),V=v(144).trim,A=v(145),L=O.parseInt,P=/^[+-]?0[Xx]/,N=8!==L(A+"08")||22!==L(A+"0x16");j.exports=N?function(W,Y){var G=V(String(W));return L(G,Y>>>0||(P.test(G)?16:10))}:L},function(j,Q,v){"use strict";var O=v(2),V=v(5),A=v(107),L=v(59),P=v(20),N=v(14),W=v(80),Y=v(19).f,G=v(18),ne=v(79),Z=v(190),se=v(97),fe=v(115),me=v(48),we=v(25),Ze=me("observable"),ot=we.get,wt=we.set,ht=function(ze){return null==ze?void 0:L(ze)},pt=function(ze){var Dt=ze.cleanup;if(Dt){ze.cleanup=void 0;try{Dt()}catch(jt){fe(jt)}}},mt=function(ze){return void 0===ze.observer},vt=function(ze,Dt){if(!V){ze.closed=!0;var jt=Dt.subscriptionObserver;jt&&(jt.closed=!0)}Dt.observer=void 0},Je=function(ze,Dt){var jt,Tt=wt(this,{cleanup:void 0,observer:P(ze),subscriptionObserver:void 0});V||(this.closed=!1);try{(jt=ht(ze.start))&&jt.call(ze,this)}catch(St){fe(St)}if(!mt(Tt)){var yn=Tt.subscriptionObserver=new st(this);try{var Le=Dt(yn),gt=Le;null!=Le&&(Tt.cleanup="function"==typeof Le.unsubscribe?function(){gt.unsubscribe()}:L(Le))}catch(St){return void yn.error(St)}mt(Tt)&&pt(Tt)}};Je.prototype=ne({},{unsubscribe:function(){var ze=ot(this);mt(ze)||(vt(this,ze),pt(ze))}}),V&&Y(Je.prototype,"closed",{configurable:!0,get:function(){return mt(ot(this))}});var st=function(ze){wt(this,{subscription:ze}),V||(this.closed=!1)};st.prototype=ne({},{next:function(ze){var Dt=ot(ot(this).subscription);if(!mt(Dt)){var jt=Dt.observer;try{var Tt=ht(jt.next);Tt&&Tt.call(jt,ze)}catch(yn){fe(yn)}}},error:function(ze){var Dt=ot(this).subscription,jt=ot(Dt);if(!mt(jt)){var Tt=jt.observer;vt(Dt,jt);try{var yn=ht(Tt.error);yn?yn.call(Tt,ze):fe(ze)}catch(Le){fe(Le)}pt(jt)}},complete:function(){var ze=ot(this).subscription,Dt=ot(ze);if(!mt(Dt)){var jt=Dt.observer;vt(ze,Dt);try{var Tt=ht(jt.complete);Tt&&Tt.call(jt)}catch(yn){fe(yn)}pt(Dt)}}}),V&&Y(st.prototype,"closed",{configurable:!0,get:function(){return mt(ot(ot(this).subscription))}});var Fe=function(ze){W(this,Fe,"Observable"),wt(this,{subscriber:L(ze)})};ne(Fe.prototype,{subscribe:function(ze){var Dt=arguments.length;return new Je("function"==typeof ze?{next:ze,error:Dt>1?arguments[1]:void 0,complete:Dt>2?arguments[2]:void 0}:N(ze)?ze:{},ot(this).subscriber)}}),ne(Fe,{from:function(ze){var Dt="function"==typeof this?this:Fe,jt=ht(P(ze)[Ze]);if(jt){var Tt=P(jt.call(ze));return Tt.constructor===Dt?Tt:new Dt(function(Le){return Tt.subscribe(Le)})}var yn=Z(ze);return new Dt(function(Le){se(yn,function(gt){if(Le.next(gt),Le.closed)return se.stop()},void 0,!1,!0),Le.complete()})},of:function(){for(var ze="function"==typeof this?this:Fe,Dt=arguments.length,jt=new Array(Dt),Tt=0;Tt<Dt;)jt[Tt]=arguments[Tt++];return new ze(function(yn){for(var Le=0;Le<Dt;Le++)if(yn.next(jt[Le]),yn.closed)return;yn.complete()})}}),G(Fe.prototype,Ze,function(){return this}),O({global:!0},{Observable:Fe}),A("Observable")},function(j,Q,v){v(230)},function(j,Q,v){"use strict";var O=v(2),V=v(59),A=v(114),L=v(116),P=v(97);O({target:"Promise",stat:!0},{allSettled:function(N){var W=this,Y=A.f(W),G=Y.resolve,ne=Y.reject,Z=L(function(){var se=V(W.resolve),fe=[],me=0,we=1;P(N,function(Ze){var ot=me++,wt=!1;fe.push(void 0),we++,se.call(W,Ze).then(function(ht){wt||(wt=!0,fe[ot]={status:"fulfilled",value:ht},--we||G(fe))},function(ht){wt||(wt=!0,fe[ot]={status:"rejected",reason:ht},--we||G(fe))})}),--we||G(fe)});return Z.error&&ne(Z.value),Y.promise}})},function(j,Q,v){"use strict";var O=v(2),V=v(59),A=v(34),L=v(114),P=v(116),N=v(97),W="No one promise resolved";O({target:"Promise",stat:!0},{any:function(Y){var G=this,ne=L.f(G),Z=ne.resolve,se=ne.reject,fe=P(function(){var me=V(G.resolve),we=[],Ze=0,ot=1,wt=!1;N(Y,function(ht){var pt=Ze++,mt=!1;we.push(void 0),ot++,me.call(G,ht).then(function(vt){mt||wt||(wt=!0,Z(vt))},function(vt){mt||wt||(mt=!0,we[pt]=vt,--ot||se(new(A("AggregateError"))(we,W)))})}),--ot||se(new(A("AggregateError"))(we,W))});return fe.error&&se(fe.value),ne.promise}})},function(j,Q,v){"use strict";var O=v(2),V=v(114),A=v(116);O({target:"Promise",stat:!0},{try:function(L){var P=V.f(this),N=A(L);return(N.error?P.reject:P.resolve)(N.value),P.promise}})},function(j,Q,v){var O=v(2),V=v(234),A=v(20),L=V.toKey,P=V.set;O({target:"Reflect",stat:!0},{defineMetadata:function(N,W,Y){var G=arguments.length<4?void 0:L(arguments[3]);P(N,W,A(Y),G)}})},function(j,Q,v){var O=v(173),V=v(181),A=v(28)("metadata"),L=A.store||(A.store=new V),P=function(N,W,Y){var G=L.get(N);if(!G){if(!Y)return;L.set(N,G=new O)}var ne=G.get(W);if(!ne){if(!Y)return;G.set(W,ne=new O)}return ne};j.exports={store:L,getMap:P,has:function(N,W,Y){var G=P(W,Y,!1);return void 0!==G&&G.has(N)},get:function(N,W,Y){var G=P(W,Y,!1);return void 0===G?void 0:G.get(N)},set:function(N,W,Y,G){P(Y,G,!0).set(N,W)},keys:function(N,W){var Y=P(N,W,!1),G=[];return Y&&Y.forEach(function(ne,Z){G.push(Z)}),G},toKey:function(N){return void 0===N||"symbol"==typeof N?N:String(N)}}},function(j,Q,v){var O=v(2),V=v(234),A=v(20),L=V.toKey,P=V.getMap,N=V.store;O({target:"Reflect",stat:!0},{deleteMetadata:function(W,Y){var G=arguments.length<3?void 0:L(arguments[2]),ne=P(A(Y),G,!1);if(void 0===ne||!ne.delete(W))return!1;if(ne.size)return!0;var Z=N.get(Y);return Z.delete(G),!!Z.size||N.delete(Y)}})},function(j,Q,v){var O=v(2),V=v(234),A=v(20),L=v(83),P=V.has,N=V.get,W=V.toKey,Y=function(G,ne,Z){if(P(G,ne,Z))return N(G,ne,Z);var se=L(ne);return null!==se?Y(G,se,Z):void 0};O({target:"Reflect",stat:!0},{getMetadata:function(G,ne){var Z=arguments.length<3?void 0:W(arguments[2]);return Y(G,A(ne),Z)}})},function(j,Q,v){var O=v(2),V=v(238),A=v(234),L=v(20),P=v(83),N=v(97),W=A.keys,Y=A.toKey,G=function(ne,Z){var se=W(ne,Z),fe=P(ne);if(null===fe)return se;var me,we,Ze=G(fe,Z);return Ze.length?se.length?(me=new V(se.concat(Ze)),N(me,(we=[]).push,we),we):Ze:se};O({target:"Reflect",stat:!0},{getMetadataKeys:function(ne){var Z=arguments.length<2?void 0:Y(arguments[1]);return G(L(ne),Z)}})},function(j,Q,v){"use strict";var O=v(174),V=v(177);j.exports=O("Set",function(A){return function(){return A(this,arguments.length?arguments[0]:void 0)}},V)},function(j,Q,v){var O=v(2),V=v(234),A=v(20),L=V.get,P=V.toKey;O({target:"Reflect",stat:!0},{getOwnMetadata:function(N,W){var Y=arguments.length<3?void 0:P(arguments[2]);return L(N,A(W),Y)}})},function(j,Q,v){var O=v(2),V=v(234),A=v(20),L=V.keys,P=V.toKey;O({target:"Reflect",stat:!0},{getOwnMetadataKeys:function(N){var W=arguments.length<2?void 0:P(arguments[1]);return L(A(N),W)}})},function(j,Q,v){var O=v(2),V=v(234),A=v(20),L=v(83),P=V.has,N=V.toKey,W=function(Y,G,ne){if(P(Y,G,ne))return!0;var Z=L(G);return null!==Z&&W(Y,Z,ne)};O({target:"Reflect",stat:!0},{hasMetadata:function(Y,G){var ne=arguments.length<3?void 0:N(arguments[2]);return W(Y,A(G),ne)}})},function(j,Q,v){var O=v(2),V=v(234),A=v(20),L=V.has,P=V.toKey;O({target:"Reflect",stat:!0},{hasOwnMetadata:function(N,W){var Y=arguments.length<3?void 0:P(arguments[2]);return L(N,A(W),Y)}})},function(j,Q,v){var O=v(2),V=v(234),A=v(20),L=V.toKey,P=V.set;O({target:"Reflect",stat:!0},{metadata:function(N,W){return function(Y,G){P(N,W,A(Y),L(G))}}})},function(j,Q,v){"use strict";var O=v(2),V=v(29),A=v(245);O({target:"Set",proto:!0,real:!0,forced:V},{addAll:function(){return A.apply(this,arguments)}})},function(j,Q,v){"use strict";var O=v(20),V=v(59);j.exports=function(){for(var A=O(this),L=V(A.add),P=0,N=arguments.length;P<N;P++)L.call(A,arguments[P]);return A}},function(j,Q,v){"use strict";var O=v(2),V=v(29),A=v(187);O({target:"Set",proto:!0,real:!0,forced:V},{deleteAll:function(){return A.apply(this,arguments)}})},function(j,Q,v){"use strict";var O=v(2),V=v(29),A=v(34),L=v(20),P=v(59),N=v(89),W=v(97);O({target:"Set",proto:!0,real:!0,forced:V},{difference:function(Y){var G=L(this),ne=new(N(G,A("Set")))(G),Z=P(ne.delete);return W(Y,function(se){Z.call(ne,se)}),ne}})},function(j,Q,v){"use strict";var O=v(2),V=v(29),A=v(20),L=v(58),P=v(249),N=v(97);O({target:"Set",proto:!0,real:!0,forced:V},{every:function(W){var Y=A(this),G=P(Y),ne=L(W,arguments.length>1?arguments[1]:void 0,3);return!N(G,function(Z){if(!ne(Z,Z,Y))return N.stop()},void 0,!1,!0).stopped}})},function(j,Q,v){var O=v(29),V=v(190);j.exports=O?V:function(A){return Set.prototype.values.call(A)}},function(j,Q,v){"use strict";var O=v(2),V=v(29),A=v(34),L=v(20),P=v(59),N=v(58),W=v(89),Y=v(249),G=v(97);O({target:"Set",proto:!0,real:!0,forced:V},{filter:function(ne){var Z=L(this),se=Y(Z),fe=N(ne,arguments.length>1?arguments[1]:void 0,3),me=new(W(Z,A("Set"))),we=P(me.add);return G(se,function(Ze){fe(Ze,Ze,Z)&&we.call(me,Ze)},void 0,!1,!0),me}})},function(j,Q,v){"use strict";var O=v(2),V=v(29),A=v(20),L=v(58),P=v(249),N=v(97);O({target:"Set",proto:!0,real:!0,forced:V},{find:function(W){var Y=A(this),G=P(Y),ne=L(W,arguments.length>1?arguments[1]:void 0,3);return N(G,function(Z){if(ne(Z,Z,Y))return N.stop(Z)},void 0,!1,!0).result}})},function(j,Q,v){v(2)({target:"Set",stat:!0},{from:v(195)})},function(j,Q,v){"use strict";var O=v(2),V=v(29),A=v(34),L=v(20),P=v(59),N=v(89),W=v(97);O({target:"Set",proto:!0,real:!0,forced:V},{intersection:function(Y){var G=L(this),ne=new(N(G,A("Set"))),Z=P(G.has),se=P(ne.add);return W(Y,function(fe){Z.call(G,fe)&&se.call(ne,fe)}),ne}})},function(j,Q,v){"use strict";var O=v(2),V=v(29),A=v(20),L=v(59),P=v(97);O({target:"Set",proto:!0,real:!0,forced:V},{isDisjointFrom:function(N){var W=A(this),Y=L(W.has);return!P(N,function(G){if(!0===Y.call(W,G))return P.stop()}).stopped}})},function(j,Q,v){"use strict";var O=v(2),V=v(29),A=v(34),L=v(20),P=v(59),N=v(190),W=v(97);O({target:"Set",proto:!0,real:!0,forced:V},{isSubsetOf:function(Y){var G=N(this),ne=L(Y),Z=ne.has;return"function"!=typeof Z&&(ne=new(A("Set"))(Y),Z=P(ne.has)),!W(G,function(se){if(!1===Z.call(ne,se))return W.stop()},void 0,!1,!0).stopped}})},function(j,Q,v){"use strict";var O=v(2),V=v(29),A=v(20),L=v(59),P=v(97);O({target:"Set",proto:!0,real:!0,forced:V},{isSupersetOf:function(N){var W=A(this),Y=L(W.has);return!P(N,function(G){if(!1===Y.call(W,G))return P.stop()}).stopped}})},function(j,Q,v){"use strict";var O=v(2),V=v(29),A=v(20),L=v(249),P=v(97);O({target:"Set",proto:!0,real:!0,forced:V},{join:function(N){var W=A(this),Y=L(W),G=void 0===N?",":String(N),ne=[];return P(Y,ne.push,ne,!1,!0),ne.join(G)}})},function(j,Q,v){"use strict";var O=v(2),V=v(29),A=v(34),L=v(20),P=v(59),N=v(58),W=v(89),Y=v(249),G=v(97);O({target:"Set",proto:!0,real:!0,forced:V},{map:function(ne){var Z=L(this),se=Y(Z),fe=N(ne,arguments.length>1?arguments[1]:void 0,3),me=new(W(Z,A("Set"))),we=P(me.add);return G(se,function(Ze){we.call(me,fe(Ze,Ze,Z))},void 0,!1,!0),me}})},function(j,Q,v){v(2)({target:"Set",stat:!0},{of:v(205)})},function(j,Q,v){"use strict";var O=v(2),V=v(29),A=v(20),L=v(59),P=v(249),N=v(97);O({target:"Set",proto:!0,real:!0,forced:V},{reduce:function(W){var Y=A(this),G=P(Y),ne=arguments.length<2,Z=ne?void 0:arguments[1];if(L(W),N(G,function(se){ne?(ne=!1,Z=se):Z=W(Z,se,se,Y)},void 0,!1,!0),ne)throw TypeError("Reduce of empty set with no initial value");return Z}})},function(j,Q,v){"use strict";var O=v(2),V=v(29),A=v(20),L=v(58),P=v(249),N=v(97);O({target:"Set",proto:!0,real:!0,forced:V},{some:function(W){var Y=A(this),G=P(Y),ne=L(W,arguments.length>1?arguments[1]:void 0,3);return N(G,function(Z){if(ne(Z,Z,Y))return N.stop()},void 0,!1,!0).stopped}})},function(j,Q,v){"use strict";var O=v(2),V=v(29),A=v(34),L=v(20),P=v(59),N=v(89),W=v(97);O({target:"Set",proto:!0,real:!0,forced:V},{symmetricDifference:function(Y){var G=L(this),ne=new(N(G,A("Set")))(G),Z=P(ne.delete),se=P(ne.add);return W(Y,function(fe){Z.call(ne,fe)||se.call(ne,fe)}),ne}})},function(j,Q,v){"use strict";var O=v(2),V=v(29),A=v(34),L=v(20),P=v(59),N=v(89),W=v(97);O({target:"Set",proto:!0,real:!0,forced:V},{union:function(Y){var G=L(this),ne=new(N(G,A("Set")))(G);return W(Y,P(ne.add),ne),ne}})},function(j,Q,v){"use strict";var O=v(2),V=v(136).charAt;O({target:"String",proto:!0},{at:function(A){return V(this,A)}})},function(j,Q,v){"use strict";var O=v(2),V=v(179),A=v(12),L=v(25),P=v(136),N=P.codeAt,W=P.charAt,Y="String Iterator",G=L.set,ne=L.getterFor(Y),Z=V(function(se){G(this,{type:Y,string:se,index:0})},"String",function(){var se,fe=ne(this),me=fe.string,we=fe.index;return we>=me.length?{value:void 0,done:!0}:(se=W(me,we),fe.index+=se.length,{value:{codePoint:N(se,0),position:we},done:!1})});O({target:"String",proto:!0},{codePoints:function(){return new Z(String(A(this)))}})},function(j,Q,v){v(267)},function(j,Q,v){"use strict";var O=v(2),V=v(179),A=v(12),L=v(39),P=v(59),N=v(20),W=v(11),Y=v(122),G=v(123),ne=v(18),Z=v(6),se=v(48),fe=v(89),me=v(135),we=v(25),Ze=v(29),ot=se("matchAll"),ht="RegExp String Iterator",pt=we.set,mt=we.getterFor(ht),vt=RegExp.prototype,Je=vt.exec,st="".matchAll,Fe=!!st&&!Z(function(){"a".matchAll(/./)}),ze=V(function(jt,Tt,yn,Le){pt(this,{type:ht,regexp:jt,string:Tt,global:yn,unicode:Le,done:!1})},"RegExp String",function(){var jt=mt(this);if(jt.done)return{value:void 0,done:!0};var Tt=jt.regexp,yn=jt.string,Le=function(gt,St){var Et,bn=gt.exec;if("function"==typeof bn){if("object"!=typeof(Et=bn.call(gt,St)))throw TypeError("Incorrect exec result");return Et}return Je.call(gt,St)}(Tt,yn);return null===Le?{value:void 0,done:jt.done=!0}:jt.global?(""==String(Le[0])&&(Tt.lastIndex=me(yn,L(Tt.lastIndex),jt.unicode)),{value:Le,done:!1}):(jt.done=!0,{value:Le,done:!1})}),Dt=function(jt){var Tt,yn,Le,gt,St,Et,bn=N(this),on=String(jt);return Tt=fe(bn,RegExp),void 0===(yn=bn.flags)&&bn instanceof RegExp&&!("flags"in vt)&&(yn=G.call(bn)),Le=void 0===yn?"":String(yn),gt=new Tt(Tt===RegExp?bn.source:bn,Le),St=!!~Le.indexOf("g"),Et=!!~Le.indexOf("u"),gt.lastIndex=L(bn.lastIndex),new ze(gt,on,St,Et)};O({target:"String",proto:!0,forced:Fe},{matchAll:function(jt){var Tt,yn,Le,gt=A(this);if(null!=jt){if(Y(jt)&&!~String(A("flags"in vt?jt.flags:G.call(jt))).indexOf("g"))throw TypeError("`.matchAll` does not allow non-global regexes");if(Fe)return st.apply(gt,arguments);if(void 0===(yn=jt[ot])&&Ze&&"RegExp"==W(jt)&&(yn=Dt),null!=yn)return P(yn).call(jt,gt)}else if(Fe)return st.apply(gt,arguments);return Tt=String(gt),Le=new RegExp(jt,"g"),Ze?Dt.call(Le,Tt):Le[ot](Tt)}}),Ze||ot in vt||ne(vt,ot,Dt)},function(j,Q,v){"use strict";var O=v(2),V=v(12),A=v(122),L=v(123),P=v(48),N=v(29),W=P("replace"),Y=RegExp.prototype;O({target:"String",proto:!0},{replaceAll:function G(ne,Z){var se,fe,me,we,Ze,ot,wt,ht,pt=V(this);if(null!=ne){if((se=A(ne))&&!~String(V("flags"in Y?ne.flags:L.call(ne))).indexOf("g"))throw TypeError("`.replaceAll` does not allow non-global regexes");if(void 0!==(fe=ne[W]))return fe.call(ne,pt,Z);if(N&&se)return String(pt).replace(ne,Z)}if(me=String(pt),""===(we=String(ne)))return G.call(me,/(?:)/g,Z);if(Ze=me.split(we),"function"!=typeof Z)return Ze.join(String(Z));for(wt=(ot=Ze[0]).length,ht=1;ht<Ze.length;ht++)ot+=String(Z(we,wt,me)),wt+=we.length+Ze[ht].length,ot+=Ze[ht];return ot}})},function(j,Q,v){v(46)("dispose")},function(j,Q,v){v(46)("observable")},function(j,Q,v){v(46)("patternMatch")},function(j,Q,v){"use strict";var O=v(2),V=v(29),A=v(187);O({target:"WeakMap",proto:!0,real:!0,forced:V},{deleteAll:function(){return A.apply(this,arguments)}})},function(j,Q,v){v(2)({target:"WeakMap",stat:!0},{from:v(195)})},function(j,Q,v){v(2)({target:"WeakMap",stat:!0},{of:v(205)})},function(j,Q,v){"use strict";var O=v(2),V=v(29),A=v(245);O({target:"WeakSet",proto:!0,real:!0,forced:V},{addAll:function(){return A.apply(this,arguments)}})},function(j,Q,v){"use strict";var O=v(2),V=v(29),A=v(187);O({target:"WeakSet",proto:!0,real:!0,forced:V},{deleteAll:function(){return A.apply(this,arguments)}})},function(j,Q,v){v(2)({target:"WeakSet",stat:!0},{from:v(195)})},function(j,Q,v){v(2)({target:"WeakSet",stat:!0},{of:v(205)})},function(j,Q,v){var O=v(3),V=v(280),A=v(281),L=v(18),P=v(48),N=P("iterator"),W=P("toStringTag"),Y=A.values;for(var G in V){var ne=O[G],Z=ne&&ne.prototype;if(Z){if(Z[N]!==Y)try{L(Z,N,Y)}catch{Z[N]=Y}if(Z[W]||L(Z,W,G),V[G])for(var se in A)if(Z[se]!==A[se])try{L(Z,se,A[se])}catch{Z[se]=A[se]}}}},function(j){j.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(j,Q,v){"use strict";var O=v(9),V=v(70),A=v(99),L=v(25),P=v(178),N="Array Iterator",W=L.set,Y=L.getterFor(N);j.exports=P(Array,"Array",function(G,ne){W(this,{type:N,target:O(G),index:0,kind:ne})},function(){var G=Y(this),ne=G.target,Z=G.kind,se=G.index++;return!ne||se>=ne.length?(G.target=void 0,{value:void 0,done:!0}):"keys"==Z?{value:se,done:!1}:"values"==Z?{value:ne[se],done:!1}:{value:[se,ne[se]],done:!1}},"values"),A.Arguments=A.Array,V("keys"),V("values"),V("entries")},function(j,Q,v){var O=v(2),V=v(3),A=v(109);O({global:!0,bind:!0,enumerable:!0,forced:!V.setImmediate||!V.clearImmediate},{setImmediate:A.set,clearImmediate:A.clear})},function(j,Q,v){var O=v(2),V=v(3),A=v(112),L=v(11),P=V.process,N="process"==L(P);O({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(W){var Y=N&&P.domain;A(Y?Y.bind(W):W)}})},function(j,Q,v){"use strict";v(285);var O,V=v(2),A=v(5),L=v(286),P=v(3),N=v(72),W=v(21),Y=v(80),G=v(15),ne=v(95),Z=v(287),se=v(136).codeAt,fe=v(288),me=v(88),we=v(289),Ze=v(25),ot=P.URL,wt=we.URLSearchParams,ht=we.getState,pt=Ze.set,mt=Ze.getterFor("URL"),vt=Math.floor,Je=Math.pow,st="Invalid scheme",Fe="Invalid host",ze="Invalid port",Dt=/[A-Za-z]/,jt=/[\d+\-.A-Za-z]/,Tt=/\d/,yn=/^(0x|0X)/,Le=/^[0-7]+$/,gt=/^\d+$/,St=/^[\dA-Fa-f]+$/,Et=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,bn=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,on=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,On=/[\u0009\u000A\u000D]/g,ki=function(De,Xe){var Lt,_t,Rt;if("["==Xe.charAt(0)){if("]"!=Xe.charAt(Xe.length-1)||!(Lt=Wn(Xe.slice(1,-1))))return Fe;De.host=Lt}else if(Zt(De)){if(Xe=fe(Xe),Et.test(Xe)||null===(Lt=Ui(Xe)))return Fe;De.host=Lt}else{if(bn.test(Xe))return Fe;for(Lt="",_t=Z(Xe),Rt=0;Rt<_t.length;Rt++)Lt+=kn(_t[Rt],Xn);De.host=Lt}},Ui=function(De){var Xe,Lt,_t,Rt,zt,tt,ct,Pt=De.split(".");if(Pt.length&&""==Pt[Pt.length-1]&&Pt.pop(),(Xe=Pt.length)>4)return De;for(Lt=[],_t=0;_t<Xe;_t++){if(""==(Rt=Pt[_t]))return De;if(zt=10,Rt.length>1&&"0"==Rt.charAt(0)&&(zt=yn.test(Rt)?16:8,Rt=Rt.slice(8==zt?1:2)),""===Rt)tt=0;else{if(!(10==zt?gt:8==zt?Le:St).test(Rt))return De;tt=parseInt(Rt,zt)}Lt.push(tt)}for(_t=0;_t<Xe;_t++)if(tt=Lt[_t],_t==Xe-1){if(tt>=Je(256,5-Xe))return null}else if(tt>255)return null;for(ct=Lt.pop(),_t=0;_t<Lt.length;_t++)ct+=Lt[_t]*Je(256,3-_t);return ct},Wn=function(De){var Xe,Lt,_t,Rt,zt,tt,ct,Pt=[0,0,0,0,0,0,0,0],kt=0,Rn=null,fn=0,Ai=function(){return De.charAt(fn)};if(":"==Ai()){if(":"!=De.charAt(1))return;fn+=2,Rn=++kt}for(;Ai();){if(8==kt)return;if(":"!=Ai()){for(Xe=Lt=0;Lt<4&&St.test(Ai());)Xe=16*Xe+parseInt(Ai(),16),fn++,Lt++;if("."==Ai()){if(0==Lt||(fn-=Lt,kt>6))return;for(_t=0;Ai();){if(Rt=null,_t>0){if(!("."==Ai()&&_t<4))return;fn++}if(!Tt.test(Ai()))return;for(;Tt.test(Ai());){if(zt=parseInt(Ai(),10),null===Rt)Rt=zt;else{if(0==Rt)return;Rt=10*Rt+zt}if(Rt>255)return;fn++}Pt[kt]=256*Pt[kt]+Rt,2!=++_t&&4!=_t||kt++}if(4!=_t)return;break}if(":"==Ai()){if(fn++,!Ai())return}else if(Ai())return;Pt[kt++]=Xe}else{if(null!==Rn)return;fn++,Rn=++kt}}if(null!==Rn)for(tt=kt-Rn,kt=7;0!=kt&&tt>0;)ct=Pt[kt],Pt[kt--]=Pt[Rn+tt-1],Pt[Rn+--tt]=ct;else if(8!=kt)return;return Pt},ei=function(De){var Xe,Lt,_t,Rt;if("number"==typeof De){for(Xe=[],Lt=0;Lt<4;Lt++)Xe.unshift(De%256),De=vt(De/256);return Xe.join(".")}if("object"==typeof De){for(Xe="",_t=function(zt){for(var tt=null,ct=1,Pt=null,kt=0,Rn=0;Rn<8;Rn++)0!==zt[Rn]?(kt>ct&&(tt=Pt,ct=kt),Pt=null,kt=0):(null===Pt&&(Pt=Rn),++kt);return kt>ct&&(tt=Pt,ct=kt),tt}(De),Lt=0;Lt<8;Lt++)Rt&&0===De[Lt]||(Rt&&(Rt=!1),_t===Lt?(Xe+=Lt?":":"::",Rt=!0):(Xe+=De[Lt].toString(16),Lt<7&&(Xe+=":")));return"["+Xe+"]"}return De},Xn={},qn=ne({},Xn,{" ":1,'"':1,"<":1,">":1,"`":1}),An=ne({},qn,{"#":1,"?":1,"{":1,"}":1}),Jn=ne({},An,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),kn=function(De,Xe){var Lt=se(De,0);return Lt>32&&Lt<127&&!G(Xe,De)?De:encodeURIComponent(De)},Gt={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Zt=function(De){return G(Gt,De.scheme)},fi=function(De){return""!=De.username||""!=De.password},Bi=function(De){return!De.host||De.cannotBeABaseURL||"file"==De.scheme},gi=function(De,Xe){var Lt;return 2==De.length&&Dt.test(De.charAt(0))&&(":"==(Lt=De.charAt(1))||!Xe&&"|"==Lt)},Di=function(De){var Xe;return De.length>1&&gi(De.slice(0,2))&&(2==De.length||"/"===(Xe=De.charAt(2))||"\\"===Xe||"?"===Xe||"#"===Xe)},nr=function(De){var Xe=De.path,Lt=Xe.length;!Lt||"file"==De.scheme&&1==Lt&&gi(Xe[0],!0)||Xe.pop()},Ao=function(De){return"."===De||"%2e"===De.toLowerCase()},Pr={},Qr={},zi={},Qn={},jn={},ai={},mi={},wi={},sr={},gr={},_r={},Lr={},Tr={},mo={},Jr={},Io={},Wo={},oo={},To={},Ts={},$o={},pr=function(De,Xe,Lt,_t){var Rt,zt,tt,ct,Pt,kt=Lt||Pr,Rn=0,fn="",Ai=!1,Pi=!1,vi=!1;for(Lt||(De.scheme="",De.username="",De.password="",De.host=null,De.port=null,De.path=[],De.query=null,De.fragment=null,De.cannotBeABaseURL=!1,Xe=Xe.replace(on,"")),Xe=Xe.replace(On,""),Rt=Z(Xe);Rn<=Rt.length;){switch(zt=Rt[Rn],kt){case Pr:if(!zt||!Dt.test(zt)){if(Lt)return st;kt=zi;continue}fn+=zt.toLowerCase(),kt=Qr;break;case Qr:if(zt&&(jt.test(zt)||"+"==zt||"-"==zt||"."==zt))fn+=zt.toLowerCase();else{if(":"!=zt){if(Lt)return st;fn="",kt=zi,Rn=0;continue}if(Lt&&(Zt(De)!=G(Gt,fn)||"file"==fn&&(fi(De)||null!==De.port)||"file"==De.scheme&&!De.host))return;if(De.scheme=fn,Lt)return void(Zt(De)&&Gt[De.scheme]==De.port&&(De.port=null));fn="","file"==De.scheme?kt=mo:Zt(De)&&_t&&_t.scheme==De.scheme?kt=Qn:Zt(De)?kt=wi:"/"==Rt[Rn+1]?(kt=jn,Rn++):(De.cannotBeABaseURL=!0,De.path.push(""),kt=To)}break;case zi:if(!_t||_t.cannotBeABaseURL&&"#"!=zt)return st;if(_t.cannotBeABaseURL&&"#"==zt){De.scheme=_t.scheme,De.path=_t.path.slice(),De.query=_t.query,De.fragment="",De.cannotBeABaseURL=!0,kt=$o;break}kt="file"==_t.scheme?mo:ai;continue;case Qn:if("/"!=zt||"/"!=Rt[Rn+1]){kt=ai;continue}kt=sr,Rn++;break;case jn:if("/"==zt){kt=gr;break}kt=oo;continue;case ai:if(De.scheme=_t.scheme,zt==O)De.username=_t.username,De.password=_t.password,De.host=_t.host,De.port=_t.port,De.path=_t.path.slice(),De.query=_t.query;else if("/"==zt||"\\"==zt&&Zt(De))kt=mi;else if("?"==zt)De.username=_t.username,De.password=_t.password,De.host=_t.host,De.port=_t.port,De.path=_t.path.slice(),De.query="",kt=Ts;else{if("#"!=zt){De.username=_t.username,De.password=_t.password,De.host=_t.host,De.port=_t.port,De.path=_t.path.slice(),De.path.pop(),kt=oo;continue}De.username=_t.username,De.password=_t.password,De.host=_t.host,De.port=_t.port,De.path=_t.path.slice(),De.query=_t.query,De.fragment="",kt=$o}break;case mi:if(!Zt(De)||"/"!=zt&&"\\"!=zt){if("/"!=zt){De.username=_t.username,De.password=_t.password,De.host=_t.host,De.port=_t.port,kt=oo;continue}kt=gr}else kt=sr;break;case wi:if(kt=sr,"/"!=zt||"/"!=fn.charAt(Rn+1))continue;Rn++;break;case sr:if("/"!=zt&&"\\"!=zt){kt=gr;continue}break;case gr:if("@"==zt){Ai&&(fn="%40"+fn),Ai=!0,tt=Z(fn);for(var ir=0;ir<tt.length;ir++){var Wi=tt[ir];if(":"!=Wi||vi){var Or=kn(Wi,Jn);vi?De.password+=Or:De.username+=Or}else vi=!0}fn=""}else if(zt==O||"/"==zt||"?"==zt||"#"==zt||"\\"==zt&&Zt(De)){if(Ai&&""==fn)return"Invalid authority";Rn-=Z(fn).length+1,fn="",kt=_r}else fn+=zt;break;case _r:case Lr:if(Lt&&"file"==De.scheme){kt=Io;continue}if(":"!=zt||Pi){if(zt==O||"/"==zt||"?"==zt||"#"==zt||"\\"==zt&&Zt(De)){if(Zt(De)&&""==fn)return Fe;if(Lt&&""==fn&&(fi(De)||null!==De.port))return;if(ct=ki(De,fn))return ct;if(fn="",kt=Wo,Lt)return;continue}"["==zt?Pi=!0:"]"==zt&&(Pi=!1),fn+=zt}else{if(""==fn)return Fe;if(ct=ki(De,fn))return ct;if(fn="",kt=Tr,Lt==Lr)return}break;case Tr:if(!Tt.test(zt)){if(zt==O||"/"==zt||"?"==zt||"#"==zt||"\\"==zt&&Zt(De)||Lt){if(""!=fn){var Br=parseInt(fn,10);if(Br>65535)return ze;De.port=Zt(De)&&Br===Gt[De.scheme]?null:Br,fn=""}if(Lt)return;kt=Wo;continue}return ze}fn+=zt;break;case mo:if(De.scheme="file","/"==zt||"\\"==zt)kt=Jr;else{if(!_t||"file"!=_t.scheme){kt=oo;continue}if(zt==O)De.host=_t.host,De.path=_t.path.slice(),De.query=_t.query;else if("?"==zt)De.host=_t.host,De.path=_t.path.slice(),De.query="",kt=Ts;else{if("#"!=zt){Di(Rt.slice(Rn).join(""))||(De.host=_t.host,De.path=_t.path.slice(),nr(De)),kt=oo;continue}De.host=_t.host,De.path=_t.path.slice(),De.query=_t.query,De.fragment="",kt=$o}}break;case Jr:if("/"==zt||"\\"==zt){kt=Io;break}_t&&"file"==_t.scheme&&!Di(Rt.slice(Rn).join(""))&&(gi(_t.path[0],!0)?De.path.push(_t.path[0]):De.host=_t.host),kt=oo;continue;case Io:if(zt==O||"/"==zt||"\\"==zt||"?"==zt||"#"==zt){if(!Lt&&gi(fn))kt=oo;else if(""==fn){if(De.host="",Lt)return;kt=Wo}else{if(ct=ki(De,fn))return ct;if("localhost"==De.host&&(De.host=""),Lt)return;fn="",kt=Wo}continue}fn+=zt;break;case Wo:if(Zt(De)){if(kt=oo,"/"!=zt&&"\\"!=zt)continue}else if(Lt||"?"!=zt)if(Lt||"#"!=zt){if(zt!=O&&(kt=oo,"/"!=zt))continue}else De.fragment="",kt=$o;else De.query="",kt=Ts;break;case oo:if(zt==O||"/"==zt||"\\"==zt&&Zt(De)||!Lt&&("?"==zt||"#"==zt)){if(".."===(Pt=(Pt=fn).toLowerCase())||"%2e."===Pt||".%2e"===Pt||"%2e%2e"===Pt?(nr(De),"/"==zt||"\\"==zt&&Zt(De)||De.path.push("")):Ao(fn)?"/"==zt||"\\"==zt&&Zt(De)||De.path.push(""):("file"==De.scheme&&!De.path.length&&gi(fn)&&(De.host&&(De.host=""),fn=fn.charAt(0)+":"),De.path.push(fn)),fn="","file"==De.scheme&&(zt==O||"?"==zt||"#"==zt))for(;De.path.length>1&&""===De.path[0];)De.path.shift();"?"==zt?(De.query="",kt=Ts):"#"==zt&&(De.fragment="",kt=$o)}else fn+=kn(zt,An);break;case To:"?"==zt?(De.query="",kt=Ts):"#"==zt?(De.fragment="",kt=$o):zt!=O&&(De.path[0]+=kn(zt,Xn));break;case Ts:Lt||"#"!=zt?zt!=O&&("'"==zt&&Zt(De)?De.query+="%27":De.query+="#"==zt?"%23":kn(zt,Xn)):(De.fragment="",kt=$o);break;case $o:zt!=O&&(De.fragment+=kn(zt,qn))}Rn++}},Ss=function(De){var Xe,Lt,_t=Y(this,Ss,"URL"),Rt=arguments.length>1?arguments[1]:void 0,zt=String(De),tt=pt(_t,{type:"URL"});if(void 0!==Rt)if(Rt instanceof Ss)Xe=mt(Rt);else if(Lt=pr(Xe={},String(Rt)))throw TypeError(Lt);if(Lt=pr(tt,zt,null,Xe))throw TypeError(Lt);var ct=tt.searchParams=new wt,Pt=ht(ct);Pt.updateSearchParams(tt.query),Pt.updateURL=function(){tt.query=String(ct)||null},A||(_t.href=U.call(_t),_t.origin=K.call(_t),_t.protocol=$.call(_t),_t.username=he.call(_t),_t.password=de.call(_t),_t.host=Pe.call(_t),_t.hostname=Qe.call(_t),_t.port=ge.call(_t),_t.pathname=Ve.call(_t),_t.search=We.call(_t),_t.searchParams=hn.call(_t),_t.hash=Jt.call(_t))},so=Ss.prototype,U=function(){var De=mt(this),Xe=De.scheme,Lt=De.username,_t=De.password,Rt=De.host,zt=De.port,tt=De.path,ct=De.query,Pt=De.fragment,kt=Xe+":";return null!==Rt?(kt+="//",fi(De)&&(kt+=Lt+(_t?":"+_t:"")+"@"),kt+=ei(Rt),null!==zt&&(kt+=":"+zt)):"file"==Xe&&(kt+="//"),kt+=De.cannotBeABaseURL?tt[0]:tt.length?"/"+tt.join("/"):"",null!==ct&&(kt+="?"+ct),null!==Pt&&(kt+="#"+Pt),kt},K=function(){var De=mt(this),Xe=De.scheme,Lt=De.port;if("blob"==Xe)try{return new URL(Xe.path[0]).origin}catch{return"null"}return"file"!=Xe&&Zt(De)?Xe+"://"+ei(De.host)+(null!==Lt?":"+Lt:""):"null"},$=function(){return mt(this).scheme+":"},he=function(){return mt(this).username},de=function(){return mt(this).password},Pe=function(){var De=mt(this),Xe=De.host,Lt=De.port;return null===Xe?"":null===Lt?ei(Xe):ei(Xe)+":"+Lt},Qe=function(){var De=mt(this).host;return null===De?"":ei(De)},ge=function(){var De=mt(this).port;return null===De?"":String(De)},Ve=function(){var De=mt(this),Xe=De.path;return De.cannotBeABaseURL?Xe[0]:Xe.length?"/"+Xe.join("/"):""},We=function(){var De=mt(this).query;return De?"?"+De:""},hn=function(){return mt(this).searchParams},Jt=function(){var De=mt(this).fragment;return De?"#"+De:""},Ut=function(De,Xe){return{get:De,set:Xe,configurable:!0,enumerable:!0}};if(A&&N(so,{href:Ut(U,function(De){var Xe=mt(this),Lt=String(De),_t=pr(Xe,Lt);if(_t)throw TypeError(_t);ht(Xe.searchParams).updateSearchParams(Xe.query)}),origin:Ut(K),protocol:Ut($,function(De){var Xe=mt(this);pr(Xe,String(De)+":",Pr)}),username:Ut(he,function(De){var Xe=mt(this),Lt=Z(String(De));if(!Bi(Xe)){Xe.username="";for(var _t=0;_t<Lt.length;_t++)Xe.username+=kn(Lt[_t],Jn)}}),password:Ut(de,function(De){var Xe=mt(this),Lt=Z(String(De));if(!Bi(Xe)){Xe.password="";for(var _t=0;_t<Lt.length;_t++)Xe.password+=kn(Lt[_t],Jn)}}),host:Ut(Pe,function(De){var Xe=mt(this);Xe.cannotBeABaseURL||pr(Xe,String(De),_r)}),hostname:Ut(Qe,function(De){var Xe=mt(this);Xe.cannotBeABaseURL||pr(Xe,String(De),Lr)}),port:Ut(ge,function(De){var Xe=mt(this);Bi(Xe)||(""==(De=String(De))?Xe.port=null:pr(Xe,De,Tr))}),pathname:Ut(Ve,function(De){var Xe=mt(this);Xe.cannotBeABaseURL||(Xe.path=[],pr(Xe,De+"",Wo))}),search:Ut(We,function(De){var Xe=mt(this);""==(De=String(De))?Xe.query=null:("?"==De.charAt(0)&&(De=De.slice(1)),Xe.query="",pr(Xe,De,Ts)),ht(Xe.searchParams).updateSearchParams(Xe.query)}),searchParams:Ut(hn),hash:Ut(Jt,function(De){var Xe=mt(this);""!=(De=String(De))?("#"==De.charAt(0)&&(De=De.slice(1)),Xe.fragment="",pr(Xe,De,$o)):Xe.fragment=null})}),W(so,"toJSON",function(){return U.call(this)},{enumerable:!0}),W(so,"toString",function(){return U.call(this)},{enumerable:!0}),ot){var En=ot.createObjectURL,ri=ot.revokeObjectURL;En&&W(Ss,"createObjectURL",function(De){return En.apply(ot,arguments)}),ri&&W(Ss,"revokeObjectURL",function(De){return ri.apply(ot,arguments)})}me(Ss,"URL"),V({global:!0,forced:!L,sham:!A},{URL:Ss})},function(j,Q,v){"use strict";var O=v(136).charAt,V=v(25),A=v(178),L="String Iterator",P=V.set,N=V.getterFor(L);A(String,"String",function(W){P(this,{type:L,string:String(W),index:0})},function(){var W,Y=N(this),G=Y.string,ne=Y.index;return ne>=G.length?{value:void 0,done:!0}:(W=O(G,ne),Y.index+=W.length,{value:W,done:!1})})},function(j,Q,v){var O=v(6),V=v(48),A=v(29),L=V("iterator");j.exports=!O(function(){var P=new URL("b?a=1&b=2&c=3","http://a"),N=P.searchParams,W="";return P.pathname="c%20d",N.forEach(function(Y,G){N.delete("b"),W+=G+Y}),A&&!P.toJSON||!N.sort||"http://a/c%20d?a=1&c=3"!==P.href||"3"!==N.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!N[L]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==W||"x"!==new URL("http://x",void 0).host})},function(j,Q,v){"use strict";var O=v(58),V=v(60),A=v(103),L=v(98),P=v(39),N=v(104),W=v(100);j.exports=function(Y){var G,ne,Z,se,fe,me,we=V(Y),Ze="function"==typeof this?this:Array,ot=arguments.length,wt=ot>1?arguments[1]:void 0,ht=void 0!==wt,pt=W(we),mt=0;if(ht&&(wt=O(wt,ot>2?arguments[2]:void 0,2)),null==pt||Ze==Array&&L(pt))for(ne=new Ze(G=P(we.length));G>mt;mt++)me=ht?wt(we[mt],mt):we[mt],N(ne,mt,me);else for(fe=(se=pt.call(we)).next,ne=new Ze;!(Z=fe.call(se)).done;mt++)me=ht?A(se,wt,[Z.value,mt],!0):Z.value,N(ne,mt,me);return ne.length=mt,ne}},function(j){"use strict";var Q=2147483647,v=/[^\0-\u007E]/,O=/[.\u3002\uFF0E\uFF61]/g,V="Overflow: input needs wider integers to process",A=Math.floor,L=String.fromCharCode,P=function(Y){return Y+22+75*(Y<26)},N=function(Y,G,ne){var Z=0;for(Y=ne?A(Y/700):Y>>1,Y+=A(Y/G);Y>455;Z+=36)Y=A(Y/35);return A(Z+36*Y/(Y+38))},W=function(Y){var G,ne,Z=[],se=(Y=function(Fe){for(var ze=[],Dt=0,jt=Fe.length;Dt<jt;){var Tt=Fe.charCodeAt(Dt++);if(Tt>=55296&&Tt<=56319&&Dt<jt){var yn=Fe.charCodeAt(Dt++);56320==(64512&yn)?ze.push(((1023&Tt)<<10)+(1023&yn)+65536):(ze.push(Tt),Dt--)}else ze.push(Tt)}return ze}(Y)).length,fe=128,me=0,we=72;for(G=0;G<Y.length;G++)(ne=Y[G])<128&&Z.push(L(ne));var Ze=Z.length,ot=Ze;for(Ze&&Z.push("-");ot<se;){var wt=Q;for(G=0;G<Y.length;G++)(ne=Y[G])>=fe&&ne<wt&&(wt=ne);var ht=ot+1;if(wt-fe>A((Q-me)/ht))throw RangeError(V);for(me+=(wt-fe)*ht,fe=wt,G=0;G<Y.length;G++){if((ne=Y[G])<fe&&++me>Q)throw RangeError(V);if(ne==fe){for(var pt=me,mt=36;;mt+=36){var vt=mt<=we?1:mt>=we+26?26:mt-we;if(pt<vt)break;var Je=pt-vt,st=36-vt;Z.push(L(P(vt+Je%st))),pt=A(Je/st)}Z.push(L(P(pt))),we=N(me,ht,ot==Ze),me=0,++ot}}++me,++fe}return Z.join("")};j.exports=function(Y){var G,ne,Z=[],se=Y.toLowerCase().replace(O,".").split(".");for(G=0;G<se.length;G++)Z.push(v.test(ne=se[G])?"xn--"+W(ne):ne);return Z.join(".")}},function(j,Q,v){"use strict";v(281);var O=v(2),V=v(34),A=v(286),L=v(21),P=v(79),N=v(88),W=v(179),Y=v(25),G=v(80),ne=v(15),Z=v(58),se=v(101),fe=v(20),me=v(14),we=v(71),Ze=v(8),ot=v(190),wt=v(100),ht=v(48),pt=V("fetch"),mt=V("Headers"),vt=ht("iterator"),Je="URLSearchParams",st="URLSearchParamsIterator",Fe=Y.set,ze=Y.getterFor(Je),Dt=Y.getterFor(st),jt=/\+/g,Tt=Array(4),yn=function(qn){return Tt[qn-1]||(Tt[qn-1]=RegExp("((?:%[\\da-f]{2}){"+qn+"})","gi"))},Le=function(qn){try{return decodeURIComponent(qn)}catch{return qn}},gt=function(qn){var An=qn.replace(jt," "),Jn=4;try{return decodeURIComponent(An)}catch{for(;Jn;)An=An.replace(yn(Jn--),Le);return An}},St=/[!'()~]|%20/g,Et={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},bn=function(qn){return Et[qn]},on=function(qn){return encodeURIComponent(qn).replace(St,bn)},On=function(qn,An){if(An)for(var Jn,kn,Gt=An.split("&"),Zt=0;Zt<Gt.length;)(Jn=Gt[Zt++]).length&&(kn=Jn.split("="),qn.push({key:gt(kn.shift()),value:gt(kn.join("="))}))},ki=function(qn){this.entries.length=0,On(this.entries,qn)},Ui=function(qn,An){if(qn<An)throw TypeError("Not enough arguments")},Wn=W(function(qn,An){Fe(this,{type:st,iterator:ot(ze(qn).entries),kind:An})},"Iterator",function(){var qn=Dt(this),An=qn.kind,Jn=qn.iterator.next(),kn=Jn.value;return Jn.done||(Jn.value="keys"===An?kn.key:"values"===An?kn.value:[kn.key,kn.value]),Jn}),ei=function(){G(this,ei,Je);var qn,An,Jn,kn,Gt,Zt,fi,Bi,gi,Di=arguments.length>0?arguments[0]:void 0,Ao=[];if(Fe(this,{type:Je,entries:Ao,updateURL:function(){},updateSearchParams:ki}),void 0!==Di)if(me(Di))if("function"==typeof(qn=wt(Di)))for(Jn=(An=qn.call(Di)).next;!(kn=Jn.call(An)).done;){if((fi=(Zt=(Gt=ot(fe(kn.value))).next).call(Gt)).done||(Bi=Zt.call(Gt)).done||!Zt.call(Gt).done)throw TypeError("Expected sequence with length 2");Ao.push({key:fi.value+"",value:Bi.value+""})}else for(gi in Di)ne(Di,gi)&&Ao.push({key:gi,value:Di[gi]+""});else On(Ao,"string"==typeof Di?"?"===Di.charAt(0)?Di.slice(1):Di:Di+"")},Xn=ei.prototype;P(Xn,{append:function(qn,An){Ui(arguments.length,2);var Jn=ze(this);Jn.entries.push({key:qn+"",value:An+""}),Jn.updateURL()},delete:function(qn){Ui(arguments.length,1);for(var An=ze(this),Jn=An.entries,kn=qn+"",Gt=0;Gt<Jn.length;)Jn[Gt].key===kn?Jn.splice(Gt,1):Gt++;An.updateURL()},get:function(qn){Ui(arguments.length,1);for(var An=ze(this).entries,Jn=qn+"",kn=0;kn<An.length;kn++)if(An[kn].key===Jn)return An[kn].value;return null},getAll:function(qn){Ui(arguments.length,1);for(var An=ze(this).entries,Jn=qn+"",kn=[],Gt=0;Gt<An.length;Gt++)An[Gt].key===Jn&&kn.push(An[Gt].value);return kn},has:function(qn){Ui(arguments.length,1);for(var An=ze(this).entries,Jn=qn+"",kn=0;kn<An.length;)if(An[kn++].key===Jn)return!0;return!1},set:function(qn,An){Ui(arguments.length,1);for(var Jn,kn=ze(this),Gt=kn.entries,Zt=!1,fi=qn+"",Bi=An+"",gi=0;gi<Gt.length;gi++)(Jn=Gt[gi]).key===fi&&(Zt?Gt.splice(gi--,1):(Zt=!0,Jn.value=Bi));Zt||Gt.push({key:fi,value:Bi}),kn.updateURL()},sort:function(){var qn,An,Jn,kn=ze(this),Gt=kn.entries,Zt=Gt.slice();for(Gt.length=0,Jn=0;Jn<Zt.length;Jn++){for(qn=Zt[Jn],An=0;An<Jn;An++)if(Gt[An].key>qn.key){Gt.splice(An,0,qn);break}An===Jn&&Gt.push(qn)}kn.updateURL()},forEach:function(qn){for(var An,Jn=ze(this).entries,kn=Z(qn,arguments.length>1?arguments[1]:void 0,3),Gt=0;Gt<Jn.length;)kn((An=Jn[Gt++]).value,An.key,this)},keys:function(){return new Wn(this,"keys")},values:function(){return new Wn(this,"values")},entries:function(){return new Wn(this,"entries")}},{enumerable:!0}),L(Xn,vt,Xn.entries),L(Xn,"toString",function(){for(var qn,An=ze(this).entries,Jn=[],kn=0;kn<An.length;)qn=An[kn++],Jn.push(on(qn.key)+"="+on(qn.value));return Jn.join("&")},{enumerable:!0}),N(ei,Je),O({global:!0,forced:!A},{URLSearchParams:ei}),A||"function"!=typeof pt||"function"!=typeof mt||O({global:!0,enumerable:!0,forced:!0},{fetch:function(qn){var An,Jn,kn,Gt=[qn];return arguments.length>1&&(me(An=arguments[1])&&se(Jn=An.body)===Je&&((kn=An.headers?new mt(An.headers):new mt).has("content-type")||kn.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),An=we(An,{body:Ze(0,String(Jn)),headers:Ze(0,kn)})),Gt.push(An)),pt.apply(this,Gt)}}),j.exports={URLSearchParams:ei,getState:ze}},function(j,Q,v){"use strict";v(2)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},function(j){j.exports=function(){"use strict";var Q,v,O;function V(A,L){if(Q)if(v){var P="var sharedChunk = {}; ("+Q+")(sharedChunk); ("+v+")(sharedChunk);",N={};Q(N),O=L(N),typeof window<"u"&&(O.workerUrl=window.URL.createObjectURL(new Blob([P],{type:"text/javascript"})))}else v=L;else Q=L}return V(0,function(A){function L(a,l){return a(l={exports:{}},l.exports),l.exports}var P=N;function N(a,l,d,m){this.cx=3*a,this.bx=3*(d-a)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*l,this.by=3*(m-l)-this.cy,this.ay=1-this.cy-this.by,this.p1x=a,this.p1y=m,this.p2x=d,this.p2y=m}N.prototype.sampleCurveX=function(a){return((this.ax*a+this.bx)*a+this.cx)*a},N.prototype.sampleCurveY=function(a){return((this.ay*a+this.by)*a+this.cy)*a},N.prototype.sampleCurveDerivativeX=function(a){return(3*this.ax*a+2*this.bx)*a+this.cx},N.prototype.solveCurveX=function(a,l){var d,m,b,E,S;for(void 0===l&&(l=1e-6),b=a,S=0;S<8;S++){if(E=this.sampleCurveX(b)-a,Math.abs(E)<l)return b;var B=this.sampleCurveDerivativeX(b);if(Math.abs(B)<1e-6)break;b-=E/B}if((b=a)<(d=0))return d;if(b>(m=1))return m;for(;d<m;){if(E=this.sampleCurveX(b),Math.abs(E-a)<l)return b;a>E?d=b:m=b,b=.5*(m-d)+d}return b},N.prototype.solve=function(a,l){return this.sampleCurveY(this.solveCurveX(a,l))};var W=Y;function Y(a,l){this.x=a,this.y=l}Y.prototype={clone:function(){return new Y(this.x,this.y)},add:function(a){return this.clone()._add(a)},sub:function(a){return this.clone()._sub(a)},multByPoint:function(a){return this.clone()._multByPoint(a)},divByPoint:function(a){return this.clone()._divByPoint(a)},mult:function(a){return this.clone()._mult(a)},div:function(a){return this.clone()._div(a)},rotate:function(a){return this.clone()._rotate(a)},rotateAround:function(a,l){return this.clone()._rotateAround(a,l)},matMult:function(a){return this.clone()._matMult(a)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(a){return this.x===a.x&&this.y===a.y},dist:function(a){return Math.sqrt(this.distSqr(a))},distSqr:function(a){var l=a.x-this.x,d=a.y-this.y;return l*l+d*d},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(a){return Math.atan2(this.y-a.y,this.x-a.x)},angleWith:function(a){return this.angleWithSep(a.x,a.y)},angleWithSep:function(a,l){return Math.atan2(this.x*l-this.y*a,this.x*a+this.y*l)},_matMult:function(a){var l=a[2]*this.x+a[3]*this.y;return this.x=a[0]*this.x+a[1]*this.y,this.y=l,this},_add:function(a){return this.x+=a.x,this.y+=a.y,this},_sub:function(a){return this.x-=a.x,this.y-=a.y,this},_mult:function(a){return this.x*=a,this.y*=a,this},_div:function(a){return this.x/=a,this.y/=a,this},_multByPoint:function(a){return this.x*=a.x,this.y*=a.y,this},_divByPoint:function(a){return this.x/=a.x,this.y/=a.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var a=this.y;return this.y=this.x,this.x=-a,this},_rotate:function(a){var l=Math.cos(a),d=Math.sin(a),m=d*this.x+l*this.y;return this.x=l*this.x-d*this.y,this.y=m,this},_rotateAround:function(a,l){var d=Math.cos(a),m=Math.sin(a),b=l.y+m*(this.x-l.x)+d*(this.y-l.y);return this.x=l.x+d*(this.x-l.x)-m*(this.y-l.y),this.y=b,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},Y.convert=function(a){return a instanceof Y?a:Array.isArray(a)?new Y(a[0],a[1]):a};var G=typeof self<"u"?self:{},ne=Math.pow(2,53)-1;function Z(a,l,d,m){var b=new P(a,l,d,m);return function(E){return b.solve(E)}}var se=Z(.25,.1,.25,1);function fe(a,l,d){return Math.min(d,Math.max(l,a))}function me(a,l,d){var m=d-l,b=((a-l)%m+m)%m+l;return b===l?d:b}function we(a){for(var l=[],d=arguments.length-1;d-- >0;)l[d]=arguments[d+1];for(var m=0,b=l;m<b.length;m+=1){var E=b[m];for(var S in E)a[S]=E[S]}return a}var Ze=1;function ot(){return Ze++}function wt(){return function a(l){return l?(l^16*Math.random()>>l/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,a)}()}function ht(a){return!!a&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(a)}function pt(a,l){a.forEach(function(d){l[d]&&(l[d]=l[d].bind(l))})}function mt(a,l){return-1!==a.indexOf(l,a.length-l.length)}function vt(a,l,d){var m={};for(var b in a)m[b]=l.call(d||this,a[b],b,a);return m}function Je(a,l,d){var m={};for(var b in a)l.call(d||this,a[b],b,a)&&(m[b]=a[b]);return m}function st(a){return Array.isArray(a)?a.map(st):"object"==typeof a&&a?vt(a,st):a}var Fe={};function ze(a){Fe[a]||(typeof console<"u"&&console.warn(a),Fe[a]=!0)}function Dt(a,l,d){return(d.y-a.y)*(l.x-a.x)>(l.y-a.y)*(d.x-a.x)}function jt(a){for(var l=0,d=0,m=a.length,b=m-1,E=void 0,S=void 0;d<m;b=d++)l+=((S=a[b]).x-(E=a[d]).x)*(E.y+S.y);return l}function Tt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function yn(a){var l={};if(a.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(m,b,E,S){var B=E||S;return l[b]=!B||B.toLowerCase(),""}),l["max-age"]){var d=parseInt(l["max-age"],10);isNaN(d)?delete l["max-age"]:l["max-age"]=d}return l}var Le=null;function gt(a){if(null==Le){var l=a.navigator?a.navigator.userAgent:null;Le=!!a.safari||!(!l||!(/\b(iPad|iPhone|iPod)\b/.test(l)||l.match("Safari")&&!l.match("Chrome")))}return Le}function St(a){try{var l=G[a];return l.setItem("_mapbox_test_",1),l.removeItem("_mapbox_test_"),!0}catch{return!1}}var Et,bn,on,On,ki=G.performance&&G.performance.now?G.performance.now.bind(G.performance):Date.now.bind(Date),Ui=G.requestAnimationFrame||G.mozRequestAnimationFrame||G.webkitRequestAnimationFrame||G.msRequestAnimationFrame,Wn=G.cancelAnimationFrame||G.mozCancelAnimationFrame||G.webkitCancelAnimationFrame||G.msCancelAnimationFrame,ei={now:ki,frame:function(a){var l=Ui(a);return{cancel:function(){return Wn(l)}}},getImageData:function(a,l){void 0===l&&(l=0);var d=G.document.createElement("canvas"),m=d.getContext("2d");if(!m)throw new Error("failed to create canvas 2d context");return d.width=a.width,d.height=a.height,m.drawImage(a,0,0,a.width,a.height),m.getImageData(-l,-l,a.width+2*l,a.height+2*l)},resolveURL:function(a){return Et||(Et=G.document.createElement("a")),Et.href=a,Et.href},hardwareConcurrency:G.navigator&&G.navigator.hardwareConcurrency||4,get devicePixelRatio(){return G.devicePixelRatio},get prefersReducedMotion(){return!!G.matchMedia&&(null==bn&&(bn=G.matchMedia("(prefers-reduced-motion: reduce)")),bn.matches)}},Xn={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},qn={supported:!1,testSupport:function(a){!An&&On&&(Jn?kn(a):on=a)}},An=!1,Jn=!1;function kn(a){var l=a.createTexture();a.bindTexture(a.TEXTURE_2D,l);try{if(a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,On),a.isContextLost())return;qn.supported=!0}catch{}a.deleteTexture(l),An=!0}G.document&&((On=G.document.createElement("img")).onload=function(){on&&kn(on),on=null,Jn=!0},On.onerror=function(){An=!0,on=null},On.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var Gt="01",Zt=function(a,l){this._transformRequestFn=a,this._customAccessToken=l,this._createSkuToken()};function fi(a){return 0===a.indexOf("mapbox:")}Zt.prototype._createSkuToken=function(){var a=function(){for(var l="",d=0;d<10;d++)l+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",Gt,l].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=a.token,this._skuTokenExpiresAt=a.tokenExpiresAt},Zt.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Zt.prototype.transformRequest=function(a,l){return this._transformRequestFn&&this._transformRequestFn(a,l)||{url:a}},Zt.prototype.normalizeStyleURL=function(a,l){if(!fi(a))return a;var d=nr(a);return d.path="/styles/v1"+d.path,this._makeAPIURL(d,this._customAccessToken||l)},Zt.prototype.normalizeGlyphsURL=function(a,l){if(!fi(a))return a;var d=nr(a);return d.path="/fonts/v1"+d.path,this._makeAPIURL(d,this._customAccessToken||l)},Zt.prototype.normalizeSourceURL=function(a,l){if(!fi(a))return a;var d=nr(a);return d.path="/v4/"+d.authority+".json",d.params.push("secure"),this._makeAPIURL(d,this._customAccessToken||l)},Zt.prototype.normalizeSpriteURL=function(a,l,d,m){var b=nr(a);return fi(a)?(b.path="/styles/v1"+b.path+"/sprite"+l+d,this._makeAPIURL(b,this._customAccessToken||m)):(b.path+=""+l+d,Ao(b))},Zt.prototype.normalizeTileURL=function(a,l){if(this._isSkuTokenExpired()&&this._createSkuToken(),a&&!fi(a))return a;var d=nr(a);d.path=d.path.replace(/(\.(png|jpg)\d*)(?=$)/,(ei.devicePixelRatio>=2||512===l?"@2x":"")+(qn.supported?".webp":"$1")),d.path=d.path.replace(/^.+\/v4\//,"/"),d.path="/v4"+d.path;var m=this._customAccessToken||function(b){for(var E=0,S=b;E<S.length;E+=1){var B=S[E].match(/^access_token=(.*)$/);if(B)return B[1]}return null}(d.params)||Xn.ACCESS_TOKEN;return Xn.REQUIRE_ACCESS_TOKEN&&m&&this._skuToken&&d.params.push("sku="+this._skuToken),this._makeAPIURL(d,m)},Zt.prototype.canonicalizeTileURL=function(a,l){var d=nr(a);if(!d.path.match(/(^\/v4\/)/)||!d.path.match(/\.[\w]+$/))return a;var m="mapbox://tiles/";m+=d.path.replace("/v4/","");var b=d.params;return l&&(b=b.filter(function(E){return!E.match(/^access_token=/)})),b.length&&(m+="?"+b.join("&")),m},Zt.prototype.canonicalizeTileset=function(a,l){for(var d=!!l&&fi(l),m=[],b=0,E=a.tiles||[];b<E.length;b+=1){var S=E[b];gi(S)?m.push(this.canonicalizeTileURL(S,d)):m.push(S)}return m},Zt.prototype._makeAPIURL=function(a,l){var d="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",m=nr(Xn.API_URL);if(a.protocol=m.protocol,a.authority=m.authority,"http"===a.protocol){var b=a.params.indexOf("secure");b>=0&&a.params.splice(b,1)}if("/"!==m.path&&(a.path=""+m.path+a.path),!Xn.REQUIRE_ACCESS_TOKEN)return Ao(a);if(!(l=l||Xn.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+d);if("s"===l[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+d);return a.params=a.params.filter(function(E){return-1===E.indexOf("access_token")}),a.params.push("access_token="+l),Ao(a)};var Bi=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function gi(a){return Bi.test(a)}var Di=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function nr(a){var l=a.match(Di);if(!l)throw new Error("Unable to parse URL object");return{protocol:l[1],authority:l[2],path:l[3]||"/",params:l[4]?l[4].split("&"):[]}}function Ao(a){var l=a.params.length?"?"+a.params.join("&"):"";return a.protocol+"://"+a.authority+a.path+l}function Pr(a){if(!a)return null;var l=a.split(".");if(!l||3!==l.length)return null;try{return JSON.parse(decodeURIComponent(G.atob(l[1]).split("").map(function(d){return"%"+("00"+d.charCodeAt(0).toString(16)).slice(-2)}).join("")))}catch{return null}}var Qr=function(a){this.type=a,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};Qr.prototype.getStorageKey=function(a){var l,d=Pr(Xn.ACCESS_TOKEN);return l=d&&d.u?G.btoa(encodeURIComponent(d.u).replace(/%([0-9A-F]{2})/g,function(m,b){return String.fromCharCode(+("0x"+b))})):Xn.ACCESS_TOKEN||"",a?"mapbox.eventData."+a+":"+l:"mapbox.eventData:"+l},Qr.prototype.fetchEventData=function(){var a=St("localStorage"),l=this.getStorageKey(),d=this.getStorageKey("uuid");if(a)try{var m=G.localStorage.getItem(l);m&&(this.eventData=JSON.parse(m));var b=G.localStorage.getItem(d);b&&(this.anonId=b)}catch{ze("Unable to read from LocalStorage")}},Qr.prototype.saveEventData=function(){var a=St("localStorage"),l=this.getStorageKey(),d=this.getStorageKey("uuid");if(a)try{G.localStorage.setItem(d,this.anonId),Object.keys(this.eventData).length>=1&&G.localStorage.setItem(l,JSON.stringify(this.eventData))}catch{ze("Unable to write to LocalStorage")}},Qr.prototype.processRequests=function(a){},Qr.prototype.postEvent=function(a,l,d,m){var b=this;if(Xn.EVENTS_URL){var E=nr(Xn.EVENTS_URL);E.params.push("access_token="+(m||Xn.ACCESS_TOKEN||""));var S={event:this.type,created:new Date(a).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.13.2",skuId:Gt,userId:this.anonId},B=l?we(S,l):S,q={url:Ao(E),headers:{"Content-Type":"text/plain"},body:JSON.stringify([B])};this.pendingRequest=so(q,function(J){b.pendingRequest=null,d(J),b.saveEventData(),b.processRequests(m)})}},Qr.prototype.queueRequest=function(a,l){this.queue.push(a),this.processRequests(l)};var zi,Qn,jn=function(a){function l(){a.call(this,"map.load"),this.success={},this.skuToken=""}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.postMapLoadEvent=function(d,m,b,E){this.skuToken=b,(Xn.EVENTS_URL&&E||Xn.ACCESS_TOKEN&&Array.isArray(d)&&d.some(function(S){return fi(S)||gi(S)}))&&this.queueRequest({id:m,timestamp:Date.now()},E)},l.prototype.processRequests=function(d){var m=this;if(!this.pendingRequest&&0!==this.queue.length){var b=this.queue.shift(),E=b.id,S=b.timestamp;E&&this.success[E]||(this.anonId||this.fetchEventData(),ht(this.anonId)||(this.anonId=wt()),this.postEvent(S,{skuToken:this.skuToken},function(B){B||E&&(m.success[E]=!0)},d))}},l}(Qr),ai=new(function(a){function l(d){a.call(this,"appUserTurnstile"),this._customAccessToken=d}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.postTurnstileEvent=function(d,m){Xn.EVENTS_URL&&Xn.ACCESS_TOKEN&&Array.isArray(d)&&d.some(function(b){return fi(b)||gi(b)})&&this.queueRequest(Date.now(),m)},l.prototype.processRequests=function(d){var m=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var b=Pr(Xn.ACCESS_TOKEN),E=b?b.u:Xn.ACCESS_TOKEN,S=E!==this.eventData.tokenU;ht(this.anonId)||(this.anonId=wt(),S=!0);var B=this.queue.shift();if(this.eventData.lastSuccess){var q=new Date(this.eventData.lastSuccess),J=new Date(B),re=(B-this.eventData.lastSuccess)/864e5;S=S||re>=1||re<-1||q.getDate()!==J.getDate()}else S=!0;if(!S)return this.processRequests();this.postEvent(B,{"enabled.telemetry":!1},function(le){le||(m.eventData.lastSuccess=B,m.eventData.tokenU=E)},d)}},l}(Qr)),mi=ai.postTurnstileEvent.bind(ai),wi=new jn,sr=wi.postMapLoadEvent.bind(wi),gr=500,_r=50;function Lr(){G.caches&&!zi&&(zi=G.caches.open("mapbox-tiles"))}function Tr(a){var l=a.indexOf("?");return l<0?a:a.slice(0,l)}var mo,Jr=1/0;function Io(){return null==mo&&(mo=G.OffscreenCanvas&&new G.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof G.createImageBitmap),mo}var Wo={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(Wo);var oo,To,Ts=function(a){function l(d,m,b){401===m&&gi(b)&&(d+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),a.call(this,d),this.status=m,this.url=b,this.name=this.constructor.name,this.message=d}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},l}(Error),$o=Tt()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===G.location.protocol?G.parent:G).location.href},pr=function(a,l){if(!(/^file:/.test(d=a.url)||/^file:/.test($o())&&!/^\w+:/.test(d))){if(G.fetch&&G.Request&&G.AbortController&&G.Request.prototype.hasOwnProperty("signal"))return function(m,b){var E,S=new G.AbortController,B=new G.Request(m.url,{method:m.method||"GET",body:m.body,credentials:m.credentials,headers:m.headers,referrer:$o(),signal:S.signal}),q=!1,J=!1,re=(E=B.url).indexOf("sku=")>0&&gi(E);"json"===m.type&&B.headers.set("Accept","application/json");var le=function(Ee,Ge,Ke){if(!J){if(Ee&&"SecurityError"!==Ee.message&&ze(Ee),Ge&&Ke)return _e(Ge);var dt=Date.now();G.fetch(B).then(function(it){if(it.ok){var Bt=re?it.clone():null;return _e(it,Bt,dt)}return b(new Ts(it.statusText,it.status,m.url))}).catch(function(it){20!==it.code&&b(new Error(it.message))})}},_e=function(Ee,Ge,Ke){("arrayBuffer"===m.type?Ee.arrayBuffer():"json"===m.type?Ee.json():Ee.text()).then(function(dt){J||(Ge&&Ke&&function(it,Bt,Nt){if(Lr(),zi){var $t={status:Bt.status,statusText:Bt.statusText,headers:new G.Headers};Bt.headers.forEach(function(Tn,Vn){return $t.headers.set(Vn,Tn)});var nn=yn(Bt.headers.get("Cache-Control")||"");nn["no-store"]||(nn["max-age"]&&$t.headers.set("Expires",new Date(Nt+1e3*nn["max-age"]).toUTCString()),new Date($t.headers.get("Expires")).getTime()-Nt<42e4||function(Tn,Vn){if(void 0===Qn)try{new Response(new ReadableStream),Qn=!0}catch{Qn=!1}Qn?Vn(Tn.body):Tn.blob().then(Vn)}(Bt,function(Tn){var Vn=new G.Response(Tn,$t);Lr(),zi&&zi.then(function(ti){return ti.put(Tr(it.url),Vn)}).catch(function(ti){return ze(ti.message)})}))}}(B,Ge,Ke),q=!0,b(null,dt,Ee.headers.get("Cache-Control"),Ee.headers.get("Expires")))}).catch(function(dt){J||b(new Error(dt.message))})};return re?function(Ee,Ge){if(Lr(),!zi)return Ge(null);var Ke=Tr(Ee.url);zi.then(function(dt){dt.match(Ke).then(function(it){var Bt=function(Nt){if(!Nt)return!1;var $t=new Date(Nt.headers.get("Expires")||0),nn=yn(Nt.headers.get("Cache-Control")||"");return $t>Date.now()&&!nn["no-cache"]}(it);dt.delete(Ke),Bt&&dt.put(Ke,it.clone()),Ge(null,it,Bt)}).catch(Ge)}).catch(Ge)}(B,le):le(null,null),{cancel:function(){J=!0,q||S.abort()}}}(a,l);if(Tt()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",a,l,void 0,!0)}var d;return function(m,b){var E=new G.XMLHttpRequest;for(var S in E.open(m.method||"GET",m.url,!0),"arrayBuffer"===m.type&&(E.responseType="arraybuffer"),m.headers)E.setRequestHeader(S,m.headers[S]);return"json"===m.type&&(E.responseType="text",E.setRequestHeader("Accept","application/json")),E.withCredentials="include"===m.credentials,E.onerror=function(){b(new Error(E.statusText))},E.onload=function(){if((E.status>=200&&E.status<300||0===E.status)&&null!==E.response){var B=E.response;if("json"===m.type)try{B=JSON.parse(E.response)}catch(q){return b(q)}b(null,B,E.getResponseHeader("Cache-Control"),E.getResponseHeader("Expires"))}else b(new Ts(E.statusText,E.status,m.url))},E.send(m.body),{cancel:function(){return E.abort()}}}(a,l)},Ss=function(a,l){return pr(we(a,{type:"arrayBuffer"}),l)},so=function(a,l){return pr(we(a,{method:"POST"}),l)},U="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";oo=[],To=0;var K=function(a,l){if(qn.supported&&(a.headers||(a.headers={}),a.headers.accept="image/webp,*/*"),To>=Xn.MAX_PARALLEL_IMAGE_REQUESTS){var d={requestParameters:a,callback:l,cancelled:!1,cancel:function(){this.cancelled=!0}};return oo.push(d),d}To++;var m=!1,b=function(){if(!m)for(m=!0,To--;oo.length&&To<Xn.MAX_PARALLEL_IMAGE_REQUESTS;){var S=oo.shift();S.cancelled||(S.cancel=K(S.requestParameters,S.callback).cancel)}},E=Ss(a,function(S,B,q,J){var le,_e;b(),S?l(S):B&&(Io()?(le=l,_e=new G.Blob([new Uint8Array(B)],{type:"image/png"}),G.createImageBitmap(_e).then(function(Ee){le(null,Ee)}).catch(function(Ee){le(new Error("Could not load image because of "+Ee.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})):function(re,le,_e,Ee){var Ge=new G.Image,Ke=G.URL;Ge.onload=function(){le(null,Ge),Ke.revokeObjectURL(Ge.src),Ge.onload=null,G.requestAnimationFrame(function(){Ge.src=U})},Ge.onerror=function(){return le(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var dt=new G.Blob([new Uint8Array(re)],{type:"image/png"});Ge.cacheControl=_e,Ge.expires=Ee,Ge.src=re.byteLength?Ke.createObjectURL(dt):U}(B,l,q,J))});return{cancel:function(){E.cancel(),b()}}};function $(a,l,d){d[a]&&-1!==d[a].indexOf(l)||(d[a]=d[a]||[],d[a].push(l))}function he(a,l,d){if(d&&d[a]){var m=d[a].indexOf(l);-1!==m&&d[a].splice(m,1)}}var de=function(a,l){void 0===l&&(l={}),we(this,l),this.type=a},Pe=function(a){function l(d,m){void 0===m&&(m={}),a.call(this,"error",we({error:d},m))}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l}(de),Qe=function(){};Qe.prototype.on=function(a,l){return this._listeners=this._listeners||{},$(a,l,this._listeners),this},Qe.prototype.off=function(a,l){return he(a,l,this._listeners),he(a,l,this._oneTimeListeners),this},Qe.prototype.once=function(a,l){return this._oneTimeListeners=this._oneTimeListeners||{},$(a,l,this._oneTimeListeners),this},Qe.prototype.fire=function(a,l){"string"==typeof a&&(a=new de(a,l||{}));var d=a.type;if(this.listens(d)){a.target=this;for(var m=0,b=this._listeners&&this._listeners[d]?this._listeners[d].slice():[];m<b.length;m+=1)b[m].call(this,a);for(var E=0,S=this._oneTimeListeners&&this._oneTimeListeners[d]?this._oneTimeListeners[d].slice():[];E<S.length;E+=1){var B=S[E];he(d,B,this._oneTimeListeners),B.call(this,a)}var q=this._eventedParent;q&&(we(a,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),q.fire(a))}else a instanceof Pe&&console.error(a.error);return this},Qe.prototype.listens=function(a){return this._listeners&&this._listeners[a]&&this._listeners[a].length>0||this._oneTimeListeners&&this._oneTimeListeners[a]&&this._oneTimeListeners[a].length>0||this._eventedParent&&this._eventedParent.listens(a)},Qe.prototype.setEventedParent=function(a,l){return this._eventedParent=a,this._eventedParentData=l,this};var ge={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},Ve=function(a,l,d,m){this.message=(a?a+": ":"")+d,m&&(this.identifier=m),null!=l&&l.__line__&&(this.line=l.__line__)};function We(a){var l=a.value;return l?[new Ve(a.key,l,"constants have been deprecated as of v8")]:[]}function hn(a){for(var l=[],d=arguments.length-1;d-- >0;)l[d]=arguments[d+1];for(var m=0,b=l;m<b.length;m+=1){var E=b[m];for(var S in E)a[S]=E[S]}return a}function Jt(a){return a instanceof Number||a instanceof String||a instanceof Boolean?a.valueOf():a}function Ut(a){if(Array.isArray(a))return a.map(Ut);if(a instanceof Object&&!(a instanceof Number||a instanceof String||a instanceof Boolean)){var l={};for(var d in a)l[d]=Ut(a[d]);return l}return Jt(a)}var En=function(a){function l(d,m){a.call(this,m),this.message=m,this.key=d}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l}(Error),ri=function(a,l){void 0===l&&(l=[]),this.parent=a,this.bindings={};for(var d=0,m=l;d<m.length;d+=1){var b=m[d];this.bindings[b[0]]=b[1]}};ri.prototype.concat=function(a){return new ri(this,a)},ri.prototype.get=function(a){if(this.bindings[a])return this.bindings[a];if(this.parent)return this.parent.get(a);throw new Error(a+" not found in scope.")},ri.prototype.has=function(a){return!!this.bindings[a]||!!this.parent&&this.parent.has(a)};var De={kind:"null"},Xe={kind:"number"},Lt={kind:"string"},_t={kind:"boolean"},Rt={kind:"color"},zt={kind:"object"},tt={kind:"value"},ct={kind:"collator"},Pt={kind:"formatted"},kt={kind:"resolvedImage"};function Rn(a,l){return{kind:"array",itemType:a,N:l}}function fn(a){if("array"===a.kind){var l=fn(a.itemType);return"number"==typeof a.N?"array<"+l+", "+a.N+">":"value"===a.itemType.kind?"array":"array<"+l+">"}return a.kind}var Ai=[De,Xe,Lt,_t,Rt,Pt,zt,Rn(tt),kt];function Pi(a,l){if("error"===l.kind)return null;if("array"===a.kind){if("array"===l.kind&&(0===l.N&&"value"===l.itemType.kind||!Pi(a.itemType,l.itemType))&&("number"!=typeof a.N||a.N===l.N))return null}else{if(a.kind===l.kind)return null;if("value"===a.kind)for(var d=0,m=Ai;d<m.length;d+=1)if(!Pi(m[d],l))return null}return"Expected "+fn(a)+" but found "+fn(l)+" instead."}function vi(a,l){return l.some(function(d){return d.kind===a.kind})}function ir(a,l){return l.some(function(d){return"null"===d?null===a:"array"===d?Array.isArray(a):"object"===d?a&&!Array.isArray(a)&&"object"==typeof a:d===typeof a})}var Wi=L(function(a,l){var d={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function m(B){return(B=Math.round(B))<0?0:B>255?255:B}function b(B){return m("%"===B[B.length-1]?parseFloat(B)/100*255:parseInt(B))}function E(B){return(q="%"===B[B.length-1]?parseFloat(B)/100:parseFloat(B))<0?0:q>1?1:q;var q}function S(B,q,J){return J<0?J+=1:J>1&&(J-=1),6*J<1?B+(q-B)*J*6:2*J<1?q:3*J<2?B+(q-B)*(2/3-J)*6:B}try{l.parseCSSColor=function(B){var q,J=B.replace(/ /g,"").toLowerCase();if(J in d)return d[J].slice();if("#"===J[0])return 4===J.length?(q=parseInt(J.substr(1),16))>=0&&q<=4095?[(3840&q)>>4|(3840&q)>>8,240&q|(240&q)>>4,15&q|(15&q)<<4,1]:null:7===J.length&&(q=parseInt(J.substr(1),16))>=0&&q<=16777215?[(16711680&q)>>16,(65280&q)>>8,255&q,1]:null;var re=J.indexOf("("),le=J.indexOf(")");if(-1!==re&&le+1===J.length){var _e=J.substr(0,re),Ee=J.substr(re+1,le-(re+1)).split(","),Ge=1;switch(_e){case"rgba":if(4!==Ee.length)return null;Ge=E(Ee.pop());case"rgb":return 3!==Ee.length?null:[b(Ee[0]),b(Ee[1]),b(Ee[2]),Ge];case"hsla":if(4!==Ee.length)return null;Ge=E(Ee.pop());case"hsl":if(3!==Ee.length)return null;var Ke=(parseFloat(Ee[0])%360+360)%360/360,dt=E(Ee[1]),it=E(Ee[2]),Bt=it<=.5?it*(dt+1):it+dt-it*dt,Nt=2*it-Bt;return[m(255*S(Nt,Bt,Ke+1/3)),m(255*S(Nt,Bt,Ke)),m(255*S(Nt,Bt,Ke-1/3)),Ge];default:return null}}return null}}catch{}}).parseCSSColor,Or=function(a,l,d,m){void 0===m&&(m=1),this.r=a,this.g=l,this.b=d,this.a=m};Or.parse=function(a){if(a){if(a instanceof Or)return a;if("string"==typeof a){var l=Wi(a);if(l)return new Or(l[0]/255*l[3],l[1]/255*l[3],l[2]/255*l[3],l[3])}}},Or.prototype.toString=function(){var a=this.toArray(),l=a[1],d=a[2],m=a[3];return"rgba("+Math.round(a[0])+","+Math.round(l)+","+Math.round(d)+","+m+")"},Or.prototype.toArray=function(){var a=this.a;return 0===a?[0,0,0,0]:[255*this.r/a,255*this.g/a,255*this.b/a,a]},Or.black=new Or(0,0,0,1),Or.white=new Or(1,1,1,1),Or.transparent=new Or(0,0,0,0),Or.red=new Or(1,0,0,1);var Br=function(a,l,d){this.sensitivity=a?l?"variant":"case":l?"accent":"base",this.locale=d,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Br.prototype.compare=function(a,l){return this.collator.compare(a,l)},Br.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Ac=function(a,l,d,m,b){this.text=a,this.image=l,this.scale=d,this.fontStack=m,this.textColor=b},no=function(a){this.sections=a};no.fromString=function(a){return new no([new Ac(a,null,null,null,null)])},no.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some(function(a){return 0!==a.text.length||a.image&&0!==a.image.name.length})},no.factory=function(a){return a instanceof no?a:no.fromString(a)},no.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map(function(a){return a.text}).join("")},no.prototype.serialize=function(){for(var a=["format"],l=0,d=this.sections;l<d.length;l+=1){var m=d[l];if(m.image)a.push(["image",m.image.name]);else{a.push(m.text);var b={};m.fontStack&&(b["text-font"]=["literal",m.fontStack.split(",")]),m.scale&&(b["font-scale"]=m.scale),m.textColor&&(b["text-color"]=["rgba"].concat(m.textColor.toArray())),a.push(b)}}return a};var ks=function(a){this.name=a.name,this.available=a.available};function uu(a,l,d,m){return"number"==typeof a&&a>=0&&a<=255&&"number"==typeof l&&l>=0&&l<=255&&"number"==typeof d&&d>=0&&d<=255?void 0===m||"number"==typeof m&&m>=0&&m<=1?null:"Invalid rgba value ["+[a,l,d,m].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof m?[a,l,d,m]:[a,l,d]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function du(a){if(null===a||"string"==typeof a||"boolean"==typeof a||"number"==typeof a||a instanceof Or||a instanceof Br||a instanceof no||a instanceof ks)return!0;if(Array.isArray(a)){for(var l=0,d=a;l<d.length;l+=1)if(!du(d[l]))return!1;return!0}if("object"==typeof a){for(var m in a)if(!du(a[m]))return!1;return!0}return!1}function es(a){if(null===a)return De;if("string"==typeof a)return Lt;if("boolean"==typeof a)return _t;if("number"==typeof a)return Xe;if(a instanceof Or)return Rt;if(a instanceof Br)return ct;if(a instanceof no)return Pt;if(a instanceof ks)return kt;if(Array.isArray(a)){for(var l,d=a.length,m=0,b=a;m<b.length;m+=1){var E=es(b[m]);if(l){if(l===E)continue;l=tt;break}l=E}return Rn(l||tt,d)}return zt}function Lu(a){var l=typeof a;return null===a?"":"string"===l||"number"===l||"boolean"===l?String(a):a instanceof Or||a instanceof no||a instanceof ks?a.toString():JSON.stringify(a)}ks.prototype.toString=function(){return this.name},ks.fromString=function(a){return a?new ks({name:a,available:!1}):null},ks.prototype.serialize=function(){return["image",this.name]};var ls=function(a,l){this.type=a,this.value=l};ls.parse=function(a,l){if(2!==a.length)return l.error("'literal' expression requires exactly one argument, but found "+(a.length-1)+" instead.");if(!du(a[1]))return l.error("invalid value");var d=a[1],m=es(d),b=l.expectedType;return"array"!==m.kind||0!==m.N||!b||"array"!==b.kind||"number"==typeof b.N&&0!==b.N||(m=b),new ls(m,d)},ls.prototype.evaluate=function(){return this.value},ls.prototype.eachChild=function(){},ls.prototype.outputDefined=function(){return!0},ls.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Or?["rgba"].concat(this.value.toArray()):this.value instanceof no?this.value.serialize():this.value};var ts=function(a){this.name="ExpressionEvaluationError",this.message=a};ts.prototype.toJSON=function(){return this.message};var fl={string:Lt,number:Xe,boolean:_t,object:zt},No=function(a,l){this.type=a,this.args=l};No.parse=function(a,l){if(a.length<2)return l.error("Expected at least one argument.");var d,m=1,b=a[0];if("array"===b){var E,S;if(a.length>2){var B=a[1];if("string"!=typeof B||!(B in fl)||"object"===B)return l.error('The item type argument of "array" must be one of string, number, boolean',1);E=fl[B],m++}else E=tt;if(a.length>3){if(null!==a[2]&&("number"!=typeof a[2]||a[2]<0||a[2]!==Math.floor(a[2])))return l.error('The length argument to "array" must be a positive integer literal',2);S=a[2],m++}d=Rn(E,S)}else d=fl[b];for(var q=[];m<a.length;m++){var J=l.parse(a[m],m,tt);if(!J)return null;q.push(J)}return new No(d,q)},No.prototype.evaluate=function(a){for(var l=0;l<this.args.length;l++){var d=this.args[l].evaluate(a);if(!Pi(this.type,es(d)))return d;if(l===this.args.length-1)throw new ts("Expected value to be of type "+fn(this.type)+", but found "+fn(es(d))+" instead.")}return null},No.prototype.eachChild=function(a){this.args.forEach(a)},No.prototype.outputDefined=function(){return this.args.every(function(a){return a.outputDefined()})},No.prototype.serialize=function(){var a=this.type,l=[a.kind];if("array"===a.kind){var d=a.itemType;if("string"===d.kind||"number"===d.kind||"boolean"===d.kind){l.push(d.kind);var m=a.N;("number"==typeof m||this.args.length>1)&&l.push(m)}}return l.concat(this.args.map(function(b){return b.serialize()}))};var nl=function(a){this.type=Pt,this.sections=a};nl.parse=function(a,l){if(a.length<2)return l.error("Expected at least one argument.");var d=a[1];if(!Array.isArray(d)&&"object"==typeof d)return l.error("First argument must be an image or text section.");for(var m=[],b=!1,E=1;E<=a.length-1;++E){var S=a[E];if(b&&"object"==typeof S&&!Array.isArray(S)){b=!1;var B=null;if(S["font-scale"]&&!(B=l.parse(S["font-scale"],1,Xe)))return null;var q=null;if(S["text-font"]&&!(q=l.parse(S["text-font"],1,Rn(Lt))))return null;var J=null;if(S["text-color"]&&!(J=l.parse(S["text-color"],1,Rt)))return null;var re=m[m.length-1];re.scale=B,re.font=q,re.textColor=J}else{var le=l.parse(a[E],1,tt);if(!le)return null;var _e=le.type.kind;if("string"!==_e&&"value"!==_e&&"null"!==_e&&"resolvedImage"!==_e)return l.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");b=!0,m.push({content:le,scale:null,font:null,textColor:null})}}return new nl(m)},nl.prototype.evaluate=function(a){return new no(this.sections.map(function(l){var d=l.content.evaluate(a);return es(d)===kt?new Ac("",d,null,null,null):new Ac(Lu(d),null,l.scale?l.scale.evaluate(a):null,l.font?l.font.evaluate(a).join(","):null,l.textColor?l.textColor.evaluate(a):null)}))},nl.prototype.eachChild=function(a){for(var l=0,d=this.sections;l<d.length;l+=1){var m=d[l];a(m.content),m.scale&&a(m.scale),m.font&&a(m.font),m.textColor&&a(m.textColor)}},nl.prototype.outputDefined=function(){return!1},nl.prototype.serialize=function(){for(var a=["format"],l=0,d=this.sections;l<d.length;l+=1){var m=d[l];a.push(m.content.serialize());var b={};m.scale&&(b["font-scale"]=m.scale.serialize()),m.font&&(b["text-font"]=m.font.serialize()),m.textColor&&(b["text-color"]=m.textColor.serialize()),a.push(b)}return a};var ga=function(a){this.type=kt,this.input=a};ga.parse=function(a,l){if(2!==a.length)return l.error("Expected two arguments.");var d=l.parse(a[1],1,Lt);return d?new ga(d):l.error("No image name provided.")},ga.prototype.evaluate=function(a){var l=this.input.evaluate(a),d=ks.fromString(l);return d&&a.availableImages&&(d.available=a.availableImages.indexOf(l)>-1),d},ga.prototype.eachChild=function(a){a(this.input)},ga.prototype.outputDefined=function(){return!1},ga.prototype.serialize=function(){return["image",this.input.serialize()]};var Yl={"to-boolean":_t,"to-color":Rt,"to-number":Xe,"to-string":Lt},ja=function(a,l){this.type=a,this.args=l};ja.parse=function(a,l){if(a.length<2)return l.error("Expected at least one argument.");var d=a[0];if(("to-boolean"===d||"to-string"===d)&&2!==a.length)return l.error("Expected one argument.");for(var m=Yl[d],b=[],E=1;E<a.length;E++){var S=l.parse(a[E],E,tt);if(!S)return null;b.push(S)}return new ja(m,b)},ja.prototype.evaluate=function(a){if("boolean"===this.type.kind)return!!this.args[0].evaluate(a);if("color"===this.type.kind){for(var l,d,m=0,b=this.args;m<b.length;m+=1){if(d=null,(l=b[m].evaluate(a))instanceof Or)return l;if("string"==typeof l){var E=a.parseColor(l);if(E)return E}else if(Array.isArray(l)&&!(d=l.length<3||l.length>4?"Invalid rbga value "+JSON.stringify(l)+": expected an array containing either three or four numeric values.":uu(l[0],l[1],l[2],l[3])))return new Or(l[0]/255,l[1]/255,l[2]/255,l[3])}throw new ts(d||"Could not parse color from value '"+("string"==typeof l?l:String(JSON.stringify(l)))+"'")}if("number"===this.type.kind){for(var S=null,B=0,q=this.args;B<q.length;B+=1){if(null===(S=q[B].evaluate(a)))return 0;var J=Number(S);if(!isNaN(J))return J}throw new ts("Could not convert "+JSON.stringify(S)+" to number.")}return"formatted"===this.type.kind?no.fromString(Lu(this.args[0].evaluate(a))):"resolvedImage"===this.type.kind?ks.fromString(Lu(this.args[0].evaluate(a))):Lu(this.args[0].evaluate(a))},ja.prototype.eachChild=function(a){this.args.forEach(a)},ja.prototype.outputDefined=function(){return this.args.every(function(a){return a.outputDefined()})},ja.prototype.serialize=function(){if("formatted"===this.type.kind)return new nl([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new ga(this.args[0]).serialize();var a=["to-"+this.type.kind];return this.eachChild(function(l){a.push(l.serialize())}),a};var Te=["Unknown","Point","LineString","Polygon"],Me=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};Me.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Me.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?Te[this.feature.type]:this.feature.type:null},Me.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},Me.prototype.canonicalID=function(){return this.canonical},Me.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Me.prototype.parseColor=function(a){var l=this._parseColorCache[a];return l||(l=this._parseColorCache[a]=Or.parse(a)),l};var at=function(a,l,d,m){this.name=a,this.type=l,this._evaluate=d,this.args=m};at.prototype.evaluate=function(a){return this._evaluate(a,this.args)},at.prototype.eachChild=function(a){this.args.forEach(a)},at.prototype.outputDefined=function(){return!1},at.prototype.serialize=function(){return[this.name].concat(this.args.map(function(a){return a.serialize()}))},at.parse=function(a,l){var d,m=a[0],b=at.definitions[m];if(!b)return l.error('Unknown expression "'+m+'". If you wanted a literal array, use ["literal", [...]].',0);for(var E=Array.isArray(b)?b[0]:b.type,S=Array.isArray(b)?[[b[1],b[2]]]:b.overloads,B=S.filter(function(Hi){var pi=Hi[0];return!Array.isArray(pi)||pi.length===a.length-1}),q=null,J=0,re=B;J<re.length;J+=1){var le=re[J],_e=le[0],Ee=le[1];q=new hu(l.registry,l.path,null,l.scope);for(var Ge=[],Ke=!1,dt=1;dt<a.length;dt++){var it=a[dt],Bt=Array.isArray(_e)?_e[dt-1]:_e.type,Nt=q.parse(it,1+Ge.length,Bt);if(!Nt){Ke=!0;break}Ge.push(Nt)}if(!Ke)if(Array.isArray(_e)&&_e.length!==Ge.length)q.error("Expected "+_e.length+" arguments, but found "+Ge.length+" instead.");else{for(var $t=0;$t<Ge.length;$t++){var nn=Array.isArray(_e)?_e[$t]:_e.type,Tn=Ge[$t];q.concat($t+1).checkSubtype(nn,Tn.type)}if(0===q.errors.length)return new at(m,E,Ee,Ge)}}if(1===B.length)(d=l.errors).push.apply(d,q.errors);else{for(var Vn=(B.length?B:S).map(function(Hi){var pi;return pi=Hi[0],Array.isArray(pi)?"("+pi.map(fn).join(", ")+")":"("+fn(pi.type)+"...)"}).join(" | "),ti=[],ji=1;ji<a.length;ji++){var hi=l.parse(a[ji],1+ti.length);if(!hi)return null;ti.push(fn(hi.type))}l.error("Expected arguments of type "+Vn+", but found ("+ti.join(", ")+") instead.")}return null},at.register=function(a,l){for(var d in at.definitions=l,l)a[d]=at};var en=function(a,l,d){this.type=ct,this.locale=d,this.caseSensitive=a,this.diacriticSensitive=l};function Fn(a,l){a[0]=Math.min(a[0],l[0]),a[1]=Math.min(a[1],l[1]),a[2]=Math.max(a[2],l[0]),a[3]=Math.max(a[3],l[1])}function _i(a,l){return!(a[0]<=l[0]||a[2]>=l[2]||a[1]<=l[1]||a[3]>=l[3])}function Xr(a,l){var d=(180+a[0])/360,m=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+a[1]*Math.PI/360)))/360,b=Math.pow(2,l.z);return[Math.round(d*b*8192),Math.round(m*b*8192)]}function Us(a,l,d){return l[1]>a[1]!=d[1]>a[1]&&a[0]<(d[0]-l[0])*(a[1]-l[1])/(d[1]-l[1])+l[0]}function Ds(a,l){for(var d,m,b,E,S,B,q,J=!1,re=0,le=l.length;re<le;re++)for(var _e=l[re],Ee=0,Ge=_e.length;Ee<Ge-1;Ee++){if((E=(d=a)[0]-(m=_e[Ee])[0])*(q=d[1]-(b=_e[Ee+1])[1])-(B=d[0]-b[0])*(S=d[1]-m[1])==0&&E*B<=0&&S*q<=0)return!1;Us(a,_e[Ee],_e[Ee+1])&&(J=!J)}return J}function ys(a,l){for(var d=0;d<l.length;d++)if(Ds(a,l[d]))return!0;return!1}function il(a,l,d,m){var b=m[0]-d[0],E=m[1]-d[1],S=(a[0]-d[0])*E-b*(a[1]-d[1]),B=(l[0]-d[0])*E-b*(l[1]-d[1]);return S>0&&B<0||S<0&&B>0}function rf(a,l,d){for(var m=0,b=d;m<b.length;m+=1)for(var E=b[m],S=0;S<E.length-1;++S)if((le=[(re=E[S+1])[0]-(J=E[S])[0],re[1]-J[1]])[0]*(_e=[(q=l)[0]-(B=a)[0],q[1]-B[1]])[1]-le[1]*_e[0]!=0&&il(B,q,J,re)&&il(J,re,B,q))return!0;var B,q,J,re,le,_e;return!1}function sA(a,l){for(var d=0;d<a.length;++d)if(!Ds(a[d],l))return!1;for(var m=0;m<a.length-1;++m)if(rf(a[m],a[m+1],l))return!1;return!0}function ap(a,l){for(var d=0;d<l.length;d++)if(sA(a,l[d]))return!0;return!1}function Kd(a,l,d){for(var m=[],b=0;b<a.length;b++){for(var E=[],S=0;S<a[b].length;S++){var B=Xr(a[b][S],d);Fn(l,B),E.push(B)}m.push(E)}return m}function Eh(a,l,d){for(var m=[],b=0;b<a.length;b++){var E=Kd(a[b],l,d);m.push(E)}return m}function lp(a,l,d,m){if(a[0]<d[0]||a[0]>d[2]){var b=.5*m,E=a[0]-d[0]>b?-m:d[0]-a[0]>b?m:0;0===E&&(E=a[0]-d[2]>b?-m:d[2]-a[0]>b?m:0),a[0]+=E}Fn(l,a)}function cp(a,l,d,m){for(var b=8192*Math.pow(2,m.z),E=[8192*m.x,8192*m.y],S=[],B=0,q=a;B<q.length;B+=1)for(var J=0,re=q[B];J<re.length;J+=1){var le=re[J],_e=[le.x+E[0],le.y+E[1]];lp(_e,l,d,b),S.push(_e)}return S}function sf(a,l,d,m){for(var b,E=8192*Math.pow(2,m.z),S=[8192*m.x,8192*m.y],B=[],q=0,J=a;q<J.length;q+=1){for(var re=[],le=0,_e=J[q];le<_e.length;le+=1){var Ee=_e[le],Ge=[Ee.x+S[0],Ee.y+S[1]];Fn(l,Ge),re.push(Ge)}B.push(re)}if(l[2]-l[0]<=E/2){(b=l)[0]=b[1]=1/0,b[2]=b[3]=-1/0;for(var Ke=0,dt=B;Ke<dt.length;Ke+=1)for(var it=0,Bt=dt[Ke];it<Bt.length;it+=1)lp(Bt[it],l,d,E)}return B}en.parse=function(a,l){if(2!==a.length)return l.error("Expected one argument.");var d=a[1];if("object"!=typeof d||Array.isArray(d))return l.error("Collator options argument must be an object.");var m=l.parse(void 0!==d["case-sensitive"]&&d["case-sensitive"],1,_t);if(!m)return null;var b=l.parse(void 0!==d["diacritic-sensitive"]&&d["diacritic-sensitive"],1,_t);if(!b)return null;var E=null;return d.locale&&!(E=l.parse(d.locale,1,Lt))?null:new en(m,b,E)},en.prototype.evaluate=function(a){return new Br(this.caseSensitive.evaluate(a),this.diacriticSensitive.evaluate(a),this.locale?this.locale.evaluate(a):null)},en.prototype.eachChild=function(a){a(this.caseSensitive),a(this.diacriticSensitive),this.locale&&a(this.locale)},en.prototype.outputDefined=function(){return!1},en.prototype.serialize=function(){var a={};return a["case-sensitive"]=this.caseSensitive.serialize(),a["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(a.locale=this.locale.serialize()),["collator",a]};var Al=function(a,l){this.type=_t,this.geojson=a,this.geometries=l};function _a(a){if(a instanceof at&&("get"===a.name&&1===a.args.length||"feature-state"===a.name||"has"===a.name&&1===a.args.length||"properties"===a.name||"geometry-type"===a.name||"id"===a.name||/^filter-/.test(a.name))||a instanceof Al)return!1;var l=!0;return a.eachChild(function(d){l&&!_a(d)&&(l=!1)}),l}function mc(a){if(a instanceof at&&"feature-state"===a.name)return!1;var l=!0;return a.eachChild(function(d){l&&!mc(d)&&(l=!1)}),l}function Vc(a,l){if(a instanceof at&&l.indexOf(a.name)>=0)return!1;var d=!0;return a.eachChild(function(m){d&&!Vc(m,l)&&(d=!1)}),d}Al.parse=function(a,l){if(2!==a.length)return l.error("'within' expression requires exactly one argument, but found "+(a.length-1)+" instead.");if(du(a[1])){var d=a[1];if("FeatureCollection"===d.type)for(var m=0;m<d.features.length;++m){var b=d.features[m].geometry.type;if("Polygon"===b||"MultiPolygon"===b)return new Al(d,d.features[m].geometry)}else if("Feature"===d.type){var E=d.geometry.type;if("Polygon"===E||"MultiPolygon"===E)return new Al(d,d.geometry)}else if("Polygon"===d.type||"MultiPolygon"===d.type)return new Al(d,d)}return l.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Al.prototype.evaluate=function(a){if(null!=a.geometry()&&null!=a.canonicalID()){if("Point"===a.geometryType())return function(l,d){var m=[1/0,1/0,-1/0,-1/0],b=[1/0,1/0,-1/0,-1/0],E=l.canonicalID();if("Polygon"===d.type){var S=Kd(d.coordinates,b,E),B=cp(l.geometry(),m,b,E);if(!_i(m,b))return!1;for(var q=0,J=B;q<J.length;q+=1)if(!Ds(J[q],S))return!1}if("MultiPolygon"===d.type){var re=Eh(d.coordinates,b,E),le=cp(l.geometry(),m,b,E);if(!_i(m,b))return!1;for(var _e=0,Ee=le;_e<Ee.length;_e+=1)if(!ys(Ee[_e],re))return!1}return!0}(a,this.geometries);if("LineString"===a.geometryType())return function(l,d){var m=[1/0,1/0,-1/0,-1/0],b=[1/0,1/0,-1/0,-1/0],E=l.canonicalID();if("Polygon"===d.type){var S=Kd(d.coordinates,b,E),B=sf(l.geometry(),m,b,E);if(!_i(m,b))return!1;for(var q=0,J=B;q<J.length;q+=1)if(!sA(J[q],S))return!1}if("MultiPolygon"===d.type){var re=Eh(d.coordinates,b,E),le=sf(l.geometry(),m,b,E);if(!_i(m,b))return!1;for(var _e=0,Ee=le;_e<Ee.length;_e+=1)if(!ap(Ee[_e],re))return!1}return!0}(a,this.geometries)}return!1},Al.prototype.eachChild=function(){},Al.prototype.outputDefined=function(){return!0},Al.prototype.serialize=function(){return["within",this.geojson]};var gc=function(a,l){this.type=l.type,this.name=a,this.boundExpression=l};gc.parse=function(a,l){if(2!==a.length||"string"!=typeof a[1])return l.error("'var' expression requires exactly one string literal argument.");var d=a[1];return l.scope.has(d)?new gc(d,l.scope.get(d)):l.error('Unknown variable "'+d+'". Make sure "'+d+'" has been bound in an enclosing "let" expression before using it.',1)},gc.prototype.evaluate=function(a){return this.boundExpression.evaluate(a)},gc.prototype.eachChild=function(){},gc.prototype.outputDefined=function(){return!1},gc.prototype.serialize=function(){return["var",this.name]};var hu=function(a,l,d,m,b){void 0===l&&(l=[]),void 0===m&&(m=new ri),void 0===b&&(b=[]),this.registry=a,this.path=l,this.key=l.map(function(E){return"["+E+"]"}).join(""),this.scope=m,this.errors=b,this.expectedType=d};function gd(a,l){for(var d,m=a.length-1,b=0,E=m,S=0;b<=E;)if((d=a[S=Math.floor((b+E)/2)])<=l){if(S===m||l<a[S+1])return S;b=S+1}else{if(!(d>l))throw new ts("Input is not a number.");E=S-1}return 0}hu.prototype.parse=function(a,l,d,m,b){return void 0===b&&(b={}),l?this.concat(l,d,m)._parse(a,b):this._parse(a,b)},hu.prototype._parse=function(a,l){function d(J,re,le){return"assert"===le?new No(re,[J]):"coerce"===le?new ja(re,[J]):J}if(null!==a&&"string"!=typeof a&&"boolean"!=typeof a&&"number"!=typeof a||(a=["literal",a]),Array.isArray(a)){if(0===a.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var m=a[0];if("string"!=typeof m)return this.error("Expression name must be a string, but found "+typeof m+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var b=this.registry[m];if(b){var E=b.parse(a,this);if(!E)return null;if(this.expectedType){var S=this.expectedType,B=E.type;if("string"!==S.kind&&"number"!==S.kind&&"boolean"!==S.kind&&"object"!==S.kind&&"array"!==S.kind||"value"!==B.kind)if("color"!==S.kind&&"formatted"!==S.kind&&"resolvedImage"!==S.kind||"value"!==B.kind&&"string"!==B.kind){if(this.checkSubtype(S,B))return null}else E=d(E,S,l.typeAnnotation||"coerce");else E=d(E,S,l.typeAnnotation||"assert")}if(!(E instanceof ls)&&"resolvedImage"!==E.type.kind&&function J(re){if(re instanceof gc)return J(re.boundExpression);if(re instanceof at&&"error"===re.name||re instanceof en||re instanceof Al)return!1;var le=re instanceof ja||re instanceof No,_e=!0;return re.eachChild(function(Ee){_e=le?_e&&J(Ee):_e&&Ee instanceof ls}),!!_e&&_a(re)&&Vc(re,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(E)){var q=new Me;try{E=new ls(E.type,E.evaluate(q))}catch(J){return this.error(J.message),null}}return E}return this.error('Unknown expression "'+m+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===a?"'undefined' value invalid. Use null instead.":"object"==typeof a?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof a+" instead.")},hu.prototype.concat=function(a,l,d){var m="number"==typeof a?this.path.concat(a):this.path,b=d?this.scope.concat(d):this.scope;return new hu(this.registry,m,l||null,b,this.errors)},hu.prototype.error=function(a){for(var l=[],d=arguments.length-1;d-- >0;)l[d]=arguments[d+1];var m=""+this.key+l.map(function(b){return"["+b+"]"}).join("");this.errors.push(new En(m,a))},hu.prototype.checkSubtype=function(a,l){var d=Pi(a,l);return d&&this.error(d),d};var rl=function(a,l,d){this.type=a,this.input=l,this.labels=[],this.outputs=[];for(var m=0,b=d;m<b.length;m+=1){var E=b[m],S=E[1];this.labels.push(E[0]),this.outputs.push(S)}};function ds(a,l,d){return a*(1-d)+l*d}rl.parse=function(a,l){if(a.length-1<4)return l.error("Expected at least 4 arguments, but found only "+(a.length-1)+".");if((a.length-1)%2!=0)return l.error("Expected an even number of arguments.");var d=l.parse(a[1],1,Xe);if(!d)return null;var m=[],b=null;l.expectedType&&"value"!==l.expectedType.kind&&(b=l.expectedType);for(var E=1;E<a.length;E+=2){var S=1===E?-1/0:a[E],B=a[E+1],q=E,J=E+1;if("number"!=typeof S)return l.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',q);if(m.length&&m[m.length-1][0]>=S)return l.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',q);var re=l.parse(B,J,b);if(!re)return null;b=b||re.type,m.push([S,re])}return new rl(b,d,m)},rl.prototype.evaluate=function(a){var l=this.labels,d=this.outputs;if(1===l.length)return d[0].evaluate(a);var m=this.input.evaluate(a);if(m<=l[0])return d[0].evaluate(a);var b=l.length;return m>=l[b-1]?d[b-1].evaluate(a):d[gd(l,m)].evaluate(a)},rl.prototype.eachChild=function(a){a(this.input);for(var l=0,d=this.outputs;l<d.length;l+=1)a(d[l])},rl.prototype.outputDefined=function(){return this.outputs.every(function(a){return a.outputDefined()})},rl.prototype.serialize=function(){for(var a=["step",this.input.serialize()],l=0;l<this.labels.length;l++)l>0&&a.push(this.labels[l]),a.push(this.outputs[l].serialize());return a};var Wd=Object.freeze({__proto__:null,number:ds,color:function(a,l,d){return new Or(ds(a.r,l.r,d),ds(a.g,l.g,d),ds(a.b,l.b,d),ds(a.a,l.a,d))},array:function(a,l,d){return a.map(function(m,b){return ds(m,l[b],d)})}}),up=6/29*3*(6/29),dp=Math.PI/180,hp=180/Math.PI;function Ch(a){return a>.008856451679035631?Math.pow(a,.3333333333333333):a/up+.13793103448275862}function pp(a){return a>.20689655172413793?a*a*a:up*(a-.13793103448275862)}function Qc(a){return 255*(a<=.0031308?12.92*a:1.055*Math.pow(a,.4166666666666667)-.055)}function _c(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function fp(a){var l=_c(a.r),d=_c(a.g),m=_c(a.b),b=Ch((.4124564*l+.3575761*d+.1804375*m)/.95047),E=Ch((.2126729*l+.7151522*d+.072175*m)/1);return{l:116*E-16,a:500*(b-E),b:200*(E-Ch((.0193339*l+.119192*d+.9503041*m)/1.08883)),alpha:a.a}}function nm(a){var l=(a.l+16)/116,d=isNaN(a.a)?l:l+a.a/500,m=isNaN(a.b)?l:l-a.b/200;return l=1*pp(l),d=.95047*pp(d),m=1.08883*pp(m),new Or(Qc(3.2404542*d-1.5371385*l-.4985314*m),Qc(-.969266*d+1.8760108*l+.041556*m),Qc(.0556434*d-.2040259*l+1.0572252*m),a.alpha)}function pu(a,l,d){var m=l-a;return a+d*(m>180||m<-180?m-360*Math.round(m/360):m)}var $d={forward:fp,reverse:nm,interpolate:function(a,l,d){return{l:ds(a.l,l.l,d),a:ds(a.a,l.a,d),b:ds(a.b,l.b,d),alpha:ds(a.alpha,l.alpha,d)}}},Nu={forward:function(a){var l=fp(a),d=l.l,m=l.a,b=l.b,E=Math.atan2(b,m)*hp;return{h:E<0?E+360:E,c:Math.sqrt(m*m+b*b),l:d,alpha:a.a}},reverse:function(a){var l=a.h*dp,d=a.c;return nm({l:a.l,a:Math.cos(l)*d,b:Math.sin(l)*d,alpha:a.alpha})},interpolate:function(a,l,d){return{h:pu(a.h,l.h,d),c:ds(a.c,l.c,d),l:ds(a.l,l.l,d),alpha:ds(a.alpha,l.alpha,d)}}},aA=Object.freeze({__proto__:null,lab:$d,hcl:Nu}),qs=function(a,l,d,m,b){this.type=a,this.operator=l,this.interpolation=d,this.input=m,this.labels=[],this.outputs=[];for(var E=0,S=b;E<S.length;E+=1){var B=S[E],q=B[1];this.labels.push(B[0]),this.outputs.push(q)}};function lA(a,l,d,m){var b=m-d,E=a-d;return 0===b?0:1===l?E/b:(Math.pow(l,E)-1)/(Math.pow(l,b)-1)}qs.interpolationFactor=function(a,l,d,m){var b=0;if("exponential"===a.name)b=lA(l,a.base,d,m);else if("linear"===a.name)b=lA(l,1,d,m);else if("cubic-bezier"===a.name){var E=a.controlPoints;b=new P(E[0],E[1],E[2],E[3]).solve(lA(l,1,d,m))}return b},qs.parse=function(a,l){var d=a[0],m=a[1],b=a[2],E=a.slice(3);if(!Array.isArray(m)||0===m.length)return l.error("Expected an interpolation type expression.",1);if("linear"===m[0])m={name:"linear"};else if("exponential"===m[0]){var S=m[1];if("number"!=typeof S)return l.error("Exponential interpolation requires a numeric base.",1,1);m={name:"exponential",base:S}}else{if("cubic-bezier"!==m[0])return l.error("Unknown interpolation type "+String(m[0]),1,0);var B=m.slice(1);if(4!==B.length||B.some(function(dt){return"number"!=typeof dt||dt<0||dt>1}))return l.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);m={name:"cubic-bezier",controlPoints:B}}if(a.length-1<4)return l.error("Expected at least 4 arguments, but found only "+(a.length-1)+".");if((a.length-1)%2!=0)return l.error("Expected an even number of arguments.");if(!(b=l.parse(b,2,Xe)))return null;var q=[],J=null;"interpolate-hcl"===d||"interpolate-lab"===d?J=Rt:l.expectedType&&"value"!==l.expectedType.kind&&(J=l.expectedType);for(var re=0;re<E.length;re+=2){var le=E[re],_e=E[re+1],Ee=re+3,Ge=re+4;if("number"!=typeof le)return l.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Ee);if(q.length&&q[q.length-1][0]>=le)return l.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Ee);var Ke=l.parse(_e,Ge,J);if(!Ke)return null;J=J||Ke.type,q.push([le,Ke])}return"number"===J.kind||"color"===J.kind||"array"===J.kind&&"number"===J.itemType.kind&&"number"==typeof J.N?new qs(J,d,m,b,q):l.error("Type "+fn(J)+" is not interpolatable.")},qs.prototype.evaluate=function(a){var l=this.labels,d=this.outputs;if(1===l.length)return d[0].evaluate(a);var m=this.input.evaluate(a);if(m<=l[0])return d[0].evaluate(a);var b=l.length;if(m>=l[b-1])return d[b-1].evaluate(a);var E=gd(l,m),S=qs.interpolationFactor(this.interpolation,m,l[E],l[E+1]),B=d[E].evaluate(a),q=d[E+1].evaluate(a);return"interpolate"===this.operator?Wd[this.type.kind.toLowerCase()](B,q,S):"interpolate-hcl"===this.operator?Nu.reverse(Nu.interpolate(Nu.forward(B),Nu.forward(q),S)):$d.reverse($d.interpolate($d.forward(B),$d.forward(q),S))},qs.prototype.eachChild=function(a){a(this.input);for(var l=0,d=this.outputs;l<d.length;l+=1)a(d[l])},qs.prototype.outputDefined=function(){return this.outputs.every(function(a){return a.outputDefined()})},qs.prototype.serialize=function(){var a;a="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var l=[this.operator,a,this.input.serialize()],d=0;d<this.labels.length;d++)l.push(this.labels[d],this.outputs[d].serialize());return l};var Rl=function(a,l){this.type=a,this.args=l};Rl.parse=function(a,l){if(a.length<2)return l.error("Expectected at least one argument.");var d=null,m=l.expectedType;m&&"value"!==m.kind&&(d=m);for(var b=[],E=0,S=a.slice(1);E<S.length;E+=1){var B=l.parse(S[E],1+b.length,d,void 0,{typeAnnotation:"omit"});if(!B)return null;d=d||B.type,b.push(B)}var q=m&&b.some(function(J){return Pi(m,J.type)});return new Rl(q?tt:d,b)},Rl.prototype.evaluate=function(a){for(var l,d=null,m=0,b=0,E=this.args;b<E.length&&(m++,(d=E[b].evaluate(a))&&d instanceof ks&&!d.available&&(l||(l=d.name),d=null,m===this.args.length&&(d=l)),null===d);b+=1);return d},Rl.prototype.eachChild=function(a){this.args.forEach(a)},Rl.prototype.outputDefined=function(){return this.args.every(function(a){return a.outputDefined()})},Rl.prototype.serialize=function(){var a=["coalesce"];return this.eachChild(function(l){a.push(l.serialize())}),a};var fu=function(a,l){this.type=l.type,this.bindings=[].concat(a),this.result=l};fu.prototype.evaluate=function(a){return this.result.evaluate(a)},fu.prototype.eachChild=function(a){for(var l=0,d=this.bindings;l<d.length;l+=1)a(d[l][1]);a(this.result)},fu.parse=function(a,l){if(a.length<4)return l.error("Expected at least 3 arguments, but found "+(a.length-1)+" instead.");for(var d=[],m=1;m<a.length-1;m+=2){var b=a[m];if("string"!=typeof b)return l.error("Expected string, but found "+typeof b+" instead.",m);if(/[^a-zA-Z0-9_]/.test(b))return l.error("Variable names must contain only alphanumeric characters or '_'.",m);var E=l.parse(a[m+1],m+1);if(!E)return null;d.push([b,E])}var S=l.parse(a[a.length-1],a.length-1,l.expectedType,d);return S?new fu(d,S):null},fu.prototype.outputDefined=function(){return this.result.outputDefined()},fu.prototype.serialize=function(){for(var a=["let"],l=0,d=this.bindings;l<d.length;l+=1){var m=d[l];a.push(m[0],m[1].serialize())}return a.push(this.result.serialize()),a};var Uu=function(a,l,d){this.type=a,this.index=l,this.input=d};Uu.parse=function(a,l){if(3!==a.length)return l.error("Expected 2 arguments, but found "+(a.length-1)+" instead.");var d=l.parse(a[1],1,Xe),m=l.parse(a[2],2,Rn(l.expectedType||tt));return d&&m?new Uu(m.type.itemType,d,m):null},Uu.prototype.evaluate=function(a){var l=this.index.evaluate(a),d=this.input.evaluate(a);if(l<0)throw new ts("Array index out of bounds: "+l+" < 0.");if(l>=d.length)throw new ts("Array index out of bounds: "+l+" > "+(d.length-1)+".");if(l!==Math.floor(l))throw new ts("Array index must be an integer, but found "+l+" instead.");return d[l]},Uu.prototype.eachChild=function(a){a(this.index),a(this.input)},Uu.prototype.outputDefined=function(){return!1},Uu.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Au=function(a,l){this.type=_t,this.needle=a,this.haystack=l};Au.parse=function(a,l){if(3!==a.length)return l.error("Expected 2 arguments, but found "+(a.length-1)+" instead.");var d=l.parse(a[1],1,tt),m=l.parse(a[2],2,tt);return d&&m?vi(d.type,[_t,Lt,Xe,De,tt])?new Au(d,m):l.error("Expected first argument to be of type boolean, string, number or null, but found "+fn(d.type)+" instead"):null},Au.prototype.evaluate=function(a){var l=this.needle.evaluate(a),d=this.haystack.evaluate(a);if(!d)return!1;if(!ir(l,["boolean","string","number","null"]))throw new ts("Expected first argument to be of type boolean, string, number or null, but found "+fn(es(l))+" instead.");if(!ir(d,["string","array"]))throw new ts("Expected second argument to be of type array or string, but found "+fn(es(d))+" instead.");return d.indexOf(l)>=0},Au.prototype.eachChild=function(a){a(this.needle),a(this.haystack)},Au.prototype.outputDefined=function(){return!0},Au.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var ol=function(a,l,d){this.type=Xe,this.needle=a,this.haystack=l,this.fromIndex=d};ol.parse=function(a,l){if(a.length<=2||a.length>=5)return l.error("Expected 3 or 4 arguments, but found "+(a.length-1)+" instead.");var d=l.parse(a[1],1,tt),m=l.parse(a[2],2,tt);if(!d||!m)return null;if(!vi(d.type,[_t,Lt,Xe,De,tt]))return l.error("Expected first argument to be of type boolean, string, number or null, but found "+fn(d.type)+" instead");if(4===a.length){var b=l.parse(a[3],3,Xe);return b?new ol(d,m,b):null}return new ol(d,m)},ol.prototype.evaluate=function(a){var l=this.needle.evaluate(a),d=this.haystack.evaluate(a);if(!ir(l,["boolean","string","number","null"]))throw new ts("Expected first argument to be of type boolean, string, number or null, but found "+fn(es(l))+" instead.");if(!ir(d,["string","array"]))throw new ts("Expected second argument to be of type array or string, but found "+fn(es(d))+" instead.");if(this.fromIndex){var m=this.fromIndex.evaluate(a);return d.indexOf(l,m)}return d.indexOf(l)},ol.prototype.eachChild=function(a){a(this.needle),a(this.haystack),this.fromIndex&&a(this.fromIndex)},ol.prototype.outputDefined=function(){return!1},ol.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var a=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),a]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var jc=function(a,l,d,m,b,E){this.inputType=a,this.type=l,this.input=d,this.cases=m,this.outputs=b,this.otherwise=E};jc.parse=function(a,l){if(a.length<5)return l.error("Expected at least 4 arguments, but found only "+(a.length-1)+".");if(a.length%2!=1)return l.error("Expected an even number of arguments.");var d,m;l.expectedType&&"value"!==l.expectedType.kind&&(m=l.expectedType);for(var b={},E=[],S=2;S<a.length-1;S+=2){var B=a[S],q=a[S+1];Array.isArray(B)||(B=[B]);var J=l.concat(S);if(0===B.length)return J.error("Expected at least one branch label.");for(var re=0,le=B;re<le.length;re+=1){var _e=le[re];if("number"!=typeof _e&&"string"!=typeof _e)return J.error("Branch labels must be numbers or strings.");if("number"==typeof _e&&Math.abs(_e)>Number.MAX_SAFE_INTEGER)return J.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof _e&&Math.floor(_e)!==_e)return J.error("Numeric branch labels must be integer values.");if(d){if(J.checkSubtype(d,es(_e)))return null}else d=es(_e);if(void 0!==b[String(_e)])return J.error("Branch labels must be unique.");b[String(_e)]=E.length}var Ee=l.parse(q,S,m);if(!Ee)return null;m=m||Ee.type,E.push(Ee)}var Ge=l.parse(a[1],1,tt);if(!Ge)return null;var Ke=l.parse(a[a.length-1],a.length-1,m);return Ke?"value"!==Ge.type.kind&&l.concat(1).checkSubtype(d,Ge.type)?null:new jc(d,m,Ge,b,E,Ke):null},jc.prototype.evaluate=function(a){var l=this.input.evaluate(a);return(es(l)===this.inputType&&this.outputs[this.cases[l]]||this.otherwise).evaluate(a)},jc.prototype.eachChild=function(a){a(this.input),this.outputs.forEach(a),a(this.otherwise)},jc.prototype.outputDefined=function(){return this.outputs.every(function(a){return a.outputDefined()})&&this.otherwise.outputDefined()},jc.prototype.serialize=function(){for(var a=this,l=["match",this.input.serialize()],d=[],m={},b=0,E=Object.keys(this.cases).sort();b<E.length;b+=1){var S=E[b];void 0===(le=m[this.cases[S]])?(m[this.cases[S]]=d.length,d.push([this.cases[S],[S]])):d[le][1].push(S)}for(var B=function(Ee){return"number"===a.inputType.kind?Number(Ee):Ee},q=0,J=d;q<J.length;q+=1){var re=J[q],le=re[0],_e=re[1];l.push(1===_e.length?B(_e[0]):_e.map(B)),l.push(this.outputs[outputIndex$1].serialize())}return l.push(this.otherwise.serialize()),l};var Vu=function(a,l,d){this.type=a,this.branches=l,this.otherwise=d};Vu.parse=function(a,l){if(a.length<4)return l.error("Expected at least 3 arguments, but found only "+(a.length-1)+".");if(a.length%2!=0)return l.error("Expected an odd number of arguments.");var d;l.expectedType&&"value"!==l.expectedType.kind&&(d=l.expectedType);for(var m=[],b=1;b<a.length-1;b+=2){var E=l.parse(a[b],b,_t);if(!E)return null;var S=l.parse(a[b+1],b+1,d);if(!S)return null;m.push([E,S]),d=d||S.type}var B=l.parse(a[a.length-1],a.length-1,d);return B?new Vu(d,m,B):null},Vu.prototype.evaluate=function(a){for(var l=0,d=this.branches;l<d.length;l+=1){var m=d[l],b=m[1];if(m[0].evaluate(a))return b.evaluate(a)}return this.otherwise.evaluate(a)},Vu.prototype.eachChild=function(a){for(var l=0,d=this.branches;l<d.length;l+=1){var m=d[l],b=m[1];a(m[0]),a(b)}a(this.otherwise)},Vu.prototype.outputDefined=function(){return this.branches.every(function(a){return a[1].outputDefined()})&&this.otherwise.outputDefined()},Vu.prototype.serialize=function(){var a=["case"];return this.eachChild(function(l){a.push(l.serialize())}),a};var Zl=function(a,l,d,m){this.type=a,this.input=l,this.beginIndex=d,this.endIndex=m};function im(a,l){return"=="===a||"!="===a?"boolean"===l.kind||"string"===l.kind||"number"===l.kind||"null"===l.kind||"value"===l.kind:"string"===l.kind||"number"===l.kind||"value"===l.kind}function Ap(a,l,d,m){return 0===m.compare(l,d)}function Gr(a,l,d){var m="=="!==a&&"!="!==a;return function(){function b(E,S,B){this.type=_t,this.lhs=E,this.rhs=S,this.collator=B,this.hasUntypedArgument="value"===E.type.kind||"value"===S.type.kind}return b.parse=function(E,S){if(3!==E.length&&4!==E.length)return S.error("Expected two or three arguments.");var B=E[0],q=S.parse(E[1],1,tt);if(!q)return null;if(!im(B,q.type))return S.concat(1).error('"'+B+"\" comparisons are not supported for type '"+fn(q.type)+"'.");var J=S.parse(E[2],2,tt);if(!J)return null;if(!im(B,J.type))return S.concat(2).error('"'+B+"\" comparisons are not supported for type '"+fn(J.type)+"'.");if(q.type.kind!==J.type.kind&&"value"!==q.type.kind&&"value"!==J.type.kind)return S.error("Cannot compare types '"+fn(q.type)+"' and '"+fn(J.type)+"'.");m&&("value"===q.type.kind&&"value"!==J.type.kind?q=new No(J.type,[q]):"value"!==q.type.kind&&"value"===J.type.kind&&(J=new No(q.type,[J])));var re=null;if(4===E.length){if("string"!==q.type.kind&&"string"!==J.type.kind&&"value"!==q.type.kind&&"value"!==J.type.kind)return S.error("Cannot use collator to compare non-string types.");if(!(re=S.parse(E[3],3,ct)))return null}return new b(q,J,re)},b.prototype.evaluate=function(E){var S=this.lhs.evaluate(E),B=this.rhs.evaluate(E);if(m&&this.hasUntypedArgument){var q=es(S),J=es(B);if(q.kind!==J.kind||"string"!==q.kind&&"number"!==q.kind)throw new ts('Expected arguments for "'+a+'" to be (string, string) or (number, number), but found ('+q.kind+", "+J.kind+") instead.")}if(this.collator&&!m&&this.hasUntypedArgument){var re=es(S),le=es(B);if("string"!==re.kind||"string"!==le.kind)return l(E,S,B)}return this.collator?d(E,S,B,this.collator.evaluate(E)):l(E,S,B)},b.prototype.eachChild=function(E){E(this.lhs),E(this.rhs),this.collator&&E(this.collator)},b.prototype.outputDefined=function(){return!0},b.prototype.serialize=function(){var E=[a];return this.eachChild(function(S){E.push(S.serialize())}),E},b}()}Zl.parse=function(a,l){if(a.length<=2||a.length>=5)return l.error("Expected 3 or 4 arguments, but found "+(a.length-1)+" instead.");var d=l.parse(a[1],1,tt),m=l.parse(a[2],2,Xe);if(!d||!m)return null;if(!vi(d.type,[Rn(tt),Lt,tt]))return l.error("Expected first argument to be of type array or string, but found "+fn(d.type)+" instead");if(4===a.length){var b=l.parse(a[3],3,Xe);return b?new Zl(d.type,d,m,b):null}return new Zl(d.type,d,m)},Zl.prototype.evaluate=function(a){var l=this.input.evaluate(a),d=this.beginIndex.evaluate(a);if(!ir(l,["string","array"]))throw new ts("Expected first argument to be of type array or string, but found "+fn(es(l))+" instead.");if(this.endIndex){var m=this.endIndex.evaluate(a);return l.slice(d,m)}return l.slice(d)},Zl.prototype.eachChild=function(a){a(this.input),a(this.beginIndex),this.endIndex&&a(this.endIndex)},Zl.prototype.outputDefined=function(){return!1},Zl.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var a=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),a]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var _d=Gr("==",function(a,l,d){return l===d},Ap),Qu=Gr("!=",function(a,l,d){return l!==d},function(a,l,d,m){return!Ap(0,l,d,m)}),mp=Gr("<",function(a,l,d){return l<d},function(a,l,d,m){return m.compare(l,d)<0}),gp=Gr(">",function(a,l,d){return l>d},function(a,l,d,m){return m.compare(l,d)>0}),Ih=Gr("<=",function(a,l,d){return l<=d},function(a,l,d,m){return m.compare(l,d)<=0}),rm=Gr(">=",function(a,l,d){return l>=d},function(a,l,d,m){return m.compare(l,d)>=0}),Jl=function(a,l,d,m,b){this.type=Lt,this.number=a,this.locale=l,this.currency=d,this.minFractionDigits=m,this.maxFractionDigits=b};Jl.parse=function(a,l){if(3!==a.length)return l.error("Expected two arguments.");var d=l.parse(a[1],1,Xe);if(!d)return null;var m=a[2];if("object"!=typeof m||Array.isArray(m))return l.error("NumberFormat options argument must be an object.");var b=null;if(m.locale&&!(b=l.parse(m.locale,1,Lt)))return null;var E=null;if(m.currency&&!(E=l.parse(m.currency,1,Lt)))return null;var S=null;if(m["min-fraction-digits"]&&!(S=l.parse(m["min-fraction-digits"],1,Xe)))return null;var B=null;return m["max-fraction-digits"]&&!(B=l.parse(m["max-fraction-digits"],1,Xe))?null:new Jl(d,b,E,S,B)},Jl.prototype.evaluate=function(a){return new Intl.NumberFormat(this.locale?this.locale.evaluate(a):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(a):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(a):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(a):void 0}).format(this.number.evaluate(a))},Jl.prototype.eachChild=function(a){a(this.number),this.locale&&a(this.locale),this.currency&&a(this.currency),this.minFractionDigits&&a(this.minFractionDigits),this.maxFractionDigits&&a(this.maxFractionDigits)},Jl.prototype.outputDefined=function(){return!1},Jl.prototype.serialize=function(){var a={};return this.locale&&(a.locale=this.locale.serialize()),this.currency&&(a.currency=this.currency.serialize()),this.minFractionDigits&&(a["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(a["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),a]};var ju=function(a){this.type=Xe,this.input=a};ju.parse=function(a,l){if(2!==a.length)return l.error("Expected 1 argument, but found "+(a.length-1)+" instead.");var d=l.parse(a[1],1);return d?"array"!==d.type.kind&&"string"!==d.type.kind&&"value"!==d.type.kind?l.error("Expected argument of type string or array, but found "+fn(d.type)+" instead."):new ju(d):null},ju.prototype.evaluate=function(a){var l=this.input.evaluate(a);if("string"==typeof l||Array.isArray(l))return l.length;throw new ts("Expected value to be of type string or array, but found "+fn(es(l))+" instead.")},ju.prototype.eachChild=function(a){a(this.input)},ju.prototype.outputDefined=function(){return!1},ju.prototype.serialize=function(){var a=["length"];return this.eachChild(function(l){a.push(l.serialize())}),a};var vc={"==":_d,"!=":Qu,">":gp,"<":mp,">=":rm,"<=":Ih,array:No,at:Uu,boolean:No,case:Vu,coalesce:Rl,collator:en,format:nl,image:ga,in:Au,"index-of":ol,interpolate:qs,"interpolate-hcl":qs,"interpolate-lab":qs,length:ju,let:fu,literal:ls,match:jc,number:No,"number-format":Jl,object:No,slice:Zl,step:rl,string:No,"to-boolean":ja,"to-color":ja,"to-number":ja,"to-string":ja,var:gc,within:Al};function af(a,l){var d=l[0],m=l[1],b=l[2],E=l[3];d=d.evaluate(a),m=m.evaluate(a),b=b.evaluate(a);var S=E?E.evaluate(a):1,B=uu(d,m,b,S);if(B)throw new ts(B);return new Or(d/255*S,m/255*S,b/255*S,S)}function mu(a,l){return a in l}function Th(a,l){var d=l[a];return void 0===d?null:d}function va(a){return{type:a}}function _p(a){return{result:"success",value:a}}function zc(a){return{result:"error",value:a}}function sl(a){return"data-driven"===a["property-type"]||"cross-faded-data-driven"===a["property-type"]}function Xd(a){return!!a.expression&&a.expression.parameters.indexOf("zoom")>-1}function Ks(a){return!!a.expression&&a.expression.interpolated}function Ro(a){return a instanceof Number?"number":a instanceof String?"string":a instanceof Boolean?"boolean":Array.isArray(a)?"array":null===a?"null":typeof a}function vp(a){return"object"==typeof a&&null!==a&&!Array.isArray(a)}function lf(a){return a}function zu(a,l,d){return void 0!==a?a:void 0!==l?l:void 0!==d?d:void 0}function cf(a,l,d,m,b){return zu(typeof d===b?m[d]:void 0,a.default,l.default)}function uf(a,l,d){if("number"!==Ro(d))return zu(a.default,l.default);var m=a.stops.length;if(1===m||d<=a.stops[0][0])return a.stops[0][1];if(d>=a.stops[m-1][0])return a.stops[m-1][1];var b=gd(a.stops.map(function(E){return E[0]}),d);return a.stops[b][1]}function df(a,l,d){var m=void 0!==a.base?a.base:1;if("number"!==Ro(d))return zu(a.default,l.default);var b=a.stops.length;if(1===b||d<=a.stops[0][0])return a.stops[0][1];if(d>=a.stops[b-1][0])return a.stops[b-1][1];var _e,Ee,Ke,dt,E=gd(a.stops.map(function(le){return le[0]}),d),S=(_e=m,dt=d-(Ee=a.stops[E][0]),0==(Ke=a.stops[E+1][0]-Ee)?0:1===_e?dt/Ke:(Math.pow(_e,dt)-1)/(Math.pow(_e,Ke)-1)),B=a.stops[E][1],q=a.stops[E+1][1],J=Wd[l.type]||lf;if(a.colorSpace&&"rgb"!==a.colorSpace){var re=aA[a.colorSpace];J=function(le,_e){return re.reverse(re.interpolate(re.forward(le),re.forward(_e),S))}}return"function"==typeof B.evaluate?{evaluate:function(){for(var le=[],_e=arguments.length;_e--;)le[_e]=arguments[_e];var Ee=B.evaluate.apply(void 0,le),Ge=q.evaluate.apply(void 0,le);if(void 0!==Ee&&void 0!==Ge)return J(Ee,Ge,S)}}:J(B,q,S)}function yp(a,l,d){return"color"===l.type?d=Or.parse(d):"formatted"===l.type?d=no.fromString(d.toString()):"resolvedImage"===l.type?d=ks.fromString(d.toString()):Ro(d)===l.type||"enum"===l.type&&l.values[d]||(d=void 0),zu(d,a.default,l.default)}at.register(vc,{error:[{kind:"error"},[Lt],function(a,l){throw new ts(l[0].evaluate(a))}],typeof:[Lt,[tt],function(a,l){return fn(es(l[0].evaluate(a)))}],"to-rgba":[Rn(Xe,4),[Rt],function(a,l){return l[0].evaluate(a).toArray()}],rgb:[Rt,[Xe,Xe,Xe],af],rgba:[Rt,[Xe,Xe,Xe,Xe],af],has:{type:_t,overloads:[[[Lt],function(a,l){return mu(l[0].evaluate(a),a.properties())}],[[Lt,zt],function(a,l){var d=l[1];return mu(l[0].evaluate(a),d.evaluate(a))}]]},get:{type:tt,overloads:[[[Lt],function(a,l){return Th(l[0].evaluate(a),a.properties())}],[[Lt,zt],function(a,l){var d=l[1];return Th(l[0].evaluate(a),d.evaluate(a))}]]},"feature-state":[tt,[Lt],function(a,l){return Th(l[0].evaluate(a),a.featureState||{})}],properties:[zt,[],function(a){return a.properties()}],"geometry-type":[Lt,[],function(a){return a.geometryType()}],id:[tt,[],function(a){return a.id()}],zoom:[Xe,[],function(a){return a.globals.zoom}],"heatmap-density":[Xe,[],function(a){return a.globals.heatmapDensity||0}],"line-progress":[Xe,[],function(a){return a.globals.lineProgress||0}],accumulated:[tt,[],function(a){return void 0===a.globals.accumulated?null:a.globals.accumulated}],"+":[Xe,va(Xe),function(a,l){for(var d=0,m=0,b=l;m<b.length;m+=1)d+=b[m].evaluate(a);return d}],"*":[Xe,va(Xe),function(a,l){for(var d=1,m=0,b=l;m<b.length;m+=1)d*=b[m].evaluate(a);return d}],"-":{type:Xe,overloads:[[[Xe,Xe],function(a,l){var d=l[1];return l[0].evaluate(a)-d.evaluate(a)}],[[Xe],function(a,l){return-l[0].evaluate(a)}]]},"/":[Xe,[Xe,Xe],function(a,l){var d=l[1];return l[0].evaluate(a)/d.evaluate(a)}],"%":[Xe,[Xe,Xe],function(a,l){var d=l[1];return l[0].evaluate(a)%d.evaluate(a)}],ln2:[Xe,[],function(){return Math.LN2}],pi:[Xe,[],function(){return Math.PI}],e:[Xe,[],function(){return Math.E}],"^":[Xe,[Xe,Xe],function(a,l){var d=l[1];return Math.pow(l[0].evaluate(a),d.evaluate(a))}],sqrt:[Xe,[Xe],function(a,l){return Math.sqrt(l[0].evaluate(a))}],log10:[Xe,[Xe],function(a,l){return Math.log(l[0].evaluate(a))/Math.LN10}],ln:[Xe,[Xe],function(a,l){return Math.log(l[0].evaluate(a))}],log2:[Xe,[Xe],function(a,l){return Math.log(l[0].evaluate(a))/Math.LN2}],sin:[Xe,[Xe],function(a,l){return Math.sin(l[0].evaluate(a))}],cos:[Xe,[Xe],function(a,l){return Math.cos(l[0].evaluate(a))}],tan:[Xe,[Xe],function(a,l){return Math.tan(l[0].evaluate(a))}],asin:[Xe,[Xe],function(a,l){return Math.asin(l[0].evaluate(a))}],acos:[Xe,[Xe],function(a,l){return Math.acos(l[0].evaluate(a))}],atan:[Xe,[Xe],function(a,l){return Math.atan(l[0].evaluate(a))}],min:[Xe,va(Xe),function(a,l){return Math.min.apply(Math,l.map(function(d){return d.evaluate(a)}))}],max:[Xe,va(Xe),function(a,l){return Math.max.apply(Math,l.map(function(d){return d.evaluate(a)}))}],abs:[Xe,[Xe],function(a,l){return Math.abs(l[0].evaluate(a))}],round:[Xe,[Xe],function(a,l){var d=l[0].evaluate(a);return d<0?-Math.round(-d):Math.round(d)}],floor:[Xe,[Xe],function(a,l){return Math.floor(l[0].evaluate(a))}],ceil:[Xe,[Xe],function(a,l){return Math.ceil(l[0].evaluate(a))}],"filter-==":[_t,[Lt,tt],function(a,l){var d=l[0],m=l[1];return a.properties()[d.value]===m.value}],"filter-id-==":[_t,[tt],function(a,l){var d=l[0];return a.id()===d.value}],"filter-type-==":[_t,[Lt],function(a,l){var d=l[0];return a.geometryType()===d.value}],"filter-<":[_t,[Lt,tt],function(a,l){var d=l[0],m=l[1],b=a.properties()[d.value],E=m.value;return typeof b==typeof E&&b<E}],"filter-id-<":[_t,[tt],function(a,l){var d=l[0],m=a.id(),b=d.value;return typeof m==typeof b&&m<b}],"filter->":[_t,[Lt,tt],function(a,l){var d=l[0],m=l[1],b=a.properties()[d.value],E=m.value;return typeof b==typeof E&&b>E}],"filter-id->":[_t,[tt],function(a,l){var d=l[0],m=a.id(),b=d.value;return typeof m==typeof b&&m>b}],"filter-<=":[_t,[Lt,tt],function(a,l){var d=l[0],m=l[1],b=a.properties()[d.value],E=m.value;return typeof b==typeof E&&b<=E}],"filter-id-<=":[_t,[tt],function(a,l){var d=l[0],m=a.id(),b=d.value;return typeof m==typeof b&&m<=b}],"filter->=":[_t,[Lt,tt],function(a,l){var d=l[0],m=l[1],b=a.properties()[d.value],E=m.value;return typeof b==typeof E&&b>=E}],"filter-id->=":[_t,[tt],function(a,l){var d=l[0],m=a.id(),b=d.value;return typeof m==typeof b&&m>=b}],"filter-has":[_t,[tt],function(a,l){return l[0].value in a.properties()}],"filter-has-id":[_t,[],function(a){return null!==a.id()&&void 0!==a.id()}],"filter-type-in":[_t,[Rn(Lt)],function(a,l){return l[0].value.indexOf(a.geometryType())>=0}],"filter-id-in":[_t,[Rn(tt)],function(a,l){return l[0].value.indexOf(a.id())>=0}],"filter-in-small":[_t,[Lt,Rn(tt)],function(a,l){var d=l[0];return l[1].value.indexOf(a.properties()[d.value])>=0}],"filter-in-large":[_t,[Lt,Rn(tt)],function(a,l){var d=l[0],m=l[1];return function(b,E,S,B){for(;S<=B;){var q=S+B>>1;if(E[q]===b)return!0;E[q]>b?B=q-1:S=q+1}return!1}(a.properties()[d.value],m.value,0,m.value.length-1)}],all:{type:_t,overloads:[[[_t,_t],function(a,l){var d=l[1];return l[0].evaluate(a)&&d.evaluate(a)}],[va(_t),function(a,l){for(var d=0,m=l;d<m.length;d+=1)if(!m[d].evaluate(a))return!1;return!0}]]},any:{type:_t,overloads:[[[_t,_t],function(a,l){var d=l[1];return l[0].evaluate(a)||d.evaluate(a)}],[va(_t),function(a,l){for(var d=0,m=l;d<m.length;d+=1)if(m[d].evaluate(a))return!0;return!1}]]},"!":[_t,[_t],function(a,l){return!l[0].evaluate(a)}],"is-supported-script":[_t,[Lt],function(a,l){var d=a.globals&&a.globals.isSupportedScript;return!d||d(l[0].evaluate(a))}],upcase:[Lt,[Lt],function(a,l){return l[0].evaluate(a).toUpperCase()}],downcase:[Lt,[Lt],function(a,l){return l[0].evaluate(a).toLowerCase()}],concat:[Lt,va(tt),function(a,l){return l.map(function(d){return Lu(d.evaluate(a))}).join("")}],"resolved-locale":[Lt,[ct],function(a,l){return l[0].evaluate(a).resolvedLocale()}]});var vd=function(a,l){var d;this.expression=a,this._warningHistory={},this._evaluator=new Me,this._defaultValue=l?"color"===(d=l).type&&vp(d.default)?new Or(0,0,0,0):"color"===d.type?Or.parse(d.default)||null:void 0===d.default?null:d.default:null,this._enumValues=l&&"enum"===l.type?l.values:null};function Gu(a){return Array.isArray(a)&&a.length>0&&"string"==typeof a[0]&&a[0]in vc}function an(a,l){var b,E,d=new hu(vc,[],l?(E={color:Rt,string:Lt,number:Xe,enum:Lt,boolean:_t,formatted:Pt,resolvedImage:kt},"array"===(b=l).type?Rn(E[b.value]||tt,b.length):E[b.type]):void 0),m=d.parse(a,void 0,void 0,void 0,l&&"string"===l.type?{typeAnnotation:"coerce"}:void 0);return m?_p(new vd(m,l)):zc(d.errors)}vd.prototype.evaluateWithoutErrorHandling=function(a,l,d,m,b,E){return this._evaluator.globals=a,this._evaluator.feature=l,this._evaluator.featureState=d,this._evaluator.canonical=m,this._evaluator.availableImages=b||null,this._evaluator.formattedSection=E,this.expression.evaluate(this._evaluator)},vd.prototype.evaluate=function(a,l,d,m,b,E){this._evaluator.globals=a,this._evaluator.feature=l||null,this._evaluator.featureState=d||null,this._evaluator.canonical=m,this._evaluator.availableImages=b||null,this._evaluator.formattedSection=E||null;try{var S=this.expression.evaluate(this._evaluator);if(null==S||"number"==typeof S&&S!=S)return this._defaultValue;if(this._enumValues&&!(S in this._enumValues))throw new ts("Expected value to be one of "+Object.keys(this._enumValues).map(function(B){return JSON.stringify(B)}).join(", ")+", but found "+JSON.stringify(S)+" instead.");return S}catch(B){return this._warningHistory[B.message]||(this._warningHistory[B.message]=!0,typeof console<"u"&&console.warn(B.message)),this._defaultValue}};var Ml=function(a,l){this.kind=a,this._styleExpression=l,this.isStateDependent="constant"!==a&&!mc(l.expression)};Ml.prototype.evaluateWithoutErrorHandling=function(a,l,d,m,b,E){return this._styleExpression.evaluateWithoutErrorHandling(a,l,d,m,b,E)},Ml.prototype.evaluate=function(a,l,d,m,b,E){return this._styleExpression.evaluate(a,l,d,m,b,E)};var yc=function(a,l,d,m){this.kind=a,this.zoomStops=d,this._styleExpression=l,this.isStateDependent="camera"!==a&&!mc(l.expression),this.interpolationType=m};function Sh(a,l){if("error"===(a=an(a,l)).result)return a;var d=a.value.expression,m=_a(d);if(!m&&!sl(l))return zc([new En("","data expressions not supported")]);var b=Vc(d,["zoom"]);if(!b&&!Xd(l))return zc([new En("","zoom expressions not supported")]);var E=function S(B){var q=null;if(B instanceof fu)q=S(B.result);else if(B instanceof Rl)for(var J=0,re=B.args;J<re.length&&!(q=S(re[J]));J+=1);else(B instanceof rl||B instanceof qs)&&B.input instanceof at&&"zoom"===B.input.name&&(q=B);return q instanceof En||B.eachChild(function(le){var _e=S(le);_e instanceof En?q=_e:!q&&_e?q=new En("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):q&&_e&&q!==_e&&(q=new En("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),q}(d);return E||b?E instanceof En?zc([E]):E instanceof qs&&!Ks(l)?zc([new En("",'"interpolate" expressions cannot be used with this property')]):_p(E?new yc(m?"camera":"composite",a.value,E.labels,E instanceof qs?E.interpolation:void 0):new Ml(m?"constant":"source",a.value)):zc([new En("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}yc.prototype.evaluateWithoutErrorHandling=function(a,l,d,m,b,E){return this._styleExpression.evaluateWithoutErrorHandling(a,l,d,m,b,E)},yc.prototype.evaluate=function(a,l,d,m,b,E){return this._styleExpression.evaluate(a,l,d,m,b,E)},yc.prototype.interpolationFactor=function(a,l,d){return this.interpolationType?qs.interpolationFactor(this.interpolationType,a,l,d):0};var yd=function(a,l){this._parameters=a,this._specification=l,hn(this,function d(m,b){var E,S,B,q="color"===b.type,J=m.stops&&"object"==typeof m.stops[0][0],re=J||!(J||void 0!==m.property),le=m.type||(Ks(b)?"exponential":"interval");if(q&&((m=hn({},m)).stops&&(m.stops=m.stops.map(function(hi){return[hi[0],Or.parse(hi[1])]})),m.default=Or.parse(m.default?m.default:b.default)),m.colorSpace&&"rgb"!==m.colorSpace&&!aA[m.colorSpace])throw new Error("Unknown color space: "+m.colorSpace);if("exponential"===le)E=df;else if("interval"===le)E=uf;else if("categorical"===le){E=cf,S=Object.create(null);for(var _e=0,Ee=m.stops;_e<Ee.length;_e+=1){var Ge=Ee[_e];S[Ge[0]]=Ge[1]}B=typeof m.stops[0][0]}else{if("identity"!==le)throw new Error('Unknown function type "'+le+'"');E=yp}if(J){for(var Ke={},dt=[],it=0;it<m.stops.length;it++){var Bt=m.stops[it],Nt=Bt[0].zoom;void 0===Ke[Nt]&&(Ke[Nt]={zoom:Nt,type:m.type,property:m.property,default:m.default,stops:[]},dt.push(Nt)),Ke[Nt].stops.push([Bt[0].value,Bt[1]])}for(var $t=[],nn=0,Tn=dt;nn<Tn.length;nn+=1){var Vn=Tn[nn];$t.push([Ke[Vn].zoom,d(Ke[Vn],b)])}var ti={name:"linear"};return{kind:"composite",interpolationType:ti,interpolationFactor:qs.interpolationFactor.bind(void 0,ti),zoomStops:$t.map(function(hi){return hi[0]}),evaluate:function(hi,Hi){var pi=hi.zoom;return df({stops:$t,base:m.base},b,pi).evaluate(pi,Hi)}}}if(re){var ji="exponential"===le?{name:"exponential",base:void 0!==m.base?m.base:1}:null;return{kind:"camera",interpolationType:ji,interpolationFactor:qs.interpolationFactor.bind(void 0,ji),zoomStops:m.stops.map(function(hi){return hi[0]}),evaluate:function(hi){return E(m,b,hi.zoom,S,B)}}}return{kind:"source",evaluate:function(hi,Hi){var pi=Hi&&Hi.properties?Hi.properties[m.property]:void 0;return void 0===pi?zu(m.default,b.default):E(m,b,pi,S,B)}}}(this._parameters,this._specification))};function bc(a){var l=a.key,d=a.value,m=a.valueSpec||{},b=a.objectElementValidators||{},E=a.style,S=a.styleSpec,B=[],q=Ro(d);if("object"!==q)return[new Ve(l,d,"object expected, "+q+" found")];for(var J in d){var re=J.split(".")[0],le=m[re]||m["*"],_e=void 0;if(b[re])_e=b[re];else if(m[re])_e=Hr;else if(b["*"])_e=b["*"];else{if(!m["*"]){B.push(new Ve(l,d[J],'unknown property "'+J+'"'));continue}_e=Hr}B=B.concat(_e({key:(l&&l+".")+J,value:d[J],valueSpec:le,style:E,styleSpec:S,object:d,objectKey:J},d))}for(var Ee in m)b[Ee]||m[Ee].required&&void 0===m[Ee].default&&void 0===d[Ee]&&B.push(new Ve(l,d,'missing required property "'+Ee+'"'));return B}function Gc(a){var l=a.value,d=a.valueSpec,m=a.style,b=a.styleSpec,E=a.key,S=a.arrayElementValidator||Hr;if("array"!==Ro(l))return[new Ve(E,l,"array expected, "+Ro(l)+" found")];if(d.length&&l.length!==d.length)return[new Ve(E,l,"array length "+d.length+" expected, length "+l.length+" found")];if(d["min-length"]&&l.length<d["min-length"])return[new Ve(E,l,"array length at least "+d["min-length"]+" expected, length "+l.length+" found")];var B={type:d.value,values:d.values};b.$version<7&&(B.function=d.function),"object"===Ro(d.value)&&(B=d.value);for(var q=[],J=0;J<l.length;J++)q=q.concat(S({array:l,arrayIndex:J,value:l[J],valueSpec:B,style:m,styleSpec:b,key:E+"["+J+"]"}));return q}function Da(a){var l=a.key,d=a.value,m=a.valueSpec,b=Ro(d);return"number"===b&&d!=d&&(b="NaN"),"number"!==b?[new Ve(l,d,"number expected, "+b+" found")]:"minimum"in m&&d<m.minimum?[new Ve(l,d,d+" is less than the minimum value "+m.minimum)]:"maximum"in m&&d>m.maximum?[new Ve(l,d,d+" is greater than the maximum value "+m.maximum)]:[]}function gu(a){var l,d,m,b=a.valueSpec,E=Jt(a.value.type),S={},B="categorical"!==E&&void 0===a.value.property,q=!B,J="array"===Ro(a.value.stops)&&"array"===Ro(a.value.stops[0])&&"object"===Ro(a.value.stops[0][0]),re=bc({key:a.key,value:a.value,valueSpec:a.styleSpec.function,style:a.style,styleSpec:a.styleSpec,objectElementValidators:{stops:function(Ee){if("identity"===E)return[new Ve(Ee.key,Ee.value,'identity function may not have a "stops" property')];var Ge=[],Ke=Ee.value;return Ge=Ge.concat(Gc({key:Ee.key,value:Ke,valueSpec:Ee.valueSpec,style:Ee.style,styleSpec:Ee.styleSpec,arrayElementValidator:le})),"array"===Ro(Ke)&&0===Ke.length&&Ge.push(new Ve(Ee.key,Ke,"array must have at least one stop")),Ge},default:function(Ee){return Hr({key:Ee.key,value:Ee.value,valueSpec:b,style:Ee.style,styleSpec:Ee.styleSpec})}}});return"identity"===E&&B&&re.push(new Ve(a.key,a.value,'missing required property "property"')),"identity"===E||a.value.stops||re.push(new Ve(a.key,a.value,'missing required property "stops"')),"exponential"===E&&a.valueSpec.expression&&!Ks(a.valueSpec)&&re.push(new Ve(a.key,a.value,"exponential functions not supported")),a.styleSpec.$version>=8&&(q&&!sl(a.valueSpec)?re.push(new Ve(a.key,a.value,"property functions not supported")):B&&!Xd(a.valueSpec)&&re.push(new Ve(a.key,a.value,"zoom functions not supported"))),"categorical"!==E&&!J||void 0!==a.value.property||re.push(new Ve(a.key,a.value,'"property" property is required')),re;function le(Ee){var Ge=[],Ke=Ee.value,dt=Ee.key;if("array"!==Ro(Ke))return[new Ve(dt,Ke,"array expected, "+Ro(Ke)+" found")];if(2!==Ke.length)return[new Ve(dt,Ke,"array length 2 expected, length "+Ke.length+" found")];if(J){if("object"!==Ro(Ke[0]))return[new Ve(dt,Ke,"object expected, "+Ro(Ke[0])+" found")];if(void 0===Ke[0].zoom)return[new Ve(dt,Ke,"object stop key must have zoom")];if(void 0===Ke[0].value)return[new Ve(dt,Ke,"object stop key must have value")];if(m&&m>Jt(Ke[0].zoom))return[new Ve(dt,Ke[0].zoom,"stop zoom values must appear in ascending order")];Jt(Ke[0].zoom)!==m&&(m=Jt(Ke[0].zoom),d=void 0,S={}),Ge=Ge.concat(bc({key:dt+"[0]",value:Ke[0],valueSpec:{zoom:{}},style:Ee.style,styleSpec:Ee.styleSpec,objectElementValidators:{zoom:Da,value:_e}}))}else Ge=Ge.concat(_e({key:dt+"[0]",value:Ke[0],valueSpec:{},style:Ee.style,styleSpec:Ee.styleSpec},Ke));return Gu(Ut(Ke[1]))?Ge.concat([new Ve(dt+"[1]",Ke[1],"expressions are not allowed in function stops.")]):Ge.concat(Hr({key:dt+"[1]",value:Ke[1],valueSpec:b,style:Ee.style,styleSpec:Ee.styleSpec}))}function _e(Ee,Ge){var Ke=Ro(Ee.value),dt=Jt(Ee.value),it=null!==Ee.value?Ee.value:Ge;if(l){if(Ke!==l)return[new Ve(Ee.key,it,Ke+" stop domain type must match previous stop domain type "+l)]}else l=Ke;if("number"!==Ke&&"string"!==Ke&&"boolean"!==Ke)return[new Ve(Ee.key,it,"stop domain value must be a number, string, or boolean")];if("number"!==Ke&&"categorical"!==E){var Bt="number expected, "+Ke+" found";return sl(b)&&void 0===E&&(Bt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ve(Ee.key,it,Bt)]}return"categorical"!==E||"number"!==Ke||isFinite(dt)&&Math.floor(dt)===dt?"categorical"!==E&&"number"===Ke&&void 0!==d&&dt<d?[new Ve(Ee.key,it,"stop domain values must appear in ascending order")]:(d=dt,"categorical"===E&&dt in S?[new Ve(Ee.key,it,"stop domain values must be unique")]:(S[dt]=!0,[])):[new Ve(Ee.key,it,"integer expected, found "+dt)]}}function ec(a){var l=("property"===a.expressionContext?Sh:an)(Ut(a.value),a.valueSpec);if("error"===l.result)return l.value.map(function(m){return new Ve(""+a.key+m.key,a.value,m.message)});var d=l.value.expression||l.value._styleExpression.expression;if("property"===a.expressionContext&&"text-font"===a.propertyKey&&!d.outputDefined())return[new Ve(a.key,a.value,'Invalid data expression for "'+a.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===a.expressionContext&&"layout"===a.propertyType&&!mc(d))return[new Ve(a.key,a.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===a.expressionContext&&!mc(d))return[new Ve(a.key,a.value,'"feature-state" data expressions are not supported with filters.')];if(a.expressionContext&&0===a.expressionContext.indexOf("cluster")){if(!Vc(d,["zoom","feature-state"]))return[new Ve(a.key,a.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===a.expressionContext&&!_a(d))return[new Ve(a.key,a.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function tc(a){var l=a.key,d=a.value,m=a.valueSpec,b=[];return Array.isArray(m.values)?-1===m.values.indexOf(Jt(d))&&b.push(new Ve(l,d,"expected one of ["+m.values.join(", ")+"], "+JSON.stringify(d)+" found")):-1===Object.keys(m.values).indexOf(Jt(d))&&b.push(new Ve(l,d,"expected one of ["+Object.keys(m.values).join(", ")+"], "+JSON.stringify(d)+" found")),b}function _u(a){if(!0===a||!1===a)return!0;if(!Array.isArray(a)||0===a.length)return!1;switch(a[0]){case"has":return a.length>=2&&"$id"!==a[1]&&"$type"!==a[1];case"in":return a.length>=3&&("string"!=typeof a[1]||Array.isArray(a[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==a.length||Array.isArray(a[1])||Array.isArray(a[2]);case"any":case"all":for(var l=0,d=a.slice(1);l<d.length;l+=1){var m=d[l];if(!_u(m)&&"boolean"!=typeof m)return!1}return!0;default:return!0}}yd.deserialize=function(a){return new yd(a._parameters,a._specification)},yd.serialize=function(a){return{_parameters:a._parameters,_specification:a._specification}};var bd={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function wc(a){if(null==a)return{filter:function(){return!0},needGeometry:!1};_u(a)||(a=Uo(a));var l=an(a,bd);if("error"===l.result)throw new Error(l.value.map(function(d){return d.key+": "+d.message}).join(", "));return{filter:function(d,m,b){return l.value.evaluate(d,m,{},b)},needGeometry:function d(m){if(!Array.isArray(m))return!1;if("within"===m[0])return!0;for(var b=1;b<m.length;b++)if(d(m[b]))return!0;return!1}(a)}}function hf(a,l){return a<l?-1:a>l?1:0}function Uo(a){if(!a)return!0;var l,d=a[0];return a.length<=1?"any"!==d:"=="===d?bp(a[1],a[2],"=="):"!="===d?kh(bp(a[1],a[2],"==")):"<"===d||">"===d||"<="===d||">="===d?bp(a[1],a[2],d):"any"===d?(l=a.slice(1),["any"].concat(l.map(Uo))):"all"===d?["all"].concat(a.slice(1).map(Uo)):"none"===d?["all"].concat(a.slice(1).map(Uo).map(kh)):"in"===d?om(a[1],a.slice(2)):"!in"===d?kh(om(a[1],a.slice(2))):"has"===d?So(a[1]):"!has"===d?kh(So(a[1])):"within"!==d||a}function bp(a,l,d){switch(a){case"$type":return["filter-type-"+d,l];case"$id":return["filter-id-"+d,l];default:return["filter-"+d,a,l]}}function om(a,l){if(0===l.length)return!1;switch(a){case"$type":return["filter-type-in",["literal",l]];case"$id":return["filter-id-in",["literal",l]];default:return l.length>200&&!l.some(function(d){return typeof d!=typeof l[0]})?["filter-in-large",a,["literal",l.sort(hf)]]:["filter-in-small",a,["literal",l]]}}function So(a){switch(a){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",a]}}function kh(a){return["!",a]}function Xo(a){return _u(Ut(a.value))?ec(hn({},a,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function l(d){var m=d.value,b=d.key;if("array"!==Ro(m))return[new Ve(b,m,"array expected, "+Ro(m)+" found")];var E,S=d.styleSpec,B=[];if(m.length<1)return[new Ve(b,m,"filter array must have at least 1 element")];switch(B=B.concat(tc({key:b+"[0]",value:m[0],valueSpec:S.filter_operator,style:d.style,styleSpec:d.styleSpec})),Jt(m[0])){case"<":case"<=":case">":case">=":m.length>=2&&"$type"===Jt(m[1])&&B.push(new Ve(b,m,'"$type" cannot be use with operator "'+m[0]+'"'));case"==":case"!=":3!==m.length&&B.push(new Ve(b,m,'filter array for operator "'+m[0]+'" must have 3 elements'));case"in":case"!in":m.length>=2&&"string"!==(E=Ro(m[1]))&&B.push(new Ve(b+"[1]",m[1],"string expected, "+E+" found"));for(var q=2;q<m.length;q++)E=Ro(m[q]),"$type"===Jt(m[1])?B=B.concat(tc({key:b+"["+q+"]",value:m[q],valueSpec:S.geometry_type,style:d.style,styleSpec:d.styleSpec})):"string"!==E&&"number"!==E&&"boolean"!==E&&B.push(new Ve(b+"["+q+"]",m[q],"string, number, or boolean expected, "+E+" found"));break;case"any":case"all":case"none":for(var J=1;J<m.length;J++)B=B.concat(l({key:b+"["+J+"]",value:m[J],style:d.style,styleSpec:d.styleSpec}));break;case"has":case"!has":E=Ro(m[1]),2!==m.length?B.push(new Ve(b,m,'filter array for "'+m[0]+'" operator must have 2 elements')):"string"!==E&&B.push(new Ve(b+"[1]",m[1],"string expected, "+E+" found"));break;case"within":E=Ro(m[1]),2!==m.length?B.push(new Ve(b,m,'filter array for "'+m[0]+'" operator must have 2 elements')):"object"!==E&&B.push(new Ve(b+"[1]",m[1],"object expected, "+E+" found"))}return B}(a)}function xc(a,l){var d=a.key,m=a.style,b=a.styleSpec,E=a.value,S=a.objectKey,B=b[l+"_"+a.layerType];if(!B)return[];var q=S.match(/^(.*)-transition$/);if("paint"===l&&q&&B[q[1]]&&B[q[1]].transition)return Hr({key:d,value:E,valueSpec:b.transition,style:m,styleSpec:b});var J,re=a.valueSpec||B[S];if(!re)return[new Ve(d,E,'unknown property "'+S+'"')];if("string"===Ro(E)&&sl(re)&&!re.tokens&&(J=/^{([^}]+)}$/.exec(E)))return[new Ve(d,E,'"'+S+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(J[1])+" }`.")];var le=[];return"symbol"===a.layerType&&("text-field"===S&&m&&!m.glyphs&&le.push(new Ve(d,E,'use of "text-field" requires a style "glyphs" property')),"text-font"===S&&vp(Ut(E))&&"identity"===Jt(E.type)&&le.push(new Ve(d,E,'"text-font" does not support identity functions'))),le.concat(Hr({key:a.key,value:E,valueSpec:re,style:m,styleSpec:b,expressionContext:"property",propertyType:l,propertyKey:S}))}function Dh(a){return xc(a,"paint")}function Yd(a){return xc(a,"layout")}function Ir(a){var l=[],d=a.value,m=a.key,b=a.style,E=a.styleSpec;d.type||d.ref||l.push(new Ve(m,d,'either "type" or "ref" is required'));var S,B=Jt(d.type),q=Jt(d.ref);if(d.id)for(var J=Jt(d.id),re=0;re<a.arrayIndex;re++){var le=b.layers[re];Jt(le.id)===J&&l.push(new Ve(m,d.id,'duplicate layer id "'+d.id+'", previously used at line '+le.id.__line__))}if("ref"in d)["type","source","source-layer","filter","layout"].forEach(function(Ge){Ge in d&&l.push(new Ve(m,d[Ge],'"'+Ge+'" is prohibited for ref layers'))}),b.layers.forEach(function(Ge){Jt(Ge.id)===q&&(S=Ge)}),S?S.ref?l.push(new Ve(m,d.ref,"ref cannot reference another ref layer")):B=Jt(S.type):l.push(new Ve(m,d.ref,'ref layer "'+q+'" not found'));else if("background"!==B)if(d.source){var _e=b.sources&&b.sources[d.source],Ee=_e&&Jt(_e.type);_e?"vector"===Ee&&"raster"===B?l.push(new Ve(m,d.source,'layer "'+d.id+'" requires a raster source')):"raster"===Ee&&"raster"!==B?l.push(new Ve(m,d.source,'layer "'+d.id+'" requires a vector source')):"vector"!==Ee||d["source-layer"]?"raster-dem"===Ee&&"hillshade"!==B?l.push(new Ve(m,d.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==B||!d.paint||!d.paint["line-gradient"]||"geojson"===Ee&&_e.lineMetrics||l.push(new Ve(m,d,'layer "'+d.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):l.push(new Ve(m,d,'layer "'+d.id+'" must specify a "source-layer"')):l.push(new Ve(m,d.source,'source "'+d.source+'" not found'))}else l.push(new Ve(m,d,'missing required property "source"'));return l=l.concat(bc({key:m,value:d,valueSpec:E.layer,style:a.style,styleSpec:a.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Hr({key:m+".type",value:d.type,valueSpec:E.layer.type,style:a.style,styleSpec:a.styleSpec,object:d,objectKey:"type"})},filter:Xo,layout:function(Ge){return bc({layer:d,key:Ge.key,value:Ge.value,style:Ge.style,styleSpec:Ge.styleSpec,objectElementValidators:{"*":function(Ke){return Yd(hn({layerType:B},Ke))}}})},paint:function(Ge){return bc({layer:d,key:Ge.key,value:Ge.value,style:Ge.style,styleSpec:Ge.styleSpec,objectElementValidators:{"*":function(Ke){return Dh(hn({layerType:B},Ke))}}})}}}))}function fr(a){var l=a.value,d=a.key,m=Ro(l);return"string"!==m?[new Ve(d,l,"string expected, "+m+" found")]:[]}var go={promoteId:function(a){var l=a.key,d=a.value;if("string"===Ro(d))return fr({key:l,value:d});var m=[];for(var b in d)m.push.apply(m,fr({key:l+"."+b,value:d[b]}));return m}};function za(a){var l=a.value,d=a.key,m=a.styleSpec,b=a.style;if(!l.type)return[new Ve(d,l,'"type" is required')];var E,S=Jt(l.type);switch(S){case"vector":case"raster":case"raster-dem":return bc({key:d,value:l,valueSpec:m["source_"+S.replace("-","_")],style:a.style,styleSpec:m,objectElementValidators:go});case"geojson":if(E=bc({key:d,value:l,valueSpec:m.source_geojson,style:b,styleSpec:m,objectElementValidators:go}),l.cluster)for(var B in l.clusterProperties){var q=l.clusterProperties[B],J=q[0],re="string"==typeof J?[J,["accumulated"],["get",B]]:J;E.push.apply(E,ec({key:d+"."+B+".map",value:q[1],expressionContext:"cluster-map"})),E.push.apply(E,ec({key:d+"."+B+".reduce",value:re,expressionContext:"cluster-reduce"}))}return E;case"video":return bc({key:d,value:l,valueSpec:m.source_video,style:b,styleSpec:m});case"image":return bc({key:d,value:l,valueSpec:m.source_image,style:b,styleSpec:m});case"canvas":return[new Ve(d,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return tc({key:d+".type",value:l.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:b,styleSpec:m})}}function vu(a){var l=a.value,d=a.styleSpec,m=d.light,b=a.style,E=[],S=Ro(l);if(void 0===l)return E;if("object"!==S)return E.concat([new Ve("light",l,"object expected, "+S+" found")]);for(var B in l){var q=B.match(/^(.*)-transition$/);E=E.concat(q&&m[q[1]]&&m[q[1]].transition?Hr({key:B,value:l[B],valueSpec:d.transition,style:b,styleSpec:d}):m[B]?Hr({key:B,value:l[B],valueSpec:m[B],style:b,styleSpec:d}):[new Ve(B,l[B],'unknown property "'+B+'"')])}return E}var yu={"*":function(){return[]},array:Gc,boolean:function(a){var l=a.value,d=a.key,m=Ro(l);return"boolean"!==m?[new Ve(d,l,"boolean expected, "+m+" found")]:[]},number:Da,color:function(a){var l=a.key,d=a.value,m=Ro(d);return"string"!==m?[new Ve(l,d,"color expected, "+m+" found")]:null===Wi(d)?[new Ve(l,d,'color expected, "'+d+'" found')]:[]},constants:We,enum:tc,filter:Xo,function:gu,layer:Ir,object:bc,source:za,light:vu,string:fr,formatted:function(a){return 0===fr(a).length?[]:ec(a)},resolvedImage:function(a){return 0===fr(a).length?[]:ec(a)}};function Hr(a){var l=a.value,d=a.valueSpec,m=a.styleSpec;return d.expression&&vp(Jt(l))?gu(a):d.expression&&Gu(Ut(l))?ec(a):d.type&&yu[d.type]?yu[d.type](a):bc(hn({},a,{valueSpec:d.type?m[d.type]:d}))}function eo(a){var l=a.value,d=a.key,m=fr(a);return m.length||(-1===l.indexOf("{fontstack}")&&m.push(new Ve(d,l,'"glyphs" url must include a "{fontstack}" token')),-1===l.indexOf("{range}")&&m.push(new Ve(d,l,'"glyphs" url must include a "{range}" token'))),m}function oe(a,l){void 0===l&&(l=ge);var d=[];return d=d.concat(Hr({key:"",value:a,valueSpec:l.$root,styleSpec:l,style:a,objectElementValidators:{glyphs:eo,"*":function(){return[]}}})),a.constants&&(d=d.concat(We({key:"constants",value:a.constants,style:a,styleSpec:l}))),pe(d)}function pe(a){return[].concat(a).sort(function(l,d){return l.line-d.line})}function ve(a){return function(){for(var l=[],d=arguments.length;d--;)l[d]=arguments[d];return pe(a.apply(this,l))}}oe.source=ve(za),oe.light=ve(vu),oe.layer=ve(Ir),oe.filter=ve(Xo),oe.paintProperty=ve(Dh),oe.layoutProperty=ve(Yd);var Ne=oe,Mt=Ne.light,ln=Ne.paintProperty,dn=Ne.layoutProperty;function Ln(a,l){var d=!1;if(l&&l.length)for(var m=0,b=l;m<b.length;m+=1)a.fire(new Pe(new Error(b[m].message))),d=!0;return d}var Gn=Mn;function Mn(a,l,d){var m=this.cells=[];if(a instanceof ArrayBuffer){this.arrayBuffer=a;var b=new Int32Array(this.arrayBuffer);a=b[0],this.d=(l=b[1])+2*(d=b[2]);for(var E=0;E<this.d*this.d;E++){var S=b[3+E],B=b[3+E+1];m.push(S===B?null:b.subarray(S,B))}var q=b[3+m.length+1];this.keys=b.subarray(b[3+m.length],q),this.bboxes=b.subarray(q),this.insert=this._insertReadonly}else{this.d=l+2*d;for(var J=0;J<this.d*this.d;J++)m.push([]);this.keys=[],this.bboxes=[]}this.n=l,this.extent=a,this.padding=d,this.scale=l/a,this.uid=0;var re=d/l*a;this.min=-re,this.max=a+re}Mn.prototype.insert=function(a,l,d,m,b){this._forEachCell(l,d,m,b,this._insertCell,this.uid++),this.keys.push(a),this.bboxes.push(l),this.bboxes.push(d),this.bboxes.push(m),this.bboxes.push(b)},Mn.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Mn.prototype._insertCell=function(a,l,d,m,b,E){this.cells[b].push(E)},Mn.prototype.query=function(a,l,d,m,b){var E=this.min,S=this.max;if(a<=E&&l<=E&&S<=d&&S<=m&&!b)return Array.prototype.slice.call(this.keys);var B=[];return this._forEachCell(a,l,d,m,this._queryCell,B,{},b),B},Mn.prototype._queryCell=function(a,l,d,m,b,E,S,B){var q=this.cells[b];if(null!==q)for(var J=this.keys,re=this.bboxes,le=0;le<q.length;le++){var _e=q[le];if(void 0===S[_e]){var Ee=4*_e;(B?B(re[Ee+0],re[Ee+1],re[Ee+2],re[Ee+3]):a<=re[Ee+2]&&l<=re[Ee+3]&&d>=re[Ee+0]&&m>=re[Ee+1])?(S[_e]=!0,E.push(J[_e])):S[_e]=!1}}},Mn.prototype._forEachCell=function(a,l,d,m,b,E,S,B){for(var q=this._convertToCellCoord(a),J=this._convertToCellCoord(l),re=this._convertToCellCoord(d),le=this._convertToCellCoord(m),_e=q;_e<=re;_e++)for(var Ee=J;Ee<=le;Ee++){var Ge=this.d*Ee+_e;if((!B||B(this._convertFromCellCoord(_e),this._convertFromCellCoord(Ee),this._convertFromCellCoord(_e+1),this._convertFromCellCoord(Ee+1)))&&b.call(this,a,l,d,m,Ge,E,S,B))return}},Mn.prototype._convertFromCellCoord=function(a){return(a-this.padding)/this.scale},Mn.prototype._convertToCellCoord=function(a){return Math.max(0,Math.min(this.d-1,Math.floor(a*this.scale)+this.padding))},Mn.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var a=this.cells,l=3+this.cells.length+1+1,d=0,m=0;m<this.cells.length;m++)d+=this.cells[m].length;var b=new Int32Array(l+d+this.keys.length+this.bboxes.length);b[0]=this.extent,b[1]=this.n,b[2]=this.padding;for(var E=l,S=0;S<a.length;S++){var B=a[S];b[3+S]=E,b.set(B,E),E+=B.length}return b[3+a.length]=E,b.set(this.keys,E),b[3+a.length+1]=E+=this.keys.length,b.set(this.bboxes,E),E+=this.bboxes.length,b.buffer};var qr=G.ImageData,nc=G.ImageBitmap,Mo={};function li(a,l,d){void 0===d&&(d={}),Object.defineProperty(l,"_classRegistryKey",{value:a,writeable:!1}),Mo[a]={klass:l,omit:d.omit||[],shallow:d.shallow||[]}}for(var ya in li("Object",Object),Gn.serialize=function(a,l){var d=a.toArrayBuffer();return l&&l.push(d),{buffer:d}},Gn.deserialize=function(a){return new Gn(a.buffer)},li("Grid",Gn),li("Color",Or),li("Error",Error),li("ResolvedImage",ks),li("StylePropertyFunction",yd),li("StyleExpression",vd,{omit:["_evaluator"]}),li("ZoomDependentExpression",yc),li("ZoomConstantExpression",Ml),li("CompoundExpression",at,{omit:["_evaluate"]}),vc)vc[ya]._classRegistryKey||li("Expression_"+ya,vc[ya]);function Nn(a){return a&&typeof ArrayBuffer<"u"&&(a instanceof ArrayBuffer||a.constructor&&"ArrayBuffer"===a.constructor.name)}function pf(a){return nc&&a instanceof nc}function di(a,l){if(null==a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||a instanceof Boolean||a instanceof Number||a instanceof String||a instanceof Date||a instanceof RegExp)return a;if(Nn(a)||pf(a))return l&&l.push(a),a;if(ArrayBuffer.isView(a)){var d=a;return l&&l.push(d.buffer),d}if(a instanceof qr)return l&&l.push(a.data.buffer),a;if(Array.isArray(a)){for(var m=[],b=0,E=a;b<E.length;b+=1)m.push(di(E[b],l));return m}if("object"==typeof a){var S=a.constructor,B=S._classRegistryKey;if(!B)throw new Error("can't serialize object of unregistered class");var q=S.serialize?S.serialize(a,l):{};if(!S.serialize){for(var J in a)if(a.hasOwnProperty(J)&&!(Mo[B].omit.indexOf(J)>=0)){var re=a[J];q[J]=Mo[B].shallow.indexOf(J)>=0?re:di(re,l)}a instanceof Error&&(q.message=a.message)}if(q.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==B&&(q.$name=B),q}throw new Error("can't serialize object of type "+typeof a)}function Ra(a){if(null==a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||a instanceof Boolean||a instanceof Number||a instanceof String||a instanceof Date||a instanceof RegExp||Nn(a)||pf(a)||ArrayBuffer.isView(a)||a instanceof qr)return a;if(Array.isArray(a))return a.map(Ra);if("object"==typeof a){var l=a.$name||"Object",d=Mo[l].klass;if(!d)throw new Error("can't deserialize unregistered class "+l);if(d.deserialize)return d.deserialize(a);for(var m=Object.create(d.prototype),b=0,E=Object.keys(a);b<E.length;b+=1){var S=E[b];if("$name"!==S){var B=a[S];m[S]=Mo[l].shallow.indexOf(S)>=0?B:Ra(B)}}return m}throw new Error("can't deserialize object of type "+typeof a)}var sm=function(){this.first=!0};sm.prototype.update=function(a,l){var d=Math.floor(a);return this.first?(this.first=!1,this.lastIntegerZoom=d,this.lastIntegerZoomTime=0,this.lastZoom=a,this.lastFloorZoom=d,!0):(this.lastFloorZoom>d?(this.lastIntegerZoom=d+1,this.lastIntegerZoomTime=l):this.lastFloorZoom<d&&(this.lastIntegerZoom=d,this.lastIntegerZoomTime=l),a!==this.lastZoom&&(this.lastZoom=a,this.lastFloorZoom=d,!0))};var Yn={"Latin-1 Supplement":function(a){return a>=128&&a<=255},Arabic:function(a){return a>=1536&&a<=1791},"Arabic Supplement":function(a){return a>=1872&&a<=1919},"Arabic Extended-A":function(a){return a>=2208&&a<=2303},"Hangul Jamo":function(a){return a>=4352&&a<=4607},"Unified Canadian Aboriginal Syllabics":function(a){return a>=5120&&a<=5759},Khmer:function(a){return a>=6016&&a<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(a){return a>=6320&&a<=6399},"General Punctuation":function(a){return a>=8192&&a<=8303},"Letterlike Symbols":function(a){return a>=8448&&a<=8527},"Number Forms":function(a){return a>=8528&&a<=8591},"Miscellaneous Technical":function(a){return a>=8960&&a<=9215},"Control Pictures":function(a){return a>=9216&&a<=9279},"Optical Character Recognition":function(a){return a>=9280&&a<=9311},"Enclosed Alphanumerics":function(a){return a>=9312&&a<=9471},"Geometric Shapes":function(a){return a>=9632&&a<=9727},"Miscellaneous Symbols":function(a){return a>=9728&&a<=9983},"Miscellaneous Symbols and Arrows":function(a){return a>=11008&&a<=11263},"CJK Radicals Supplement":function(a){return a>=11904&&a<=12031},"Kangxi Radicals":function(a){return a>=12032&&a<=12255},"Ideographic Description Characters":function(a){return a>=12272&&a<=12287},"CJK Symbols and Punctuation":function(a){return a>=12288&&a<=12351},Hiragana:function(a){return a>=12352&&a<=12447},Katakana:function(a){return a>=12448&&a<=12543},Bopomofo:function(a){return a>=12544&&a<=12591},"Hangul Compatibility Jamo":function(a){return a>=12592&&a<=12687},Kanbun:function(a){return a>=12688&&a<=12703},"Bopomofo Extended":function(a){return a>=12704&&a<=12735},"CJK Strokes":function(a){return a>=12736&&a<=12783},"Katakana Phonetic Extensions":function(a){return a>=12784&&a<=12799},"Enclosed CJK Letters and Months":function(a){return a>=12800&&a<=13055},"CJK Compatibility":function(a){return a>=13056&&a<=13311},"CJK Unified Ideographs Extension A":function(a){return a>=13312&&a<=19903},"Yijing Hexagram Symbols":function(a){return a>=19904&&a<=19967},"CJK Unified Ideographs":function(a){return a>=19968&&a<=40959},"Yi Syllables":function(a){return a>=40960&&a<=42127},"Yi Radicals":function(a){return a>=42128&&a<=42191},"Hangul Jamo Extended-A":function(a){return a>=43360&&a<=43391},"Hangul Syllables":function(a){return a>=44032&&a<=55215},"Hangul Jamo Extended-B":function(a){return a>=55216&&a<=55295},"Private Use Area":function(a){return a>=57344&&a<=63743},"CJK Compatibility Ideographs":function(a){return a>=63744&&a<=64255},"Arabic Presentation Forms-A":function(a){return a>=64336&&a<=65023},"Vertical Forms":function(a){return a>=65040&&a<=65055},"CJK Compatibility Forms":function(a){return a>=65072&&a<=65103},"Small Form Variants":function(a){return a>=65104&&a<=65135},"Arabic Presentation Forms-B":function(a){return a>=65136&&a<=65279},"Halfwidth and Fullwidth Forms":function(a){return a>=65280&&a<=65519}};function cA(a){for(var l=0,d=a;l<d.length;l+=1)if(Rh(d[l].charCodeAt(0)))return!0;return!1}function Rh(a){return!(746!==a&&747!==a&&(a<4352||!(Yn["Bopomofo Extended"](a)||Yn.Bopomofo(a)||Yn["CJK Compatibility Forms"](a)&&!(a>=65097&&a<=65103)||Yn["CJK Compatibility Ideographs"](a)||Yn["CJK Compatibility"](a)||Yn["CJK Radicals Supplement"](a)||Yn["CJK Strokes"](a)||!(!Yn["CJK Symbols and Punctuation"](a)||a>=12296&&a<=12305||a>=12308&&a<=12319||12336===a)||Yn["CJK Unified Ideographs Extension A"](a)||Yn["CJK Unified Ideographs"](a)||Yn["Enclosed CJK Letters and Months"](a)||Yn["Hangul Compatibility Jamo"](a)||Yn["Hangul Jamo Extended-A"](a)||Yn["Hangul Jamo Extended-B"](a)||Yn["Hangul Jamo"](a)||Yn["Hangul Syllables"](a)||Yn.Hiragana(a)||Yn["Ideographic Description Characters"](a)||Yn.Kanbun(a)||Yn["Kangxi Radicals"](a)||Yn["Katakana Phonetic Extensions"](a)||Yn.Katakana(a)&&12540!==a||!(!Yn["Halfwidth and Fullwidth Forms"](a)||65288===a||65289===a||65293===a||a>=65306&&a<=65310||65339===a||65341===a||65343===a||a>=65371&&a<=65503||65507===a||a>=65512&&a<=65519)||!(!Yn["Small Form Variants"](a)||a>=65112&&a<=65118||a>=65123&&a<=65126)||Yn["Unified Canadian Aboriginal Syllabics"](a)||Yn["Unified Canadian Aboriginal Syllabics Extended"](a)||Yn["Vertical Forms"](a)||Yn["Yijing Hexagram Symbols"](a)||Yn["Yi Syllables"](a)||Yn["Yi Radicals"](a))))}function wp(a){return!(Rh(a)||(l=a,Yn["Latin-1 Supplement"](l)&&(167===l||169===l||174===l||177===l||188===l||189===l||190===l||215===l||247===l)||Yn["General Punctuation"](l)&&(8214===l||8224===l||8225===l||8240===l||8241===l||8251===l||8252===l||8258===l||8263===l||8264===l||8265===l||8273===l)||Yn["Letterlike Symbols"](l)||Yn["Number Forms"](l)||Yn["Miscellaneous Technical"](l)&&(l>=8960&&l<=8967||l>=8972&&l<=8991||l>=8996&&l<=9e3||9003===l||l>=9085&&l<=9114||l>=9150&&l<=9165||9167===l||l>=9169&&l<=9179||l>=9186&&l<=9215)||Yn["Control Pictures"](l)&&9251!==l||Yn["Optical Character Recognition"](l)||Yn["Enclosed Alphanumerics"](l)||Yn["Geometric Shapes"](l)||Yn["Miscellaneous Symbols"](l)&&!(l>=9754&&l<=9759)||Yn["Miscellaneous Symbols and Arrows"](l)&&(l>=11026&&l<=11055||l>=11088&&l<=11097||l>=11192&&l<=11243)||Yn["CJK Symbols and Punctuation"](l)||Yn.Katakana(l)||Yn["Private Use Area"](l)||Yn["CJK Compatibility Forms"](l)||Yn["Small Form Variants"](l)||Yn["Halfwidth and Fullwidth Forms"](l)||8734===l||8756===l||8757===l||l>=9984&&l<=10087||l>=10102&&l<=10131||65532===l||65533===l));var l}function ic(a){return a>=1424&&a<=2303||Yn["Arabic Presentation Forms-A"](a)||Yn["Arabic Presentation Forms-B"](a)}function Bl(a,l){return!(!l&&ic(a)||a>=2304&&a<=3583||a>=3840&&a<=4255||Yn.Khmer(a))}function uA(a){for(var l=0,d=a;l<d.length;l+=1)if(ic(d[l].charCodeAt(0)))return!0;return!1}var Wt=null,Pl="unavailable",Hu=null,ff=function(a){a&&"string"==typeof a&&a.indexOf("NetworkError")>-1&&(Pl="error"),Wt&&Wt(a)};function Mh(){am.fire(new de("pluginStateChange",{pluginStatus:Pl,pluginURL:Hu}))}var am=new Qe,dA=function(){return Pl},wd=function(){if("deferred"!==Pl||!Hu)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Pl="loading",Mh(),Hu&&Ss({url:Hu},function(a){a?ff(a):(Pl="loaded",Mh())})},bu={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return"loaded"===Pl||null!=bu.applyArabicShaping},isLoading:function(){return"loading"===Pl},setState:function(a){Pl=a.pluginStatus,Hu=a.pluginURL},isParsed:function(){return null!=bu.applyArabicShaping&&null!=bu.processBidirectionalText&&null!=bu.processStyledBidirectionalText},getPluginURL:function(){return Hu}},Kr=function(a,l){this.zoom=a,l?(this.now=l.now,this.fadeDuration=l.fadeDuration,this.zoomHistory=l.zoomHistory,this.transition=l.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new sm,this.transition={})};Kr.prototype.isSupportedScript=function(a){return function(l,d){for(var m=0,b=l;m<b.length;m+=1)if(!Bl(b[m].charCodeAt(0),d))return!1;return!0}(a,bu.isLoaded())},Kr.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Kr.prototype.getCrossfadeParameters=function(){var a=this.zoom,l=a-Math.floor(a),d=this.crossFadingFactor();return a>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:l+(1-l)*d}:{fromScale:.5,toScale:1,t:1-(1-d)*l}};var Zd=function(a,l){this.property=a,this.value=l,this.expression=function(d,m){if(vp(d))return new yd(d,m);if(Gu(d)){var b=Sh(d,m);if("error"===b.result)throw new Error(b.value.map(function(S){return S.key+": "+S.message}).join(", "));return b.value}var E=d;return"string"==typeof d&&"color"===m.type&&(E=Or.parse(d)),{kind:"constant",evaluate:function(){return E}}}(void 0===l?a.specification.default:l,a.specification)};Zd.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},Zd.prototype.possiblyEvaluate=function(a,l,d){return this.property.possiblyEvaluate(this,a,l,d)};var Ec=function(a){this.property=a,this.value=new Zd(a,void 0)};Ec.prototype.transitioned=function(a,l){return new Ol(this.property,this.value,l,we({},a.transition,this.transition),a.now)},Ec.prototype.untransitioned=function(){return new Ol(this.property,this.value,null,{},0)};var Rs=function(a){this._properties=a,this._values=Object.create(a.defaultTransitionablePropertyValues)};Rs.prototype.getValue=function(a){return st(this._values[a].value.value)},Rs.prototype.setValue=function(a,l){this._values.hasOwnProperty(a)||(this._values[a]=new Ec(this._values[a].property)),this._values[a].value=new Zd(this._values[a].property,null===l?void 0:st(l))},Rs.prototype.getTransition=function(a){return st(this._values[a].transition)},Rs.prototype.setTransition=function(a,l){this._values.hasOwnProperty(a)||(this._values[a]=new Ec(this._values[a].property)),this._values[a].transition=st(l)||void 0},Rs.prototype.serialize=function(){for(var a={},l=0,d=Object.keys(this._values);l<d.length;l+=1){var m=d[l],b=this.getValue(m);void 0!==b&&(a[m]=b);var E=this.getTransition(m);void 0!==E&&(a[m+"-transition"]=E)}return a},Rs.prototype.transitioned=function(a,l){for(var d=new Hc(this._properties),m=0,b=Object.keys(this._values);m<b.length;m+=1){var E=b[m];d._values[E]=this._values[E].transitioned(a,l._values[E])}return d},Rs.prototype.untransitioned=function(){for(var a=new Hc(this._properties),l=0,d=Object.keys(this._values);l<d.length;l+=1){var m=d[l];a._values[m]=this._values[m].untransitioned()}return a};var Ol=function(a,l,d,m,b){this.property=a,this.value=l,this.begin=b+m.delay||0,this.end=this.begin+m.duration||0,a.specification.transition&&(m.delay||m.duration)&&(this.prior=d)};Ol.prototype.possiblyEvaluate=function(a,l,d){var m=a.now||0,b=this.value.possiblyEvaluate(a,l,d),E=this.prior;if(E){if(m>this.end)return this.prior=null,b;if(this.value.isDataDriven())return this.prior=null,b;if(m<this.begin)return E.possiblyEvaluate(a,l,d);var S=(m-this.begin)/(this.end-this.begin);return this.property.interpolate(E.possiblyEvaluate(a,l,d),b,function(B){if(B<=0)return 0;if(B>=1)return 1;var q=B*B,J=q*B;return 4*(B<.5?J:3*(B-q)+J-.75)}(S))}return b};var Hc=function(a){this._properties=a,this._values=Object.create(a.defaultTransitioningPropertyValues)};Hc.prototype.possiblyEvaluate=function(a,l,d){for(var m=new xd(this._properties),b=0,E=Object.keys(this._values);b<E.length;b+=1){var S=E[b];m._values[S]=this._values[S].possiblyEvaluate(a,l,d)}return m},Hc.prototype.hasTransition=function(){for(var a=0,l=Object.keys(this._values);a<l.length;a+=1)if(this._values[l[a]].prior)return!0;return!1};var qc=function(a){this._properties=a,this._values=Object.create(a.defaultPropertyValues)};qc.prototype.getValue=function(a){return st(this._values[a].value)},qc.prototype.setValue=function(a,l){this._values[a]=new Zd(this._values[a].property,null===l?void 0:st(l))},qc.prototype.serialize=function(){for(var a={},l=0,d=Object.keys(this._values);l<d.length;l+=1){var m=d[l],b=this.getValue(m);void 0!==b&&(a[m]=b)}return a},qc.prototype.possiblyEvaluate=function(a,l,d){for(var m=new xd(this._properties),b=0,E=Object.keys(this._values);b<E.length;b+=1){var S=E[b];m._values[S]=this._values[S].possiblyEvaluate(a,l,d)}return m};var Ms=function(a,l,d){this.property=a,this.value=l,this.parameters=d};Ms.prototype.isConstant=function(){return"constant"===this.value.kind},Ms.prototype.constantOr=function(a){return"constant"===this.value.kind?this.value.value:a},Ms.prototype.evaluate=function(a,l,d,m){return this.property.evaluate(this.value,this.parameters,a,l,d,m)};var xd=function(a){this._properties=a,this._values=Object.create(a.defaultPossiblyEvaluatedValues)};xd.prototype.get=function(a){return this._values[a]};var Vi=function(a){this.specification=a};Vi.prototype.possiblyEvaluate=function(a,l){return a.expression.evaluate(l)},Vi.prototype.interpolate=function(a,l,d){var m=Wd[this.specification.type];return m?m(a,l,d):a};var Bn=function(a,l){this.specification=a,this.overrides=l};Bn.prototype.possiblyEvaluate=function(a,l,d,m){return new Ms(this,"constant"===a.expression.kind||"camera"===a.expression.kind?{kind:"constant",value:a.expression.evaluate(l,null,{},d,m)}:a.expression,l)},Bn.prototype.interpolate=function(a,l,d){if("constant"!==a.value.kind||"constant"!==l.value.kind)return a;if(void 0===a.value.value||void 0===l.value.value)return new Ms(this,{kind:"constant",value:void 0},a.parameters);var m=Wd[this.specification.type];return m?new Ms(this,{kind:"constant",value:m(a.value.value,l.value.value,d)},a.parameters):a},Bn.prototype.evaluate=function(a,l,d,m,b,E){return"constant"===a.kind?a.value:a.evaluate(l,d,m,b,E)};var ko=function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.possiblyEvaluate=function(d,m,b,E){if(void 0===d.value)return new Ms(this,{kind:"constant",value:void 0},m);if("constant"===d.expression.kind){var S=d.expression.evaluate(m,null,{},b,E),B="resolvedImage"===d.property.specification.type&&"string"!=typeof S?S.name:S,q=this._calculate(B,B,B,m);return new Ms(this,{kind:"constant",value:q},m)}if("camera"===d.expression.kind){var J=this._calculate(d.expression.evaluate({zoom:m.zoom-1}),d.expression.evaluate({zoom:m.zoom}),d.expression.evaluate({zoom:m.zoom+1}),m);return new Ms(this,{kind:"constant",value:J},m)}return new Ms(this,d.expression,m)},l.prototype.evaluate=function(d,m,b,E,S,B){if("source"===d.kind){var q=d.evaluate(m,b,E,S,B);return this._calculate(q,q,q,m)}return"composite"===d.kind?this._calculate(d.evaluate({zoom:Math.floor(m.zoom)-1},b,E),d.evaluate({zoom:Math.floor(m.zoom)},b,E),d.evaluate({zoom:Math.floor(m.zoom)+1},b,E),m):d.value},l.prototype._calculate=function(d,m,b,E){return E.zoom>E.zoomHistory.lastIntegerZoom?{from:d,to:m}:{from:b,to:m}},l.prototype.interpolate=function(d){return d},l}(Bn),al=function(a){this.specification=a};al.prototype.possiblyEvaluate=function(a,l,d,m){if(void 0!==a.value){if("constant"===a.expression.kind){var b=a.expression.evaluate(l,null,{},d,m);return this._calculate(b,b,b,l)}return this._calculate(a.expression.evaluate(new Kr(Math.floor(l.zoom-1),l)),a.expression.evaluate(new Kr(Math.floor(l.zoom),l)),a.expression.evaluate(new Kr(Math.floor(l.zoom+1),l)),l)}},al.prototype._calculate=function(a,l,d,m){return m.zoom>m.zoomHistory.lastIntegerZoom?{from:a,to:l}:{from:d,to:l}},al.prototype.interpolate=function(a){return a};var Cc=function(a){this.specification=a};Cc.prototype.possiblyEvaluate=function(a,l,d,m){return!!a.expression.evaluate(l,null,{},d,m)},Cc.prototype.interpolate=function(){return!1};var Ga=function(a){for(var l in this.properties=a,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],a){var d=a[l];d.specification.overridable&&this.overridableProperties.push(l);var m=this.defaultPropertyValues[l]=new Zd(d,void 0),b=this.defaultTransitionablePropertyValues[l]=new Ec(d);this.defaultTransitioningPropertyValues[l]=b.untransitioned(),this.defaultPossiblyEvaluatedValues[l]=m.possiblyEvaluate({})}};li("DataDrivenProperty",Bn),li("DataConstantProperty",Vi),li("CrossFadedDataDrivenProperty",ko),li("CrossFadedProperty",al),li("ColorRampProperty",Cc);var Kc=function(a){function l(d,m){if(a.call(this),this.id=d.id,this.type=d.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==d.type&&(this.metadata=d.metadata,this.minzoom=d.minzoom,this.maxzoom=d.maxzoom,"background"!==d.type&&(this.source=d.source,this.sourceLayer=d["source-layer"],this.filter=d.filter),m.layout&&(this._unevaluatedLayout=new qc(m.layout)),m.paint)){for(var b in this._transitionablePaint=new Rs(m.paint),d.paint)this.setPaintProperty(b,d.paint[b],{validate:!1});for(var E in d.layout)this.setLayoutProperty(E,d.layout[E],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new xd(m.paint)}}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},l.prototype.getLayoutProperty=function(d){return"visibility"===d?this.visibility:this._unevaluatedLayout.getValue(d)},l.prototype.setLayoutProperty=function(d,m,b){void 0===b&&(b={}),null!=m&&this._validate(dn,"layers."+this.id+".layout."+d,d,m,b)||("visibility"!==d?this._unevaluatedLayout.setValue(d,m):this.visibility=m)},l.prototype.getPaintProperty=function(d){return mt(d,"-transition")?this._transitionablePaint.getTransition(d.slice(0,-11)):this._transitionablePaint.getValue(d)},l.prototype.setPaintProperty=function(d,m,b){if(void 0===b&&(b={}),null!=m&&this._validate(ln,"layers."+this.id+".paint."+d,d,m,b))return!1;if(mt(d,"-transition"))return this._transitionablePaint.setTransition(d.slice(0,-11),m||void 0),!1;var E=this._transitionablePaint._values[d],S="cross-faded-data-driven"===E.property.specification["property-type"],B=E.value.isDataDriven(),q=E.value;this._transitionablePaint.setValue(d,m),this._handleSpecialPaintPropertyUpdate(d);var J=this._transitionablePaint._values[d].value;return J.isDataDriven()||B||S||this._handleOverridablePaintPropertyUpdate(d,q,J)},l.prototype._handleSpecialPaintPropertyUpdate=function(d){},l.prototype._handleOverridablePaintPropertyUpdate=function(d,m,b){return!1},l.prototype.isHidden=function(d){return!!(this.minzoom&&d<this.minzoom)||!!(this.maxzoom&&d>=this.maxzoom)||"none"===this.visibility},l.prototype.updateTransitions=function(d){this._transitioningPaint=this._transitionablePaint.transitioned(d,this._transitioningPaint)},l.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},l.prototype.recalculate=function(d,m){d.getCrossfadeParameters&&(this._crossfadeParameters=d.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(d,void 0,m)),this.paint=this._transitioningPaint.possiblyEvaluate(d,void 0,m)},l.prototype.serialize=function(){var d={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(d.layout=d.layout||{},d.layout.visibility=this.visibility),Je(d,function(m,b){return!(void 0===m||"layout"===b&&!Object.keys(m).length||"paint"===b&&!Object.keys(m).length)})},l.prototype._validate=function(d,m,b,E,S){return void 0===S&&(S={}),(!S||!1!==S.validate)&&Ln(this,d.call(Ne,{key:m,layerType:this.type,objectKey:b,value:E,styleSpec:ge,style:{glyphs:!0,sprite:!0}}))},l.prototype.is3D=function(){return!1},l.prototype.isTileClipped=function(){return!1},l.prototype.hasOffscreenPass=function(){return!1},l.prototype.resize=function(){},l.prototype.isStateDependent=function(){for(var d in this.paint._values){var m=this.paint.get(d);if(m instanceof Ms&&sl(m.property.specification)&&("source"===m.value.kind||"composite"===m.value.kind)&&m.value.isStateDependent)return!0}return!1},l}(Qe),hA={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},xp=function(a,l){this._structArray=a,this._pos1=l*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Li=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function ta(a,l){void 0===l&&(l=1);var d=0,m=0;return{members:a.map(function(b){var E=hA[b.type].BYTES_PER_ELEMENT,S=d=pg(d,Math.max(l,E)),B=b.components||1;return m=Math.max(m,E),d+=E*B,{name:b.name,type:b.type,components:B,offset:S}}),size:pg(d,Math.max(m,l)),alignment:l}}function pg(a,l){return Math.ceil(a/l)*l}Li.serialize=function(a,l){return a._trim(),l&&(a.isTransferred=!0,l.push(a.arrayBuffer)),{length:a.length,arrayBuffer:a.arrayBuffer}},Li.deserialize=function(a){var l=Object.create(this.prototype);return l.arrayBuffer=a.arrayBuffer,l.length=a.length,l.capacity=a.arrayBuffer.byteLength/l.bytesPerElement,l._refreshViews(),l},Li.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Li.prototype.clear=function(){this.length=0},Li.prototype.resize=function(a){this.reserve(a),this.length=a},Li.prototype.reserve=function(a){if(a>this.capacity){this.capacity=Math.max(a,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var l=this.uint8;this._refreshViews(),l&&this.uint8.set(l)}},Li.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Vs=function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},l.prototype.emplaceBack=function(d,m){var b=this.length;return this.resize(b+1),this.emplace(b,d,m)},l.prototype.emplace=function(d,m,b){var E=2*d;return this.int16[E+0]=m,this.int16[E+1]=b,d},l}(Li);Vs.prototype.bytesPerElement=4,li("StructArrayLayout2i4",Vs);var lm=function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},l.prototype.emplaceBack=function(d,m,b,E){var S=this.length;return this.resize(S+1),this.emplace(S,d,m,b,E)},l.prototype.emplace=function(d,m,b,E,S){var B=4*d;return this.int16[B+0]=m,this.int16[B+1]=b,this.int16[B+2]=E,this.int16[B+3]=S,d},l}(Li);lm.prototype.bytesPerElement=8,li("StructArrayLayout4i8",lm);var Fl=function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},l.prototype.emplaceBack=function(d,m,b,E,S,B){var q=this.length;return this.resize(q+1),this.emplace(q,d,m,b,E,S,B)},l.prototype.emplace=function(d,m,b,E,S,B,q){var J=6*d;return this.int16[J+0]=m,this.int16[J+1]=b,this.int16[J+2]=E,this.int16[J+3]=S,this.int16[J+4]=B,this.int16[J+5]=q,d},l}(Li);Fl.prototype.bytesPerElement=12,li("StructArrayLayout2i4i12",Fl);var Ic=function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},l.prototype.emplaceBack=function(d,m,b,E,S,B){var q=this.length;return this.resize(q+1),this.emplace(q,d,m,b,E,S,B)},l.prototype.emplace=function(d,m,b,E,S,B,q){var J=4*d,re=8*d;return this.int16[J+0]=m,this.int16[J+1]=b,this.uint8[re+4]=E,this.uint8[re+5]=S,this.uint8[re+6]=B,this.uint8[re+7]=q,d},l}(Li);Ic.prototype.bytesPerElement=8,li("StructArrayLayout2i4ub8",Ic);var qu=function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},l.prototype.emplaceBack=function(d,m){var b=this.length;return this.resize(b+1),this.emplace(b,d,m)},l.prototype.emplace=function(d,m,b){var E=2*d;return this.float32[E+0]=m,this.float32[E+1]=b,d},l}(Li);qu.prototype.bytesPerElement=8,li("StructArrayLayout2f8",qu);var ml=function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},l.prototype.emplaceBack=function(d,m,b,E,S,B,q,J,re,le){var _e=this.length;return this.resize(_e+1),this.emplace(_e,d,m,b,E,S,B,q,J,re,le)},l.prototype.emplace=function(d,m,b,E,S,B,q,J,re,le,_e){var Ee=10*d;return this.uint16[Ee+0]=m,this.uint16[Ee+1]=b,this.uint16[Ee+2]=E,this.uint16[Ee+3]=S,this.uint16[Ee+4]=B,this.uint16[Ee+5]=q,this.uint16[Ee+6]=J,this.uint16[Ee+7]=re,this.uint16[Ee+8]=le,this.uint16[Ee+9]=_e,d},l}(Li);ml.prototype.bytesPerElement=20,li("StructArrayLayout10ui20",ml);var Bh=function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},l.prototype.emplaceBack=function(d,m,b,E,S,B,q,J,re,le,_e,Ee){var Ge=this.length;return this.resize(Ge+1),this.emplace(Ge,d,m,b,E,S,B,q,J,re,le,_e,Ee)},l.prototype.emplace=function(d,m,b,E,S,B,q,J,re,le,_e,Ee,Ge){var Ke=12*d;return this.int16[Ke+0]=m,this.int16[Ke+1]=b,this.int16[Ke+2]=E,this.int16[Ke+3]=S,this.uint16[Ke+4]=B,this.uint16[Ke+5]=q,this.uint16[Ke+6]=J,this.uint16[Ke+7]=re,this.int16[Ke+8]=le,this.int16[Ke+9]=_e,this.int16[Ke+10]=Ee,this.int16[Ke+11]=Ge,d},l}(Li);Bh.prototype.bytesPerElement=24,li("StructArrayLayout4i4ui4i24",Bh);var bs=function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},l.prototype.emplaceBack=function(d,m,b){var E=this.length;return this.resize(E+1),this.emplace(E,d,m,b)},l.prototype.emplace=function(d,m,b,E){var S=3*d;return this.float32[S+0]=m,this.float32[S+1]=b,this.float32[S+2]=E,d},l}(Li);bs.prototype.bytesPerElement=12,li("StructArrayLayout3f12",bs);var Af=function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},l.prototype.emplaceBack=function(d){var m=this.length;return this.resize(m+1),this.emplace(m,d)},l.prototype.emplace=function(d,m){return this.uint32[1*d+0]=m,d},l}(Li);Af.prototype.bytesPerElement=4,li("StructArrayLayout1ul4",Af);var mf=function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},l.prototype.emplaceBack=function(d,m,b,E,S,B,q,J,re){var le=this.length;return this.resize(le+1),this.emplace(le,d,m,b,E,S,B,q,J,re)},l.prototype.emplace=function(d,m,b,E,S,B,q,J,re,le){var _e=10*d,Ee=5*d;return this.int16[_e+0]=m,this.int16[_e+1]=b,this.int16[_e+2]=E,this.int16[_e+3]=S,this.int16[_e+4]=B,this.int16[_e+5]=q,this.uint32[Ee+3]=J,this.uint16[_e+8]=re,this.uint16[_e+9]=le,d},l}(Li);mf.prototype.bytesPerElement=20,li("StructArrayLayout6i1ul2ui20",mf);var Ph=function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},l.prototype.emplaceBack=function(d,m,b,E,S,B){var q=this.length;return this.resize(q+1),this.emplace(q,d,m,b,E,S,B)},l.prototype.emplace=function(d,m,b,E,S,B,q){var J=6*d;return this.int16[J+0]=m,this.int16[J+1]=b,this.int16[J+2]=E,this.int16[J+3]=S,this.int16[J+4]=B,this.int16[J+5]=q,d},l}(Li);Ph.prototype.bytesPerElement=12,li("StructArrayLayout2i2i2i12",Ph);var rc=function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},l.prototype.emplaceBack=function(d,m,b,E,S){var B=this.length;return this.resize(B+1),this.emplace(B,d,m,b,E,S)},l.prototype.emplace=function(d,m,b,E,S,B){var q=4*d,J=8*d;return this.float32[q+0]=m,this.float32[q+1]=b,this.float32[q+2]=E,this.int16[J+6]=S,this.int16[J+7]=B,d},l}(Li);rc.prototype.bytesPerElement=16,li("StructArrayLayout2f1f2i16",rc);var cm=function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},l.prototype.emplaceBack=function(d,m,b,E){var S=this.length;return this.resize(S+1),this.emplace(S,d,m,b,E)},l.prototype.emplace=function(d,m,b,E,S){var B=12*d,q=3*d;return this.uint8[B+0]=m,this.uint8[B+1]=b,this.float32[q+1]=E,this.float32[q+2]=S,d},l}(Li);cm.prototype.bytesPerElement=12,li("StructArrayLayout2ub2f12",cm);var Ll=function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},l.prototype.emplaceBack=function(d,m,b){var E=this.length;return this.resize(E+1),this.emplace(E,d,m,b)},l.prototype.emplace=function(d,m,b,E){var S=3*d;return this.uint16[S+0]=m,this.uint16[S+1]=b,this.uint16[S+2]=E,d},l}(Li);Ll.prototype.bytesPerElement=6,li("StructArrayLayout3ui6",Ll);var Ed=function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},l.prototype.emplaceBack=function(d,m,b,E,S,B,q,J,re,le,_e,Ee,Ge,Ke,dt,it,Bt){var Nt=this.length;return this.resize(Nt+1),this.emplace(Nt,d,m,b,E,S,B,q,J,re,le,_e,Ee,Ge,Ke,dt,it,Bt)},l.prototype.emplace=function(d,m,b,E,S,B,q,J,re,le,_e,Ee,Ge,Ke,dt,it,Bt,Nt){var $t=24*d,nn=12*d,Tn=48*d;return this.int16[$t+0]=m,this.int16[$t+1]=b,this.uint16[$t+2]=E,this.uint16[$t+3]=S,this.uint32[nn+2]=B,this.uint32[nn+3]=q,this.uint32[nn+4]=J,this.uint16[$t+10]=re,this.uint16[$t+11]=le,this.uint16[$t+12]=_e,this.float32[nn+7]=Ee,this.float32[nn+8]=Ge,this.uint8[Tn+36]=Ke,this.uint8[Tn+37]=dt,this.uint8[Tn+38]=it,this.uint32[nn+10]=Bt,this.int16[$t+22]=Nt,d},l}(Li);Ed.prototype.bytesPerElement=48,li("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Ed);var Ct=function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},l.prototype.emplaceBack=function(d,m,b,E,S,B,q,J,re,le,_e,Ee,Ge,Ke,dt,it,Bt,Nt,$t,nn,Tn,Vn,ti,ji,hi,Hi,pi,yr){var rr=this.length;return this.resize(rr+1),this.emplace(rr,d,m,b,E,S,B,q,J,re,le,_e,Ee,Ge,Ke,dt,it,Bt,Nt,$t,nn,Tn,Vn,ti,ji,hi,Hi,pi,yr)},l.prototype.emplace=function(d,m,b,E,S,B,q,J,re,le,_e,Ee,Ge,Ke,dt,it,Bt,Nt,$t,nn,Tn,Vn,ti,ji,hi,Hi,pi,yr,rr){var xi=34*d,Ur=17*d;return this.int16[xi+0]=m,this.int16[xi+1]=b,this.int16[xi+2]=E,this.int16[xi+3]=S,this.int16[xi+4]=B,this.int16[xi+5]=q,this.int16[xi+6]=J,this.int16[xi+7]=re,this.uint16[xi+8]=le,this.uint16[xi+9]=_e,this.uint16[xi+10]=Ee,this.uint16[xi+11]=Ge,this.uint16[xi+12]=Ke,this.uint16[xi+13]=dt,this.uint16[xi+14]=it,this.uint16[xi+15]=Bt,this.uint16[xi+16]=Nt,this.uint16[xi+17]=$t,this.uint16[xi+18]=nn,this.uint16[xi+19]=Tn,this.uint16[xi+20]=Vn,this.uint16[xi+21]=ti,this.uint16[xi+22]=ji,this.uint32[Ur+12]=hi,this.float32[Ur+13]=Hi,this.float32[Ur+14]=pi,this.float32[Ur+15]=yr,this.float32[Ur+16]=rr,d},l}(Li);Ct.prototype.bytesPerElement=68,li("StructArrayLayout8i15ui1ul4f68",Ct);var Wc=function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},l.prototype.emplaceBack=function(d){var m=this.length;return this.resize(m+1),this.emplace(m,d)},l.prototype.emplace=function(d,m){return this.float32[1*d+0]=m,d},l}(Li);Wc.prototype.bytesPerElement=4,li("StructArrayLayout1f4",Wc);var Ht=function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},l.prototype.emplaceBack=function(d,m,b){var E=this.length;return this.resize(E+1),this.emplace(E,d,m,b)},l.prototype.emplace=function(d,m,b,E){var S=3*d;return this.int16[S+0]=m,this.int16[S+1]=b,this.int16[S+2]=E,d},l}(Li);Ht.prototype.bytesPerElement=6,li("StructArrayLayout3i6",Ht);var Ku=function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},l.prototype.emplaceBack=function(d,m,b){var E=this.length;return this.resize(E+1),this.emplace(E,d,m,b)},l.prototype.emplace=function(d,m,b,E){var S=4*d;return this.uint32[2*d+0]=m,this.uint16[S+2]=b,this.uint16[S+3]=E,d},l}(Li);Ku.prototype.bytesPerElement=8,li("StructArrayLayout1ul2ui8",Ku);var Wu=function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},l.prototype.emplaceBack=function(d,m){var b=this.length;return this.resize(b+1),this.emplace(b,d,m)},l.prototype.emplace=function(d,m,b){var E=2*d;return this.uint16[E+0]=m,this.uint16[E+1]=b,d},l}(Li);Wu.prototype.bytesPerElement=4,li("StructArrayLayout2ui4",Wu);var Oh=function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},l.prototype.emplaceBack=function(d){var m=this.length;return this.resize(m+1),this.emplace(m,d)},l.prototype.emplace=function(d,m){return this.uint16[1*d+0]=m,d},l}(Li);Oh.prototype.bytesPerElement=2,li("StructArrayLayout1ui2",Oh);var Ep=function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},l.prototype.emplaceBack=function(d,m,b,E){var S=this.length;return this.resize(S+1),this.emplace(S,d,m,b,E)},l.prototype.emplace=function(d,m,b,E,S){var B=4*d;return this.float32[B+0]=m,this.float32[B+1]=b,this.float32[B+2]=E,this.float32[B+3]=S,d},l}(Li);Ep.prototype.bytesPerElement=16,li("StructArrayLayout4f16",Ep);var h=function(a){function l(){a.apply(this,arguments)}a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l;var d={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return d.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},d.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},d.x1.get=function(){return this._structArray.int16[this._pos2+2]},d.y1.get=function(){return this._structArray.int16[this._pos2+3]},d.x2.get=function(){return this._structArray.int16[this._pos2+4]},d.y2.get=function(){return this._structArray.int16[this._pos2+5]},d.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},d.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},d.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},d.anchorPoint.get=function(){return new W(this.anchorPointX,this.anchorPointY)},Object.defineProperties(l.prototype,d),l}(xp);h.prototype.size=20;var f=function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.get=function(d){return new h(this,d)},l}(mf);li("CollisionBoxArray",f);var p=function(a){function l(){a.apply(this,arguments)}a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l;var d={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return d.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},d.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},d.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},d.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},d.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},d.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},d.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},d.segment.get=function(){return this._structArray.uint16[this._pos2+10]},d.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},d.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},d.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},d.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},d.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},d.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},d.placedOrientation.set=function(m){this._structArray.uint8[this._pos1+37]=m},d.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},d.hidden.set=function(m){this._structArray.uint8[this._pos1+38]=m},d.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},d.crossTileID.set=function(m){this._structArray.uint32[this._pos4+10]=m},d.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(l.prototype,d),l}(xp);p.prototype.size=48;var _=function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.get=function(d){return new p(this,d)},l}(Ed);li("PlacedSymbolArray",_);var C=function(a){function l(){a.apply(this,arguments)}a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l;var d={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return d.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},d.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},d.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},d.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},d.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},d.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},d.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},d.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},d.key.get=function(){return this._structArray.uint16[this._pos2+8]},d.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},d.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},d.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},d.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},d.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},d.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},d.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},d.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},d.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},d.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},d.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},d.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},d.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},d.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},d.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},d.crossTileID.set=function(m){this._structArray.uint32[this._pos4+12]=m},d.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},d.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},d.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},d.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(l.prototype,d),l}(xp);C.prototype.size=68;var D=function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.get=function(d){return new C(this,d)},l}(Ct);li("SymbolInstanceArray",D);var M=function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.getoffsetX=function(d){return this.float32[1*d+0]},l}(Wc);li("GlyphOffsetArray",M);var z=function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.getx=function(d){return this.int16[3*d+0]},l.prototype.gety=function(d){return this.int16[3*d+1]},l.prototype.gettileUnitDistanceFromAnchor=function(d){return this.int16[3*d+2]},l}(Ht);li("SymbolLineVertexArray",z);var ie=function(a){function l(){a.apply(this,arguments)}a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l;var d={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return d.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},d.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},d.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(l.prototype,d),l}(xp);ie.prototype.size=8;var ue=function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.get=function(d){return new ie(this,d)},l}(Ku);li("FeatureIndexArray",ue);var Ce=ta([{name:"a_pos",components:2,type:"Int16"}],4).members,Se=function(a){void 0===a&&(a=[]),this.segments=a};function ke(a,l){return 256*(a=fe(Math.floor(a),0,255))+fe(Math.floor(l),0,255)}Se.prototype.prepareSegment=function(a,l,d,m){var b=this.segments[this.segments.length-1];return a>Se.MAX_VERTEX_ARRAY_LENGTH&&ze("Max vertices per segment is "+Se.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+a),(!b||b.vertexLength+a>Se.MAX_VERTEX_ARRAY_LENGTH||b.sortKey!==m)&&(b={vertexOffset:l.length,primitiveOffset:d.length,vertexLength:0,primitiveLength:0},void 0!==m&&(b.sortKey=m),this.segments.push(b)),b},Se.prototype.get=function(){return this.segments},Se.prototype.destroy=function(){for(var a=0,l=this.segments;a<l.length;a+=1){var d=l[a];for(var m in d.vaos)d.vaos[m].destroy()}},Se.simpleSegment=function(a,l,d,m){return new Se([{vertexOffset:a,primitiveOffset:l,vertexLength:d,primitiveLength:m,vaos:{},sortKey:0}])},Se.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,li("SegmentVector",Se);var qe=ta([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),je=L(function(a){a.exports=function(l,d){var m,b,E,S,B,q,J,re;for(b=l.length-(m=3&l.length),E=d,B=3432918353,q=461845907,re=0;re<b;)J=255&l.charCodeAt(re)|(255&l.charCodeAt(++re))<<8|(255&l.charCodeAt(++re))<<16|(255&l.charCodeAt(++re))<<24,++re,E=27492+(65535&(S=5*(65535&(E=(E^=J=(65535&(J=(J=(65535&J)*B+(((J>>>16)*B&65535)<<16)&4294967295)<<15|J>>>17))*q+(((J>>>16)*q&65535)<<16)&4294967295)<<13|E>>>19))+((5*(E>>>16)&65535)<<16)&4294967295))+((58964+(S>>>16)&65535)<<16);switch(J=0,m){case 3:J^=(255&l.charCodeAt(re+2))<<16;case 2:J^=(255&l.charCodeAt(re+1))<<8;case 1:E^=J=(65535&(J=(J=(65535&(J^=255&l.charCodeAt(re)))*B+(((J>>>16)*B&65535)<<16)&4294967295)<<15|J>>>17))*q+(((J>>>16)*q&65535)<<16)&4294967295}return E^=l.length,E=2246822507*(65535&(E^=E>>>16))+((2246822507*(E>>>16)&65535)<<16)&4294967295,E=3266489909*(65535&(E^=E>>>13))+((3266489909*(E>>>16)&65535)<<16)&4294967295,(E^=E>>>16)>>>0}}),ut=L(function(a){a.exports=function(l,d){for(var m,b=l.length,E=d^b,S=0;b>=4;)m=1540483477*(65535&(m=255&l.charCodeAt(S)|(255&l.charCodeAt(++S))<<8|(255&l.charCodeAt(++S))<<16|(255&l.charCodeAt(++S))<<24))+((1540483477*(m>>>16)&65535)<<16),E=1540483477*(65535&E)+((1540483477*(E>>>16)&65535)<<16)^(m=1540483477*(65535&(m^=m>>>24))+((1540483477*(m>>>16)&65535)<<16)),b-=4,++S;switch(b){case 3:E^=(255&l.charCodeAt(S+2))<<16;case 2:E^=(255&l.charCodeAt(S+1))<<8;case 1:E=1540483477*(65535&(E^=255&l.charCodeAt(S)))+((1540483477*(E>>>16)&65535)<<16)}return E=1540483477*(65535&(E^=E>>>13))+((1540483477*(E>>>16)&65535)<<16),(E^=E>>>15)>>>0}}),Ue=je,lt=ut;Ue.murmur3=je,Ue.murmur2=lt;var At=function(){this.ids=[],this.positions=[],this.indexed=!1};At.prototype.add=function(a,l,d,m){this.ids.push(rn(a)),this.positions.push(l,d,m)},At.prototype.getPositions=function(a){for(var l=rn(a),d=0,m=this.ids.length-1;d<m;){var b=d+m>>1;this.ids[b]>=l?m=b:d=b+1}for(var E=[];this.ids[d]===l;)E.push({index:this.positions[3*d],start:this.positions[3*d+1],end:this.positions[3*d+2]}),d++;return E},At.serialize=function(a,l){var d=new Float64Array(a.ids),m=new Uint32Array(a.positions);return function b(E,S,B,q){for(;B<q;){for(var J=E[B+q>>1],re=B-1,le=q+1;;){do{re++}while(E[re]<J);do{le--}while(E[le]>J);if(re>=le)break;tn(E,re,le),tn(S,3*re,3*le),tn(S,3*re+1,3*le+1),tn(S,3*re+2,3*le+2)}le-B<q-le?(b(E,S,B,le),B=le+1):(b(E,S,le+1,q),q=le)}}(d,m,0,d.length-1),l&&l.push(d.buffer,m.buffer),{ids:d,positions:m}},At.deserialize=function(a){var l=new At;return l.ids=a.ids,l.positions=a.positions,l.indexed=!0,l};var Ot=Math.pow(2,53)-1;function rn(a){var l=+a;return!isNaN(l)&&l<=Ot?l:Ue(String(a))}function tn(a,l,d){var m=a[l];a[l]=a[d],a[d]=m}li("FeaturePositionMap",At);var un=function(a,l){this.gl=a.gl,this.location=l},Cn=function(a){function l(d,m){a.call(this,d,m),this.current=0}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.set=function(d){this.current!==d&&(this.current=d,this.gl.uniform1i(this.location,d))},l}(un),wn=function(a){function l(d,m){a.call(this,d,m),this.current=0}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.set=function(d){this.current!==d&&(this.current=d,this.gl.uniform1f(this.location,d))},l}(un),Un=function(a){function l(d,m){a.call(this,d,m),this.current=[0,0]}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.set=function(d){d[0]===this.current[0]&&d[1]===this.current[1]||(this.current=d,this.gl.uniform2f(this.location,d[0],d[1]))},l}(un),ci=function(a){function l(d,m){a.call(this,d,m),this.current=[0,0,0]}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.set=function(d){d[0]===this.current[0]&&d[1]===this.current[1]&&d[2]===this.current[2]||(this.current=d,this.gl.uniform3f(this.location,d[0],d[1],d[2]))},l}(un),Oi=function(a){function l(d,m){a.call(this,d,m),this.current=[0,0,0,0]}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.set=function(d){d[0]===this.current[0]&&d[1]===this.current[1]&&d[2]===this.current[2]&&d[3]===this.current[3]||(this.current=d,this.gl.uniform4f(this.location,d[0],d[1],d[2],d[3]))},l}(un),Qi=function(a){function l(d,m){a.call(this,d,m),this.current=Or.transparent}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.set=function(d){d.r===this.current.r&&d.g===this.current.g&&d.b===this.current.b&&d.a===this.current.a||(this.current=d,this.gl.uniform4f(this.location,d.r,d.g,d.b,d.a))},l}(un),Ni=new Float32Array(16),Sr=function(a){function l(d,m){a.call(this,d,m),this.current=Ni}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.set=function(d){if(d[12]!==this.current[12]||d[0]!==this.current[0])return this.current=d,void this.gl.uniformMatrix4fv(this.location,!1,d);for(var m=1;m<16;m++)if(d[m]!==this.current[m]){this.current=d,this.gl.uniformMatrix4fv(this.location,!1,d);break}},l}(un);function oi(a){return[ke(255*a.r,255*a.g),ke(255*a.b,255*a.a)]}var Ar=function(a,l,d){this.value=a,this.uniformNames=l.map(function(m){return"u_"+m}),this.type=d};Ar.prototype.setUniform=function(a,l,d){a.set(d.constantOr(this.value))},Ar.prototype.getBinding=function(a,l,d){return"color"===this.type?new Qi(a,l):new wn(a,l)};var br=function(a,l){this.uniformNames=l.map(function(d){return"u_"+d}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};br.prototype.setConstantPatternPositions=function(a,l){this.pixelRatioFrom=l.pixelRatio,this.pixelRatioTo=a.pixelRatio,this.patternFrom=l.tlbr,this.patternTo=a.tlbr},br.prototype.setUniform=function(a,l,d,m){var b="u_pattern_to"===m?this.patternTo:"u_pattern_from"===m?this.patternFrom:"u_pixel_ratio_to"===m?this.pixelRatioTo:"u_pixel_ratio_from"===m?this.pixelRatioFrom:null;b&&a.set(b)},br.prototype.getBinding=function(a,l,d){return"u_pattern"===d.substr(0,9)?new Oi(a,l):new wn(a,l)};var er=function(a,l,d,m){this.expression=a,this.type=d,this.maxValue=0,this.paintVertexAttributes=l.map(function(b){return{name:"a_"+b,type:"Float32",components:"color"===d?2:1,offset:0}}),this.paintVertexArray=new m};er.prototype.populatePaintArray=function(a,l,d,m,b){var E=this.paintVertexArray.length,S=this.expression.evaluate(new Kr(0),l,{},m,[],b);this.paintVertexArray.resize(a),this._setPaintValue(E,a,S)},er.prototype.updatePaintArray=function(a,l,d,m){var b=this.expression.evaluate({zoom:0},d,m);this._setPaintValue(a,l,b)},er.prototype._setPaintValue=function(a,l,d){if("color"===this.type)for(var m=oi(d),b=a;b<l;b++)this.paintVertexArray.emplace(b,m[0],m[1]);else{for(var E=a;E<l;E++)this.paintVertexArray.emplace(E,d);this.maxValue=Math.max(this.maxValue,Math.abs(d))}},er.prototype.upload=function(a){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=a.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},er.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var tr=function(a,l,d,m,b,E){this.expression=a,this.uniformNames=l.map(function(S){return"u_"+S+"_t"}),this.type=d,this.useIntegerZoom=m,this.zoom=b,this.maxValue=0,this.paintVertexAttributes=l.map(function(S){return{name:"a_"+S,type:"Float32",components:"color"===d?4:2,offset:0}}),this.paintVertexArray=new E};tr.prototype.populatePaintArray=function(a,l,d,m,b){var E=this.expression.evaluate(new Kr(this.zoom),l,{},m,[],b),S=this.expression.evaluate(new Kr(this.zoom+1),l,{},m,[],b),B=this.paintVertexArray.length;this.paintVertexArray.resize(a),this._setPaintValue(B,a,E,S)},tr.prototype.updatePaintArray=function(a,l,d,m){var b=this.expression.evaluate({zoom:this.zoom},d,m),E=this.expression.evaluate({zoom:this.zoom+1},d,m);this._setPaintValue(a,l,b,E)},tr.prototype._setPaintValue=function(a,l,d,m){if("color"===this.type)for(var b=oi(d),E=oi(m),S=a;S<l;S++)this.paintVertexArray.emplace(S,b[0],b[1],E[0],E[1]);else{for(var B=a;B<l;B++)this.paintVertexArray.emplace(B,d,m);this.maxValue=Math.max(this.maxValue,Math.abs(d),Math.abs(m))}},tr.prototype.upload=function(a){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=a.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},tr.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},tr.prototype.setUniform=function(a,l){var d=this.useIntegerZoom?Math.floor(l.zoom):l.zoom,m=fe(this.expression.interpolationFactor(d,this.zoom,this.zoom+1),0,1);a.set(m)},tr.prototype.getBinding=function(a,l,d){return new wn(a,l)};var vr=function(a,l,d,m,b,E){this.expression=a,this.type=l,this.useIntegerZoom=d,this.zoom=m,this.layerId=E,this.zoomInPaintVertexArray=new b,this.zoomOutPaintVertexArray=new b};vr.prototype.populatePaintArray=function(a,l,d){var m=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(a),this.zoomOutPaintVertexArray.resize(a),this._setPaintValues(m,a,l.patterns&&l.patterns[this.layerId],d)},vr.prototype.updatePaintArray=function(a,l,d,m,b){this._setPaintValues(a,l,d.patterns&&d.patterns[this.layerId],b)},vr.prototype._setPaintValues=function(a,l,d,m){if(m&&d){var b=m[d.min],E=m[d.mid],S=m[d.max];if(b&&E&&S)for(var B=a;B<l;B++)this.zoomInPaintVertexArray.emplace(B,E.tl[0],E.tl[1],E.br[0],E.br[1],b.tl[0],b.tl[1],b.br[0],b.br[1],E.pixelRatio,b.pixelRatio),this.zoomOutPaintVertexArray.emplace(B,E.tl[0],E.tl[1],E.br[0],E.br[1],S.tl[0],S.tl[1],S.br[0],S.br[1],E.pixelRatio,S.pixelRatio)}},vr.prototype.upload=function(a){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=a.createVertexBuffer(this.zoomInPaintVertexArray,qe.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=a.createVertexBuffer(this.zoomOutPaintVertexArray,qe.members,this.expression.isStateDependent))},vr.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Zi=function(a,l,d){this.binders={},this._buffers=[];var m=[];for(var b in a.paint._values)if(d(b)){var E=a.paint.get(b);if(E instanceof Ms&&sl(E.property.specification)){var S=hs(b,a.type),B=E.value,q=E.property.specification.type,J=E.property.useIntegerZoom,re=E.property.specification["property-type"],le="cross-faded"===re||"cross-faded-data-driven"===re;if("constant"===B.kind)this.binders[b]=le?new br(B.value,S):new Ar(B.value,S,q),m.push("/u_"+b);else if("source"===B.kind||le){var _e=ss(b,q,"source");this.binders[b]=le?new vr(B,q,J,l,_e,a.id):new er(B,S,q,_e),m.push("/a_"+b)}else{var Ee=ss(b,q,"composite");this.binders[b]=new tr(B,S,q,J,l,Ee),m.push("/z_"+b)}}}this.cacheKey=m.sort().join("")};Zi.prototype.getMaxValue=function(a){var l=this.binders[a];return l instanceof er||l instanceof tr?l.maxValue:0},Zi.prototype.populatePaintArrays=function(a,l,d,m,b){for(var E in this.binders){var S=this.binders[E];(S instanceof er||S instanceof tr||S instanceof vr)&&S.populatePaintArray(a,l,d,m,b)}},Zi.prototype.setConstantPatternPositions=function(a,l){for(var d in this.binders){var m=this.binders[d];m instanceof br&&m.setConstantPatternPositions(a,l)}},Zi.prototype.updatePaintArrays=function(a,l,d,m,b){var E=!1;for(var S in a)for(var B=0,q=l.getPositions(S);B<q.length;B+=1){var J=q[B],re=d.feature(J.index);for(var le in this.binders){var _e=this.binders[le];if((_e instanceof er||_e instanceof tr||_e instanceof vr)&&!0===_e.expression.isStateDependent){var Ee=m.paint.get(le);_e.expression=Ee.value,_e.updatePaintArray(J.start,J.end,re,a[S],b),E=!0}}}return E},Zi.prototype.defines=function(){var a=[];for(var l in this.binders){var d=this.binders[l];(d instanceof Ar||d instanceof br)&&a.push.apply(a,d.uniformNames.map(function(m){return"#define HAS_UNIFORM_"+m}))}return a},Zi.prototype.getBinderAttributes=function(){var a=[];for(var l in this.binders){var d=this.binders[l];if(d instanceof er||d instanceof tr)for(var m=0;m<d.paintVertexAttributes.length;m++)a.push(d.paintVertexAttributes[m].name);else if(d instanceof vr)for(var b=0;b<qe.members.length;b++)a.push(qe.members[b].name)}return a},Zi.prototype.getBinderUniforms=function(){var a=[];for(var l in this.binders){var d=this.binders[l];if(d instanceof Ar||d instanceof br||d instanceof tr)for(var m=0,b=d.uniformNames;m<b.length;m+=1)a.push(b[m])}return a},Zi.prototype.getPaintVertexBuffers=function(){return this._buffers},Zi.prototype.getUniforms=function(a,l){var d=[];for(var m in this.binders){var b=this.binders[m];if(b instanceof Ar||b instanceof br||b instanceof tr)for(var E=0,S=b.uniformNames;E<S.length;E+=1){var B=S[E];if(l[B]){var q=b.getBinding(a,l[B],B);d.push({name:B,property:m,binding:q})}}}return d},Zi.prototype.setUniforms=function(a,l,d,m){for(var b=0,E=l;b<E.length;b+=1){var S=E[b],B=S.name,q=S.property;this.binders[q].setUniform(S.binding,m,d.get(q),B)}},Zi.prototype.updatePaintBuffers=function(a){for(var l in this._buffers=[],this.binders){var d=this.binders[l];if(a&&d instanceof vr){var m=2===a.fromScale?d.zoomInPaintVertexBuffer:d.zoomOutPaintVertexBuffer;m&&this._buffers.push(m)}else(d instanceof er||d instanceof tr)&&d.paintVertexBuffer&&this._buffers.push(d.paintVertexBuffer)}},Zi.prototype.upload=function(a){for(var l in this.binders){var d=this.binders[l];(d instanceof er||d instanceof tr||d instanceof vr)&&d.upload(a)}this.updatePaintBuffers()},Zi.prototype.destroy=function(){for(var a in this.binders){var l=this.binders[a];(l instanceof er||l instanceof tr||l instanceof vr)&&l.destroy()}};var qi=function(a,l,d){void 0===d&&(d=function(){return!0}),this.programConfigurations={};for(var m=0,b=a;m<b.length;m+=1){var E=b[m];this.programConfigurations[E.id]=new Zi(E,l,d)}this.needsUpload=!1,this._featureMap=new At,this._bufferOffset=0};function hs(a,l){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[a]||[a.replace(l+"-","").replace(/-/g,"_")]}function ss(a,l,d){var b={"line-pattern":{source:ml,composite:ml},"fill-pattern":{source:ml,composite:ml},"fill-extrusion-pattern":{source:ml,composite:ml}}[a];return b&&b[d]||{color:{source:qu,composite:Ep},number:{source:Wc,composite:qu}}[l][d]}qi.prototype.populatePaintArrays=function(a,l,d,m,b,E){for(var S in this.programConfigurations)this.programConfigurations[S].populatePaintArrays(a,l,m,b,E);void 0!==l.id&&this._featureMap.add(l.id,d,this._bufferOffset,a),this._bufferOffset=a,this.needsUpload=!0},qi.prototype.updatePaintArrays=function(a,l,d,m){for(var b=0,E=d;b<E.length;b+=1){var S=E[b];this.needsUpload=this.programConfigurations[S.id].updatePaintArrays(a,this._featureMap,l,S,m)||this.needsUpload}},qi.prototype.get=function(a){return this.programConfigurations[a]},qi.prototype.upload=function(a){if(this.needsUpload){for(var l in this.programConfigurations)this.programConfigurations[l].upload(a);this.needsUpload=!1}},qi.prototype.destroy=function(){for(var a in this.programConfigurations)this.programConfigurations[a].destroy()},li("ConstantBinder",Ar),li("CrossFadedConstantBinder",br),li("SourceExpressionBinder",er),li("CrossFadedCompositeBinder",vr),li("CompositeExpressionBinder",tr),li("ProgramConfiguration",Zi,{omit:["_buffers"]}),li("ProgramConfigurationSet",qi);var ll=Math.pow(2,14)-1,Ma=-ll-1;function bo(a){for(var l=8192/a.extent,d=a.loadGeometry(),m=0;m<d.length;m++)for(var b=d[m],E=0;E<b.length;E++){var S=b[E],B=Math.round(S.x*l),q=Math.round(S.y*l);S.x=fe(B,Ma,ll),S.y=fe(q,Ma,ll),(B<S.x||B>S.x+1||q<S.y||q>S.y+1)&&ze("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return d}function ws(a,l){return{type:a.type,id:a.id,properties:a.properties,geometry:l?bo(a):[]}}function gl(a,l,d,m,b){a.emplaceBack(2*l+(m+1)/2,2*d+(b+1)/2)}var _l=function(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(function(l){return l.id}),this.index=a.index,this.hasPattern=!1,this.layoutVertexArray=new Vs,this.indexArray=new Ll,this.segments=new Se,this.programConfigurations=new qi(a.layers,a.zoom),this.stateDependentLayerIds=this.layers.filter(function(l){return l.isStateDependent()}).map(function(l){return l.id})};function Jd(a,l){for(var d=0;d<a.length;d++)if(Xu(l,a[d]))return!0;for(var m=0;m<l.length;m++)if(Xu(a,l[m]))return!0;return!!gf(a,l)}function cl(a,l,d){return!!Xu(a,l)||!!$u(l,a,d)}function wu(a,l){if(1===a.length)return Cd(l,a[0]);for(var d=0;d<l.length;d++)for(var m=l[d],b=0;b<m.length;b++)if(Xu(a,m[b]))return!0;for(var E=0;E<a.length;E++)if(Cd(l,a[E]))return!0;for(var S=0;S<l.length;S++)if(gf(a,l[S]))return!0;return!1}function Nl(a,l,d){if(a.length>1){if(gf(a,l))return!0;for(var m=0;m<l.length;m++)if($u(l[m],a,d))return!0}for(var b=0;b<a.length;b++)if($u(a[b],l,d))return!0;return!1}function gf(a,l){if(0===a.length||0===l.length)return!1;for(var d=0;d<a.length-1;d++)for(var m=a[d],b=a[d+1],E=0;E<l.length-1;E++)if(eh(m,b,l[E],l[E+1]))return!0;return!1}function eh(a,l,d,m){return Dt(a,d,m)!==Dt(l,d,m)&&Dt(a,l,d)!==Dt(a,l,m)}function $u(a,l,d){var m=d*d;if(1===l.length)return a.distSqr(l[0])<m;for(var b=1;b<l.length;b++)if(Ii(a,l[b-1],l[b])<m)return!0;return!1}function Ii(a,l,d){var m=l.distSqr(d);if(0===m)return a.distSqr(l);var b=((a.x-l.x)*(d.x-l.x)+(a.y-l.y)*(d.y-l.y))/m;return a.distSqr(b<0?l:b>1?d:d.sub(l)._mult(b)._add(l))}function Cd(a,l){for(var d,m,b,E=!1,S=0;S<a.length;S++)for(var B=0,q=(d=a[S]).length-1;B<d.length;q=B++)(m=d[B]).y>l.y!=(b=d[q]).y>l.y&&l.x<(b.x-m.x)*(l.y-m.y)/(b.y-m.y)+m.x&&(E=!E);return E}function Xu(a,l){for(var d=!1,m=0,b=a.length-1;m<a.length;b=m++){var E=a[m],S=a[b];E.y>l.y!=S.y>l.y&&l.x<(S.x-E.x)*(l.y-E.y)/(S.y-E.y)+E.x&&(d=!d)}return d}function bi(a,l,d){var m=d[0],b=d[2];if(a.x<m.x&&l.x<m.x||a.x>b.x&&l.x>b.x||a.y<m.y&&l.y<m.y||a.y>b.y&&l.y>b.y)return!1;var E=Dt(a,l,d[0]);return E!==Dt(a,l,d[1])||E!==Dt(a,l,d[2])||E!==Dt(a,l,d[3])}function Tc(a,l,d){var m=l.paint.get(a).value;return"constant"===m.kind?m.value:d.programConfigurations.get(l.id).getMaxValue(a)}function zn(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])}function Bs(a,l,d,m,b){if(!l[0]&&!l[1])return a;var E=W.convert(l)._mult(b);"viewport"===d&&E._rotate(-m);for(var S=[],B=0;B<a.length;B++)S.push(a[B].sub(E));return S}_l.prototype.populate=function(a,l,d){var m=this.layers[0],b=[],E=null;"circle"===m.type&&(E=m.layout.get("circle-sort-key"));for(var S=0,B=a;S<B.length;S+=1){var q=B[S],J=q.feature,re=q.id,le=q.index,_e=q.sourceLayerIndex,Ee=this.layers[0]._featureFilter.needGeometry,Ge=ws(J,Ee);if(this.layers[0]._featureFilter.filter(new Kr(this.zoom),Ge,d)){var Ke=E?E.evaluate(Ge,{},d):void 0,dt={id:re,properties:J.properties,type:J.type,sourceLayerIndex:_e,index:le,geometry:Ee?Ge.geometry:bo(J),patterns:{},sortKey:Ke};b.push(dt)}}E&&b.sort(function(ti,ji){return ti.sortKey-ji.sortKey});for(var it=0,Bt=b;it<Bt.length;it+=1){var Nt=Bt[it],$t=Nt.geometry,nn=Nt.index,Tn=Nt.sourceLayerIndex,Vn=a[nn].feature;this.addFeature(Nt,$t,nn,d),l.featureIndex.insert(Vn,$t,nn,Tn,this.index)}},_l.prototype.update=function(a,l,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,l,this.stateDependentLayers,d)},_l.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},_l.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},_l.prototype.upload=function(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,Ce),this.indexBuffer=a.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(a),this.uploaded=!0},_l.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},_l.prototype.addFeature=function(a,l,d,m){for(var b=0,E=l;b<E.length;b+=1)for(var S=0,B=E[b];S<B.length;S+=1){var q=B[S],J=q.x,re=q.y;if(!(J<0||J>=8192||re<0||re>=8192)){var le=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,a.sortKey),_e=le.vertexLength;gl(this.layoutVertexArray,J,re,-1,-1),gl(this.layoutVertexArray,J,re,1,-1),gl(this.layoutVertexArray,J,re,1,1),gl(this.layoutVertexArray,J,re,-1,1),this.indexArray.emplaceBack(_e,_e+1,_e+2),this.indexArray.emplaceBack(_e,_e+3,_e+2),le.vertexLength+=4,le.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,d,{},m)},li("CircleBucket",_l,{omit:["layers"]});var Nr=new Ga({"circle-sort-key":new Bn(ge.layout_circle["circle-sort-key"])}),cs={paint:new Ga({"circle-radius":new Bn(ge.paint_circle["circle-radius"]),"circle-color":new Bn(ge.paint_circle["circle-color"]),"circle-blur":new Bn(ge.paint_circle["circle-blur"]),"circle-opacity":new Bn(ge.paint_circle["circle-opacity"]),"circle-translate":new Vi(ge.paint_circle["circle-translate"]),"circle-translate-anchor":new Vi(ge.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Vi(ge.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Vi(ge.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Bn(ge.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Bn(ge.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Bn(ge.paint_circle["circle-stroke-opacity"])}),layout:Nr},wr=typeof Float32Array<"u"?Float32Array:Array;function na(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function Yo(a,l,d){var m=l[0],b=l[1],E=l[2],S=l[3],B=l[4],q=l[5],J=l[6],re=l[7],le=l[8],_e=l[9],Ee=l[10],Ge=l[11],Ke=l[12],dt=l[13],it=l[14],Bt=l[15],Nt=d[0],$t=d[1],nn=d[2],Tn=d[3];return a[0]=Nt*m+$t*B+nn*le+Tn*Ke,a[1]=Nt*b+$t*q+nn*_e+Tn*dt,a[2]=Nt*E+$t*J+nn*Ee+Tn*it,a[3]=Nt*S+$t*re+nn*Ge+Tn*Bt,a[4]=(Nt=d[4])*m+($t=d[5])*B+(nn=d[6])*le+(Tn=d[7])*Ke,a[5]=Nt*b+$t*q+nn*_e+Tn*dt,a[6]=Nt*E+$t*J+nn*Ee+Tn*it,a[7]=Nt*S+$t*re+nn*Ge+Tn*Bt,a[8]=(Nt=d[8])*m+($t=d[9])*B+(nn=d[10])*le+(Tn=d[11])*Ke,a[9]=Nt*b+$t*q+nn*_e+Tn*dt,a[10]=Nt*E+$t*J+nn*Ee+Tn*it,a[11]=Nt*S+$t*re+nn*Ge+Tn*Bt,a[12]=(Nt=d[12])*m+($t=d[13])*B+(nn=d[14])*le+(Tn=d[15])*Ke,a[13]=Nt*b+$t*q+nn*_e+Tn*dt,a[14]=Nt*E+$t*J+nn*Ee+Tn*it,a[15]=Nt*S+$t*re+nn*Ge+Tn*Bt,a}Math.hypot||(Math.hypot=function(){for(var a=arguments,l=0,d=arguments.length;d--;)l+=a[d]*a[d];return Math.sqrt(l)});var th,a,pA=Yo;function Fh(a,l,d){var m=l[0],b=l[1],E=l[2],S=l[3];return a[0]=d[0]*m+d[4]*b+d[8]*E+d[12]*S,a[1]=d[1]*m+d[5]*b+d[9]*E+d[13]*S,a[2]=d[2]*m+d[6]*b+d[10]*E+d[14]*S,a[3]=d[3]*m+d[7]*b+d[11]*E+d[15]*S,a}th=new wr(3),wr!=Float32Array&&(th[0]=0,th[1]=0,th[2]=0),a=new wr(4),wr!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0,a[3]=0);var Q_=(function(){var a=new wr(2);wr!=Float32Array&&(a[0]=0,a[1]=0)}(),function(a){function l(d){a.call(this,d,cs)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.createBucket=function(d){return new _l(d)},l.prototype.queryRadius=function(d){var m=d;return Tc("circle-radius",this,m)+Tc("circle-stroke-width",this,m)+zn(this.paint.get("circle-translate"))},l.prototype.queryIntersectsFeature=function(d,m,b,E,S,B,q,J){for(var re=Bs(d,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),B.angle,q),le=this.paint.get("circle-radius").evaluate(m,b)+this.paint.get("circle-stroke-width").evaluate(m,b),_e="map"===this.paint.get("circle-pitch-alignment"),Ee=_e?re:function(Vn,ti){return Vn.map(function(ji){return Lh(ji,ti)})}(re,J),Ge=_e?le*q:le,Ke=0,dt=E;Ke<dt.length;Ke+=1)for(var it=0,Bt=dt[Ke];it<Bt.length;it+=1){var Nt=Bt[it],$t=_e?Nt:Lh(Nt,J),nn=Ge,Tn=Fh([],[Nt.x,Nt.y,0,1],J);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?nn*=Tn[3]/B.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(nn*=B.cameraToCenterDistance/Tn[3]),cl(Ee,$t,nn))return!0}return!1},l}(Kc));function Lh(a,l){var d=Fh([],[a.x,a.y,0,1],l);return new W(d[0]/d[3],d[1]/d[3])}var Nh=function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l}(_l);function Cp(a,l,d,m){var b=l.width,E=l.height;if(m){if(m instanceof Uint8ClampedArray)m=new Uint8Array(m.buffer);else if(m.length!==b*E*d)throw new RangeError("mismatched image size")}else m=new Uint8Array(b*E*d);return a.width=b,a.height=E,a.data=m,a}function nh(a,l,d){var m=l.width,b=l.height;if(m!==a.width||b!==a.height){var E=Cp({},{width:m,height:b},d);fg(a,E,{x:0,y:0},{x:0,y:0},{width:Math.min(a.width,m),height:Math.min(a.height,b)},d),a.width=m,a.height=b,a.data=E.data}}function fg(a,l,d,m,b,E){if(0===b.width||0===b.height)return l;if(b.width>a.width||b.height>a.height||d.x>a.width-b.width||d.y>a.height-b.height)throw new RangeError("out of range source coordinates for image copy");if(b.width>l.width||b.height>l.height||m.x>l.width-b.width||m.y>l.height-b.height)throw new RangeError("out of range destination coordinates for image copy");for(var S=a.data,B=l.data,q=0;q<b.height;q++)for(var J=((d.y+q)*a.width+d.x)*E,re=((m.y+q)*l.width+m.x)*E,le=0;le<b.width*E;le++)B[re+le]=S[J+le];return l}li("HeatmapBucket",Nh,{omit:["layers"]});var Yu=function(a,l){Cp(this,a,1,l)};Yu.prototype.resize=function(a){nh(this,a,1)},Yu.prototype.clone=function(){return new Yu({width:this.width,height:this.height},new Uint8Array(this.data))},Yu.copy=function(a,l,d,m,b){fg(a,l,d,m,b,1)};var vl=function(a,l){Cp(this,a,4,l)};vl.prototype.resize=function(a){nh(this,a,4)},vl.prototype.replace=function(a,l){l?this.data.set(a):this.data=a instanceof Uint8ClampedArray?new Uint8Array(a.buffer):a},vl.prototype.clone=function(){return new vl({width:this.width,height:this.height},new Uint8Array(this.data))},vl.copy=function(a,l,d,m,b){fg(a,l,d,m,b,4)},li("AlphaImage",Yu),li("RGBAImage",vl);var um={paint:new Ga({"heatmap-radius":new Bn(ge.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Bn(ge.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Vi(ge.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Cc(ge.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Vi(ge.paint_heatmap["heatmap-opacity"])})};function j_(a){var l={},d=a.resolution||256,m=a.clips?a.clips.length:1,b=a.image||new vl({width:d,height:m}),E=function(Ge,Ke,dt){l[a.evaluationKey]=dt;var it=a.expression.evaluate(l);b.data[Ge+Ke+0]=Math.floor(255*it.r/it.a),b.data[Ge+Ke+1]=Math.floor(255*it.g/it.a),b.data[Ge+Ke+2]=Math.floor(255*it.b/it.a),b.data[Ge+Ke+3]=Math.floor(255*it.a)};if(a.clips)for(var S=0,B=0;S<m;++S,B+=4*d)for(var q=0,J=0;q<d;q++,J+=4){var re=q/(d-1),le=a.clips[S];E(B,J,le.start*(1-re)+le.end*re)}else for(var _e=0,Ee=0;_e<d;_e++,Ee+=4)E(0,Ee,_e/(d-1));return b}var dm=function(a){function l(d){a.call(this,d,um),this._updateColorRamp()}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.createBucket=function(d){return new Nh(d)},l.prototype._handleSpecialPaintPropertyUpdate=function(d){"heatmap-color"===d&&this._updateColorRamp()},l.prototype._updateColorRamp=function(){this.colorRamp=j_({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},l.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},l.prototype.queryRadius=function(){return 0},l.prototype.queryIntersectsFeature=function(){return!1},l.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},l}(Kc),jy={paint:new Ga({"hillshade-illumination-direction":new Vi(ge.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Vi(ge.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Vi(ge.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Vi(ge.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Vi(ge.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Vi(ge.paint_hillshade["hillshade-accent-color"])})},z_=function(a){function l(d){a.call(this,d,jy)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},l}(Kc),Ip=ta([{name:"a_pos",components:2,type:"Int16"}],4).members,Ag=Tp,G_=Tp;function Tp(a,l,d){d=d||2;var m,b,E,S,B,q,J,re=l&&l.length,le=re?l[0]*d:a.length,_e=mg(a,0,le,d,!0),Ee=[];if(!_e||_e.next===_e.prev)return Ee;if(re&&(_e=function(Ke,dt,it,Bt){var Nt,$t,nn,Tn=[];for(Nt=0,$t=dt.length;Nt<$t;Nt++)(nn=mg(Ke,dt[Nt]*Bt,Nt<$t-1?dt[Nt+1]*Bt:Ke.length,Bt,!1))===nn.next&&(nn.steiner=!0),Tn.push(K1(nn));for(Tn.sort(zy),Nt=0;Nt<Tn.length;Nt++)Gy(Tn[Nt],it),it=ih(it,it.next);return it}(a,l,_e,d)),a.length>80*d){m=E=a[0],b=S=a[1];for(var Ge=d;Ge<le;Ge+=d)(B=a[Ge])<m&&(m=B),(q=a[Ge+1])<b&&(b=q),B>E&&(E=B),q>S&&(S=q);J=0!==(J=Math.max(E-m,S-b))?1/J:0}return Sp(_e,Ee,d,m,b,J),Ee}function mg(a,l,d,m,b){var E,S;if(b===gg(a,l,d,m)>0)for(E=l;E<d;E+=m)S=W_(E,a[E],a[E+1],S);else for(E=d-m;E>=l;E-=m)S=W_(E,a[E],a[E+1],S);return S&&hm(S,S.next)&&(Am(S),S=S.next),S}function ih(a,l){if(!a)return a;l||(l=a);var d,m=a;do{if(d=!1,m.steiner||!hm(m,m.next)&&0!==Go(m.prev,m,m.next))m=m.next;else{if(Am(m),(m=l=m.prev)===m.next)break;d=!0}}while(d||m!==l);return l}function Sp(a,l,d,m,b,E,S){if(a){!S&&E&&function(re,le,_e,Ee){var Ge=re;do{null===Ge.z&&(Ge.z=q_(Ge.x,Ge.y,le,_e,Ee)),Ge.prevZ=Ge.prev,Ge.nextZ=Ge.next,Ge=Ge.next}while(Ge!==re);Ge.prevZ.nextZ=null,Ge.prevZ=null,function(Ke){var dt,it,Bt,Nt,$t,nn,Tn,Vn,ti=1;do{for(it=Ke,Ke=null,$t=null,nn=0;it;){for(nn++,Bt=it,Tn=0,dt=0;dt<ti&&(Tn++,Bt=Bt.nextZ);dt++);for(Vn=ti;Tn>0||Vn>0&&Bt;)0!==Tn&&(0===Vn||!Bt||it.z<=Bt.z)?(Nt=it,it=it.nextZ,Tn--):(Nt=Bt,Bt=Bt.nextZ,Vn--),$t?$t.nextZ=Nt:Ke=Nt,Nt.prevZ=$t,$t=Nt;it=Bt}$t.nextZ=null,ti*=2}while(nn>1)}(Ge)}(a,m,b,E);for(var B,q,J=a;a.prev!==a.next;)if(B=a.prev,q=a.next,E?kp(a,m,b,E):oc(a))l.push(B.i/d),l.push(a.i/d),l.push(q.i/d),Am(a),a=q.next,J=q.next;else if((a=q)===J){S?1===S?Sp(a=H_(ih(a),l,d),l,d,m,b,E,2):2===S&&q1(a,l,d,m,b,E):Sp(ih(a),l,d,m,b,E,1);break}}}function oc(a){var l=a.prev,d=a,m=a.next;if(Go(l,d,m)>=0)return!1;for(var b=a.next.next;b!==a.prev;){if(fA(l.x,l.y,d.x,d.y,m.x,m.y,b.x,b.y)&&Go(b.prev,b,b.next)>=0)return!1;b=b.next}return!0}function kp(a,l,d,m){var b=a.prev,E=a,S=a.next;if(Go(b,E,S)>=0)return!1;for(var B=b.x>E.x?b.x>S.x?b.x:S.x:E.x>S.x?E.x:S.x,q=b.y>E.y?b.y>S.y?b.y:S.y:E.y>S.y?E.y:S.y,J=q_(b.x<E.x?b.x<S.x?b.x:S.x:E.x<S.x?E.x:S.x,b.y<E.y?b.y<S.y?b.y:S.y:E.y<S.y?E.y:S.y,l,d,m),re=q_(B,q,l,d,m),le=a.prevZ,_e=a.nextZ;le&&le.z>=J&&_e&&_e.z<=re;){if(le!==a.prev&&le!==a.next&&fA(b.x,b.y,E.x,E.y,S.x,S.y,le.x,le.y)&&Go(le.prev,le,le.next)>=0||(le=le.prevZ,_e!==a.prev&&_e!==a.next&&fA(b.x,b.y,E.x,E.y,S.x,S.y,_e.x,_e.y)&&Go(_e.prev,_e,_e.next)>=0))return!1;_e=_e.nextZ}for(;le&&le.z>=J;){if(le!==a.prev&&le!==a.next&&fA(b.x,b.y,E.x,E.y,S.x,S.y,le.x,le.y)&&Go(le.prev,le,le.next)>=0)return!1;le=le.prevZ}for(;_e&&_e.z<=re;){if(_e!==a.prev&&_e!==a.next&&fA(b.x,b.y,E.x,E.y,S.x,S.y,_e.x,_e.y)&&Go(_e.prev,_e,_e.next)>=0)return!1;_e=_e.nextZ}return!0}function H_(a,l,d){var m=a;do{var b=m.prev,E=m.next.next;!hm(b,E)&&pm(b,m,m.next,E)&&fm(b,E)&&fm(E,b)&&(l.push(b.i/d),l.push(m.i/d),l.push(E.i/d),Am(m),Am(m.next),m=a=E),m=m.next}while(m!==a);return ih(m)}function q1(a,l,d,m,b,E){var S=a;do{for(var B=S.next.next;B!==S.prev;){if(S.i!==B.i&&K_(S,B)){var q=Ha(S,B);return S=ih(S,S.next),q=ih(q,q.next),Sp(S,l,d,m,b,E),void Sp(q,l,d,m,b,E)}B=B.next}S=S.next}while(S!==a)}function zy(a,l){return a.x-l.x}function Gy(a,l){if(l=function(m,b){var E,S=b,B=m.x,q=m.y,J=-1/0;do{if(q<=S.y&&q>=S.next.y&&S.next.y!==S.y){var re=S.x+(q-S.y)*(S.next.x-S.x)/(S.next.y-S.y);if(re<=B&&re>J){if(J=re,re===B){if(q===S.y)return S;if(q===S.next.y)return S.next}E=S.x<S.next.x?S:S.next}}S=S.next}while(S!==b);if(!E)return null;if(B===J)return E;var le,_e=E,Ee=E.x,Ge=E.y,Ke=1/0;S=E;do{B>=S.x&&S.x>=Ee&&B!==S.x&&fA(q<Ge?B:J,q,Ee,Ge,q<Ge?J:B,q,S.x,S.y)&&(le=Math.abs(q-S.y)/(B-S.x),fm(S,m)&&(le<Ke||le===Ke&&(S.x>E.x||S.x===E.x&&Uh(E,S)))&&(E=S,Ke=le)),S=S.next}while(S!==_e);return E}(a,l)){var d=Ha(l,a);ih(l,l.next),ih(d,d.next)}}function Uh(a,l){return Go(a.prev,a,l.prev)<0&&Go(l.next,a,a.next)<0}function q_(a,l,d,m,b){return(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a=32767*(a-d)*b)|a<<8))|a<<4))|a<<2))|a<<1))|(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=32767*(l-m)*b)|l<<8))|l<<4))|l<<2))|l<<1))<<1}function K1(a){var l=a,d=a;do{(l.x<d.x||l.x===d.x&&l.y<d.y)&&(d=l),l=l.next}while(l!==a);return d}function fA(a,l,d,m,b,E,S,B){return(b-S)*(l-B)-(a-S)*(E-B)>=0&&(a-S)*(m-B)-(d-S)*(l-B)>=0&&(d-S)*(E-B)-(b-S)*(m-B)>=0}function K_(a,l){return a.next.i!==l.i&&a.prev.i!==l.i&&!function(d,m){var b=d;do{if(b.i!==d.i&&b.next.i!==d.i&&b.i!==m.i&&b.next.i!==m.i&&pm(b,b.next,d,m))return!0;b=b.next}while(b!==d);return!1}(a,l)&&(fm(a,l)&&fm(l,a)&&function(d,m){var b=d,E=!1,S=(d.x+m.x)/2,B=(d.y+m.y)/2;do{b.y>B!=b.next.y>B&&b.next.y!==b.y&&S<(b.next.x-b.x)*(B-b.y)/(b.next.y-b.y)+b.x&&(E=!E),b=b.next}while(b!==d);return E}(a,l)&&(Go(a.prev,a,l.prev)||Go(a,l.prev,l))||hm(a,l)&&Go(a.prev,a,a.next)>0&&Go(l.prev,l,l.next)>0)}function Go(a,l,d){return(l.y-a.y)*(d.x-l.x)-(l.x-a.x)*(d.y-l.y)}function hm(a,l){return a.x===l.x&&a.y===l.y}function pm(a,l,d,m){var b=AA(Go(a,l,d)),E=AA(Go(a,l,m)),S=AA(Go(d,m,a)),B=AA(Go(d,m,l));return b!==E&&S!==B||!(0!==b||!Vh(a,d,l))||!(0!==E||!Vh(a,m,l))||!(0!==S||!Vh(d,a,m))||!(0!==B||!Vh(d,l,m))}function Vh(a,l,d){return l.x<=Math.max(a.x,d.x)&&l.x>=Math.min(a.x,d.x)&&l.y<=Math.max(a.y,d.y)&&l.y>=Math.min(a.y,d.y)}function AA(a){return a>0?1:a<0?-1:0}function fm(a,l){return Go(a.prev,a,a.next)<0?Go(a,l,a.next)>=0&&Go(a,a.prev,l)>=0:Go(a,l,a.prev)<0||Go(a,a.next,l)<0}function Ha(a,l){var d=new _f(a.i,a.x,a.y),m=new _f(l.i,l.x,l.y),b=a.next,E=l.prev;return a.next=l,l.prev=a,d.next=b,b.prev=d,m.next=d,d.prev=m,E.next=m,m.prev=E,m}function W_(a,l,d,m){var b=new _f(a,l,d);return m?(b.next=m.next,b.prev=m,m.next.prev=b,m.next=b):(b.prev=b,b.next=b),b}function Am(a){a.next.prev=a.prev,a.prev.next=a.next,a.prevZ&&(a.prevZ.nextZ=a.nextZ),a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function _f(a,l,d){this.i=a,this.x=l,this.y=d,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function gg(a,l,d,m){for(var b=0,E=l,S=d-m;E<d;E+=m)b+=(a[S]-a[E])*(a[E+1]+a[S+1]),S=E;return b}function W1(a,l,d,m,b){!function E(S,B,q,J,re){for(;J>q;){if(J-q>600){var le=J-q+1,_e=B-q+1,Ee=Math.log(le),Ge=.5*Math.exp(2*Ee/3),Ke=.5*Math.sqrt(Ee*Ge*(le-Ge)/le)*(_e-le/2<0?-1:1);E(S,B,Math.max(q,Math.floor(B-_e*Ge/le+Ke)),Math.min(J,Math.floor(B+(le-_e)*Ge/le+Ke)),re)}var dt=S[B],it=q,Bt=J;for(mm(S,q,B),re(S[J],dt)>0&&mm(S,q,J);it<Bt;){for(mm(S,it,Bt),it++,Bt--;re(S[it],dt)<0;)it++;for(;re(S[Bt],dt)>0;)Bt--}0===re(S[q],dt)?mm(S,q,Bt):mm(S,++Bt,J),Bt<=B&&(q=Bt+1),B<=Bt&&(J=Bt-1)}}(a,l,d||0,m||a.length-1,b||$1)}function mm(a,l,d){var m=a[l];a[l]=a[d],a[d]=m}function $1(a,l){return a<l?-1:a>l?1:0}function $_(a,l){var d=a.length;if(d<=1)return[a];for(var m,b,E=[],S=0;S<d;S++){var B=jt(a[S]);0!==B&&(a[S].area=Math.abs(B),void 0===b&&(b=B<0),b===B<0?(m&&E.push(m),m=[a[S]]):m.push(a[S]))}if(m&&E.push(m),l>1)for(var q=0;q<E.length;q++)E[q].length<=l||(W1(E[q],l,1,E[q].length-1,X1),E[q]=E[q].slice(0,l));return E}function X1(a,l){return l.area-a.area}function vf(a,l,d){for(var m=d.patternDependencies,b=!1,E=0,S=l;E<S.length;E+=1){var B=S[E].paint.get(a+"-pattern");B.isConstant()||(b=!0);var q=B.constantOr(null);q&&(b=!0,m[q.to]=!0,m[q.from]=!0)}return b}function Dp(a,l,d,m,b){for(var E=b.patternDependencies,S=0,B=l;S<B.length;S+=1){var q=B[S],J=q.paint.get(a+"-pattern").value;if("constant"!==J.kind){var re=J.evaluate({zoom:m-1},d,{},b.availableImages),le=J.evaluate({zoom:m},d,{},b.availableImages),_e=J.evaluate({zoom:m+1},d,{},b.availableImages);le=le&&le.name?le.name:le,_e=_e&&_e.name?_e.name:_e,E[re=re&&re.name?re.name:re]=!0,E[le]=!0,E[_e]=!0,d.patterns[q.id]={min:re,mid:le,max:_e}}}return d}Tp.deviation=function(a,l,d,m){var b=l&&l.length,E=Math.abs(gg(a,0,b?l[0]*d:a.length,d));if(b)for(var S=0,B=l.length;S<B;S++)E-=Math.abs(gg(a,l[S]*d,S<B-1?l[S+1]*d:a.length,d));var q=0;for(S=0;S<m.length;S+=3){var J=m[S]*d,re=m[S+1]*d,le=m[S+2]*d;q+=Math.abs((a[J]-a[le])*(a[re+1]-a[J+1])-(a[J]-a[re])*(a[le+1]-a[J+1]))}return 0===E&&0===q?0:Math.abs((q-E)/E)},Tp.flatten=function(a){for(var l=a[0][0].length,d={vertices:[],holes:[],dimensions:l},m=0,b=0;b<a.length;b++){for(var E=0;E<a[b].length;E++)for(var S=0;S<l;S++)d.vertices.push(a[b][E][S]);b>0&&d.holes.push(m+=a[b-1].length)}return d},Ag.default=G_;var Vo=function(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(function(l){return l.id}),this.index=a.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Vs,this.indexArray=new Ll,this.indexArray2=new Wu,this.programConfigurations=new qi(a.layers,a.zoom),this.segments=new Se,this.segments2=new Se,this.stateDependentLayerIds=this.layers.filter(function(l){return l.isStateDependent()}).map(function(l){return l.id})};Vo.prototype.populate=function(a,l,d){this.hasPattern=vf("fill",this.layers,l);for(var m=this.layers[0].layout.get("fill-sort-key"),b=[],E=0,S=a;E<S.length;E+=1){var B=S[E],q=B.feature,J=B.id,re=B.index,le=B.sourceLayerIndex,_e=this.layers[0]._featureFilter.needGeometry,Ee=ws(q,_e);if(this.layers[0]._featureFilter.filter(new Kr(this.zoom),Ee,d)){var Ge=m?m.evaluate(Ee,{},d,l.availableImages):void 0,Ke={id:J,properties:q.properties,type:q.type,sourceLayerIndex:le,index:re,geometry:_e?Ee.geometry:bo(q),patterns:{},sortKey:Ge};b.push(Ke)}}m&&b.sort(function(Vn,ti){return Vn.sortKey-ti.sortKey});for(var dt=0,it=b;dt<it.length;dt+=1){var Bt=it[dt],Nt=Bt.geometry,$t=Bt.index,nn=Bt.sourceLayerIndex;if(this.hasPattern){var Tn=Dp("fill",this.layers,Bt,this.zoom,l);this.patternFeatures.push(Tn)}else this.addFeature(Bt,Nt,$t,d,{});l.featureIndex.insert(a[$t].feature,Nt,$t,nn,this.index)}},Vo.prototype.update=function(a,l,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,l,this.stateDependentLayers,d)},Vo.prototype.addFeatures=function(a,l,d){for(var m=0,b=this.patternFeatures;m<b.length;m+=1){var E=b[m];this.addFeature(E,E.geometry,E.index,l,d)}},Vo.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Vo.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Vo.prototype.upload=function(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,Ip),this.indexBuffer=a.createIndexBuffer(this.indexArray),this.indexBuffer2=a.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(a),this.uploaded=!0},Vo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Vo.prototype.addFeature=function(a,l,d,m,b){for(var E=0,S=$_(l,500);E<S.length;E+=1){for(var B=S[E],q=0,J=0,re=B;J<re.length;J+=1)q+=re[J].length;for(var le=this.segments.prepareSegment(q,this.layoutVertexArray,this.indexArray),_e=le.vertexLength,Ee=[],Ge=[],Ke=0,dt=B;Ke<dt.length;Ke+=1){var it=dt[Ke];if(0!==it.length){it!==B[0]&&Ge.push(Ee.length/2);var Bt=this.segments2.prepareSegment(it.length,this.layoutVertexArray,this.indexArray2),Nt=Bt.vertexLength;this.layoutVertexArray.emplaceBack(it[0].x,it[0].y),this.indexArray2.emplaceBack(Nt+it.length-1,Nt),Ee.push(it[0].x),Ee.push(it[0].y);for(var $t=1;$t<it.length;$t++)this.layoutVertexArray.emplaceBack(it[$t].x,it[$t].y),this.indexArray2.emplaceBack(Nt+$t-1,Nt+$t),Ee.push(it[$t].x),Ee.push(it[$t].y);Bt.vertexLength+=it.length,Bt.primitiveLength+=it.length}}for(var nn=Ag(Ee,Ge),Tn=0;Tn<nn.length;Tn+=3)this.indexArray.emplaceBack(_e+nn[Tn],_e+nn[Tn+1],_e+nn[Tn+2]);le.vertexLength+=q,le.primitiveLength+=nn.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,d,b,m)},li("FillBucket",Vo,{omit:["layers","patternFeatures"]});var ii=new Ga({"fill-sort-key":new Bn(ge.layout_fill["fill-sort-key"])}),xr={paint:new Ga({"fill-antialias":new Vi(ge.paint_fill["fill-antialias"]),"fill-opacity":new Bn(ge.paint_fill["fill-opacity"]),"fill-color":new Bn(ge.paint_fill["fill-color"]),"fill-outline-color":new Bn(ge.paint_fill["fill-outline-color"]),"fill-translate":new Vi(ge.paint_fill["fill-translate"]),"fill-translate-anchor":new Vi(ge.paint_fill["fill-translate-anchor"]),"fill-pattern":new ko(ge.paint_fill["fill-pattern"])}),layout:ii},Ba=function(a){function l(d){a.call(this,d,xr)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.recalculate=function(d,m){a.prototype.recalculate.call(this,d,m);var b=this.paint._values["fill-outline-color"];"constant"===b.value.kind&&void 0===b.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},l.prototype.createBucket=function(d){return new Vo(d)},l.prototype.queryRadius=function(){return zn(this.paint.get("fill-translate"))},l.prototype.queryIntersectsFeature=function(d,m,b,E,S,B,q){return wu(Bs(d,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),B.angle,q),E)},l.prototype.isTileClipped=function(){return!0},l}(Kc),Zu=ta([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,qa=Ka;function Ka(a,l,d,m,b){this.properties={},this.extent=d,this.type=0,this._pbf=a,this._geometry=-1,this._keys=m,this._values=b,a.readFields(gm,this,l)}function gm(a,l,d){1==a?l.id=d.readVarint():2==a?function(m,b){for(var E=m.readVarint()+m.pos;m.pos<E;){var S=b._keys[m.readVarint()],B=b._values[m.readVarint()];b.properties[S]=B}}(d,l):3==a?l.type=d.readVarint():4==a&&(l._geometry=d.pos)}function ps(a){for(var l,d,m=0,b=0,E=a.length,S=E-1;b<E;S=b++)m+=((d=a[S]).x-(l=a[b]).x)*(l.y+d.y);return m}Ka.types=["Unknown","Point","LineString","Polygon"],Ka.prototype.loadGeometry=function(){var a=this._pbf;a.pos=this._geometry;for(var l,d=a.readVarint()+a.pos,m=1,b=0,E=0,S=0,B=[];a.pos<d;){if(b<=0){var q=a.readVarint();m=7&q,b=q>>3}if(b--,1===m||2===m)E+=a.readSVarint(),S+=a.readSVarint(),1===m&&(l&&B.push(l),l=[]),l.push(new W(E,S));else{if(7!==m)throw new Error("unknown command "+m);l&&l.push(l[0].clone())}}return l&&B.push(l),B},Ka.prototype.bbox=function(){var a=this._pbf;a.pos=this._geometry;for(var l=a.readVarint()+a.pos,d=1,m=0,b=0,E=0,S=1/0,B=-1/0,q=1/0,J=-1/0;a.pos<l;){if(m<=0){var re=a.readVarint();d=7&re,m=re>>3}if(m--,1===d||2===d)(b+=a.readSVarint())<S&&(S=b),b>B&&(B=b),(E+=a.readSVarint())<q&&(q=E),E>J&&(J=E);else if(7!==d)throw new Error("unknown command "+d)}return[S,q,B,J]},Ka.prototype.toGeoJSON=function(a,l,d){var m,b,E=this.extent*Math.pow(2,d),S=this.extent*a,B=this.extent*l,q=this.loadGeometry(),J=Ka.types[this.type];function re(Ee){for(var Ge=0;Ge<Ee.length;Ge++){var Ke=Ee[Ge];Ee[Ge]=[360*(Ke.x+S)/E-180,360/Math.PI*Math.atan(Math.exp((180-360*(Ke.y+B)/E)*Math.PI/180))-90]}}switch(this.type){case 1:var le=[];for(m=0;m<q.length;m++)le[m]=q[m][0];re(q=le);break;case 2:for(m=0;m<q.length;m++)re(q[m]);break;case 3:for(q=function(Ee){var Ge=Ee.length;if(Ge<=1)return[Ee];for(var Ke,dt,it=[],Bt=0;Bt<Ge;Bt++){var Nt=ps(Ee[Bt]);0!==Nt&&(void 0===dt&&(dt=Nt<0),dt===Nt<0?(Ke&&it.push(Ke),Ke=[Ee[Bt]]):Ke.push(Ee[Bt]))}return Ke&&it.push(Ke),it}(q),m=0;m<q.length;m++)for(b=0;b<q[m].length;b++)re(q[m][b])}1===q.length?q=q[0]:J="Multi"+J;var _e={type:"Feature",geometry:{type:J,coordinates:q},properties:this.properties};return"id"in this&&(_e.id=this.id),_e};var ba=$c;function $c(a,l){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=a,this._keys=[],this._values=[],this._features=[],a.readFields(Fr,this,l),this.length=this._features.length}function Fr(a,l,d){15===a?l.version=d.readVarint():1===a?l.name=d.readString():5===a?l.extent=d.readVarint():2===a?l._features.push(d.pos):3===a?l._keys.push(d.readString()):4===a&&l._values.push(function(m){for(var b=null,E=m.readVarint()+m.pos;m.pos<E;){var S=m.readVarint()>>3;b=1===S?m.readString():2===S?m.readFloat():3===S?m.readDouble():4===S?m.readVarint64():5===S?m.readVarint():6===S?m.readSVarint():7===S?m.readBoolean():null}return b}(d))}function mA(a,l,d){if(3===a){var m=new ba(d,d.readVarint()+d.pos);m.length&&(l[m.name]=m)}}$c.prototype.feature=function(a){if(a<0||a>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[a];var l=this._pbf.readVarint()+this._pbf.pos;return new qa(this._pbf,l,this.extent,this._keys,this._values)};var yf={VectorTile:function(a,l){this.layers=a.readFields(mA,{},l)},VectorTileFeature:qa,VectorTileLayer:ba},gA=yf.VectorTileFeature.types,Ps=Math.pow(2,13);function Id(a,l,d,m,b,E,S,B){a.emplaceBack(l,d,2*Math.floor(m*Ps)+S,b*Ps*2,E*Ps*2,Math.round(B))}var sc=function(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(function(l){return l.id}),this.index=a.index,this.hasPattern=!1,this.layoutVertexArray=new Fl,this.indexArray=new Ll,this.programConfigurations=new qi(a.layers,a.zoom),this.segments=new Se,this.stateDependentLayerIds=this.layers.filter(function(l){return l.isStateDependent()}).map(function(l){return l.id})};function rh(a,l){return a.x===l.x&&(a.x<0||a.x>8192)||a.y===l.y&&(a.y<0||a.y>8192)}sc.prototype.populate=function(a,l,d){this.features=[],this.hasPattern=vf("fill-extrusion",this.layers,l);for(var m=0,b=a;m<b.length;m+=1){var E=b[m],S=E.feature,B=E.id,q=E.index,J=E.sourceLayerIndex,re=this.layers[0]._featureFilter.needGeometry,le=ws(S,re);if(this.layers[0]._featureFilter.filter(new Kr(this.zoom),le,d)){var _e={id:B,sourceLayerIndex:J,index:q,geometry:re?le.geometry:bo(S),properties:S.properties,type:S.type,patterns:{}};this.hasPattern?this.features.push(Dp("fill-extrusion",this.layers,_e,this.zoom,l)):this.addFeature(_e,_e.geometry,q,d,{}),l.featureIndex.insert(S,_e.geometry,q,J,this.index,!0)}}},sc.prototype.addFeatures=function(a,l,d){for(var m=0,b=this.features;m<b.length;m+=1){var E=b[m];this.addFeature(E,E.geometry,E.index,l,d)}},sc.prototype.update=function(a,l,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,l,this.stateDependentLayers,d)},sc.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},sc.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},sc.prototype.upload=function(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,Zu),this.indexBuffer=a.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(a),this.uploaded=!0},sc.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},sc.prototype.addFeature=function(a,l,d,m,b){for(var E=0,S=$_(l,500);E<S.length;E+=1){for(var B=S[E],q=0,J=0,re=B;J<re.length;J+=1)q+=re[J].length;for(var le=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),_e=0,Ee=B;_e<Ee.length;_e+=1){var Ge=Ee[_e];if(0!==Ge.length&&!((Ur=Ge).every(function(Dr){return Dr.x<0})||Ur.every(function(Dr){return Dr.x>8192})||Ur.every(function(Dr){return Dr.y<0})||Ur.every(function(Dr){return Dr.y>8192})))for(var Ke=0,dt=0;dt<Ge.length;dt++){var it=Ge[dt];if(dt>=1){var Bt=Ge[dt-1];if(!rh(it,Bt)){le.vertexLength+4>Se.MAX_VERTEX_ARRAY_LENGTH&&(le=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Nt=it.sub(Bt)._perp()._unit(),$t=Bt.dist(it);Ke+$t>32768&&(Ke=0),Id(this.layoutVertexArray,it.x,it.y,Nt.x,Nt.y,0,0,Ke),Id(this.layoutVertexArray,it.x,it.y,Nt.x,Nt.y,0,1,Ke),Id(this.layoutVertexArray,Bt.x,Bt.y,Nt.x,Nt.y,0,0,Ke+=$t),Id(this.layoutVertexArray,Bt.x,Bt.y,Nt.x,Nt.y,0,1,Ke);var nn=le.vertexLength;this.indexArray.emplaceBack(nn,nn+2,nn+1),this.indexArray.emplaceBack(nn+1,nn+2,nn+3),le.vertexLength+=4,le.primitiveLength+=2}}}}if(le.vertexLength+q>Se.MAX_VERTEX_ARRAY_LENGTH&&(le=this.segments.prepareSegment(q,this.layoutVertexArray,this.indexArray)),"Polygon"===gA[a.type]){for(var Tn=[],Vn=[],ti=le.vertexLength,ji=0,hi=B;ji<hi.length;ji+=1){var Hi=hi[ji];if(0!==Hi.length){Hi!==B[0]&&Vn.push(Tn.length/2);for(var pi=0;pi<Hi.length;pi++){var yr=Hi[pi];Id(this.layoutVertexArray,yr.x,yr.y,0,0,1,1,0),Tn.push(yr.x),Tn.push(yr.y)}}}for(var rr=Ag(Tn,Vn),xi=0;xi<rr.length;xi+=3)this.indexArray.emplaceBack(ti+rr[xi],ti+rr[xi+2],ti+rr[xi+1]);le.primitiveLength+=rr.length/3,le.vertexLength+=q}}var Ur;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,d,b,m)},li("FillExtrusionBucket",sc,{omit:["layers","features"]});var _A={paint:new Ga({"fill-extrusion-opacity":new Vi(ge["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Bn(ge["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Vi(ge["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Vi(ge["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ko(ge["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Bn(ge["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Bn(ge["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Vi(ge["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Y1=function(a){function l(d){a.call(this,d,_A)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.createBucket=function(d){return new sc(d)},l.prototype.queryRadius=function(){return zn(this.paint.get("fill-extrusion-translate"))},l.prototype.is3D=function(){return!0},l.prototype.queryIntersectsFeature=function(d,m,b,E,S,B,q,J){var re=Bs(d,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),B.angle,q),le=this.paint.get("fill-extrusion-height").evaluate(m,b),_e=this.paint.get("fill-extrusion-base").evaluate(m,b),Ee=function(Ke,dt,it,Bt){for(var Nt=[],$t=0,nn=Ke;$t<nn.length;$t+=1){var Tn=nn[$t],Vn=[Tn.x,Tn.y,0,1];Fh(Vn,Vn,dt),Nt.push(new W(Vn[0]/Vn[3],Vn[1]/Vn[3]))}return Nt}(re,J),Ge=function(Ke,dt,it,Bt){for(var Nt=[],$t=[],nn=Bt[8]*dt,Tn=Bt[9]*dt,Vn=Bt[10]*dt,ti=Bt[11]*dt,ji=Bt[8]*it,hi=Bt[9]*it,Hi=Bt[10]*it,pi=Bt[11]*it,yr=0,rr=Ke;yr<rr.length;yr+=1){for(var xi=[],Ur=[],Dr=0,zr=rr[yr];Dr<zr.length;Dr+=1){var Ji=zr[Dr],xo=Ji.x,fs=Ji.y,js=Bt[0]*xo+Bt[4]*fs+Bt[12],Os=Bt[1]*xo+Bt[5]*fs+Bt[13],As=Bt[2]*xo+Bt[6]*fs+Bt[14],$s=Bt[3]*xo+Bt[7]*fs+Bt[15],la=As+Vn,Fs=$s+ti,cc=js+ji,$a=Os+hi,Ul=As+Hi,ms=$s+pi,Xs=new W((js+nn)/Fs,(Os+Tn)/Fs);Xs.z=la/Fs,xi.push(Xs);var ar=new W(cc/ms,$a/ms);ar.z=Ul/ms,Ur.push(ar)}Nt.push(xi),$t.push(Ur)}return[Nt,$t]}(E,_e,le,J);return function(Ke,dt,it){var Bt=1/0;wu(it,dt)&&(Bt=Td(it,dt[0]));for(var Nt=0;Nt<dt.length;Nt++)for(var $t=dt[Nt],nn=Ke[Nt],Tn=0;Tn<$t.length-1;Tn++){var Vn=$t[Tn],ti=[Vn,$t[Tn+1],nn[Tn+1],nn[Tn],Vn];Jd(it,ti)&&(Bt=Math.min(Bt,Td(it,ti)))}return Bt!==1/0&&Bt}(Ge[0],Ge[1],Ee)},l}(Kc);function Ju(a,l){return a.x*l.x+a.y*l.y}function Td(a,l){if(1===a.length){for(var d,m=0,b=l[m++];!d||b.equals(d);)if(!(d=l[m++]))return 1/0;for(;m<l.length;m++){var E=l[m],S=a[0],B=d.sub(b),q=E.sub(b),J=S.sub(b),re=Ju(B,B),le=Ju(B,q),_e=Ju(q,q),Ee=Ju(J,B),Ge=Ju(J,q),Ke=re*_e-le*le,dt=(_e*Ee-le*Ge)/Ke,it=(re*Ge-le*Ee)/Ke,Bt=b.z*(1-dt-it)+d.z*dt+E.z*it;if(isFinite(Bt))return Bt}return 1/0}for(var Nt=1/0,$t=0,nn=l;$t<nn.length;$t+=1)Nt=Math.min(Nt,nn[$t].z);return Nt}var ed=ta([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,lr=ta([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,_m=yf.VectorTileFeature.types,vm=Math.cos(Math.PI/180*37.5),xu=Math.pow(2,14)/.5,Wa=function(a){var l=this;this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(function(d){return d.id}),this.index=a.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(d){l.gradients[d.id]={}}),this.layoutVertexArray=new Ic,this.layoutVertexArray2=new qu,this.indexArray=new Ll,this.programConfigurations=new qi(a.layers,a.zoom),this.segments=new Se,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(d){return d.isStateDependent()}).map(function(d){return d.id})};Wa.prototype.populate=function(a,l,d){this.hasPattern=vf("line",this.layers,l);for(var m=this.layers[0].layout.get("line-sort-key"),b=[],E=0,S=a;E<S.length;E+=1){var B=S[E],q=B.feature,J=B.id,re=B.index,le=B.sourceLayerIndex,_e=this.layers[0]._featureFilter.needGeometry,Ee=ws(q,_e);if(this.layers[0]._featureFilter.filter(new Kr(this.zoom),Ee,d)){var Ge=m?m.evaluate(Ee,{},d):void 0,Ke={id:J,properties:q.properties,type:q.type,sourceLayerIndex:le,index:re,geometry:_e?Ee.geometry:bo(q),patterns:{},sortKey:Ge};b.push(Ke)}}m&&b.sort(function(Vn,ti){return Vn.sortKey-ti.sortKey});for(var dt=0,it=b;dt<it.length;dt+=1){var Bt=it[dt],Nt=Bt.geometry,$t=Bt.index,nn=Bt.sourceLayerIndex;if(this.hasPattern){var Tn=Dp("line",this.layers,Bt,this.zoom,l);this.patternFeatures.push(Tn)}else this.addFeature(Bt,Nt,$t,d,{});l.featureIndex.insert(a[$t].feature,Nt,$t,nn,this.index)}},Wa.prototype.update=function(a,l,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,l,this.stateDependentLayers,d)},Wa.prototype.addFeatures=function(a,l,d){for(var m=0,b=this.patternFeatures;m<b.length;m+=1){var E=b[m];this.addFeature(E,E.geometry,E.index,l,d)}},Wa.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Wa.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Wa.prototype.upload=function(a){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=a.createVertexBuffer(this.layoutVertexArray2,lr)),this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,ed),this.indexBuffer=a.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(a),this.uploaded=!0},Wa.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Wa.prototype.lineFeatureClips=function(a){if(a.properties&&a.properties.hasOwnProperty("mapbox_clip_start")&&a.properties.hasOwnProperty("mapbox_clip_end"))return{start:+a.properties.mapbox_clip_start,end:+a.properties.mapbox_clip_end}},Wa.prototype.addFeature=function(a,l,d,m,b){var E=this.layers[0].layout,S=E.get("line-join").evaluate(a,{}),B=E.get("line-cap"),q=E.get("line-miter-limit"),J=E.get("line-round-limit");this.lineClips=this.lineFeatureClips(a);for(var re=0,le=l;re<le.length;re+=1)this.addLine(le[re],a,S,B,q,J);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,d,b,m)},Wa.prototype.addLine=function(a,l,d,m,b,E){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var S=0;S<a.length-1;S++)this.totalDistance+=a[S].dist(a[S+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var B="Polygon"===_m[l.type],q=a.length;q>=2&&a[q-1].equals(a[q-2]);)q--;for(var J=0;J<q-1&&a[J].equals(a[J+1]);)J++;if(!(q<(B?3:2))){"bevel"===d&&(b=1.05);var re,le=this.overscaling<=16?122880/(512*this.overscaling):0,_e=this.segments.prepareSegment(10*q,this.layoutVertexArray,this.indexArray),Ee=void 0,Ge=void 0,Ke=void 0,dt=void 0;this.e1=this.e2=-1,B&&(dt=a[J].sub(re=a[q-2])._unit()._perp());for(var it=J;it<q;it++)if(!(Ge=it===q-1?B?a[J+1]:void 0:a[it+1])||!a[it].equals(Ge)){dt&&(Ke=dt),re&&(Ee=re),re=a[it],dt=Ge?Ge.sub(re)._unit()._perp():Ke;var Bt=(Ke=Ke||dt).add(dt);0===Bt.x&&0===Bt.y||Bt._unit();var Nt=Ke.x*dt.x+Ke.y*dt.y,$t=Bt.x*dt.x+Bt.y*dt.y,nn=0!==$t?1/$t:1/0,Tn=2*Math.sqrt(2-2*$t),Vn=$t<vm&&Ee&&Ge,ti=Ke.x*dt.y-Ke.y*dt.x>0;if(Vn&&it>J){var ji=re.dist(Ee);if(ji>2*le){var hi=re.sub(re.sub(Ee)._mult(le/ji)._round());this.updateDistance(Ee,hi),this.addCurrentVertex(hi,Ke,0,0,_e),Ee=hi}}var Hi=Ee&&Ge,pi=Hi?d:B?"butt":m;if(Hi&&"round"===pi&&(nn<E?pi="miter":nn<=2&&(pi="fakeround")),"miter"===pi&&nn>b&&(pi="bevel"),"bevel"===pi&&(nn>2&&(pi="flipbevel"),nn<b&&(pi="miter")),Ee&&this.updateDistance(Ee,re),"miter"===pi)Bt._mult(nn),this.addCurrentVertex(re,Bt,0,0,_e);else if("flipbevel"===pi){if(nn>100)Bt=dt.mult(-1);else{var yr=nn*Ke.add(dt).mag()/Ke.sub(dt).mag();Bt._perp()._mult(yr*(ti?-1:1))}this.addCurrentVertex(re,Bt,0,0,_e),this.addCurrentVertex(re,Bt.mult(-1),0,0,_e)}else if("bevel"===pi||"fakeround"===pi){var rr=-Math.sqrt(nn*nn-1),xi=ti?rr:0,Ur=ti?0:rr;if(Ee&&this.addCurrentVertex(re,Ke,xi,Ur,_e),"fakeround"===pi)for(var Dr=Math.round(180*Tn/Math.PI/20),zr=1;zr<Dr;zr++){var Ji=zr/Dr;if(.5!==Ji){var xo=Ji-.5;Ji+=Ji*xo*(Ji-1)*((1.0904+Nt*(Nt*(3.55645-1.43519*Nt)-3.2452))*xo*xo+(.848013+Nt*(.215638*Nt-1.06021)))}var fs=dt.sub(Ke)._mult(Ji)._add(Ke)._unit()._mult(ti?-1:1);this.addHalfVertex(re,fs.x,fs.y,!1,ti,0,_e)}Ge&&this.addCurrentVertex(re,dt,-xi,-Ur,_e)}else if("butt"===pi)this.addCurrentVertex(re,Bt,0,0,_e);else if("square"===pi){var js=Ee?1:-1;this.addCurrentVertex(re,Bt,js,js,_e)}else"round"===pi&&(Ee&&(this.addCurrentVertex(re,Ke,0,0,_e),this.addCurrentVertex(re,Ke,1,1,_e,!0)),Ge&&(this.addCurrentVertex(re,dt,-1,-1,_e,!0),this.addCurrentVertex(re,dt,0,0,_e)));if(Vn&&it<q-1){var Os=re.dist(Ge);if(Os>2*le){var As=re.add(Ge.sub(re)._mult(le/Os)._round());this.updateDistance(re,As),this.addCurrentVertex(As,dt,0,0,_e),re=As}}}}},Wa.prototype.addCurrentVertex=function(a,l,d,m,b,E){void 0===E&&(E=!1);var S=l.y*m-l.x,B=-l.y-l.x*m;this.addHalfVertex(a,l.x+l.y*d,l.y-l.x*d,E,!1,d,b),this.addHalfVertex(a,S,B,E,!0,-m,b),this.distance>xu/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(a,l,d,m,b,E))},Wa.prototype.addHalfVertex=function(a,l,d,m,b,E,S){var B=.5*(this.lineClips?this.scaledDistance*(xu-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((a.x<<1)+(m?1:0),(a.y<<1)+(b?1:0),Math.round(63*l)+128,Math.round(63*d)+128,1+(0===E?0:E<0?-1:1)|(63&B)<<2,B>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var q=S.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,q),S.primitiveLength++),b?this.e2=q:this.e1=q},Wa.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Wa.prototype.updateDistance=function(a,l){this.distance+=a.dist(l),this.updateScaledDistance()},li("LineBucket",Wa,{omit:["layers","patternFeatures"]});var vA=new Ga({"line-cap":new Vi(ge.layout_line["line-cap"]),"line-join":new Bn(ge.layout_line["line-join"]),"line-miter-limit":new Vi(ge.layout_line["line-miter-limit"]),"line-round-limit":new Vi(ge.layout_line["line-round-limit"]),"line-sort-key":new Bn(ge.layout_line["line-sort-key"])}),Ws={paint:new Ga({"line-opacity":new Bn(ge.paint_line["line-opacity"]),"line-color":new Bn(ge.paint_line["line-color"]),"line-translate":new Vi(ge.paint_line["line-translate"]),"line-translate-anchor":new Vi(ge.paint_line["line-translate-anchor"]),"line-width":new Bn(ge.paint_line["line-width"]),"line-gap-width":new Bn(ge.paint_line["line-gap-width"]),"line-offset":new Bn(ge.paint_line["line-offset"]),"line-blur":new Bn(ge.paint_line["line-blur"]),"line-dasharray":new al(ge.paint_line["line-dasharray"]),"line-pattern":new ko(ge.paint_line["line-pattern"]),"line-gradient":new Cc(ge.paint_line["line-gradient"])}),layout:vA},ym=new(function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.possiblyEvaluate=function(d,m){return m=new Kr(Math.floor(m.zoom),{now:m.now,fadeDuration:m.fadeDuration,zoomHistory:m.zoomHistory,transition:m.transition}),a.prototype.possiblyEvaluate.call(this,d,m)},l.prototype.evaluate=function(d,m,b,E){return m=we({},m,{zoom:Math.floor(m.zoom)}),a.prototype.evaluate.call(this,d,m,b,E)},l}(Bn))(Ws.paint.properties["line-width"].specification);ym.useIntegerZoom=!0;var yl=function(a){function l(d){a.call(this,d,Ws),this.gradientVersion=0}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype._handleSpecialPaintPropertyUpdate=function(d){"line-gradient"===d&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof rl,this.gradientVersion=(this.gradientVersion+1)%ne)},l.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},l.prototype.recalculate=function(d,m){a.prototype.recalculate.call(this,d,m),this.paint._values["line-floorwidth"]=ym.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,d)},l.prototype.createBucket=function(d){return new Wa(d)},l.prototype.queryRadius=function(d){var m=d,b=ul(Tc("line-width",this,m),Tc("line-gap-width",this,m)),E=Tc("line-offset",this,m);return b/2+Math.abs(E)+zn(this.paint.get("line-translate"))},l.prototype.queryIntersectsFeature=function(d,m,b,E,S,B,q){var J=Bs(d,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),B.angle,q),re=q/2*ul(this.paint.get("line-width").evaluate(m,b),this.paint.get("line-gap-width").evaluate(m,b)),le=this.paint.get("line-offset").evaluate(m,b);return le&&(E=function(_e,Ee){for(var Ge=[],Ke=new W(0,0),dt=0;dt<_e.length;dt++){for(var it=_e[dt],Bt=[],Nt=0;Nt<it.length;Nt++){var $t=it[Nt],nn=it[Nt+1],Tn=0===Nt?Ke:$t.sub(it[Nt-1])._unit()._perp(),Vn=Nt===it.length-1?Ke:nn.sub($t)._unit()._perp(),ti=Tn._add(Vn)._unit();ti._mult(1/(ti.x*Vn.x+ti.y*Vn.y)),Bt.push(ti._mult(Ee)._add($t))}Ge.push(Bt)}return Ge}(E,le*q)),function(_e,Ee,Ge){for(var Ke=0;Ke<Ee.length;Ke++){var dt=Ee[Ke];if(_e.length>=3)for(var it=0;it<dt.length;it++)if(Xu(_e,dt[it]))return!0;if(Nl(_e,dt,Ge))return!0}return!1}(J,E,re)},l.prototype.isTileClipped=function(){return!0},l}(Kc);function ul(a,l){return l>0?l+2*a:a}var X_=ta([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),bf=ta([{name:"a_projected_pos",components:3,type:"Float32"}],4),_g=(ta([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),ta([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),td=(ta([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),ta([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),bm=ta([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Hy(a,l,d){return a.sections.forEach(function(m){var b,S,B;m.text=(b=m.text,S=d,"uppercase"===(B=l.layout.get("text-transform").evaluate(S,{}))?b=b.toLocaleUpperCase():"lowercase"===B&&(b=b.toLocaleLowerCase()),bu.applyArabicShaping&&(b=bu.applyArabicShaping(b)),b)}),a}ta([{name:"triangle",components:3,type:"Uint16"}]),ta([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),ta([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),ta([{type:"Float32",name:"offsetX"}]),ta([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var wf={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},vg=function(a,l,d,m,b){var E,S,B=8*b-m-1,q=(1<<B)-1,J=q>>1,re=-7,le=d?b-1:0,_e=d?-1:1,Ee=a[l+le];for(le+=_e,E=Ee&(1<<-re)-1,Ee>>=-re,re+=B;re>0;E=256*E+a[l+le],le+=_e,re-=8);for(S=E&(1<<-re)-1,E>>=-re,re+=m;re>0;S=256*S+a[l+le],le+=_e,re-=8);if(0===E)E=1-J;else{if(E===q)return S?NaN:1/0*(Ee?-1:1);S+=Math.pow(2,m),E-=J}return(Ee?-1:1)*S*Math.pow(2,E-m)},Y_=function(a,l,d,m,b,E){var S,B,q,J=8*E-b-1,re=(1<<J)-1,le=re>>1,_e=23===b?Math.pow(2,-24)-Math.pow(2,-77):0,Ee=m?0:E-1,Ge=m?1:-1,Ke=l<0||0===l&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(B=isNaN(l)?1:0,S=re):(S=Math.floor(Math.log(l)/Math.LN2),l*(q=Math.pow(2,-S))<1&&(S--,q*=2),(l+=S+le>=1?_e/q:_e*Math.pow(2,1-le))*q>=2&&(S++,q/=2),S+le>=re?(B=0,S=re):S+le>=1?(B=(l*q-1)*Math.pow(2,b),S+=le):(B=l*Math.pow(2,le-1)*Math.pow(2,b),S=0));b>=8;a[d+Ee]=255&B,Ee+=Ge,B/=256,b-=8);for(S=S<<b|B,J+=b;J>0;a[d+Ee]=255&S,Ee+=Ge,S/=256,J-=8);a[d+Ee-Ge]|=128*Ke},yA=Bo;function Bo(a){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(a)?a:new Uint8Array(a||0),this.pos=0,this.type=0,this.length=this.buf.length}Bo.Varint=0,Bo.Fixed64=1,Bo.Bytes=2,Bo.Fixed32=5;var Z1=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Rp(a){return a.type===Bo.Bytes?a.readVarint()+a.pos:a.pos+1}function J1(a,l,d){var m=l<=16383?1:l<=2097151?2:l<=268435455?3:Math.floor(Math.log(l)/(7*Math.LN2));d.realloc(m);for(var b=d.pos-1;b>=a;b--)d.buf[b+m]=d.buf[b]}function KC(a,l){for(var d=0;d<a.length;d++)l.writeVarint(a[d])}function WC(a,l){for(var d=0;d<a.length;d++)l.writeSVarint(a[d])}function ew(a,l){for(var d=0;d<a.length;d++)l.writeFloat(a[d])}function $C(a,l){for(var d=0;d<a.length;d++)l.writeDouble(a[d])}function XC(a,l){for(var d=0;d<a.length;d++)l.writeBoolean(a[d])}function YC(a,l){for(var d=0;d<a.length;d++)l.writeFixed32(a[d])}function ZC(a,l){for(var d=0;d<a.length;d++)l.writeSFixed32(a[d])}function yg(a,l){for(var d=0;d<a.length;d++)l.writeFixed64(a[d])}function qy(a,l){for(var d=0;d<a.length;d++)l.writeSFixed64(a[d])}function bA(a,l){return(a[l]|a[l+1]<<8|a[l+2]<<16)+16777216*a[l+3]}function wm(a,l,d){a[d]=l,a[d+1]=l>>>8,a[d+2]=l>>>16,a[d+3]=l>>>24}function tw(a,l){return(a[l]|a[l+1]<<8|a[l+2]<<16)+(a[l+3]<<24)}function JC(a,l,d){1===a&&d.readMessage(eI,l)}function eI(a,l,d){if(3===a){var m=d.readMessage(Ky,{}),b=m.width,E=m.height,S=m.left,B=m.top,q=m.advance;l.push({id:m.id,bitmap:new Yu({width:b+6,height:E+6},m.bitmap),metrics:{width:b,height:E,left:S,top:B,advance:q}})}}function Ky(a,l,d){1===a?l.id=d.readVarint():2===a?l.bitmap=d.readBytes():3===a?l.width=d.readVarint():4===a?l.height=d.readVarint():5===a?l.left=d.readSVarint():6===a?l.top=d.readSVarint():7===a&&(l.advance=d.readVarint())}function xm(a){for(var l=0,d=0,m=0,b=a;m<b.length;m+=1){var E=b[m];l+=E.w*E.h,d=Math.max(d,E.w)}a.sort(function(Ke,dt){return dt.h-Ke.h});for(var S=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(l/.95)),d),h:1/0}],B=0,q=0,J=0,re=a;J<re.length;J+=1)for(var le=re[J],_e=S.length-1;_e>=0;_e--){var Ee=S[_e];if(!(le.w>Ee.w||le.h>Ee.h)){if(le.x=Ee.x,le.y=Ee.y,q=Math.max(q,le.y+le.h),B=Math.max(B,le.x+le.w),le.w===Ee.w&&le.h===Ee.h){var Ge=S.pop();_e<S.length&&(S[_e]=Ge)}else le.h===Ee.h?(Ee.x+=le.w,Ee.w-=le.w):le.w===Ee.w?(Ee.y+=le.h,Ee.h-=le.h):(S.push({x:Ee.x+le.w,y:Ee.y,w:Ee.w-le.w,h:le.h}),Ee.y+=le.h,Ee.h-=le.h);break}}return{w:B,h:q,fill:l/(B*q)||0}}Bo.prototype={destroy:function(){this.buf=null},readFields:function(a,l,d){for(d=d||this.length;this.pos<d;){var m=this.readVarint(),b=m>>3,E=this.pos;this.type=7&m,a(b,l,this),this.pos===E&&this.skip(m)}return l},readMessage:function(a,l){return this.readFields(a,l,this.readVarint()+this.pos)},readFixed32:function(){var a=bA(this.buf,this.pos);return this.pos+=4,a},readSFixed32:function(){var a=tw(this.buf,this.pos);return this.pos+=4,a},readFixed64:function(){var a=bA(this.buf,this.pos)+4294967296*bA(this.buf,this.pos+4);return this.pos+=8,a},readSFixed64:function(){var a=bA(this.buf,this.pos)+4294967296*tw(this.buf,this.pos+4);return this.pos+=8,a},readFloat:function(){var a=vg(this.buf,this.pos,!0,23,4);return this.pos+=4,a},readDouble:function(){var a=vg(this.buf,this.pos,!0,52,8);return this.pos+=8,a},readVarint:function(a){var l,d,m=this.buf;return l=127&(d=m[this.pos++]),d<128?l:(l|=(127&(d=m[this.pos++]))<<7,d<128?l:(l|=(127&(d=m[this.pos++]))<<14,d<128?l:(l|=(127&(d=m[this.pos++]))<<21,d<128?l:function(b,E,S){var B,q,J=S.buf;if(B=(112&(q=J[S.pos++]))>>4,q<128||(B|=(127&(q=J[S.pos++]))<<3,q<128)||(B|=(127&(q=J[S.pos++]))<<10,q<128)||(B|=(127&(q=J[S.pos++]))<<17,q<128)||(B|=(127&(q=J[S.pos++]))<<24,q<128)||(B|=(1&(q=J[S.pos++]))<<31,q<128))return function Mp(a,l,d){return d?4294967296*l+(a>>>0):4294967296*(l>>>0)+(a>>>0)}(b,B,E);throw new Error("Expected varint not more than 10 bytes")}(l|=(15&(d=m[this.pos]))<<28,a,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var a=this.readVarint();return a%2==1?(a+1)/-2:a/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var a=this.readVarint()+this.pos,l=this.pos;return this.pos=a,a-l>=12&&Z1?Z1.decode(this.buf.subarray(l,a)):function(d,m,b){for(var E="",S=m;S<b;){var B,q,J,re=d[S],le=null,_e=re>239?4:re>223?3:re>191?2:1;if(S+_e>b)break;1===_e?re<128&&(le=re):2===_e?128==(192&(B=d[S+1]))&&(le=(31&re)<<6|63&B)<=127&&(le=null):3===_e?(q=d[S+2],128==(192&(B=d[S+1]))&&128==(192&q)&&((le=(15&re)<<12|(63&B)<<6|63&q)<=2047||le>=55296&&le<=57343)&&(le=null)):4===_e&&(q=d[S+2],J=d[S+3],128==(192&(B=d[S+1]))&&128==(192&q)&&128==(192&J)&&((le=(15&re)<<18|(63&B)<<12|(63&q)<<6|63&J)<=65535||le>=1114112)&&(le=null)),null===le?(le=65533,_e=1):le>65535&&(le-=65536,E+=String.fromCharCode(le>>>10&1023|55296),le=56320|1023&le),E+=String.fromCharCode(le),S+=_e}return E}(this.buf,l,a)},readBytes:function(){var a=this.readVarint()+this.pos,l=this.buf.subarray(this.pos,a);return this.pos=a,l},readPackedVarint:function(a,l){if(this.type!==Bo.Bytes)return a.push(this.readVarint(l));var d=Rp(this);for(a=a||[];this.pos<d;)a.push(this.readVarint(l));return a},readPackedSVarint:function(a){if(this.type!==Bo.Bytes)return a.push(this.readSVarint());var l=Rp(this);for(a=a||[];this.pos<l;)a.push(this.readSVarint());return a},readPackedBoolean:function(a){if(this.type!==Bo.Bytes)return a.push(this.readBoolean());var l=Rp(this);for(a=a||[];this.pos<l;)a.push(this.readBoolean());return a},readPackedFloat:function(a){if(this.type!==Bo.Bytes)return a.push(this.readFloat());var l=Rp(this);for(a=a||[];this.pos<l;)a.push(this.readFloat());return a},readPackedDouble:function(a){if(this.type!==Bo.Bytes)return a.push(this.readDouble());var l=Rp(this);for(a=a||[];this.pos<l;)a.push(this.readDouble());return a},readPackedFixed32:function(a){if(this.type!==Bo.Bytes)return a.push(this.readFixed32());var l=Rp(this);for(a=a||[];this.pos<l;)a.push(this.readFixed32());return a},readPackedSFixed32:function(a){if(this.type!==Bo.Bytes)return a.push(this.readSFixed32());var l=Rp(this);for(a=a||[];this.pos<l;)a.push(this.readSFixed32());return a},readPackedFixed64:function(a){if(this.type!==Bo.Bytes)return a.push(this.readFixed64());var l=Rp(this);for(a=a||[];this.pos<l;)a.push(this.readFixed64());return a},readPackedSFixed64:function(a){if(this.type!==Bo.Bytes)return a.push(this.readSFixed64());var l=Rp(this);for(a=a||[];this.pos<l;)a.push(this.readSFixed64());return a},skip:function(a){var l=7&a;if(l===Bo.Varint)for(;this.buf[this.pos++]>127;);else if(l===Bo.Bytes)this.pos=this.readVarint()+this.pos;else if(l===Bo.Fixed32)this.pos+=4;else{if(l!==Bo.Fixed64)throw new Error("Unimplemented type: "+l);this.pos+=8}},writeTag:function(a,l){this.writeVarint(a<<3|l)},realloc:function(a){for(var l=this.length||16;l<this.pos+a;)l*=2;if(l!==this.length){var d=new Uint8Array(l);d.set(this.buf),this.buf=d,this.length=l}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(a){this.realloc(4),wm(this.buf,a,this.pos),this.pos+=4},writeSFixed32:function(a){this.realloc(4),wm(this.buf,a,this.pos),this.pos+=4},writeFixed64:function(a){this.realloc(8),wm(this.buf,-1&a,this.pos),wm(this.buf,Math.floor(2.3283064365386963e-10*a),this.pos+4),this.pos+=8},writeSFixed64:function(a){this.realloc(8),wm(this.buf,-1&a,this.pos),wm(this.buf,Math.floor(2.3283064365386963e-10*a),this.pos+4),this.pos+=8},writeVarint:function(a){(a=+a||0)>268435455||a<0?function(l,d){var m,b,E,B;if(l>=0?(m=l%4294967296|0,b=l/4294967296|0):(b=~(-l/4294967296),4294967295^(m=~(-l%4294967296))?m=m+1|0:(m=0,b=b+1|0)),l>=0x10000000000000000||l<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");d.realloc(10),E=m,(B=d).buf[B.pos++]=127&E|128,E>>>=7,B.buf[B.pos++]=127&E|128,E>>>=7,B.buf[B.pos++]=127&E|128,E>>>=7,B.buf[B.pos++]=127&E|128,B.buf[B.pos]=127&(E>>>=7),function(E,S){var B=(7&E)<<4;S.buf[S.pos++]|=B|((E>>>=3)?128:0),E&&(S.buf[S.pos++]=127&E|((E>>>=7)?128:0),E&&(S.buf[S.pos++]=127&E|((E>>>=7)?128:0),E&&(S.buf[S.pos++]=127&E|((E>>>=7)?128:0),E&&(S.buf[S.pos++]=127&E|((E>>>=7)?128:0),E&&(S.buf[S.pos++]=127&E)))))}(b,d)}(a,this):(this.realloc(4),this.buf[this.pos++]=127&a|(a>127?128:0),a<=127||(this.buf[this.pos++]=127&(a>>>=7)|(a>127?128:0),a<=127||(this.buf[this.pos++]=127&(a>>>=7)|(a>127?128:0),a<=127||(this.buf[this.pos++]=a>>>7&127))))},writeSVarint:function(a){this.writeVarint(a<0?2*-a-1:2*a)},writeBoolean:function(a){this.writeVarint(!!a)},writeString:function(a){a=String(a),this.realloc(4*a.length),this.pos++;var l=this.pos;this.pos=function(m,b,E){for(var S,B,q=0;q<b.length;q++){if((S=b.charCodeAt(q))>55295&&S<57344){if(!B){S>56319||q+1===b.length?(m[E++]=239,m[E++]=191,m[E++]=189):B=S;continue}if(S<56320){m[E++]=239,m[E++]=191,m[E++]=189,B=S;continue}S=B-55296<<10|S-56320|65536,B=null}else B&&(m[E++]=239,m[E++]=191,m[E++]=189,B=null);S<128?m[E++]=S:(S<2048?m[E++]=S>>6|192:(S<65536?m[E++]=S>>12|224:(m[E++]=S>>18|240,m[E++]=S>>12&63|128),m[E++]=S>>6&63|128),m[E++]=63&S|128)}return E}(this.buf,a,this.pos);var d=this.pos-l;d>=128&&J1(l,d,this),this.pos=l-1,this.writeVarint(d),this.pos+=d},writeFloat:function(a){this.realloc(4),Y_(this.buf,a,this.pos,!0,23,4),this.pos+=4},writeDouble:function(a){this.realloc(8),Y_(this.buf,a,this.pos,!0,52,8),this.pos+=8},writeBytes:function(a){var l=a.length;this.writeVarint(l),this.realloc(l);for(var d=0;d<l;d++)this.buf[this.pos++]=a[d]},writeRawMessage:function(a,l){this.pos++;var d=this.pos;a(l,this);var m=this.pos-d;m>=128&&J1(d,m,this),this.pos=d-1,this.writeVarint(m),this.pos+=m},writeMessage:function(a,l,d){this.writeTag(a,Bo.Bytes),this.writeRawMessage(l,d)},writePackedVarint:function(a,l){l.length&&this.writeMessage(a,KC,l)},writePackedSVarint:function(a,l){l.length&&this.writeMessage(a,WC,l)},writePackedBoolean:function(a,l){l.length&&this.writeMessage(a,XC,l)},writePackedFloat:function(a,l){l.length&&this.writeMessage(a,ew,l)},writePackedDouble:function(a,l){l.length&&this.writeMessage(a,$C,l)},writePackedFixed32:function(a,l){l.length&&this.writeMessage(a,YC,l)},writePackedSFixed32:function(a,l){l.length&&this.writeMessage(a,ZC,l)},writePackedFixed64:function(a,l){l.length&&this.writeMessage(a,yg,l)},writePackedSFixed64:function(a,l){l.length&&this.writeMessage(a,qy,l)},writeBytesField:function(a,l){this.writeTag(a,Bo.Bytes),this.writeBytes(l)},writeFixed32Field:function(a,l){this.writeTag(a,Bo.Fixed32),this.writeFixed32(l)},writeSFixed32Field:function(a,l){this.writeTag(a,Bo.Fixed32),this.writeSFixed32(l)},writeFixed64Field:function(a,l){this.writeTag(a,Bo.Fixed64),this.writeFixed64(l)},writeSFixed64Field:function(a,l){this.writeTag(a,Bo.Fixed64),this.writeSFixed64(l)},writeVarintField:function(a,l){this.writeTag(a,Bo.Varint),this.writeVarint(l)},writeSVarintField:function(a,l){this.writeTag(a,Bo.Varint),this.writeSVarint(l)},writeStringField:function(a,l){this.writeTag(a,Bo.Bytes),this.writeString(l)},writeFloatField:function(a,l){this.writeTag(a,Bo.Fixed32),this.writeFloat(l)},writeDoubleField:function(a,l){this.writeTag(a,Bo.Fixed64),this.writeDouble(l)},writeBooleanField:function(a,l){this.writeVarintField(a,!!l)}};var Qs=function(a,l){var d=l.pixelRatio,m=l.version,b=l.stretchX,E=l.stretchY,S=l.content;this.paddedRect=a,this.pixelRatio=d,this.stretchX=b,this.stretchY=E,this.content=S,this.version=m},xf={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};xf.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},xf.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},xf.tlbr.get=function(){return this.tl.concat(this.br)},xf.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(Qs.prototype,xf);var Em=function(a,l){var d={},m={};this.haveRenderCallbacks=[];var b=[];this.addImages(a,d,b),this.addImages(l,m,b);var E=xm(b),S=new vl({width:E.w||1,height:E.h||1});for(var B in a){var q=a[B],J=d[B].paddedRect;vl.copy(q.data,S,{x:0,y:0},{x:J.x+1,y:J.y+1},q.data)}for(var re in l){var le=l[re],_e=m[re].paddedRect,Ee=_e.x+1,Ge=_e.y+1,Ke=le.data.width,dt=le.data.height;vl.copy(le.data,S,{x:0,y:0},{x:Ee,y:Ge},le.data),vl.copy(le.data,S,{x:0,y:dt-1},{x:Ee,y:Ge-1},{width:Ke,height:1}),vl.copy(le.data,S,{x:0,y:0},{x:Ee,y:Ge+dt},{width:Ke,height:1}),vl.copy(le.data,S,{x:Ke-1,y:0},{x:Ee-1,y:Ge},{width:1,height:dt}),vl.copy(le.data,S,{x:0,y:0},{x:Ee+Ke,y:Ge},{width:1,height:dt})}this.image=S,this.iconPositions=d,this.patternPositions=m};Em.prototype.addImages=function(a,l,d){for(var m in a){var b=a[m],E={x:0,y:0,w:b.data.width+2,h:b.data.height+2};d.push(E),l[m]=new Qs(E,b),b.hasRenderCallback&&this.haveRenderCallbacks.push(m)}},Em.prototype.patchUpdatedImages=function(a,l){for(var d in a.dispatchRenderCallbacks(this.haveRenderCallbacks),a.updatedImages)this.patchUpdatedImage(this.iconPositions[d],a.getImage(d),l),this.patchUpdatedImage(this.patternPositions[d],a.getImage(d),l)},Em.prototype.patchUpdatedImage=function(a,l,d){if(a&&l&&a.version!==l.version){a.version=l.version;var m=a.tl;d.update(l.data,void 0,{x:m[0],y:m[1]})}},li("ImagePosition",Qs),li("ImageAtlas",Em);var ac={horizontal:1,vertical:2,horizontalOnly:3},Ef=function(){this.scale=1,this.fontStack="",this.imageName=null};Ef.forText=function(a,l){var d=new Ef;return d.scale=a||1,d.fontStack=l,d},Ef.forImage=function(a){var l=new Ef;return l.imageName=a,l};var ns=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function Bp(a,l,d,m,b,E,S,B,q,J,re,le,_e,Ee,Ge,Ke){var dt,it=ns.fromFeature(a,b);le===ac.vertical&&it.verticalizePunctuation();var Bt=bu.processBidirectionalText,Nt=bu.processStyledBidirectionalText;if(Bt&&1===it.sections.length){dt=[];for(var $t=0,nn=Bt(it.toString(),Im(it,J,E,l,m,Ee,Ge));$t<nn.length;$t+=1){var Tn=nn[$t],Vn=new ns;Vn.text=Tn,Vn.sections=it.sections;for(var ti=0;ti<Tn.length;ti++)Vn.sectionIndex.push(0);dt.push(Vn)}}else if(Nt){dt=[];for(var ji=0,hi=Nt(it.text,it.sectionIndex,Im(it,J,E,l,m,Ee,Ge));ji<hi.length;ji+=1){var Hi=hi[ji],pi=new ns;pi.text=Hi[0],pi.sectionIndex=Hi[1],pi.sections=it.sections,dt.push(pi)}}else dt=function(xi,Ur){for(var Dr=[],zr=xi.text,Ji=0,xo=0,fs=Ur;xo<fs.length;xo+=1){var js=fs[xo];Dr.push(xi.substring(Ji,js)),Ji=js}return Ji<zr.length&&Dr.push(xi.substring(Ji,zr.length)),Dr}(it,Im(it,J,E,l,m,Ee,Ge));var yr=[],rr={positionedLines:yr,text:it.toString(),top:re[1],bottom:re[1],left:re[0],right:re[0],writingMode:le,iconsInText:!1,verticalizable:!1};return function(xi,Ur,Dr,zr,Ji,xo,fs,js,Os,As,$s,la){for(var Fs=0,cc=-17,$a=0,Ul=0,ms="right"===js?1:"left"===js?0:.5,Xs=0,ar=0,is=Ji;ar<is.length;ar+=1){var Fi=is[ar];Fi.trim();var io=Fi.getMaxScale(),Mc=24*(io-1),bl={positionedGlyphs:[],lineOffset:0};xi.positionedLines[Xs]=bl;var _o=bl.positionedGlyphs,xa=0;if(Fi.length()){for(var wl=0;wl<Fi.length();wl++){var uo=Fi.getSection(wl),Dd=Fi.getSectionIndex(wl),Iu=Fi.getCharCode(wl),Fp=0,ca=null,Lp=null,Rd=null,Tg=24,IA=!(Os===ac.horizontal||!$s&&!Rh(Iu)||$s&&(Cf[Iu]||(TA=Iu,Yn.Arabic(TA)||Yn["Arabic Supplement"](TA)||Yn["Arabic Extended-A"](TA)||Yn["Arabic Presentation Forms-A"](TA)||Yn["Arabic Presentation Forms-B"](TA))));if(uo.imageName){var Sg=zr[uo.imageName];if(!Sg)continue;Rd=uo.imageName,xi.iconsInText=xi.iconsInText||!0,Lp=Sg.paddedRect;var kf=Sg.displaySize;uo.scale=24*uo.scale/la,Fp=Mc+(24-kf[1]*uo.scale),Tg=(ca={width:kf[0],height:kf[1],left:1,top:-3,advance:IA?kf[1]:kf[0]}).advance;var tv=IA?kf[0]*uo.scale-24*io:kf[1]*uo.scale-24*io;tv>0&&tv>xa&&(xa=tv)}else{var nv=Dr[uo.fontStack],km=nv&&nv[Iu];if(km&&km.rect)Lp=km.rect,ca=km.metrics;else{var ho=Ur[uo.fontStack],sw=ho&&ho[Iu];if(!sw)continue;ca=sw.metrics}Fp=24*(io-uo.scale)}IA?(xi.verticalizable=!0,_o.push({glyph:Iu,imageName:Rd,x:Fs,y:cc+Fp,vertical:IA,scale:uo.scale,fontStack:uo.fontStack,sectionIndex:Dd,metrics:ca,rect:Lp}),Fs+=Tg*uo.scale+As):(_o.push({glyph:Iu,imageName:Rd,x:Fs,y:cc+Fp,vertical:IA,scale:uo.scale,fontStack:uo.fontStack,sectionIndex:Dd,metrics:ca,rect:Lp}),Fs+=ca.advance*uo.scale+As)}0!==_o.length&&($a=Math.max(Fs-As,$a),lc(_o,0,_o.length-1,ms,xa)),Fs=0;var n0=xo*io+xa;bl.lineOffset=Math.max(xa,Mc),cc+=n0,Ul=Math.max(n0,Ul),++Xs}else cc+=xo,++Xs}var TA,kg=cc- -17,iv=Xc(fs),Np=iv.horizontalAlign,Up=iv.verticalAlign;(function(r0,o0,Md,s0,a0,ni,SA,Dg,rv){var ov,Ri=(o0-Md)*a0;ov=ni!==SA?-Dg*s0- -17:(-s0*rv+.5)*SA;for(var Rg=0,Dm=r0;Rg<Dm.length;Rg+=1)for(var Rm=0,sv=Dm[Rg].positionedGlyphs;Rm<sv.length;Rm+=1){var kA=sv[Rm];kA.x+=Ri,kA.y+=ov}})(xi.positionedLines,ms,Np,Up,$a,Ul,xo,kg,Ji.length),xi.top+=-Up*kg,xi.bottom=xi.top+kg,xi.left+=-Np*$a,xi.right=xi.left+$a}(rr,l,d,m,dt,S,B,q,le,J,_e,Ke),!function(xi){for(var Ur=0,Dr=xi;Ur<Dr.length;Ur+=1)if(0!==Dr[Ur].positionedGlyphs.length)return!1;return!0}(yr)&&rr}ns.fromFeature=function(a,l){for(var d=new ns,m=0;m<a.sections.length;m++){var b=a.sections[m];b.image?d.addImageSection(b):d.addTextSection(b,l)}return d},ns.prototype.length=function(){return this.text.length},ns.prototype.getSection=function(a){return this.sections[this.sectionIndex[a]]},ns.prototype.getSectionIndex=function(a){return this.sectionIndex[a]},ns.prototype.getCharCode=function(a){return this.text.charCodeAt(a)},ns.prototype.verticalizePunctuation=function(){this.text=function(a){for(var l="",d=0;d<a.length;d++){var m=a.charCodeAt(d+1)||null,b=a.charCodeAt(d-1)||null;l+=m&&wp(m)&&!wf[a[d+1]]||b&&wp(b)&&!wf[a[d-1]]||!wf[a[d]]?a[d]:wf[a[d]]}return l}(this.text)},ns.prototype.trim=function(){for(var a=0,l=0;l<this.text.length&&Cf[this.text.charCodeAt(l)];l++)a++;for(var d=this.text.length,m=this.text.length-1;m>=0&&m>=a&&Cf[this.text.charCodeAt(m)];m--)d--;this.text=this.text.substring(a,d),this.sectionIndex=this.sectionIndex.slice(a,d)},ns.prototype.substring=function(a,l){var d=new ns;return d.text=this.text.substring(a,l),d.sectionIndex=this.sectionIndex.slice(a,l),d.sections=this.sections,d},ns.prototype.toString=function(){return this.text},ns.prototype.getMaxScale=function(){var a=this;return this.sectionIndex.reduce(function(l,d){return Math.max(l,a.sections[d].scale)},0)},ns.prototype.addTextSection=function(a,l){this.text+=a.text,this.sections.push(Ef.forText(a.scale,a.fontStack||l));for(var d=this.sections.length-1,m=0;m<a.text.length;++m)this.sectionIndex.push(d)},ns.prototype.addImageSection=function(a){var l=a.image?a.image.name:"";if(0!==l.length){var d=this.getNextImageSectionCharCode();d?(this.text+=String.fromCharCode(d),this.sections.push(Ef.forImage(l)),this.sectionIndex.push(this.sections.length-1)):ze("Reached maximum number of images 6401")}else ze("Can't add FormattedSection with an empty image.")},ns.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Cf={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Sc={};function Eu(a,l,d,m,b,E){if(l.imageName){var S=m[l.imageName];return S?S.displaySize[0]*l.scale*24/E+b:0}var B=d[l.fontStack],q=B&&B[a];return q?q.metrics.advance*l.scale+b:0}function Cm(a,l,d,m){var b=Math.pow(a-l,2);return m?a<l?b/2:2*b:b+Math.abs(d)*d}function Wy(a,l,d){var m=0;return 10===a&&(m-=1e4),d&&(m+=150),40!==a&&65288!==a||(m+=50),41!==l&&65289!==l||(m+=50),m}function Po(a,l,d,m,b,E){for(var S=null,B=Cm(l,d,b,E),q=0,J=m;q<J.length;q+=1){var re=J[q],le=Cm(l-re.x,d,b,E)+re.badness;le<=B&&(S=re,B=le)}return{index:a,x:l,priorBreak:S,badness:B}}function Im(a,l,d,m,b,E,S){if("point"!==E)return[];if(!a)return[];for(var B,q=[],J=function(dt,it,Bt,Nt,$t,nn){for(var Tn=0,Vn=0;Vn<dt.length();Vn++){var ti=dt.getSection(Vn);Tn+=Eu(dt.getCharCode(Vn),ti,Nt,$t,it,nn)}return Tn/Math.max(1,Math.ceil(Tn/Bt))}(a,l,d,m,b,S),re=a.text.indexOf("\u200b")>=0,le=0,_e=0;_e<a.length();_e++){var Ee=a.getSection(_e),Ge=a.getCharCode(_e);if(Cf[Ge]||(le+=Eu(Ge,Ee,m,b,l,S)),_e<a.length()-1){var Ke=!((B=Ge)<11904||!(Yn["Bopomofo Extended"](B)||Yn.Bopomofo(B)||Yn["CJK Compatibility Forms"](B)||Yn["CJK Compatibility Ideographs"](B)||Yn["CJK Compatibility"](B)||Yn["CJK Radicals Supplement"](B)||Yn["CJK Strokes"](B)||Yn["CJK Symbols and Punctuation"](B)||Yn["CJK Unified Ideographs Extension A"](B)||Yn["CJK Unified Ideographs"](B)||Yn["Enclosed CJK Letters and Months"](B)||Yn["Halfwidth and Fullwidth Forms"](B)||Yn.Hiragana(B)||Yn["Ideographic Description Characters"](B)||Yn["Kangxi Radicals"](B)||Yn["Katakana Phonetic Extensions"](B)||Yn.Katakana(B)||Yn["Vertical Forms"](B)||Yn["Yi Radicals"](B)||Yn["Yi Syllables"](B)));(Sc[Ge]||Ke||Ee.imageName)&&q.push(Po(_e+1,le,J,q,Wy(Ge,a.getCharCode(_e+1),Ke&&re),!1))}}return function dt(it){return it?dt(it.priorBreak).concat(it.index):[]}(Po(a.length(),le,J,q,0,!0))}function Xc(a){var l=.5,d=.5;switch(a){case"right":case"top-right":case"bottom-right":l=1;break;case"left":case"top-left":case"bottom-left":l=0}switch(a){case"bottom":case"bottom-right":case"bottom-left":d=1;break;case"top":case"top-right":case"top-left":d=0}return{horizontalAlign:l,verticalAlign:d}}function lc(a,l,d,m,b){if(m||b)for(var E=a[d],S=(a[d].x+E.metrics.advance*E.scale)*m,B=l;B<=d;B++)a[B].x-=S,a[B].y+=b}function $y(a,l,d,m,b,E){var S,B=a.image;if(B.content){var q=B.content,J=B.pixelRatio||1;S=[q[0]/J,q[1]/J,B.displaySize[0]-q[2]/J,B.displaySize[1]-q[3]/J]}var re,le,_e,Ee,Ge=l.left*E,Ke=l.right*E;"width"===d||"both"===d?(Ee=b[0]+Ge-m[3],le=b[0]+Ke+m[1]):le=(Ee=b[0]+(Ge+Ke-B.displaySize[0])/2)+B.displaySize[0];var dt=l.top*E,it=l.bottom*E;return"height"===d||"both"===d?(re=b[1]+dt-m[0],_e=b[1]+it+m[2]):_e=(re=b[1]+(dt+it-B.displaySize[1])/2)+B.displaySize[1],{image:B,top:re,right:le,bottom:_e,left:Ee,collisionPadding:S}}Sc[10]=!0,Sc[32]=!0,Sc[38]=!0,Sc[40]=!0,Sc[41]=!0,Sc[43]=!0,Sc[45]=!0,Sc[47]=!0,Sc[173]=!0,Sc[183]=!0,Sc[8203]=!0,Sc[8208]=!0,Sc[8211]=!0,Sc[8231]=!0;var oh=function(a){function l(d,m,b,E){a.call(this,d,m),this.angle=b,void 0!==E&&(this.segment=E)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.clone=function(){return new l(this.x,this.y,this.angle,this.segment)},l}(W);function Qh(a,l){var d=l.expression;if("constant"===d.kind)return{kind:"constant",layoutSize:d.evaluate(new Kr(a+1))};if("source"===d.kind)return{kind:"source"};for(var m=d.zoomStops,b=d.interpolationType,E=0;E<m.length&&m[E]<=a;)E++;for(var S=E=Math.max(0,E-1);S<m.length&&m[S]<a+1;)S++;S=Math.min(m.length-1,S);var B=m[E],q=m[S];return"composite"===d.kind?{kind:"composite",minZoom:B,maxZoom:q,interpolationType:b}:{kind:"camera",minZoom:B,maxZoom:q,minSize:d.evaluate(new Kr(B)),maxSize:d.evaluate(new Kr(q)),interpolationType:b}}function kc(a,l,d){var m=l.uSize,b=d.lowerSize;return"source"===a.kind?b/128:"composite"===a.kind?ds(b/128,d.upperSize/128,l.uSizeT):m}function Dc(a,l){var d=0,m=0;if("constant"===a.kind)m=a.layoutSize;else if("source"!==a.kind){var b=a.interpolationType,E=b?fe(qs.interpolationFactor(b,l,a.minZoom,a.maxZoom),0,1):0;"camera"===a.kind?m=ds(a.minSize,a.maxSize,E):d=E}return{uSizeT:d,uSize:m}}li("Anchor",oh);var Tm=Object.freeze({__proto__:null,getSizeData:Qh,evaluateSizeForFeature:kc,evaluateSizeForZoom:Dc,SIZE_PACK_FACTOR:128});function bg(a,l,d,m,b){if(void 0===l.segment)return!0;for(var E=l,S=l.segment+1,B=0;B>-d/2;){if(--S<0)return!1;B-=a[S].dist(E),E=a[S]}B+=a[S].dist(a[S+1]),S++;for(var q=[],J=0;B<d/2;){var re=a[S],le=a[S+1];if(!le)return!1;var _e=a[S-1].angleTo(re)-re.angleTo(le);for(_e=Math.abs((_e+3*Math.PI)%(2*Math.PI)-Math.PI),q.push({distance:B,angleDelta:_e}),J+=_e;B-q[0].distance>m;)J-=q.shift().angleDelta;if(J>b)return!1;S++,B+=re.dist(le)}return!0}function Cu(a){for(var l=0,d=0;d<a.length-1;d++)l+=a[d].dist(a[d+1]);return l}function Sd(a,l,d){return a?.6*l*d:0}function If(a,l){return Math.max(a?a.right-a.left:0,l?l.right-l.left:0)}function Z_(a,l,d,m,b,E){for(var S=Sd(d,b,E),B=If(d,m)*E,q=0,J=Cu(a)/2,re=0;re<a.length-1;re++){var le=a[re],_e=a[re+1],Ee=le.dist(_e);if(q+Ee>J){var Ge=(J-q)/Ee,Ke=ds(le.x,_e.x,Ge),dt=ds(le.y,_e.y,Ge),it=new oh(Ke,dt,_e.angleTo(le),re);return it._round(),!S||bg(a,it,B,S,l)?it:void 0}q+=Ee}}function wA(a,l,d,m,b,E,S,B,q){var J=Sd(m,E,S),re=If(m,b),le=re*S,_e=0===a[0].x||a[0].x===q||0===a[0].y||a[0].y===q;return l-le<l/4&&(l=le+l/4),function Ee(Ge,Ke,dt,it,Bt,Nt,$t,nn,Tn){for(var Vn=Nt/2,ti=Cu(Ge),ji=0,hi=Ke-dt,Hi=[],pi=0;pi<Ge.length-1;pi++){for(var yr=Ge[pi],rr=Ge[pi+1],xi=yr.dist(rr),Ur=rr.angleTo(yr);hi+dt<ji+xi;){var Dr=((hi+=dt)-ji)/xi,zr=ds(yr.x,rr.x,Dr),Ji=ds(yr.y,rr.y,Dr);if(zr>=0&&zr<Tn&&Ji>=0&&Ji<Tn&&hi-Vn>=0&&hi+Vn<=ti){var xo=new oh(zr,Ji,Ur,pi);xo._round(),it&&!bg(Ge,xo,Nt,it,Bt)||Hi.push(xo)}}ji+=xi}return nn||Hi.length||$t||(Hi=Ee(Ge,ji/2,dt,it,Bt,Nt,$t,!0,Tn)),Hi}(a,_e?l/2*B%l:(re/2+2*E)*S*B%l,l,J,d,le,_e,!1,q)}function wg(a,l,d,m,b){for(var E=[],S=0;S<a.length;S++)for(var B=a[S],q=void 0,J=0;J<B.length-1;J++){var re=B[J],le=B[J+1];re.x<l&&le.x<l||(re.x<l?re=new W(l,re.y+(l-re.x)/(le.x-re.x)*(le.y-re.y))._round():le.x<l&&(le=new W(l,re.y+(l-re.x)/(le.x-re.x)*(le.y-re.y))._round()),re.y<d&&le.y<d||(re.y<d?re=new W(re.x+(d-re.y)/(le.y-re.y)*(le.x-re.x),d)._round():le.y<d&&(le=new W(re.x+(d-re.y)/(le.y-re.y)*(le.x-re.x),d)._round()),re.x>=m&&le.x>=m||(re.x>=m?re=new W(m,re.y+(m-re.x)/(le.x-re.x)*(le.y-re.y))._round():le.x>=m&&(le=new W(m,re.y+(m-re.x)/(le.x-re.x)*(le.y-re.y))._round()),re.y>=b&&le.y>=b||(re.y>=b?re=new W(re.x+(b-re.y)/(le.y-re.y)*(le.x-re.x),b)._round():le.y>=b&&(le=new W(re.x+(b-re.y)/(le.y-re.y)*(le.x-re.x),b)._round()),q&&re.equals(q[q.length-1])||E.push(q=[re]),q.push(le)))))}return E}function Tf(a,l,d,m){var b=[],E=a.image,S=E.pixelRatio,B=E.paddedRect.w-2,q=E.paddedRect.h-2,J=a.right-a.left,re=a.bottom-a.top,le=E.stretchX||[[0,B]],_e=E.stretchY||[[0,q]],Ee=function(zr,Ji){return zr+Ji[1]-Ji[0]},Ge=le.reduce(Ee,0),Ke=_e.reduce(Ee,0),dt=B-Ge,it=q-Ke,Bt=0,Nt=Ge,$t=0,nn=Ke,Tn=0,Vn=dt,ti=0,ji=it;if(E.content&&m){var hi=E.content;Bt=Sf(le,0,hi[0]),$t=Sf(_e,0,hi[1]),Nt=Sf(le,hi[0],hi[2]),nn=Sf(_e,hi[1],hi[3]),Tn=hi[0]-Bt,ti=hi[1]-$t,Vn=hi[2]-hi[0]-Nt,ji=hi[3]-hi[1]-nn}var Hi=function(zr,Ji,xo,fs){var js=nd(zr.stretch-Bt,Nt,J,a.left),Os=kr(zr.fixed-Tn,Vn,zr.stretch,Ge),As=nd(Ji.stretch-$t,nn,re,a.top),$s=kr(Ji.fixed-ti,ji,Ji.stretch,Ke),la=nd(xo.stretch-Bt,Nt,J,a.left),Fs=kr(xo.fixed-Tn,Vn,xo.stretch,Ge),cc=nd(fs.stretch-$t,nn,re,a.top),$a=kr(fs.fixed-ti,ji,fs.stretch,Ke),Ul=new W(js,As),ms=new W(la,As),Xs=new W(la,cc),ar=new W(js,cc),is=new W(Os/S,$s/S),Fi=new W(Fs/S,$a/S),io=l*Math.PI/180;if(io){var Mc=Math.sin(io),bl=Math.cos(io),_o=[bl,-Mc,Mc,bl];Ul._matMult(_o),ms._matMult(_o),ar._matMult(_o),Xs._matMult(_o)}var xa=zr.stretch+zr.fixed,wl=Ji.stretch+Ji.fixed;return{tl:Ul,tr:ms,bl:ar,br:Xs,tex:{x:E.paddedRect.x+1+xa,y:E.paddedRect.y+1+wl,w:xo.stretch+xo.fixed-xa,h:fs.stretch+fs.fixed-wl},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:is,pixelOffsetBR:Fi,minFontScaleX:Vn/S/J,minFontScaleY:ji/S/re,isSDF:d}};if(m&&(E.stretchX||E.stretchY))for(var pi=xg(le,dt,Ge),yr=xg(_e,it,Ke),rr=0;rr<pi.length-1;rr++)for(var xi=pi[rr],Ur=pi[rr+1],Dr=0;Dr<yr.length-1;Dr++)b.push(Hi(xi,yr[Dr],Ur,yr[Dr+1]));else b.push(Hi({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:B+1},{fixed:0,stretch:q+1}));return b}function Sf(a,l,d){for(var m=0,b=0,E=a;b<E.length;b+=1){var S=E[b];m+=Math.max(l,Math.min(d,S[1]))-Math.max(l,Math.min(d,S[0]))}return m}function xg(a,l,d){for(var m=[{fixed:-1,stretch:0}],b=0,E=a;b<E.length;b+=1){var S=E[b],B=S[0],q=S[1],J=m[m.length-1];m.push({fixed:B-J.stretch,stretch:J.stretch}),m.push({fixed:B-J.stretch,stretch:J.stretch+(q-B)})}return m.push({fixed:l+1,stretch:d}),m}function nd(a,l,d,m){return a/l*d+m}function kr(a,l,d,m){return a-l*d/m}var k=function(a,l,d,m,b,E,S,B,q,J){if(this.boxStartIndex=a.length,q){var re=E.top,le=E.bottom,_e=E.collisionPadding;_e&&(re-=_e[1],le+=_e[3]);var Ee=le-re;Ee>0&&(Ee=Math.max(10,Ee),this.circleDiameter=Ee)}else{var Ge=E.top*S-B,Ke=E.bottom*S+B,dt=E.left*S-B,it=E.right*S+B,Bt=E.collisionPadding;if(Bt&&(dt-=Bt[0]*S,Ge-=Bt[1]*S,it+=Bt[2]*S,Ke+=Bt[3]*S),J){var Nt=new W(dt,Ge),$t=new W(it,Ge),nn=new W(dt,Ke),Tn=new W(it,Ke),Vn=J*Math.PI/180;Nt._rotate(Vn),$t._rotate(Vn),nn._rotate(Vn),Tn._rotate(Vn),dt=Math.min(Nt.x,$t.x,nn.x,Tn.x),it=Math.max(Nt.x,$t.x,nn.x,Tn.x),Ge=Math.min(Nt.y,$t.y,nn.y,Tn.y),Ke=Math.max(Nt.y,$t.y,nn.y,Tn.y)}a.emplaceBack(l.x,l.y,dt,Ge,it,Ke,d,m,b)}this.boxEndIndex=a.length},y=function(a,l){if(void 0===a&&(a=[]),void 0===l&&(l=x),this.data=a,this.length=this.data.length,this.compare=l,this.length>0)for(var d=(this.length>>1)-1;d>=0;d--)this._down(d)};function x(a,l){return a<l?-1:a>l?1:0}function R(a,l,d){void 0===l&&(l=1),void 0===d&&(d=!1);for(var m=1/0,b=1/0,E=-1/0,S=-1/0,B=a[0],q=0;q<B.length;q++){var J=B[q];(!q||J.x<m)&&(m=J.x),(!q||J.y<b)&&(b=J.y),(!q||J.x>E)&&(E=J.x),(!q||J.y>S)&&(S=J.y)}var re=Math.min(E-m,S-b),le=re/2,_e=new y([],te);if(0===re)return new W(m,b);for(var Ee=m;Ee<E;Ee+=re)for(var Ge=b;Ge<S;Ge+=re)_e.push(new ye(Ee+le,Ge+le,le,a));for(var Ke=function(Bt){for(var Nt=0,$t=0,nn=0,Tn=Bt[0],Vn=0,ti=Tn.length,ji=ti-1;Vn<ti;ji=Vn++){var hi=Tn[Vn],Hi=Tn[ji],pi=hi.x*Hi.y-Hi.x*hi.y;$t+=(hi.x+Hi.x)*pi,nn+=(hi.y+Hi.y)*pi,Nt+=3*pi}return new ye($t/Nt,nn/Nt,0,Bt)}(a),dt=_e.length;_e.length;){var it=_e.pop();(it.d>Ke.d||!Ke.d)&&(Ke=it,d&&console.log("found best %d after %d probes",Math.round(1e4*it.d)/1e4,dt)),it.max-Ke.d<=l||(_e.push(new ye(it.p.x-(le=it.h/2),it.p.y-le,le,a)),_e.push(new ye(it.p.x+le,it.p.y-le,le,a)),_e.push(new ye(it.p.x-le,it.p.y+le,le,a)),_e.push(new ye(it.p.x+le,it.p.y+le,le,a)),dt+=4)}return d&&(console.log("num probes: "+dt),console.log("best distance: "+Ke.d)),Ke.p}function te(a,l){return l.max-a.max}function ye(a,l,d,m){this.p=new W(a,l),this.h=d,this.d=function(b,E){for(var S=!1,B=1/0,q=0;q<E.length;q++)for(var J=E[q],re=0,le=J.length,_e=le-1;re<le;_e=re++){var Ee=J[re],Ge=J[_e];Ee.y>b.y!=Ge.y>b.y&&b.x<(Ge.x-Ee.x)*(b.y-Ee.y)/(Ge.y-Ee.y)+Ee.x&&(S=!S),B=Math.min(B,Ii(b,Ee,Ge))}return(S?1:-1)*Math.sqrt(B)}(this.p,m),this.max=this.d+this.h*Math.SQRT2}y.prototype.push=function(a){this.data.push(a),this.length++,this._up(this.length-1)},y.prototype.pop=function(){if(0!==this.length){var a=this.data[0],l=this.data.pop();return this.length--,this.length>0&&(this.data[0]=l,this._down(0)),a}},y.prototype.peek=function(){return this.data[0]},y.prototype._up=function(a){for(var l=this.data,d=this.compare,m=l[a];a>0;){var b=a-1>>1,E=l[b];if(d(m,E)>=0)break;l[a]=E,a=b}l[a]=m},y.prototype._down=function(a){for(var l=this.data,d=this.compare,m=this.length>>1,b=l[a];a<m;){var E=1+(a<<1),S=l[E],B=E+1;if(B<this.length&&d(l[B],S)<0&&(E=B,S=l[B]),d(S,b)>=0)break;l[a]=S,a=E}l[a]=b};var ft=Number.POSITIVE_INFINITY;function Vt(a,l){return l[1]!==ft?function(d,m,b){var E=0,S=0;switch(m=Math.abs(m),b=Math.abs(b),d){case"top-right":case"top-left":case"top":S=b-7;break;case"bottom-right":case"bottom-left":case"bottom":S=7-b}switch(d){case"top-right":case"bottom-right":case"right":E=-m;break;case"top-left":case"bottom-left":case"left":E=m}return[E,S]}(a,l[0],l[1]):function(d,m){var b=0,E=0;m<0&&(m=0);var S=m/Math.sqrt(2);switch(d){case"top-right":case"top-left":E=S-7;break;case"bottom-right":case"bottom-left":E=7-S;break;case"bottom":E=7-m;break;case"top":E=m-7}switch(d){case"top-right":case"bottom-right":b=-S;break;case"top-left":case"bottom-left":b=S;break;case"left":b=m;break;case"right":b=-m}return[b,E]}(a,l[0])}function In(a){switch(a){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function yi(a,l,d,m,b,E,S,B,q,J,re,le,_e,Ee,Ge){var Ke=function($t,nn,Tn,Vn,ti,ji,hi,Hi){for(var pi=Vn.layout.get("text-rotate").evaluate(ji,{})*Math.PI/180,yr=[],rr=0,xi=nn.positionedLines;rr<xi.length;rr+=1)for(var Ur=xi[rr],Dr=0,zr=Ur.positionedGlyphs;Dr<zr.length;Dr+=1){var Ji=zr[Dr];if(Ji.rect){var xo=Ji.rect||{},fs=4,js=!0,Os=1,As=0,$s=(ti||Hi)&&Ji.vertical,la=Ji.metrics.advance*Ji.scale/2;if(Hi&&nn.verticalizable&&(As=Ur.lineOffset/2-(Ji.imageName?-(24-Ji.metrics.width*Ji.scale)/2:24*(Ji.scale-1))),Ji.imageName){var Fs=hi[Ji.imageName];js=Fs.sdf,fs=1/(Os=Fs.pixelRatio)}var cc=ti?[Ji.x+la,Ji.y]:[0,0],$a=ti?[0,0]:[Ji.x+la+Tn[0],Ji.y+Tn[1]-As],Ul=[0,0];$s&&(Ul=$a,$a=[0,0]);var ms=(Ji.metrics.left-fs)*Ji.scale-la+$a[0],Xs=(-Ji.metrics.top-fs)*Ji.scale+$a[1],ar=ms+xo.w*Ji.scale/Os,is=Xs+xo.h*Ji.scale/Os,Fi=new W(ms,Xs),io=new W(ar,Xs),Mc=new W(ms,is),bl=new W(ar,is);if($s){var _o=new W(-la,la- -17),xa=-Math.PI/2,wl=12-la,uo=new W(22-wl,-(Ji.imageName?wl:0)),Dd=new(Function.prototype.bind.apply(W,[null].concat(Ul)));Fi._rotateAround(xa,_o)._add(uo)._add(Dd),io._rotateAround(xa,_o)._add(uo)._add(Dd),Mc._rotateAround(xa,_o)._add(uo)._add(Dd),bl._rotateAround(xa,_o)._add(uo)._add(Dd)}if(pi){var Iu=Math.sin(pi),Fp=Math.cos(pi),ca=[Fp,-Iu,Iu,Fp];Fi._matMult(ca),io._matMult(ca),Mc._matMult(ca),bl._matMult(ca)}var Lp=new W(0,0),Rd=new W(0,0);yr.push({tl:Fi,tr:io,bl:Mc,br:bl,tex:xo,writingMode:nn.writingMode,glyphOffset:cc,sectionIndex:Ji.sectionIndex,isSDF:js,pixelOffsetTL:Lp,pixelOffsetBR:Rd,minFontScaleX:0,minFontScaleY:0})}}return yr}(0,d,B,b,E,S,m,a.allowVerticalPlacement),dt=a.textSizeData,it=null;"source"===dt.kind?(it=[128*b.layout.get("text-size").evaluate(S,{})])[0]>32640&&ze(a.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):"composite"===dt.kind&&((it=[128*Ee.compositeTextSizes[0].evaluate(S,{},Ge),128*Ee.compositeTextSizes[1].evaluate(S,{},Ge)])[0]>32640||it[1]>32640)&&ze(a.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),a.addSymbols(a.text,Ke,it,B,E,S,J,l,q.lineStartIndex,q.lineLength,_e,Ge);for(var Bt=0,Nt=re;Bt<Nt.length;Bt+=1)le[Nt[Bt]]=a.text.placedSymbolArray.length-1;return 4*Ke.length}function Gi(a){for(var l in a)return a[l];return null}function Ki(a,l,d,m){var b=a.compareText;if(l in b){for(var E=b[l],S=E.length-1;S>=0;S--)if(m.dist(E[S])<d)return!0}else b[l]=[];return b[l].push(m),!1}var ia=yf.VectorTileFeature.types,kd=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function vn(a,l,d,m,b,E,S,B,q,J,re,le,_e){var Ee=B?Math.min(32640,Math.round(B[0])):0,Ge=B?Math.min(32640,Math.round(B[1])):0;a.emplaceBack(l,d,Math.round(32*m),Math.round(32*b),E,S,(Ee<<1)+(q?1:0),Ge,16*J,16*re,256*le,256*_e)}function Yr(a,l,d){a.emplaceBack(l.x,l.y,d),a.emplaceBack(l.x,l.y,d),a.emplaceBack(l.x,l.y,d),a.emplaceBack(l.x,l.y,d)}function mn(a){for(var l=0,d=a.sections;l<d.length;l+=1)if(uA(d[l].text))return!0;return!1}var pn=function(a){this.layoutVertexArray=new Bh,this.indexArray=new Ll,this.programConfigurations=a,this.segments=new Se,this.dynamicLayoutVertexArray=new bs,this.opacityVertexArray=new Af,this.placedSymbolArray=new _};pn.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},pn.prototype.upload=function(a,l,d,m){this.isEmpty()||(d&&(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,X_.members),this.indexBuffer=a.createIndexBuffer(this.indexArray,l),this.dynamicLayoutVertexBuffer=a.createVertexBuffer(this.dynamicLayoutVertexArray,bf.members,!0),this.opacityVertexBuffer=a.createVertexBuffer(this.opacityVertexArray,kd,!0),this.opacityVertexBuffer.itemSize=1),(d||m)&&this.programConfigurations.upload(a))},pn.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},li("SymbolBuffers",pn);var Qo=function(a,l,d){this.layoutVertexArray=new a,this.layoutAttributes=l,this.indexArray=new d,this.segments=new Se,this.collisionVertexArray=new cm};Qo.prototype.upload=function(a){this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=a.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=a.createVertexBuffer(this.collisionVertexArray,_g.members,!0)},Qo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},li("CollisionBuffers",Qo);var wo=function(a){this.collisionBoxArray=a.collisionBoxArray,this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(function(E){return E.id}),this.index=a.index,this.pixelRatio=a.pixelRatio,this.sourceLayerIndex=a.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=na([]),this.placementViewportMatrix=na([]);var l=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Qh(this.zoom,l["text-size"]),this.iconSizeData=Qh(this.zoom,l["icon-size"]);var d=this.layers[0].layout,m=d.get("symbol-sort-key"),b=d.get("symbol-z-order");this.canOverlap=d.get("text-allow-overlap")||d.get("icon-allow-overlap")||d.get("text-ignore-placement")||d.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==b&&void 0!==m.constantOr(1),this.sortFeaturesByY=("viewport-y"===b||"auto"===b&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===d.get("symbol-placement")&&(this.writingModes=d.get("text-writing-mode").map(function(E){return ac[E]})),this.stateDependentLayerIds=this.layers.filter(function(E){return E.isStateDependent()}).map(function(E){return E.id}),this.sourceID=a.sourceID};wo.prototype.createArrays=function(){this.text=new pn(new qi(this.layers,this.zoom,function(a){return/^text/.test(a)})),this.icon=new pn(new qi(this.layers,this.zoom,function(a){return/^icon/.test(a)})),this.glyphOffsetArray=new M,this.lineVertexArray=new z,this.symbolInstances=new D},wo.prototype.calculateGlyphDependencies=function(a,l,d,m,b){for(var E=0;E<a.length;E++)if(l[a.charCodeAt(E)]=!0,(d||m)&&b){var S=wf[a.charAt(E)];S&&(l[S.charCodeAt(0)]=!0)}},wo.prototype.populate=function(a,l,d){var m=this.layers[0],b=m.layout,E=b.get("text-font"),S=b.get("text-field"),B=b.get("icon-image"),q=("constant"!==S.value.kind||S.value.value instanceof no&&!S.value.value.isEmpty()||S.value.value.toString().length>0)&&("constant"!==E.value.kind||E.value.value.length>0),J="constant"!==B.value.kind||!!B.value.value||Object.keys(B.parameters).length>0,re=b.get("symbol-sort-key");if(this.features=[],q||J){for(var le=l.iconDependencies,_e=l.glyphDependencies,Ee=l.availableImages,Ge=new Kr(this.zoom),Ke=0,dt=a;Ke<dt.length;Ke+=1){var it=dt[Ke],Bt=it.feature,Nt=it.id,$t=it.index,nn=it.sourceLayerIndex,Tn=m._featureFilter.needGeometry,Vn=ws(Bt,Tn);if(m._featureFilter.filter(Ge,Vn,d)){Tn||(Vn.geometry=bo(Bt));var ti=void 0;if(q){var ji=m.getValueAndResolveTokens("text-field",Vn,d,Ee),hi=no.factory(ji);mn(hi)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===dA()||this.hasRTLText&&bu.isParsed())&&(ti=Hy(hi,m,Vn))}var Hi=void 0;if(J){var pi=m.getValueAndResolveTokens("icon-image",Vn,d,Ee);Hi=pi instanceof ks?pi:ks.fromString(pi)}if(ti||Hi){var yr=this.sortFeaturesByKey?re.evaluate(Vn,{},d):void 0;if(this.features.push({id:Nt,text:ti,icon:Hi,index:$t,sourceLayerIndex:nn,geometry:Vn.geometry,properties:Bt.properties,type:ia[Bt.type],sortKey:yr}),Hi&&(le[Hi.name]=!0),ti){var rr=E.evaluate(Vn,{},d).join(","),xi="map"===b.get("text-rotation-alignment")&&"point"!==b.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(ac.vertical)>=0;for(var Ur=0,Dr=ti.sections;Ur<Dr.length;Ur+=1){var zr=Dr[Ur];if(zr.image)le[zr.image.name]=!0;else{var Ji=cA(ti.toString()),xo=zr.fontStack||rr,fs=_e[xo]=_e[xo]||{};this.calculateGlyphDependencies(zr.text,fs,xi,this.allowVerticalPlacement,Ji)}}}}}}"line"===b.get("symbol-placement")&&(this.features=function(js){var Os={},As={},$s=[],la=0;function Fs(_o){$s.push(js[_o]),la++}function cc(_o,xa,wl){var uo=As[_o];return delete As[_o],As[xa]=uo,$s[uo].geometry[0].pop(),$s[uo].geometry[0]=$s[uo].geometry[0].concat(wl[0]),uo}function $a(_o,xa,wl){var uo=Os[xa];return delete Os[xa],Os[_o]=uo,$s[uo].geometry[0].shift(),$s[uo].geometry[0]=wl[0].concat($s[uo].geometry[0]),uo}function Ul(_o,xa,wl){var uo=wl?xa[0][xa[0].length-1]:xa[0][0];return _o+":"+uo.x+":"+uo.y}for(var ms=0;ms<js.length;ms++){var Xs=js[ms],ar=Xs.geometry,is=Xs.text?Xs.text.toString():null;if(is){var Fi=Ul(is,ar),io=Ul(is,ar,!0);if(Fi in As&&io in Os&&As[Fi]!==Os[io]){var Mc=$a(Fi,io,ar),bl=cc(Fi,io,$s[Mc].geometry);delete Os[Fi],delete As[io],As[Ul(is,$s[bl].geometry,!0)]=bl,$s[Mc].geometry=null}else Fi in As?cc(Fi,io,ar):io in Os?$a(Fi,io,ar):(Fs(ms),Os[Fi]=la-1,As[io]=la-1)}else Fs(ms)}return $s.filter(function(_o){return _o.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(js,Os){return js.sortKey-Os.sortKey})}},wo.prototype.update=function(a,l,d){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(a,l,this.layers,d),this.icon.programConfigurations.updatePaintArrays(a,l,this.layers,d))},wo.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},wo.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},wo.prototype.upload=function(a){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(a),this.iconCollisionBox.upload(a)),this.text.upload(a,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(a,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},wo.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},wo.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},wo.prototype.addToLineVertexArray=function(a,l){var d=this.lineVertexArray.length;if(void 0!==a.segment){for(var m=a.dist(l[a.segment+1]),b=a.dist(l[a.segment]),E={},S=a.segment+1;S<l.length;S++)E[S]={x:l[S].x,y:l[S].y,tileUnitDistanceFromAnchor:m},S<l.length-1&&(m+=l[S+1].dist(l[S]));for(var B=a.segment||0;B>=0;B--)E[B]={x:l[B].x,y:l[B].y,tileUnitDistanceFromAnchor:b},B>0&&(b+=l[B-1].dist(l[B]));for(var q=0;q<l.length;q++){var J=E[q];this.lineVertexArray.emplaceBack(J.x,J.y,J.tileUnitDistanceFromAnchor)}}return{lineStartIndex:d,lineLength:this.lineVertexArray.length-d}},wo.prototype.addSymbols=function(a,l,d,m,b,E,S,B,q,J,re,le){for(var _e=a.indexArray,Ee=a.layoutVertexArray,Ge=a.segments.prepareSegment(4*l.length,Ee,_e,this.canOverlap?E.sortKey:void 0),Ke=this.glyphOffsetArray.length,dt=Ge.vertexLength,it=this.allowVerticalPlacement&&S===ac.vertical?Math.PI/2:0,Bt=E.text&&E.text.sections,Nt=0;Nt<l.length;Nt++){var $t=l[Nt],nn=$t.tl,Tn=$t.tr,Vn=$t.bl,ti=$t.br,ji=$t.tex,hi=$t.pixelOffsetTL,Hi=$t.pixelOffsetBR,pi=$t.minFontScaleX,yr=$t.minFontScaleY,rr=$t.glyphOffset,xi=$t.isSDF,Ur=$t.sectionIndex,Dr=Ge.vertexLength,zr=rr[1];vn(Ee,B.x,B.y,nn.x,zr+nn.y,ji.x,ji.y,d,xi,hi.x,hi.y,pi,yr),vn(Ee,B.x,B.y,Tn.x,zr+Tn.y,ji.x+ji.w,ji.y,d,xi,Hi.x,hi.y,pi,yr),vn(Ee,B.x,B.y,Vn.x,zr+Vn.y,ji.x,ji.y+ji.h,d,xi,hi.x,Hi.y,pi,yr),vn(Ee,B.x,B.y,ti.x,zr+ti.y,ji.x+ji.w,ji.y+ji.h,d,xi,Hi.x,Hi.y,pi,yr),Yr(a.dynamicLayoutVertexArray,B,it),_e.emplaceBack(Dr,Dr+1,Dr+2),_e.emplaceBack(Dr+1,Dr+2,Dr+3),Ge.vertexLength+=4,Ge.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(rr[0]),Nt!==l.length-1&&Ur===l[Nt+1].sectionIndex||a.programConfigurations.populatePaintArrays(Ee.length,E,E.index,{},le,Bt&&Bt[Ur])}a.placedSymbolArray.emplaceBack(B.x,B.y,Ke,this.glyphOffsetArray.length-Ke,dt,q,J,B.segment,d?d[0]:0,d?d[1]:0,m[0],m[1],S,0,!1,0,re)},wo.prototype._addCollisionDebugVertex=function(a,l,d,m,b,E){return l.emplaceBack(0,0),a.emplaceBack(d.x,d.y,m,b,Math.round(E.x),Math.round(E.y))},wo.prototype.addCollisionDebugVertices=function(a,l,d,m,b,E,S){var B=b.segments.prepareSegment(4,b.layoutVertexArray,b.indexArray),q=B.vertexLength,J=b.layoutVertexArray,re=b.collisionVertexArray,le=S.anchorX,_e=S.anchorY;this._addCollisionDebugVertex(J,re,E,le,_e,new W(a,l)),this._addCollisionDebugVertex(J,re,E,le,_e,new W(d,l)),this._addCollisionDebugVertex(J,re,E,le,_e,new W(d,m)),this._addCollisionDebugVertex(J,re,E,le,_e,new W(a,m)),B.vertexLength+=4;var Ee=b.indexArray;Ee.emplaceBack(q,q+1),Ee.emplaceBack(q+1,q+2),Ee.emplaceBack(q+2,q+3),Ee.emplaceBack(q+3,q),B.primitiveLength+=4},wo.prototype.addDebugCollisionBoxes=function(a,l,d,m){for(var b=a;b<l;b++){var E=this.collisionBoxArray.get(b);this.addCollisionDebugVertices(E.x1,E.y1,E.x2,E.y2,m?this.textCollisionBox:this.iconCollisionBox,E.anchorPoint,d)}},wo.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Qo(Ph,td.members,Wu),this.iconCollisionBox=new Qo(Ph,td.members,Wu);for(var a=0;a<this.symbolInstances.length;a++){var l=this.symbolInstances.get(a);this.addDebugCollisionBoxes(l.textBoxStartIndex,l.textBoxEndIndex,l,!0),this.addDebugCollisionBoxes(l.verticalTextBoxStartIndex,l.verticalTextBoxEndIndex,l,!0),this.addDebugCollisionBoxes(l.iconBoxStartIndex,l.iconBoxEndIndex,l,!1),this.addDebugCollisionBoxes(l.verticalIconBoxStartIndex,l.verticalIconBoxEndIndex,l,!1)}},wo.prototype._deserializeCollisionBoxesForSymbol=function(a,l,d,m,b,E,S,B,q){for(var J={},re=l;re<d;re++){var le=a.get(re);J.textBox={x1:le.x1,y1:le.y1,x2:le.x2,y2:le.y2,anchorPointX:le.anchorPointX,anchorPointY:le.anchorPointY},J.textFeatureIndex=le.featureIndex;break}for(var _e=m;_e<b;_e++){var Ee=a.get(_e);J.verticalTextBox={x1:Ee.x1,y1:Ee.y1,x2:Ee.x2,y2:Ee.y2,anchorPointX:Ee.anchorPointX,anchorPointY:Ee.anchorPointY},J.verticalTextFeatureIndex=Ee.featureIndex;break}for(var Ge=E;Ge<S;Ge++){var Ke=a.get(Ge);J.iconBox={x1:Ke.x1,y1:Ke.y1,x2:Ke.x2,y2:Ke.y2,anchorPointX:Ke.anchorPointX,anchorPointY:Ke.anchorPointY},J.iconFeatureIndex=Ke.featureIndex;break}for(var dt=B;dt<q;dt++){var it=a.get(dt);J.verticalIconBox={x1:it.x1,y1:it.y1,x2:it.x2,y2:it.y2,anchorPointX:it.anchorPointX,anchorPointY:it.anchorPointY},J.verticalIconFeatureIndex=it.featureIndex;break}return J},wo.prototype.deserializeCollisionBoxes=function(a){this.collisionArrays=[];for(var l=0;l<this.symbolInstances.length;l++){var d=this.symbolInstances.get(l);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(a,d.textBoxStartIndex,d.textBoxEndIndex,d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d.iconBoxStartIndex,d.iconBoxEndIndex,d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex))}},wo.prototype.hasTextData=function(){return this.text.segments.get().length>0},wo.prototype.hasIconData=function(){return this.icon.segments.get().length>0},wo.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},wo.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},wo.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},wo.prototype.addIndicesForPlacedSymbol=function(a,l){for(var d=a.placedSymbolArray.get(l),m=d.vertexStartIndex+4*d.numGlyphs,b=d.vertexStartIndex;b<m;b+=4)a.indexArray.emplaceBack(b,b+1,b+2),a.indexArray.emplaceBack(b+1,b+2,b+3)},wo.prototype.getSortedSymbolIndexes=function(a){if(this.sortedAngle===a&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var l=Math.sin(a),d=Math.cos(a),m=[],b=[],E=[],S=0;S<this.symbolInstances.length;++S){E.push(S);var B=this.symbolInstances.get(S);m.push(0|Math.round(l*B.anchorX+d*B.anchorY)),b.push(B.featureIndex)}return E.sort(function(q,J){return m[q]-m[J]||b[J]-b[q]}),E},wo.prototype.addToSortKeyRanges=function(a,l){var d=this.sortKeyRanges[this.sortKeyRanges.length-1];d&&d.sortKey===l?d.symbolInstanceEnd=a+1:this.sortKeyRanges.push({sortKey:l,symbolInstanceStart:a,symbolInstanceEnd:a+1})},wo.prototype.sortFeatures=function(a){var l=this;if(this.sortFeaturesByY&&this.sortedAngle!==a&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(a),this.sortedAngle=a,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var d=0,m=this.symbolInstanceIndexes;d<m.length;d+=1){var b=this.symbolInstances.get(m[d]);this.featureSortOrder.push(b.featureIndex),[b.rightJustifiedTextSymbolIndex,b.centerJustifiedTextSymbolIndex,b.leftJustifiedTextSymbolIndex].forEach(function(E,S,B){E>=0&&B.indexOf(E)===S&&l.addIndicesForPlacedSymbol(l.text,E)}),b.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,b.verticalPlacedTextSymbolIndex),b.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,b.placedIconSymbolIndex),b.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,b.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},li("SymbolBucket",wo,{omit:["layers","collisionBoxArray","features","compareText"]}),wo.MAX_GLYPHS=65535,wo.addDynamicAttributes=Yr;var xA=new Ga({"symbol-placement":new Vi(ge.layout_symbol["symbol-placement"]),"symbol-spacing":new Vi(ge.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Vi(ge.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Bn(ge.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Vi(ge.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Vi(ge.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Vi(ge.layout_symbol["icon-ignore-placement"]),"icon-optional":new Vi(ge.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Vi(ge.layout_symbol["icon-rotation-alignment"]),"icon-size":new Bn(ge.layout_symbol["icon-size"]),"icon-text-fit":new Vi(ge.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Vi(ge.layout_symbol["icon-text-fit-padding"]),"icon-image":new Bn(ge.layout_symbol["icon-image"]),"icon-rotate":new Bn(ge.layout_symbol["icon-rotate"]),"icon-padding":new Vi(ge.layout_symbol["icon-padding"]),"icon-keep-upright":new Vi(ge.layout_symbol["icon-keep-upright"]),"icon-offset":new Bn(ge.layout_symbol["icon-offset"]),"icon-anchor":new Bn(ge.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Vi(ge.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Vi(ge.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Vi(ge.layout_symbol["text-rotation-alignment"]),"text-field":new Bn(ge.layout_symbol["text-field"]),"text-font":new Bn(ge.layout_symbol["text-font"]),"text-size":new Bn(ge.layout_symbol["text-size"]),"text-max-width":new Bn(ge.layout_symbol["text-max-width"]),"text-line-height":new Vi(ge.layout_symbol["text-line-height"]),"text-letter-spacing":new Bn(ge.layout_symbol["text-letter-spacing"]),"text-justify":new Bn(ge.layout_symbol["text-justify"]),"text-radial-offset":new Bn(ge.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Vi(ge.layout_symbol["text-variable-anchor"]),"text-anchor":new Bn(ge.layout_symbol["text-anchor"]),"text-max-angle":new Vi(ge.layout_symbol["text-max-angle"]),"text-writing-mode":new Vi(ge.layout_symbol["text-writing-mode"]),"text-rotate":new Bn(ge.layout_symbol["text-rotate"]),"text-padding":new Vi(ge.layout_symbol["text-padding"]),"text-keep-upright":new Vi(ge.layout_symbol["text-keep-upright"]),"text-transform":new Bn(ge.layout_symbol["text-transform"]),"text-offset":new Bn(ge.layout_symbol["text-offset"]),"text-allow-overlap":new Vi(ge.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Vi(ge.layout_symbol["text-ignore-placement"]),"text-optional":new Vi(ge.layout_symbol["text-optional"])}),Yc={paint:new Ga({"icon-opacity":new Bn(ge.paint_symbol["icon-opacity"]),"icon-color":new Bn(ge.paint_symbol["icon-color"]),"icon-halo-color":new Bn(ge.paint_symbol["icon-halo-color"]),"icon-halo-width":new Bn(ge.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Bn(ge.paint_symbol["icon-halo-blur"]),"icon-translate":new Vi(ge.paint_symbol["icon-translate"]),"icon-translate-anchor":new Vi(ge.paint_symbol["icon-translate-anchor"]),"text-opacity":new Bn(ge.paint_symbol["text-opacity"]),"text-color":new Bn(ge.paint_symbol["text-color"],{runtimeType:Rt,getOverride:function(a){return a.textColor},hasOverride:function(a){return!!a.textColor}}),"text-halo-color":new Bn(ge.paint_symbol["text-halo-color"]),"text-halo-width":new Bn(ge.paint_symbol["text-halo-width"]),"text-halo-blur":new Bn(ge.paint_symbol["text-halo-blur"]),"text-translate":new Vi(ge.paint_symbol["text-translate"]),"text-translate-anchor":new Vi(ge.paint_symbol["text-translate-anchor"])}),layout:xA},sh=function(a){this.type=a.property.overrides?a.property.overrides.runtimeType:De,this.defaultValue=a};sh.prototype.evaluate=function(a){if(a.formattedSection){var l=this.defaultValue.property.overrides;if(l&&l.hasOverride(a.formattedSection))return l.getOverride(a.formattedSection)}return a.feature&&a.featureState?this.defaultValue.evaluate(a.feature,a.featureState):this.defaultValue.property.specification.default},sh.prototype.eachChild=function(a){this.defaultValue.isConstant()||a(this.defaultValue.value._styleExpression.expression)},sh.prototype.outputDefined=function(){return!1},sh.prototype.serialize=function(){return null},li("FormatSectionOverride",sh,{omit:["defaultValue"]});var Eg=function(a){function l(d){a.call(this,d,Yc)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.recalculate=function(d,m){if(a.prototype.recalculate.call(this,d,m),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var b=this.layout.get("text-writing-mode");if(b){for(var E=[],S=0,B=b;S<B.length;S+=1){var q=B[S];E.indexOf(q)<0&&E.push(q)}this.layout._values["text-writing-mode"]=E}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},l.prototype.getValueAndResolveTokens=function(d,m,b,E){var q,S=this.layout.get(d).evaluate(m,{},b,E),B=this._unevaluatedLayout._values[d];return B.isDataDriven()||Gu(B.value)||!S?S:(q=m.properties,S.replace(/{([^{}]+)}/g,function(re,le){return le in q?String(q[le]):""}))},l.prototype.createBucket=function(d){return new wo(d)},l.prototype.queryRadius=function(){return 0},l.prototype.queryIntersectsFeature=function(){return!1},l.prototype._setPaintOverrides=function(){for(var d=0,m=Yc.paint.overridableProperties;d<m.length;d+=1){var b=m[d];if(l.hasPaintOverride(this.layout,b)){var E,S=this.paint.get(b),B=new sh(S),q=new vd(B,S.property.specification);E="constant"===S.value.kind||"source"===S.value.kind?new Ml("source",q):new yc("composite",q,S.value.zoomStops,S.value._interpolationType),this.paint._values[b]=new Ms(S.property,E,S.parameters)}}},l.prototype._handleOverridablePaintPropertyUpdate=function(d,m,b){return!(!this.layout||m.isDataDriven()||b.isDataDriven())&&l.hasPaintOverride(this.layout,d)},l.hasPaintOverride=function(d,m){var b=d.get("text-field"),E=Yc.paint.properties[m],S=!1,B=function(re){for(var le=0,_e=re;le<_e.length;le+=1)if(E.overrides&&E.overrides.hasOverride(_e[le]))return void(S=!0)};if("constant"===b.value.kind&&b.value.value instanceof no)B(b.value.value.sections);else if("source"===b.value.kind){var q=function(re){S||(re instanceof ls&&es(re.value)===Pt?B(re.value.sections):re instanceof nl?B(re.sections):re.eachChild(q))},J=b.value;J._styleExpression&&q(J._styleExpression.expression)}return S},l}(Kc),Xy={paint:new Ga({"background-color":new Vi(ge.paint_background["background-color"]),"background-pattern":new al(ge.paint_background["background-pattern"]),"background-opacity":new Vi(ge.paint_background["background-opacity"])})},Yy=function(a){function l(d){a.call(this,d,Xy)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l}(Kc),tI={paint:new Ga({"raster-opacity":new Vi(ge.paint_raster["raster-opacity"]),"raster-hue-rotate":new Vi(ge.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Vi(ge.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Vi(ge.paint_raster["raster-brightness-max"]),"raster-saturation":new Vi(ge.paint_raster["raster-saturation"]),"raster-contrast":new Vi(ge.paint_raster["raster-contrast"]),"raster-resampling":new Vi(ge.paint_raster["raster-resampling"]),"raster-fade-duration":new Vi(ge.paint_raster["raster-fade-duration"])})},nI=function(a){function l(d){a.call(this,d,tI)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l}(Kc),iI=function(a){function l(d){a.call(this,d,{}),this.implementation=d}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},l.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},l.prototype.recalculate=function(){},l.prototype.updateTransitions=function(){},l.prototype.hasTransition=function(){},l.prototype.serialize=function(){},l.prototype.onAdd=function(d){this.implementation.onAdd&&this.implementation.onAdd(d,d.painter.context.gl)},l.prototype.onRemove=function(d){this.implementation.onRemove&&this.implementation.onRemove(d,d.painter.context.gl)},l}(Kc),rI={circle:Q_,heatmap:dm,hillshade:z_,fill:Ba,"fill-extrusion":Y1,line:yl,symbol:Eg,background:Yy,raster:nI},Zc=G.HTMLImageElement,Pp=G.HTMLCanvasElement,nw=G.HTMLVideoElement,ah=G.ImageData,lh=G.ImageBitmap,Sm=function(a,l,d,m){this.context=a,this.format=d,this.texture=a.gl.createTexture(),this.update(l,m)};Sm.prototype.update=function(a,l,d){var m=a.width,b=a.height,E=!(this.size&&this.size[0]===m&&this.size[1]===b||d),S=this.context,B=S.gl;if(this.useMipmap=!(!l||!l.useMipmap),B.bindTexture(B.TEXTURE_2D,this.texture),S.pixelStoreUnpackFlipY.set(!1),S.pixelStoreUnpack.set(1),S.pixelStoreUnpackPremultiplyAlpha.set(this.format===B.RGBA&&(!l||!1!==l.premultiply)),E)this.size=[m,b],a instanceof Zc||a instanceof Pp||a instanceof nw||a instanceof ah||lh&&a instanceof lh?B.texImage2D(B.TEXTURE_2D,0,this.format,this.format,B.UNSIGNED_BYTE,a):B.texImage2D(B.TEXTURE_2D,0,this.format,m,b,0,this.format,B.UNSIGNED_BYTE,a.data);else{var q=d||{x:0,y:0},J=q.x,re=q.y;a instanceof Zc||a instanceof Pp||a instanceof nw||a instanceof ah||lh&&a instanceof lh?B.texSubImage2D(B.TEXTURE_2D,0,J,re,B.RGBA,B.UNSIGNED_BYTE,a):B.texSubImage2D(B.TEXTURE_2D,0,J,re,m,b,B.RGBA,B.UNSIGNED_BYTE,a.data)}this.useMipmap&&this.isSizePowerOfTwo()&&B.generateMipmap(B.TEXTURE_2D)},Sm.prototype.bind=function(a,l,d){var m=this.context.gl;m.bindTexture(m.TEXTURE_2D,this.texture),d!==m.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(d=m.LINEAR),a!==this.filter&&(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,a),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,d||a),this.filter=a),l!==this.wrap&&(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,l),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,l),this.wrap=l)},Sm.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Sm.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Zy=function(a){var l=this;this._callback=a,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){l._triggered=!1,l._callback()})};Zy.prototype.trigger=function(){var a=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){a._triggered=!1,a._callback()},0))},Zy.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Cg=function(a,l,d){this.target=a,this.parent=l,this.mapId=d,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},pt(["receive","process"],this),this.invoker=new Zy(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=Tt()?a:G};function oI(a,l,d){var m=2*Math.PI*6378137/256/Math.pow(2,d);return[a*m-2*Math.PI*6378137/2,l*m-2*Math.PI*6378137/2]}Cg.prototype.send=function(a,l,d,m,b){var E=this;void 0===b&&(b=!1);var S=Math.round(1e18*Math.random()).toString(36).substring(0,10);d&&(this.callbacks[S]=d);var B=gt(this.globalScope)?void 0:[];return this.target.postMessage({id:S,type:a,hasCallback:!!d,targetMapId:m,mustQueue:b,sourceMapId:this.mapId,data:di(l,B)},B),{cancel:function(){d&&delete E.callbacks[S],E.target.postMessage({id:S,type:"<cancel>",targetMapId:m,sourceMapId:E.mapId})}}},Cg.prototype.receive=function(a){var l=a.data,d=l.id;if(d&&(!l.targetMapId||this.mapId===l.targetMapId))if("<cancel>"===l.type){delete this.tasks[d];var m=this.cancelCallbacks[d];delete this.cancelCallbacks[d],m&&m()}else Tt()||l.mustQueue?(this.tasks[d]=l,this.taskQueue.push(d),this.invoker.trigger()):this.processTask(d,l)},Cg.prototype.process=function(){if(this.taskQueue.length){var a=this.taskQueue.shift(),l=this.tasks[a];delete this.tasks[a],this.taskQueue.length&&this.invoker.trigger(),l&&this.processTask(a,l)}},Cg.prototype.processTask=function(a,l){var d=this;if("<response>"===l.type){var m=this.callbacks[a];delete this.callbacks[a],m&&(l.error?m(Ra(l.error)):m(null,Ra(l.data)))}else{var b=!1,E=gt(this.globalScope)?void 0:[],S=l.hasCallback?function(re,le){b=!0,delete d.cancelCallbacks[a],d.target.postMessage({id:a,type:"<response>",sourceMapId:d.mapId,error:re?di(re):null,data:di(le,E)},E)}:function(re){b=!0},B=null,q=Ra(l.data);if(this.parent[l.type])B=this.parent[l.type](l.sourceMapId,q,S);else if(this.parent.getWorkerSource){var J=l.type.split(".");B=this.parent.getWorkerSource(l.sourceMapId,J[0],q.source)[J[1]](q,S)}else S(new Error("Could not find function "+l.type));!b&&B&&B.cancel&&(this.cancelCallbacks[a]=B.cancel)}},Cg.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var ra=function(a,l){a&&(l?this.setSouthWest(a).setNorthEast(l):4===a.length?this.setSouthWest([a[0],a[1]]).setNorthEast([a[2],a[3]]):this.setSouthWest(a[0]).setNorthEast(a[1]))};ra.prototype.setNorthEast=function(a){return this._ne=a instanceof us?new us(a.lng,a.lat):us.convert(a),this},ra.prototype.setSouthWest=function(a){return this._sw=a instanceof us?new us(a.lng,a.lat):us.convert(a),this},ra.prototype.extend=function(a){var l,d,m=this._sw,b=this._ne;if(a instanceof us)l=a,d=a;else{if(!(a instanceof ra))return Array.isArray(a)?4===a.length||a.every(Array.isArray)?this.extend(ra.convert(a)):this.extend(us.convert(a)):this;if(d=a._ne,!(l=a._sw)||!d)return this}return m||b?(m.lng=Math.min(l.lng,m.lng),m.lat=Math.min(l.lat,m.lat),b.lng=Math.max(d.lng,b.lng),b.lat=Math.max(d.lat,b.lat)):(this._sw=new us(l.lng,l.lat),this._ne=new us(d.lng,d.lat)),this},ra.prototype.getCenter=function(){return new us((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},ra.prototype.getSouthWest=function(){return this._sw},ra.prototype.getNorthEast=function(){return this._ne},ra.prototype.getNorthWest=function(){return new us(this.getWest(),this.getNorth())},ra.prototype.getSouthEast=function(){return new us(this.getEast(),this.getSouth())},ra.prototype.getWest=function(){return this._sw.lng},ra.prototype.getSouth=function(){return this._sw.lat},ra.prototype.getEast=function(){return this._ne.lng},ra.prototype.getNorth=function(){return this._ne.lat},ra.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},ra.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},ra.prototype.isEmpty=function(){return!(this._sw&&this._ne)},ra.prototype.contains=function(a){var l=us.convert(a),d=l.lng,m=l.lat,b=this._sw.lng<=d&&d<=this._ne.lng;return this._sw.lng>this._ne.lng&&(b=this._sw.lng>=d&&d>=this._ne.lng),this._sw.lat<=m&&m<=this._ne.lat&&b},ra.convert=function(a){return!a||a instanceof ra?a:new ra(a)};var us=function(a,l){if(isNaN(a)||isNaN(l))throw new Error("Invalid LngLat object: ("+a+", "+l+")");if(this.lng=+a,this.lat=+l,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};us.prototype.wrap=function(){return new us(me(this.lng,-180,180),this.lat)},us.prototype.toArray=function(){return[this.lng,this.lat]},us.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},us.prototype.distanceTo=function(a){var l=Math.PI/180,d=this.lat*l,m=a.lat*l,b=Math.sin(d)*Math.sin(m)+Math.cos(d)*Math.cos(m)*Math.cos((a.lng-this.lng)*l);return 6371008.8*Math.acos(Math.min(b,1))},us.prototype.toBounds=function(a){void 0===a&&(a=0);var l=360*a/40075017,d=l/Math.cos(Math.PI/180*this.lat);return new ra(new us(this.lng-d,this.lat-l),new us(this.lng+d,this.lat+l))},us.convert=function(a){if(a instanceof us)return a;if(Array.isArray(a)&&(2===a.length||3===a.length))return new us(Number(a[0]),Number(a[1]));if(!Array.isArray(a)&&"object"==typeof a&&null!==a)return new us(Number("lng"in a?a.lng:a.lon),Number(a.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Jy=2*Math.PI*6371008.8;function J_(a){return Jy*Math.cos(a*Math.PI/180)}function sI(a){return(180+a)/360}function iw(a){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+a*Math.PI/360)))/360}function e0(a,l){return a/J_(l)}function t0(a){return 360/Math.PI*Math.atan(Math.exp((180-360*a)*Math.PI/180))-90}var EA=function(a,l,d){void 0===d&&(d=0),this.x=+a,this.y=+l,this.z=+d};EA.fromLngLat=function(a,l){void 0===l&&(l=0);var d=us.convert(a);return new EA(sI(d.lng),iw(d.lat),e0(l,d.lat))},EA.prototype.toLngLat=function(){return new us(360*this.x-180,t0(this.y))},EA.prototype.toAltitude=function(){return this.z*J_(t0(this.y))},EA.prototype.meterInMercatorCoordinateUnits=function(){return 1/Jy*(a=t0(this.y),1/Math.cos(a*Math.PI/180));var a};var CA=function(a,l,d){this.z=a,this.x=l,this.y=d,this.key=ev(0,a,a,l,d)};CA.prototype.equals=function(a){return this.z===a.z&&this.x===a.x&&this.y===a.y},CA.prototype.url=function(a,l){var d,m,b,E,S,B=(m=this.y,b=this.z,E=oI(256*(d=this.x),256*(m=Math.pow(2,b)-m-1),b),S=oI(256*(d+1),256*(m+1),b),E[0]+","+E[1]+","+S[0]+","+S[1]),q=function(J,re,le){for(var _e,Ee="",Ge=J;Ge>0;Ge--)Ee+=(re&(_e=1<<Ge-1)?1:0)+(le&_e?2:0);return Ee}(this.z,this.x,this.y);return a[(this.x+this.y)%a.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===l?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",q).replace("{bbox-epsg-3857}",B)},CA.prototype.getTilePoint=function(a){var l=Math.pow(2,this.z);return new W(8192*(a.x*l-this.x),8192*(a.y*l-this.y))},CA.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var rw=function(a,l){this.wrap=a,this.canonical=l,this.key=ev(a,l.z,l.z,l.x,l.y)},oa=function(a,l,d,m,b){this.overscaledZ=a,this.wrap=l,this.canonical=new CA(d,+m,+b),this.key=ev(l,a,d,m,b)};function ev(a,l,d,m,b){(a*=2)<0&&(a=-1*a-1);var E=1<<d;return(E*E*a+E*b+m).toString(36)+d.toString(36)+l.toString(36)}oa.prototype.equals=function(a){return this.overscaledZ===a.overscaledZ&&this.wrap===a.wrap&&this.canonical.equals(a.canonical)},oa.prototype.scaledTo=function(a){var l=this.canonical.z-a;return a>this.canonical.z?new oa(a,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new oa(a,this.wrap,a,this.canonical.x>>l,this.canonical.y>>l)},oa.prototype.calculateScaledKey=function(a,l){var d=this.canonical.z-a;return a>this.canonical.z?ev(this.wrap*+l,a,this.canonical.z,this.canonical.x,this.canonical.y):ev(this.wrap*+l,a,a,this.canonical.x>>d,this.canonical.y>>d)},oa.prototype.isChildOf=function(a){if(a.wrap!==this.wrap)return!1;var l=this.canonical.z-a.canonical.z;return 0===a.overscaledZ||a.overscaledZ<this.overscaledZ&&a.canonical.x===this.canonical.x>>l&&a.canonical.y===this.canonical.y>>l},oa.prototype.children=function(a){if(this.overscaledZ>=a)return[new oa(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var l=this.canonical.z+1,d=2*this.canonical.x,m=2*this.canonical.y;return[new oa(l,this.wrap,l,d,m),new oa(l,this.wrap,l,d+1,m),new oa(l,this.wrap,l,d,m+1),new oa(l,this.wrap,l,d+1,m+1)]},oa.prototype.isLessThan=function(a){return this.wrap<a.wrap||!(this.wrap>a.wrap)&&(this.overscaledZ<a.overscaledZ||!(this.overscaledZ>a.overscaledZ)&&(this.canonical.x<a.canonical.x||!(this.canonical.x>a.canonical.x)&&this.canonical.y<a.canonical.y))},oa.prototype.wrapped=function(){return new oa(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},oa.prototype.unwrapTo=function(a){return new oa(this.overscaledZ,a,this.canonical.z,this.canonical.x,this.canonical.y)},oa.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},oa.prototype.toUnwrapped=function(){return new rw(this.wrap,this.canonical)},oa.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},oa.prototype.getTilePoint=function(a){return this.canonical.getTilePoint(new EA(a.x-this.wrap,a.y))},li("CanonicalTileID",CA),li("OverscaledTileID",oa,{omit:["posMatrix"]});var sa=function(a,l,d){if(this.uid=a,l.height!==l.width)throw new RangeError("DEM tiles must be square");if(d&&"mapbox"!==d&&"terrarium"!==d)return ze('"'+d+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=l.height;var m=this.dim=l.height-2;this.data=new Uint32Array(l.data.buffer),this.encoding=d||"mapbox";for(var b=0;b<m;b++)this.data[this._idx(-1,b)]=this.data[this._idx(0,b)],this.data[this._idx(m,b)]=this.data[this._idx(m-1,b)],this.data[this._idx(b,-1)]=this.data[this._idx(b,0)],this.data[this._idx(b,m)]=this.data[this._idx(b,m-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(m,-1)]=this.data[this._idx(m-1,0)],this.data[this._idx(-1,m)]=this.data[this._idx(0,m-1)],this.data[this._idx(m,m)]=this.data[this._idx(m-1,m-1)]};sa.prototype.get=function(a,l){var d=new Uint8Array(this.data.buffer),m=4*this._idx(a,l);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(d[m],d[m+1],d[m+2])},sa.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},sa.prototype._idx=function(a,l){if(a<-1||a>=this.dim+1||l<-1||l>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(l+1)*this.stride+(a+1)},sa.prototype._unpackMapbox=function(a,l,d){return(256*a*256+256*l+d)/10-1e4},sa.prototype._unpackTerrarium=function(a,l,d){return 256*a+l+d/256-32768},sa.prototype.getPixels=function(){return new vl({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},sa.prototype.backfillBorder=function(a,l,d){if(this.dim!==a.dim)throw new Error("dem dimension mismatch");var m=l*this.dim,b=l*this.dim+this.dim,E=d*this.dim,S=d*this.dim+this.dim;switch(l){case-1:m=b-1;break;case 1:b=m+1}switch(d){case-1:E=S-1;break;case 1:S=E+1}for(var B=-l*this.dim,q=-d*this.dim,J=E;J<S;J++)for(var re=m;re<b;re++)this.data[this._idx(re,J)]=a.data[this._idx(re+B,J+q)]},li("DEMData",sa);var Op=function(a){this._stringToNumber={},this._numberToString=[];for(var l=0;l<a.length;l++){var d=a[l];this._stringToNumber[d]=l,this._numberToString[l]=d}};Op.prototype.encode=function(a){return this._stringToNumber[a]},Op.prototype.decode=function(a){return this._numberToString[a]};var xs=function(a,l,d,m,b){this.type="Feature",this._vectorTileFeature=a,a._z=l,a._x=d,a._y=m,this.properties=a.properties,this.id=b},wa={geometry:{configurable:!0}};wa.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},wa.geometry.set=function(a){this._geometry=a},xs.prototype.toJSON=function(){var a={geometry:this.geometry};for(var l in this)"_geometry"!==l&&"_vectorTileFeature"!==l&&(a[l]=this[l]);return a},Object.defineProperties(xs.prototype,wa);var Ig=function(){this.state={},this.stateChanges={},this.deletedStates={}};Ig.prototype.updateState=function(a,l,d){var m=String(l);if(this.stateChanges[a]=this.stateChanges[a]||{},this.stateChanges[a][m]=this.stateChanges[a][m]||{},we(this.stateChanges[a][m],d),null===this.deletedStates[a])for(var b in this.deletedStates[a]={},this.state[a])b!==m&&(this.deletedStates[a][b]=null);else if(this.deletedStates[a]&&null===this.deletedStates[a][m])for(var E in this.deletedStates[a][m]={},this.state[a][m])d[E]||(this.deletedStates[a][m][E]=null);else for(var S in d)this.deletedStates[a]&&this.deletedStates[a][m]&&null===this.deletedStates[a][m][S]&&delete this.deletedStates[a][m][S]},Ig.prototype.removeFeatureState=function(a,l,d){if(null!==this.deletedStates[a]){var m=String(l);if(this.deletedStates[a]=this.deletedStates[a]||{},d&&void 0!==l)null!==this.deletedStates[a][m]&&(this.deletedStates[a][m]=this.deletedStates[a][m]||{},this.deletedStates[a][m][d]=null);else if(void 0!==l)if(this.stateChanges[a]&&this.stateChanges[a][m])for(d in this.deletedStates[a][m]={},this.stateChanges[a][m])this.deletedStates[a][m][d]=null;else this.deletedStates[a][m]=null;else this.deletedStates[a]=null}},Ig.prototype.getState=function(a,l){var d=String(l),m=we({},(this.state[a]||{})[d],(this.stateChanges[a]||{})[d]);if(null===this.deletedStates[a])return{};if(this.deletedStates[a]){var b=this.deletedStates[a][l];if(null===b)return{};for(var E in b)delete m[E]}return m},Ig.prototype.initializeTileState=function(a,l){a.setFeatureState(this.state,l)},Ig.prototype.coalesceChanges=function(a,l){var d={};for(var m in this.stateChanges){this.state[m]=this.state[m]||{};var b={};for(var E in this.stateChanges[m])this.state[m][E]||(this.state[m][E]={}),we(this.state[m][E],this.stateChanges[m][E]),b[E]=this.state[m][E];d[m]=b}for(var S in this.deletedStates){this.state[S]=this.state[S]||{};var B={};if(null===this.deletedStates[S])for(var q in this.state[S])B[q]={},this.state[S][q]={};else for(var J in this.deletedStates[S]){if(null===this.deletedStates[S][J])this.state[S][J]={};else for(var re=0,le=Object.keys(this.deletedStates[S][J]);re<le.length;re+=1)delete this.state[S][J][le[re]];B[J]=this.state[S][J]}d[S]=d[S]||{},we(d[S],B)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(d).length)for(var _e in a)a[_e].setFeatureState(d,l)};var ch=function(a,l){this.tileID=a,this.x=a.canonical.x,this.y=a.canonical.y,this.z=a.canonical.z,this.grid=new Gn(8192,16,0),this.grid3D=new Gn(8192,16,0),this.featureIndexArray=new ue,this.promoteId=l};function aI(a,l,d,m,b){return vt(a,function(E,S){var B=l instanceof xd?l.get(S):null;return B&&B.evaluate?B.evaluate(d,m,b):B})}function ow(a){for(var l=1/0,d=1/0,m=-1/0,b=-1/0,E=0,S=a;E<S.length;E+=1){var B=S[E];l=Math.min(l,B.x),d=Math.min(d,B.y),m=Math.max(m,B.x),b=Math.max(b,B.y)}return{minX:l,minY:d,maxX:m,maxY:b}}function lI(a,l){return l-a}ch.prototype.insert=function(a,l,d,m,b,E){var S=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(d,m,b);for(var B=E?this.grid3D:this.grid,q=0;q<l.length;q++){for(var J=l[q],re=[1/0,1/0,-1/0,-1/0],le=0;le<J.length;le++){var _e=J[le];re[0]=Math.min(re[0],_e.x),re[1]=Math.min(re[1],_e.y),re[2]=Math.max(re[2],_e.x),re[3]=Math.max(re[3],_e.y)}re[0]<8192&&re[1]<8192&&re[2]>=0&&re[3]>=0&&B.insert(S,re[0],re[1],re[2],re[3])}},ch.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new yf.VectorTile(new yA(this.rawTileData)).layers,this.sourceLayerCoder=new Op(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},ch.prototype.query=function(a,l,d,m){var b=this;this.loadVTLayers();for(var E=a.params||{},S=8192/a.tileSize/a.scale,B=wc(E.filter),q=a.queryGeometry,J=a.queryPadding*S,re=ow(q),le=this.grid.query(re.minX-J,re.minY-J,re.maxX+J,re.maxY+J),_e=ow(a.cameraQueryGeometry),Ee=0,Ge=this.grid3D.query(_e.minX-J,_e.minY-J,_e.maxX+J,_e.maxY+J,function(Nt,$t,nn,Tn){return function(Vn,ti,ji,hi,Hi){for(var pi=0,yr=Vn;pi<yr.length;pi+=1){var rr=yr[pi];if(ti<=rr.x&&ji<=rr.y&&hi>=rr.x&&Hi>=rr.y)return!0}var xi=[new W(ti,ji),new W(ti,Hi),new W(hi,Hi),new W(hi,ji)];if(Vn.length>2)for(var Ur=0,Dr=xi;Ur<Dr.length;Ur+=1)if(Xu(Vn,Dr[Ur]))return!0;for(var zr=0;zr<Vn.length-1;zr++)if(bi(Vn[zr],Vn[zr+1],xi))return!0;return!1}(a.cameraQueryGeometry,Nt-J,$t-J,nn+J,Tn+J)});Ee<Ge.length;Ee+=1)le.push(Ge[Ee]);le.sort(lI);for(var Ke,dt={},it=function(Nt){var $t=le[Nt];if($t!==Ke){Ke=$t;var nn=b.featureIndexArray.get($t),Tn=null;b.loadMatchingFeature(dt,nn.bucketIndex,nn.sourceLayerIndex,nn.featureIndex,B,E.layers,E.availableImages,l,d,m,function(Vn,ti,ji){return Tn||(Tn=bo(Vn)),ti.queryIntersectsFeature(q,Vn,ji,Tn,b.z,a.transform,S,a.pixelPosMatrix)})}},Bt=0;Bt<le.length;Bt++)it(Bt);return dt},ch.prototype.loadMatchingFeature=function(a,l,d,m,b,E,S,B,q,J,re){var le=this.bucketLayerIDs[l];if(!E||function(ti,ji){for(var hi=0;hi<ti.length;hi++)if(ji.indexOf(ti[hi])>=0)return!0;return!1}(E,le)){var _e=this.sourceLayerCoder.decode(d),Ee=this.vtLayers[_e].feature(m);if(b.needGeometry){var Ge=ws(Ee,!0);if(!b.filter(new Kr(this.tileID.overscaledZ),Ge,this.tileID.canonical))return}else if(!b.filter(new Kr(this.tileID.overscaledZ),Ee))return;for(var Ke=this.getId(Ee,_e),dt=0;dt<le.length;dt++){var it=le[dt];if(!(E&&E.indexOf(it)<0)){var Bt=B[it];if(Bt){var Nt={};void 0!==Ke&&J&&(Nt=J.getState(Bt.sourceLayer||"_geojsonTileLayer",Ke));var $t=we({},q[it]);$t.paint=aI($t.paint,Bt.paint,Ee,Nt,S),$t.layout=aI($t.layout,Bt.layout,Ee,Nt,S);var nn=!re||re(Ee,Bt,Nt);if(nn){var Tn=new xs(Ee,this.z,this.x,this.y,Ke);Tn.layer=$t;var Vn=a[it];void 0===Vn&&(Vn=a[it]=[]),Vn.push({featureIndex:m,feature:Tn,intersectionZ:nn})}}}}}},ch.prototype.lookupSymbolFeatures=function(a,l,d,m,b,E,S,B){var q={};this.loadVTLayers();for(var J=wc(b),re=0,le=a;re<le.length;re+=1)this.loadMatchingFeature(q,d,m,le[re],J,E,S,B,l);return q},ch.prototype.hasLayer=function(a){for(var l=0,d=this.bucketLayerIDs;l<d.length;l+=1)for(var m=0,b=d[l];m<b.length;m+=1)if(a===b[m])return!0;return!1},ch.prototype.getId=function(a,l){var d=a.id;return this.promoteId&&"boolean"==typeof(d=a.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[l]])&&(d=Number(d)),d},li("FeatureIndex",ch,{omit:["rawTileData","sourceLayerCoder"]});var aa=function(a,l){this.tileID=a,this.uid=ot(),this.uses=0,this.tileSize=l,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};aa.prototype.registerFadeDuration=function(a){var l=a+this.timeAdded;l<ei.now()||this.fadeEndTime&&l<this.fadeEndTime||(this.fadeEndTime=l)},aa.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},aa.prototype.loadVectorData=function(a,l,d){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",a){for(var m in a.featureIndex&&(this.latestFeatureIndex=a.featureIndex,a.rawTileData?(this.latestRawTileData=a.rawTileData,this.latestFeatureIndex.rawTileData=a.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=a.collisionBoxArray,this.buckets=function(J,re){var le={};if(!re)return le;for(var _e=function(){var Ke=Ge[Ee],dt=Ke.layerIds.map(function(Nt){return re.getLayer(Nt)}).filter(Boolean);if(0!==dt.length){Ke.layers=dt,Ke.stateDependentLayerIds&&(Ke.stateDependentLayers=Ke.stateDependentLayerIds.map(function(Nt){return dt.filter(function($t){return $t.id===Nt})[0]}));for(var it=0,Bt=dt;it<Bt.length;it+=1)le[Bt[it].id]=Ke}},Ee=0,Ge=J;Ee<Ge.length;Ee+=1)_e();return le}(a.buckets,l.style),this.hasSymbolBuckets=!1,this.buckets){var b=this.buckets[m];if(b instanceof wo){if(this.hasSymbolBuckets=!0,!d)break;b.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var E in this.buckets){var S=this.buckets[E];if(S instanceof wo&&S.hasRTLText){this.hasRTLText=!0,bu.isLoading()||bu.isLoaded()||"deferred"!==dA()||wd();break}}for(var B in this.queryPadding=0,this.buckets){var q=this.buckets[B];this.queryPadding=Math.max(this.queryPadding,l.style.getLayer(B).queryRadius(q))}a.imageAtlas&&(this.imageAtlas=a.imageAtlas),a.glyphAtlasImage&&(this.glyphAtlasImage=a.glyphAtlasImage)}else this.collisionBoxArray=new f},aa.prototype.unloadVectorData=function(){for(var a in this.buckets)this.buckets[a].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},aa.prototype.getBucket=function(a){return this.buckets[a.id]},aa.prototype.upload=function(a){for(var l in this.buckets){var d=this.buckets[l];d.uploadPending()&&d.upload(a)}var m=a.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Sm(a,this.imageAtlas.image,m.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Sm(a,this.glyphAtlasImage,m.ALPHA),this.glyphAtlasImage=null)},aa.prototype.prepare=function(a){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(a,this.imageAtlasTexture)},aa.prototype.queryRenderedFeatures=function(a,l,d,m,b,E,S,B,q,J){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:m,cameraQueryGeometry:b,scale:E,tileSize:this.tileSize,pixelPosMatrix:J,transform:B,params:S,queryPadding:this.queryPadding*q},a,l,d):{}},aa.prototype.querySourceFeatures=function(a,l){var d=this.latestFeatureIndex;if(d&&d.rawTileData){var m=d.loadVTLayers(),b=l?l.sourceLayer:"",E=m._geojsonTileLayer||m[b];if(E)for(var S=wc(l&&l.filter),B=this.tileID.canonical,q=B.z,J=B.x,re=B.y,le={z:q,x:J,y:re},_e=0;_e<E.length;_e++){var Ee=E.feature(_e);if(S.needGeometry){var Ge=ws(Ee,!0);if(!S.filter(new Kr(this.tileID.overscaledZ),Ge,this.tileID.canonical))continue}else if(!S.filter(new Kr(this.tileID.overscaledZ),Ee))continue;var Ke=d.getId(Ee,b),dt=new xs(Ee,q,J,re,Ke);dt.tile=le,a.push(dt)}}},aa.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},aa.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},aa.prototype.setExpiryData=function(a){var l=this.expirationTime;if(a.cacheControl){var d=yn(a.cacheControl);d["max-age"]&&(this.expirationTime=Date.now()+1e3*d["max-age"])}else a.expires&&(this.expirationTime=new Date(a.expires).getTime());if(this.expirationTime){var m=Date.now(),b=!1;if(this.expirationTime>m)b=!1;else if(l)if(this.expirationTime<l)b=!0;else{var E=this.expirationTime-l;E?this.expirationTime=m+Math.max(E,3e4):b=!0}else b=!0;b?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},aa.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},aa.prototype.setFeatureState=function(a,l){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(a).length){var d=this.latestFeatureIndex.loadVTLayers();for(var m in this.buckets)if(l.style.hasLayer(m)){var b=this.buckets[m],E=b.layers[0].sourceLayer||"_geojsonTileLayer",S=d[E],B=a[E];if(S&&B&&0!==Object.keys(B).length){b.update(B,S,this.imageAtlas&&this.imageAtlas.patternPositions||{});var q=l&&l.style&&l.style.getLayer(m);q&&(this.queryPadding=Math.max(this.queryPadding,q.queryRadius(b)))}}}},aa.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},aa.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<ei.now()},aa.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},aa.prototype.setHoldDuration=function(a){this.symbolFadeHoldUntil=ei.now()+a},aa.prototype.setDependencies=function(a,l){for(var d={},m=0,b=l;m<b.length;m+=1)d[b[m]]=!0;this.dependencies[a]=d},aa.prototype.hasDependency=function(a,l){for(var d=0,m=a;d<m.length;d+=1){var b=this.dependencies[m[d]];if(b)for(var E=0,S=l;E<S.length;E+=1)if(b[S[E]])return!0}return!1};var Rc=G.performance,cI=function(a){this._marks={start:[a.url,"start"].join("#"),end:[a.url,"end"].join("#"),measure:a.url.toString()},Rc.mark(this._marks.start)};cI.prototype.finish=function(){Rc.mark(this._marks.end);var a=Rc.getEntriesByName(this._marks.measure);return 0===a.length&&(Rc.measure(this._marks.measure,this._marks.start,this._marks.end),a=Rc.getEntriesByName(this._marks.measure),Rc.clearMarks(this._marks.start),Rc.clearMarks(this._marks.end),Rc.clearMeasures(this._marks.measure)),a},A.Actor=Cg,A.AlphaImage=Yu,A.CanonicalTileID=CA,A.CollisionBoxArray=f,A.Color=Or,A.DEMData=sa,A.DataConstantProperty=Vi,A.DictionaryCoder=Op,A.EXTENT=8192,A.ErrorEvent=Pe,A.EvaluationParameters=Kr,A.Event=de,A.Evented=Qe,A.FeatureIndex=ch,A.FillBucket=Vo,A.FillExtrusionBucket=sc,A.ImageAtlas=Em,A.ImagePosition=Qs,A.LineBucket=Wa,A.LngLat=us,A.LngLatBounds=ra,A.MercatorCoordinate=EA,A.ONE_EM=24,A.OverscaledTileID=oa,A.Point=W,A.Point$1=W,A.Properties=Ga,A.Protobuf=yA,A.RGBAImage=vl,A.RequestManager=Zt,A.RequestPerformance=cI,A.ResourceType=Wo,A.SegmentVector=Se,A.SourceFeatureState=Ig,A.StructArrayLayout1ui2=Oh,A.StructArrayLayout2f1f2i16=rc,A.StructArrayLayout2i4=Vs,A.StructArrayLayout3ui6=Ll,A.StructArrayLayout4i8=lm,A.SymbolBucket=wo,A.Texture=Sm,A.Tile=aa,A.Transitionable=Rs,A.Uniform1f=wn,A.Uniform1i=Cn,A.Uniform2f=Un,A.Uniform3f=ci,A.Uniform4f=Oi,A.UniformColor=Qi,A.UniformMatrix4f=Sr,A.UnwrappedTileID=rw,A.ValidationError=Ve,A.WritingMode=ac,A.ZoomHistory=sm,A.add=function(a,l,d){return a[0]=l[0]+d[0],a[1]=l[1]+d[1],a[2]=l[2]+d[2],a},A.addDynamicAttributes=Yr,A.asyncAll=function(a,l,d){if(!a.length)return d(null,[]);var m=a.length,b=new Array(a.length),E=null;a.forEach(function(S,B){l(S,function(q,J){q&&(E=q),b[B]=J,0==--m&&d(E,b)})})},A.bezier=Z,A.bindAll=pt,A.browser=ei,A.cacheEntryPossiblyAdded=function(a){++Jr>_r&&(a.getActor().send("enforceCacheSizeLimit",gr),Jr=0)},A.clamp=fe,A.clearTileCache=function(a){var l=G.caches.delete("mapbox-tiles");a&&l.catch(a).then(function(){return a()})},A.clipLine=wg,A.clone=function(a){var l=new wr(16);return l[0]=a[0],l[1]=a[1],l[2]=a[2],l[3]=a[3],l[4]=a[4],l[5]=a[5],l[6]=a[6],l[7]=a[7],l[8]=a[8],l[9]=a[9],l[10]=a[10],l[11]=a[11],l[12]=a[12],l[13]=a[13],l[14]=a[14],l[15]=a[15],l},A.clone$1=st,A.clone$2=function(a){var l=new wr(3);return l[0]=a[0],l[1]=a[1],l[2]=a[2],l},A.collisionCircleLayout=bm,A.config=Xn,A.create=function(){var a=new wr(16);return wr!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=0,a[12]=0,a[13]=0,a[14]=0),a[0]=1,a[5]=1,a[10]=1,a[15]=1,a},A.create$1=function(){var a=new wr(9);return wr!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[5]=0,a[6]=0,a[7]=0),a[0]=1,a[4]=1,a[8]=1,a},A.create$2=function(){var a=new wr(4);return wr!=Float32Array&&(a[1]=0,a[2]=0),a[0]=1,a[3]=1,a},A.createCommonjsModule=L,A.createExpression=an,A.createLayout=ta,A.createStyleLayer=function(a){return"custom"===a.type?new iI(a):new rI[a.type](a)},A.cross=function(a,l,d){var m=l[0],b=l[1],E=l[2],S=d[0],B=d[1],q=d[2];return a[0]=b*q-E*B,a[1]=E*S-m*q,a[2]=m*B-b*S,a},A.deepEqual=function a(l,d){if(Array.isArray(l)){if(!Array.isArray(d)||l.length!==d.length)return!1;for(var m=0;m<l.length;m++)if(!a(l[m],d[m]))return!1;return!0}if("object"==typeof l&&null!==l&&null!==d){if("object"!=typeof d||Object.keys(l).length!==Object.keys(d).length)return!1;for(var b in l)if(!a(l[b],d[b]))return!1;return!0}return l===d},A.dot=function(a,l){return a[0]*l[0]+a[1]*l[1]+a[2]*l[2]},A.dot$1=function(a,l){return a[0]*l[0]+a[1]*l[1]+a[2]*l[2]+a[3]*l[3]},A.ease=se,A.emitValidationErrors=Ln,A.endsWith=mt,A.enforceCacheSizeLimit=function(a){Lr(),zi&&zi.then(function(l){l.keys().then(function(d){for(var m=0;m<d.length-a;m++)l.delete(d[m])})})},A.evaluateSizeForFeature=kc,A.evaluateSizeForZoom=Dc,A.evaluateVariableOffset=Vt,A.evented=am,A.extend=we,A.featureFilter=wc,A.filterObject=Je,A.fromRotation=function(a,l){var d=Math.sin(l),m=Math.cos(l);return a[0]=m,a[1]=d,a[2]=0,a[3]=-d,a[4]=m,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a},A.getAnchorAlignment=Xc,A.getAnchorJustification=In,A.getArrayBuffer=Ss,A.getImage=K,A.getJSON=function(a,l){return pr(we(a,{type:"json"}),l)},A.getRTLTextPluginStatus=dA,A.getReferrer=$o,A.getVideo=function(a,l){var d,m,b=G.document.createElement("video");b.muted=!0,b.onloadstart=function(){l(null,b)};for(var E=0;E<a.length;E++){var S=G.document.createElement("source");d=a[E],m=void 0,(m=G.document.createElement("a")).href=d,(m.protocol!==G.document.location.protocol||m.host!==G.document.location.host)&&(b.crossOrigin="Anonymous"),S.src=a[E],b.appendChild(S)}return{cancel:function(){}}},A.identity=na,A.invert=function(a,l){var d=l[0],m=l[1],b=l[2],E=l[3],S=l[4],B=l[5],q=l[6],J=l[7],re=l[8],le=l[9],_e=l[10],Ee=l[11],Ge=l[12],Ke=l[13],dt=l[14],it=l[15],Bt=d*B-m*S,Nt=d*q-b*S,$t=d*J-E*S,nn=m*q-b*B,Tn=m*J-E*B,Vn=b*J-E*q,ti=re*Ke-le*Ge,ji=re*dt-_e*Ge,hi=re*it-Ee*Ge,Hi=le*dt-_e*Ke,pi=le*it-Ee*Ke,yr=_e*it-Ee*dt,rr=Bt*yr-Nt*pi+$t*Hi+nn*hi-Tn*ji+Vn*ti;return rr?(a[0]=(B*yr-q*pi+J*Hi)*(rr=1/rr),a[1]=(b*pi-m*yr-E*Hi)*rr,a[2]=(Ke*Vn-dt*Tn+it*nn)*rr,a[3]=(_e*Tn-le*Vn-Ee*nn)*rr,a[4]=(q*hi-S*yr-J*ji)*rr,a[5]=(d*yr-b*hi+E*ji)*rr,a[6]=(dt*$t-Ge*Vn-it*Nt)*rr,a[7]=(re*Vn-_e*$t+Ee*Nt)*rr,a[8]=(S*pi-B*hi+J*ti)*rr,a[9]=(m*hi-d*pi-E*ti)*rr,a[10]=(Ge*Tn-Ke*$t+it*Bt)*rr,a[11]=(le*$t-re*Tn-Ee*Bt)*rr,a[12]=(B*ji-S*Hi-q*ti)*rr,a[13]=(d*Hi-m*ji+b*ti)*rr,a[14]=(Ke*Nt-Ge*nn-dt*Bt)*rr,a[15]=(re*nn-le*Nt+_e*Bt)*rr,a):null},A.isChar=Yn,A.isMapboxURL=fi,A.keysDifference=function(a,l){var d=[];for(var m in a)m in l||d.push(m);return d},A.makeRequest=pr,A.mapObject=vt,A.mercatorXfromLng=sI,A.mercatorYfromLat=iw,A.mercatorZfromAltitude=e0,A.mul=pA,A.multiply=Yo,A.mvt=yf,A.nextPowerOfTwo=function(a){return a<=1?1:Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))},A.normalize=function(a,l){var d=l[0],m=l[1],b=l[2],E=d*d+m*m+b*b;return E>0&&(E=1/Math.sqrt(E)),a[0]=l[0]*E,a[1]=l[1]*E,a[2]=l[2]*E,a},A.number=ds,A.offscreenCanvasSupported=Io,A.ortho=function(a,l,d,m,b,E,S){var B=1/(l-d),q=1/(m-b),J=1/(E-S);return a[0]=-2*B,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=-2*q,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2*J,a[11]=0,a[12]=(l+d)*B,a[13]=(b+m)*q,a[14]=(S+E)*J,a[15]=1,a},A.parseGlyphPBF=function(a){return new yA(a).readFields(JC,[])},A.pbf=yA,A.performSymbolLayout=function(a,l,d,m,b,E,S){a.createArrays(),a.tilePixelRatio=8192/(512*a.overscaling),a.compareText={},a.iconsNeedLinear=!1;var B=a.layers[0].layout,q=a.layers[0]._unevaluatedLayout._values,J={};if("composite"===a.textSizeData.kind){var re=a.textSizeData,le=re.maxZoom;J.compositeTextSizes=[q["text-size"].possiblyEvaluate(new Kr(re.minZoom),S),q["text-size"].possiblyEvaluate(new Kr(le),S)]}if("composite"===a.iconSizeData.kind){var _e=a.iconSizeData,Ee=_e.maxZoom;J.compositeIconSizes=[q["icon-size"].possiblyEvaluate(new Kr(_e.minZoom),S),q["icon-size"].possiblyEvaluate(new Kr(Ee),S)]}J.layoutTextSize=q["text-size"].possiblyEvaluate(new Kr(a.zoom+1),S),J.layoutIconSize=q["icon-size"].possiblyEvaluate(new Kr(a.zoom+1),S),J.textMaxSize=q["text-size"].possiblyEvaluate(new Kr(18));for(var Ge=24*B.get("text-line-height"),Ke="map"===B.get("text-rotation-alignment")&&"point"!==B.get("symbol-placement"),dt=B.get("text-keep-upright"),it=B.get("text-size"),Bt=function(){var nn=$t[Nt],Tn=B.get("text-font").evaluate(nn,{},S).join(","),Vn=it.evaluate(nn,{},S),ti=J.layoutTextSize.evaluate(nn,{},S),ji=J.layoutIconSize.evaluate(nn,{},S),hi={horizontal:{},vertical:void 0},Hi=nn.text,pi=[0,0];if(Hi){var yr=Hi.toString(),rr=24*B.get("text-letter-spacing").evaluate(nn,{},S),xi=function(ar){for(var is=0,Fi=ar;is<Fi.length;is+=1)if(io=Fi[is].charCodeAt(0),Yn.Arabic(io)||Yn["Arabic Supplement"](io)||Yn["Arabic Extended-A"](io)||Yn["Arabic Presentation Forms-A"](io)||Yn["Arabic Presentation Forms-B"](io))return!1;var io;return!0}(yr)?rr:0,Ur=B.get("text-anchor").evaluate(nn,{},S),Dr=B.get("text-variable-anchor");if(!Dr){var zr=B.get("text-radial-offset").evaluate(nn,{},S);pi=zr?Vt(Ur,[24*zr,ft]):B.get("text-offset").evaluate(nn,{},S).map(function(ar){return 24*ar})}var Ji=Ke?"center":B.get("text-justify").evaluate(nn,{},S),xo=B.get("symbol-placement"),fs="point"===xo?24*B.get("text-max-width").evaluate(nn,{},S):0,js=function(){a.allowVerticalPlacement&&cA(yr)&&(hi.vertical=Bp(Hi,l,d,b,Tn,fs,Ge,Ur,"left",xi,pi,ac.vertical,!0,xo,ti,Vn))};if(!Ke&&Dr){for(var Os="auto"===Ji?Dr.map(function(ar){return In(ar)}):[Ji],As=!1,$s=0;$s<Os.length;$s++){var la=Os[$s];if(!hi.horizontal[la])if(As)hi.horizontal[la]=hi.horizontal[0];else{var Fs=Bp(Hi,l,d,b,Tn,fs,Ge,"center",la,xi,pi,ac.horizontal,!1,xo,ti,Vn);Fs&&(hi.horizontal[la]=Fs,As=1===Fs.positionedLines.length)}}js()}else{"auto"===Ji&&(Ji=In(Ur));var cc=Bp(Hi,l,d,b,Tn,fs,Ge,Ur,Ji,xi,pi,ac.horizontal,!1,xo,ti,Vn);cc&&(hi.horizontal[Ji]=cc),js(),cA(yr)&&Ke&&dt&&(hi.vertical=Bp(Hi,l,d,b,Tn,fs,Ge,Ur,Ji,xi,pi,ac.vertical,!1,xo,ti,Vn))}}var ar,is,io,Mc,bl,$a=void 0,Ul=!1;if(nn.icon&&nn.icon.name){var ms=m[nn.icon.name];ms&&(ar=b[nn.icon.name],is=B.get("icon-offset").evaluate(nn,{},S),io=Xc(B.get("icon-anchor").evaluate(nn,{},S)),$a={image:ar,top:bl=is[1]-ar.displaySize[1]*io.verticalAlign,bottom:bl+ar.displaySize[1],left:Mc=is[0]-ar.displaySize[0]*io.horizontalAlign,right:Mc+ar.displaySize[0]},Ul=ms.sdf,void 0===a.sdfIcons?a.sdfIcons=ms.sdf:a.sdfIcons!==ms.sdf&&ze("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(ms.pixelRatio!==a.pixelRatio||0!==B.get("icon-rotate").constantOr(1))&&(a.iconsNeedLinear=!0))}var Xs=Gi(hi.horizontal)||hi.vertical;a.iconsInText=!!Xs&&Xs.iconsInText,(Xs||$a)&&function(ar,is,Fi,io,Mc,bl,_o,xa,wl,uo,Dd){var Iu=bl.textMaxSize.evaluate(is,{});void 0===Iu&&(Iu=_o);var Fp,ca=ar.layers[0].layout,Lp=ca.get("icon-offset").evaluate(is,{},Dd),Rd=Gi(Fi.horizontal),Tg=_o/24,IA=ar.tilePixelRatio*Tg,Sg=ar.tilePixelRatio*Iu/24,kf=ar.tilePixelRatio*xa,tv=ar.tilePixelRatio*ca.get("symbol-spacing"),nv=ca.get("text-padding")*ar.tilePixelRatio,km=ca.get("icon-padding")*ar.tilePixelRatio,ho=ca.get("text-max-angle")/180*Math.PI,sw="map"===ca.get("text-rotation-alignment")&&"point"!==ca.get("symbol-placement"),n0="map"===ca.get("icon-rotation-alignment")&&"point"!==ca.get("symbol-placement"),TA=ca.get("symbol-placement"),kg=tv/2,iv=ca.get("icon-text-fit");io&&"none"!==iv&&(ar.allowVerticalPlacement&&Fi.vertical&&(Fp=$y(io,Fi.vertical,iv,ca.get("icon-text-fit-padding"),Lp,Tg)),Rd&&(io=$y(io,Rd,iv,ca.get("icon-text-fit-padding"),Lp,Tg)));var Np=function(dI,lv){lv.x<0||lv.x>=8192||lv.y<0||lv.y>=8192||function(Do,jh,hI,Mm,pI,HD,cw,Df,c0,Vp,or,cv,uw,Bm,Rf,fI,dw,hw,uv,dv,Jc,u0,AI,Qp,mI){var gI,Pm,Vl,DA,Om,Mf=Do.addToLineVertexArray(jh,hI),qD=0,KD=0,Bc=0,Fm=0,d0=-1,h0=-1,Bf={},pw=Ue(""),fw=0,p0=0;if(void 0===Df._unevaluatedLayout.getValue("text-radial-offset")?(fw=(gI=Df.layout.get("text-offset").evaluate(Jc,{},Qp).map(function(fv){return 24*fv}))[0],p0=gI[1]):(fw=24*Df.layout.get("text-radial-offset").evaluate(Jc,{},Qp),p0=ft),Do.allowVerticalPlacement&&Mm.vertical){var _I=Df.layout.get("text-rotate").evaluate(Jc,{},Qp)+90;DA=new k(c0,jh,Vp,or,cv,Mm.vertical,uw,Bm,Rf,_I),cw&&(Om=new k(c0,jh,Vp,or,cv,cw,dw,hw,Rf,_I))}if(pI){var f0=Df.layout.get("icon-rotate").evaluate(Jc,{}),vI="none"!==Df.layout.get("icon-text-fit"),yI=Tf(pI,f0,AI,vI),Aw=cw?Tf(cw,f0,AI,vI):void 0;Vl=new k(c0,jh,Vp,or,cv,pI,dw,hw,!1,f0),qD=4*yI.length;var bI=Do.iconSizeData,Mg=null;"source"===bI.kind?(Mg=[128*Df.layout.get("icon-size").evaluate(Jc,{})])[0]>32640&&ze(Do.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):"composite"===bI.kind&&((Mg=[128*u0.compositeIconSizes[0].evaluate(Jc,{},Qp),128*u0.compositeIconSizes[1].evaluate(Jc,{},Qp)])[0]>32640||Mg[1]>32640)&&ze(Do.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),Do.addSymbols(Do.icon,yI,Mg,dv,uv,Jc,!1,jh,Mf.lineStartIndex,Mf.lineLength,-1,Qp),d0=Do.icon.placedSymbolArray.length-1,Aw&&(KD=4*Aw.length,Do.addSymbols(Do.icon,Aw,Mg,dv,uv,Jc,ac.vertical,jh,Mf.lineStartIndex,Mf.lineLength,-1,Qp),h0=Do.icon.placedSymbolArray.length-1)}for(var mw in Mm.horizontal){var hv=Mm.horizontal[mw];if(!Pm){pw=Ue(hv.text);var A0=Df.layout.get("text-rotate").evaluate(Jc,{},Qp);Pm=new k(c0,jh,Vp,or,cv,hv,uw,Bm,Rf,A0)}var gw=1===hv.positionedLines.length;if(Bc+=yi(Do,jh,hv,HD,Df,Rf,Jc,fI,Mf,Mm.vertical?ac.horizontal:ac.horizontalOnly,gw?Object.keys(Mm.horizontal):[mw],Bf,d0,u0,Qp),gw)break}Mm.vertical&&(Fm+=yi(Do,jh,Mm.vertical,HD,Df,Rf,Jc,fI,Mf,ac.vertical,["vertical"],Bf,h0,u0,Qp));var wI=Pm?Pm.boxStartIndex:Do.collisionBoxArray.length,xI=Pm?Pm.boxEndIndex:Do.collisionBoxArray.length,EI=DA?DA.boxStartIndex:Do.collisionBoxArray.length,WD=DA?DA.boxEndIndex:Do.collisionBoxArray.length,$D=Vl?Vl.boxStartIndex:Do.collisionBoxArray.length,XD=Vl?Vl.boxEndIndex:Do.collisionBoxArray.length,YD=Om?Om.boxStartIndex:Do.collisionBoxArray.length,CI=Om?Om.boxEndIndex:Do.collisionBoxArray.length,Pf=-1,pv=function(fv,ZD){return fv&&fv.circleDiameter?Math.max(fv.circleDiameter,ZD):ZD};Pf=pv(Pm,Pf),Pf=pv(DA,Pf),Pf=pv(Vl,Pf);var II=(Pf=pv(Om,Pf))>-1?1:0;II&&(Pf*=mI/24),Do.glyphOffsetArray.length>=wo.MAX_GLYPHS&&ze("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==Jc.sortKey&&Do.addToSortKeyRanges(Do.symbolInstances.length,Jc.sortKey),Do.symbolInstances.emplaceBack(jh.x,jh.y,Bf.right>=0?Bf.right:-1,Bf.center>=0?Bf.center:-1,Bf.left>=0?Bf.left:-1,Bf.vertical||-1,d0,h0,pw,wI,xI,EI,WD,$D,XD,YD,CI,Vp,Bc,Fm,qD,KD,II,0,uw,fw,p0,Pf)}(ar,lv,dI,Fi,io,Mc,Fp,ar.layers[0],ar.collisionBoxArray,is.index,is.sourceLayerIndex,ar.index,IA,nv,sw,wl,kf,km,n0,Lp,is,bl,uo,Dd,_o)};if("line"===TA)for(var Up=0,r0=wg(is.geometry,0,0,8192,8192);Up<r0.length;Up+=1)for(var o0=r0[Up],Md=0,s0=wA(o0,tv,ho,Fi.vertical||Rd,io,24,Sg,ar.overscaling,8192);Md<s0.length;Md+=1){var a0=s0[Md];Rd&&Ki(ar,Rd.text,kg,a0)||Np(o0,a0)}else if("line-center"===TA)for(var ni=0,SA=is.geometry;ni<SA.length;ni+=1){var Dg=SA[ni];if(Dg.length>1){var rv=Z_(Dg,ho,Fi.vertical||Rd,io,24,Sg);rv&&Np(Dg,rv)}}else if("Polygon"===is.type)for(var ov=0,Ri=$_(is.geometry,0);ov<Ri.length;ov+=1){var Rg=Ri[ov],Dm=R(Rg,16);Np(Rg[0],new oh(Dm.x,Dm.y,0))}else if("LineString"===is.type)for(var Rm=0,sv=is.geometry;Rm<sv.length;Rm+=1){var kA=sv[Rm];Np(kA,new oh(kA[0].x,kA[0].y,0))}else if("Point"===is.type)for(var l0=0,aw=is.geometry;l0<aw.length;l0+=1)for(var av=0,uI=aw[l0];av<uI.length;av+=1){var lw=uI[av];Np([lw],new oh(lw.x,lw.y,0))}}(a,nn,hi,$a,m,J,ti,ji,pi,Ul,S)},Nt=0,$t=a.features;Nt<$t.length;Nt+=1)Bt();E&&a.generateCollisionDebugBuffers()},A.perspective=function(a,l,d,m,b){var E,S=1/Math.tan(l/2);return a[0]=S/d,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=S,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=-1,a[12]=0,a[13]=0,a[15]=0,null!=b&&b!==1/0?(a[10]=(b+m)*(E=1/(m-b)),a[14]=2*b*m*E):(a[10]=-1,a[14]=-2*m),a},A.pick=function(a,l){for(var d={},m=0;m<l.length;m++){var b=l[m];b in a&&(d[b]=a[b])}return d},A.plugin=bu,A.polygonIntersectsPolygon=Jd,A.postMapLoadEvent=sr,A.postTurnstileEvent=mi,A.potpack=xm,A.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],A.register=li,A.registerForPluginStateChange=function(a){return a({pluginStatus:Pl,pluginURL:Hu}),am.on("pluginStateChange",a),a},A.renderColorRamp=j_,A.rotate=function(a,l,d){var m=l[0],b=l[1],E=l[2],S=l[3],B=Math.sin(d),q=Math.cos(d);return a[0]=m*q+E*B,a[1]=b*q+S*B,a[2]=m*-B+E*q,a[3]=b*-B+S*q,a},A.rotateX=function(a,l,d){var m=Math.sin(d),b=Math.cos(d),E=l[4],S=l[5],B=l[6],q=l[7],J=l[8],re=l[9],le=l[10],_e=l[11];return l!==a&&(a[0]=l[0],a[1]=l[1],a[2]=l[2],a[3]=l[3],a[12]=l[12],a[13]=l[13],a[14]=l[14],a[15]=l[15]),a[4]=E*b+J*m,a[5]=S*b+re*m,a[6]=B*b+le*m,a[7]=q*b+_e*m,a[8]=J*b-E*m,a[9]=re*b-S*m,a[10]=le*b-B*m,a[11]=_e*b-q*m,a},A.rotateZ=function(a,l,d){var m=Math.sin(d),b=Math.cos(d),E=l[0],S=l[1],B=l[2],q=l[3],J=l[4],re=l[5],le=l[6],_e=l[7];return l!==a&&(a[8]=l[8],a[9]=l[9],a[10]=l[10],a[11]=l[11],a[12]=l[12],a[13]=l[13],a[14]=l[14],a[15]=l[15]),a[0]=E*b+J*m,a[1]=S*b+re*m,a[2]=B*b+le*m,a[3]=q*b+_e*m,a[4]=J*b-E*m,a[5]=re*b-S*m,a[6]=le*b-B*m,a[7]=_e*b-q*m,a},A.scale=function(a,l,d){var m=d[0],b=d[1],E=d[2];return a[0]=l[0]*m,a[1]=l[1]*m,a[2]=l[2]*m,a[3]=l[3]*m,a[4]=l[4]*b,a[5]=l[5]*b,a[6]=l[6]*b,a[7]=l[7]*b,a[8]=l[8]*E,a[9]=l[9]*E,a[10]=l[10]*E,a[11]=l[11]*E,a[12]=l[12],a[13]=l[13],a[14]=l[14],a[15]=l[15],a},A.scale$1=function(a,l,d){return a[0]=l[0]*d,a[1]=l[1]*d,a[2]=l[2]*d,a[3]=l[3]*d,a},A.scale$2=function(a,l,d){return a[0]=l[0]*d,a[1]=l[1]*d,a[2]=l[2]*d,a},A.setCacheLimits=function(a,l){gr=a,_r=l},A.setRTLTextPlugin=function(a,l,d){if(void 0===d&&(d=!1),"deferred"===Pl||"loading"===Pl||"loaded"===Pl)throw new Error("setRTLTextPlugin cannot be called multiple times.");Hu=ei.resolveURL(a),Pl="deferred",Wt=l,Mh(),d||wd()},A.sphericalToCartesian=function(a){var l=a[0],d=a[1],m=a[2];return d+=90,d*=Math.PI/180,m*=Math.PI/180,{x:l*Math.cos(d)*Math.sin(m),y:l*Math.sin(d)*Math.sin(m),z:l*Math.cos(m)}},A.sqrLen=function(a){var l=a[0],d=a[1];return l*l+d*d},A.styleSpec=ge,A.sub=function(a,l,d){return a[0]=l[0]-d[0],a[1]=l[1]-d[1],a[2]=l[2]-d[2],a},A.symbolSize=Tm,A.transformMat3=function(a,l,d){var m=l[0],b=l[1],E=l[2];return a[0]=m*d[0]+b*d[3]+E*d[6],a[1]=m*d[1]+b*d[4]+E*d[7],a[2]=m*d[2]+b*d[5]+E*d[8],a},A.transformMat4=Fh,A.translate=function(a,l,d){var m,b,E,S,B,q,J,re,le,_e,Ee,Ge,Ke=d[0],dt=d[1],it=d[2];return l===a?(a[12]=l[0]*Ke+l[4]*dt+l[8]*it+l[12],a[13]=l[1]*Ke+l[5]*dt+l[9]*it+l[13],a[14]=l[2]*Ke+l[6]*dt+l[10]*it+l[14],a[15]=l[3]*Ke+l[7]*dt+l[11]*it+l[15]):(b=l[1],E=l[2],S=l[3],B=l[4],q=l[5],J=l[6],re=l[7],le=l[8],_e=l[9],Ee=l[10],Ge=l[11],a[0]=m=l[0],a[1]=b,a[2]=E,a[3]=S,a[4]=B,a[5]=q,a[6]=J,a[7]=re,a[8]=le,a[9]=_e,a[10]=Ee,a[11]=Ge,a[12]=m*Ke+B*dt+le*it+l[12],a[13]=b*Ke+q*dt+_e*it+l[13],a[14]=E*Ke+J*dt+Ee*it+l[14],a[15]=S*Ke+re*dt+Ge*it+l[15]),a},A.triggerPluginCompletionEvent=ff,A.uniqueId=ot,A.validateCustomStyleLayer=function(a){var l=[],d=a.id;return void 0===d&&l.push({message:"layers."+d+': missing required property "id"'}),void 0===a.render&&l.push({message:"layers."+d+': missing required method "render"'}),a.renderingMode&&"2d"!==a.renderingMode&&"3d"!==a.renderingMode&&l.push({message:"layers."+d+': property "renderingMode" must be either "2d" or "3d"'}),l},A.validateLight=Mt,A.validateStyle=Ne,A.values=function(a){var l=[];for(var d in a)l.push(a[d]);return l},A.vectorTile=yf,A.version="1.13.2",A.warnOnce=ze,A.webpSupported=qn,A.window=G,A.wrap=me}),V(0,function(A){function L(U){var K=typeof U;if("number"===K||"boolean"===K||"string"===K||null==U)return JSON.stringify(U);if(Array.isArray(U)){for(var $="[",he=0,de=U;he<de.length;he+=1)$+=L(de[he])+",";return $+"]"}for(var Pe=Object.keys(U).sort(),Qe="{",ge=0;ge<Pe.length;ge++)Qe+=JSON.stringify(Pe[ge])+":"+L(U[Pe[ge]])+",";return Qe+"}"}function P(U){for(var K="",$=0,he=A.refProperties;$<he.length;$+=1)K+="/"+L(U[he[$]]);return K}var N=function(U){this.keyCache={},U&&this.replace(U)};N.prototype.replace=function(U){this._layerConfigs={},this._layers={},this.update(U,[])},N.prototype.update=function(U,K){for(var $=this,he=0,de=U;he<de.length;he+=1){var Pe=de[he];this._layerConfigs[Pe.id]=Pe;var Qe=this._layers[Pe.id]=A.createStyleLayer(Pe);Qe._featureFilter=A.featureFilter(Qe.filter),this.keyCache[Pe.id]&&delete this.keyCache[Pe.id]}for(var ge=0,Ve=K;ge<Ve.length;ge+=1){var We=Ve[ge];delete this.keyCache[We],delete this._layerConfigs[We],delete this._layers[We]}this.familiesBySource={};for(var hn=0,Jt=function(_t,Rt){for(var zt={},tt=0;tt<_t.length;tt++){var ct=Rt&&Rt[_t[tt].id]||P(_t[tt]);Rt&&(Rt[_t[tt].id]=ct);var Pt=zt[ct];Pt||(Pt=zt[ct]=[]),Pt.push(_t[tt])}var kt=[];for(var Rn in zt)kt.push(zt[Rn]);return kt}(A.values(this._layerConfigs),this.keyCache);hn<Jt.length;hn+=1){var Ut=Jt[hn].map(function(_t){return $._layers[_t.id]}),En=Ut[0];if("none"!==En.visibility){var ri=En.source||"",De=this.familiesBySource[ri];De||(De=this.familiesBySource[ri]={});var Xe=En.sourceLayer||"_geojsonTileLayer",Lt=De[Xe];Lt||(Lt=De[Xe]=[]),Lt.push(Ut)}}};var W=function(U){var K={},$=[];for(var he in U){var de=U[he],Pe=K[he]={};for(var Qe in de){var ge=de[+Qe];if(ge&&0!==ge.bitmap.width&&0!==ge.bitmap.height){var Ve={x:0,y:0,w:ge.bitmap.width+2,h:ge.bitmap.height+2};$.push(Ve),Pe[Qe]={rect:Ve,metrics:ge.metrics}}}}var We=A.potpack($),hn=new A.AlphaImage({width:We.w||1,height:We.h||1});for(var Jt in U){var Ut=U[Jt];for(var En in Ut){var ri=Ut[+En];if(ri&&0!==ri.bitmap.width&&0!==ri.bitmap.height){var De=K[Jt][En].rect;A.AlphaImage.copy(ri.bitmap,hn,{x:0,y:0},{x:De.x+1,y:De.y+1},ri.bitmap)}}}this.image=hn,this.positions=K};A.register("GlyphAtlas",W);var Y=function(U){this.tileID=new A.OverscaledTileID(U.tileID.overscaledZ,U.tileID.wrap,U.tileID.canonical.z,U.tileID.canonical.x,U.tileID.canonical.y),this.uid=U.uid,this.zoom=U.zoom,this.pixelRatio=U.pixelRatio,this.tileSize=U.tileSize,this.source=U.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=U.showCollisionBoxes,this.collectResourceTiming=!!U.collectResourceTiming,this.returnDependencies=!!U.returnDependencies,this.promoteId=U.promoteId};function G(U,K,$){for(var he=new A.EvaluationParameters(K),de=0,Pe=U;de<Pe.length;de+=1)Pe[de].recalculate(he,$)}function ne(U,K){var $=A.getArrayBuffer(U.request,function(he,de,Pe,Qe){he?K(he):de&&K(null,{vectorTile:new A.vectorTile.VectorTile(new A.pbf(de)),rawData:de,cacheControl:Pe,expires:Qe})});return function(){$.cancel(),K()}}Y.prototype.parse=function(U,K,$,he,de){var Pe=this;this.status="parsing",this.data=U,this.collisionBoxArray=new A.CollisionBoxArray;var Qe=new A.DictionaryCoder(Object.keys(U.layers).sort()),ge=new A.FeatureIndex(this.tileID,this.promoteId);ge.bucketLayerIDs=[];var Ve,We,hn,Jt,Ut={},En={featureIndex:ge,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:$},ri=K.familiesBySource[this.source];for(var De in ri){var Xe=U.layers[De];if(Xe){1===Xe.version&&A.warnOnce('Vector tile source "'+this.source+'" layer "'+De+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Lt=Qe.encode(De),_t=[],Rt=0;Rt<Xe.length;Rt++){var zt=Xe.feature(Rt),tt=ge.getId(zt,De);_t.push({feature:zt,id:tt,index:Rt,sourceLayerIndex:Lt})}for(var ct=0,Pt=ri[De];ct<Pt.length;ct+=1){var kt=Pt[ct],Rn=kt[0];Rn.minzoom&&this.zoom<Math.floor(Rn.minzoom)||Rn.maxzoom&&this.zoom>=Rn.maxzoom||"none"!==Rn.visibility&&(G(kt,this.zoom,$),(Ut[Rn.id]=Rn.createBucket({index:ge.bucketLayerIDs.length,layers:kt,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Lt,sourceID:this.source})).populate(_t,En,this.tileID.canonical),ge.bucketLayerIDs.push(kt.map(function(ir){return ir.id})))}}}var fn=A.mapObject(En.glyphDependencies,function(ir){return Object.keys(ir).map(Number)});Object.keys(fn).length?he.send("getGlyphs",{uid:this.uid,stacks:fn},function(ir,Wi){Ve||(Ve=ir,We=Wi,vi.call(Pe))}):We={};var Ai=Object.keys(En.iconDependencies);Ai.length?he.send("getImages",{icons:Ai,source:this.source,tileID:this.tileID,type:"icons"},function(ir,Wi){Ve||(Ve=ir,hn=Wi,vi.call(Pe))}):hn={};var Pi=Object.keys(En.patternDependencies);function vi(){if(Ve)return de(Ve);if(We&&hn&&Jt){var ir=new W(We),Wi=new A.ImageAtlas(hn,Jt);for(var Or in Ut){var Br=Ut[Or];Br instanceof A.SymbolBucket?(G(Br.layers,this.zoom,$),A.performSymbolLayout(Br,We,ir.positions,hn,Wi.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Br.hasPattern&&(Br instanceof A.LineBucket||Br instanceof A.FillBucket||Br instanceof A.FillExtrusionBucket)&&(G(Br.layers,this.zoom,$),Br.addFeatures(En,this.tileID.canonical,Wi.patternPositions))}this.status="done",de(null,{buckets:A.values(Ut).filter(function(Ac){return!Ac.isEmpty()}),featureIndex:ge,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:ir.image,imageAtlas:Wi,glyphMap:this.returnDependencies?We:null,iconMap:this.returnDependencies?hn:null,glyphPositions:this.returnDependencies?ir.positions:null})}}Pi.length?he.send("getImages",{icons:Pi,source:this.source,tileID:this.tileID,type:"patterns"},function(ir,Wi){Ve||(Ve=ir,Jt=Wi,vi.call(Pe))}):Jt={},vi.call(this)};var Z=function(U,K,$,he){this.actor=U,this.layerIndex=K,this.availableImages=$,this.loadVectorData=he||ne,this.loading={},this.loaded={}};Z.prototype.loadTile=function(U,K){var $=this,he=U.uid;this.loading||(this.loading={});var de=!!(U&&U.request&&U.request.collectResourceTiming)&&new A.RequestPerformance(U.request),Pe=this.loading[he]=new Y(U);Pe.abort=this.loadVectorData(U,function(Qe,ge){if(delete $.loading[he],Qe||!ge)return Pe.status="done",$.loaded[he]=Pe,K(Qe);var Ve=ge.rawData,We={};ge.expires&&(We.expires=ge.expires),ge.cacheControl&&(We.cacheControl=ge.cacheControl);var hn={};if(de){var Jt=de.finish();Jt&&(hn.resourceTiming=JSON.parse(JSON.stringify(Jt)))}Pe.vectorTile=ge.vectorTile,Pe.parse(ge.vectorTile,$.layerIndex,$.availableImages,$.actor,function(Ut,En){if(Ut||!En)return K(Ut);K(null,A.extend({rawTileData:Ve.slice(0)},En,We,hn))}),$.loaded=$.loaded||{},$.loaded[he]=Pe})},Z.prototype.reloadTile=function(U,K){var $=this,he=this.loaded,de=U.uid,Pe=this;if(he&&he[de]){var Qe=he[de];Qe.showCollisionBoxes=U.showCollisionBoxes;var ge=function(Ve,We){var hn=Qe.reloadCallback;hn&&(delete Qe.reloadCallback,Qe.parse(Qe.vectorTile,Pe.layerIndex,$.availableImages,Pe.actor,hn)),K(Ve,We)};"parsing"===Qe.status?Qe.reloadCallback=ge:"done"===Qe.status&&(Qe.vectorTile?Qe.parse(Qe.vectorTile,this.layerIndex,this.availableImages,this.actor,ge):ge())}},Z.prototype.abortTile=function(U,K){var $=this.loading,he=U.uid;$&&$[he]&&$[he].abort&&($[he].abort(),delete $[he]),K()},Z.prototype.removeTile=function(U,K){var $=this.loaded,he=U.uid;$&&$[he]&&delete $[he],K()};var se=A.window.ImageBitmap,fe=function(){this.loaded={}};function me(U,K){if(0!==U.length){we(U[0],K);for(var $=1;$<U.length;$++)we(U[$],!K)}}function we(U,K){for(var $=0,he=0,de=U.length,Pe=de-1;he<de;Pe=he++)$+=(U[he][0]-U[Pe][0])*(U[Pe][1]+U[he][1]);$>=0!=!!K&&U.reverse()}fe.prototype.loadTile=function(U,K){var $=U.uid,he=U.encoding,de=U.rawImageData,Pe=se&&de instanceof se?this.getImageData(de):de,Qe=new A.DEMData($,Pe,he);this.loaded=this.loaded||{},this.loaded[$]=Qe,K(null,Qe)},fe.prototype.getImageData=function(U){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(U.width,U.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=U.width,this.offscreenCanvas.height=U.height,this.offscreenCanvasContext.drawImage(U,0,0,U.width,U.height);var K=this.offscreenCanvasContext.getImageData(-1,-1,U.width+2,U.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new A.RGBAImage({width:K.width,height:K.height},K.data)},fe.prototype.removeTile=function(U){var K=this.loaded,$=U.uid;K&&K[$]&&delete K[$]};var Ze=A.vectorTile.VectorTileFeature.prototype.toGeoJSON,ot=function(U){this._feature=U,this.extent=A.EXTENT,this.type=U.type,this.properties=U.tags,"id"in U&&!isNaN(U.id)&&(this.id=parseInt(U.id,10))};ot.prototype.loadGeometry=function(){if(1===this._feature.type){for(var U=[],K=0,$=this._feature.geometry;K<$.length;K+=1){var he=$[K];U.push([new A.Point$1(he[0],he[1])])}return U}for(var de=[],Pe=0,Qe=this._feature.geometry;Pe<Qe.length;Pe+=1){for(var ge=[],Ve=0,We=Qe[Pe];Ve<We.length;Ve+=1){var hn=We[Ve];ge.push(new A.Point$1(hn[0],hn[1]))}de.push(ge)}return de},ot.prototype.toGeoJSON=function(U,K,$){return Ze.call(this,U,K,$)};var wt=function(U){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=A.EXTENT,this.length=U.length,this._features=U};wt.prototype.feature=function(U){return new ot(this._features[U])};var ht=A.vectorTile.VectorTileFeature,pt=mt;function mt(U,K){this.options=K||{},this.features=U,this.length=U.length}function vt(U,K){this.id="number"==typeof U.id?U.id:void 0,this.type=U.type,this.rawGeometry=1===U.type?[U.geometry]:U.geometry,this.properties=U.tags,this.extent=K||4096}mt.prototype.feature=function(U){return new vt(this.features[U],this.options.extent)},vt.prototype.loadGeometry=function(){var U=this.rawGeometry;this.geometry=[];for(var K=0;K<U.length;K++){for(var $=U[K],he=[],de=0;de<$.length;de++)he.push(new A.Point$1($[de][0],$[de][1]));this.geometry.push(he)}return this.geometry},vt.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var U=this.geometry,K=1/0,$=-1/0,he=1/0,de=-1/0,Pe=0;Pe<U.length;Pe++)for(var Qe=U[Pe],ge=0;ge<Qe.length;ge++){var Ve=Qe[ge];K=Math.min(K,Ve.x),$=Math.max($,Ve.x),he=Math.min(he,Ve.y),de=Math.max(de,Ve.y)}return[K,he,$,de]},vt.prototype.toGeoJSON=ht.prototype.toGeoJSON;var Je=Fe,st=pt;function Fe(U){var K=new A.pbf;return function($,he){for(var de in $.layers)he.writeMessage(3,ze,$.layers[de])}(U,K),K.finish()}function ze(U,K){var $;K.writeVarintField(15,U.version||1),K.writeStringField(1,U.name||""),K.writeVarintField(5,U.extent||4096);var he={keys:[],values:[],keycache:{},valuecache:{}};for($=0;$<U.length;$++)he.feature=U.feature($),K.writeMessage(2,Dt,he);var de=he.keys;for($=0;$<de.length;$++)K.writeStringField(3,de[$]);var Pe=he.values;for($=0;$<Pe.length;$++)K.writeMessage(4,gt,Pe[$])}function Dt(U,K){var $=U.feature;void 0!==$.id&&K.writeVarintField(1,$.id),K.writeMessage(2,jt,U),K.writeVarintField(3,$.type),K.writeMessage(4,Le,$)}function jt(U,K){var $=U.feature,he=U.keys,de=U.values,Pe=U.keycache,Qe=U.valuecache;for(var ge in $.properties){var Ve=Pe[ge];void 0===Ve&&(he.push(ge),Pe[ge]=Ve=he.length-1),K.writeVarint(Ve);var We=$.properties[ge],hn=typeof We;"string"!==hn&&"boolean"!==hn&&"number"!==hn&&(We=JSON.stringify(We));var Jt=hn+":"+We,Ut=Qe[Jt];void 0===Ut&&(de.push(We),Qe[Jt]=Ut=de.length-1),K.writeVarint(Ut)}}function Tt(U,K){return(K<<3)+(7&U)}function yn(U){return U<<1^U>>31}function Le(U,K){for(var $=U.loadGeometry(),he=U.type,de=0,Pe=0,Qe=$.length,ge=0;ge<Qe;ge++){var Ve=$[ge],We=1;1===he&&(We=Ve.length),K.writeVarint(Tt(1,We));for(var hn=3===he?Ve.length-1:Ve.length,Jt=0;Jt<hn;Jt++){1===Jt&&1!==he&&K.writeVarint(Tt(2,hn-1));var Ut=Ve[Jt].x-de,En=Ve[Jt].y-Pe;K.writeVarint(yn(Ut)),K.writeVarint(yn(En)),de+=Ut,Pe+=En}3===he&&K.writeVarint(Tt(7,1))}}function gt(U,K){var $=typeof U;"string"===$?K.writeStringField(1,U):"boolean"===$?K.writeBooleanField(7,U):"number"===$&&(U%1!=0?K.writeDoubleField(3,U):U<0?K.writeSVarintField(6,U):K.writeVarintField(5,U))}function St(U,K,$,he){Et(U,$,he),Et(K,2*$,2*he),Et(K,2*$+1,2*he+1)}function Et(U,K,$){var he=U[K];U[K]=U[$],U[$]=he}function bn(U,K,$,he){var de=U-$,Pe=K-he;return de*de+Pe*Pe}Je.fromVectorTileJs=Fe,Je.fromGeojsonVt=function(U,K){K=K||{};var $={};for(var he in U)$[he]=new pt(U[he].features,K),$[he].name=he,$[he].version=K.version,$[he].extent=K.extent;return Fe({layers:$})},Je.GeoJSONWrapper=st;var on=function(U){return U[0]},On=function(U){return U[1]},ki=function(U,K,$,he,de){void 0===K&&(K=on),void 0===$&&($=On),void 0===he&&(he=64),void 0===de&&(de=Float64Array),this.nodeSize=he,this.points=U;for(var Pe=U.length<65536?Uint16Array:Uint32Array,Qe=this.ids=new Pe(U.length),ge=this.coords=new de(2*U.length),Ve=0;Ve<U.length;Ve++)Qe[Ve]=Ve,ge[2*Ve]=K(U[Ve]),ge[2*Ve+1]=$(U[Ve]);!function We(hn,Jt,Ut,En,ri,De){if(!(ri-En<=Ut)){var Xe=En+ri>>1;(function Lt(_t,Rt,zt,tt,ct,Pt){for(;ct>tt;){if(ct-tt>600){var kt=ct-tt+1,Rn=zt-tt+1,fn=Math.log(kt),Ai=.5*Math.exp(2*fn/3),Pi=.5*Math.sqrt(fn*Ai*(kt-Ai)/kt)*(Rn-kt/2<0?-1:1);Lt(_t,Rt,zt,Math.max(tt,Math.floor(zt-Rn*Ai/kt+Pi)),Math.min(ct,Math.floor(zt+(kt-Rn)*Ai/kt+Pi)),Pt)}var vi=Rt[2*zt+Pt],ir=tt,Wi=ct;for(St(_t,Rt,tt,zt),Rt[2*ct+Pt]>vi&&St(_t,Rt,tt,ct);ir<Wi;){for(St(_t,Rt,ir,Wi),ir++,Wi--;Rt[2*ir+Pt]<vi;)ir++;for(;Rt[2*Wi+Pt]>vi;)Wi--}Rt[2*tt+Pt]===vi?St(_t,Rt,tt,Wi):St(_t,Rt,++Wi,ct),Wi<=zt&&(tt=Wi+1),zt<=Wi&&(ct=Wi-1)}})(hn,Jt,Xe,En,ri,De%2),We(hn,Jt,Ut,En,Xe-1,De+1),We(hn,Jt,Ut,Xe+1,ri,De+1)}}(Qe,ge,he,0,Qe.length-1,0)};ki.prototype.range=function(U,K,$,he){return function(de,Pe,Qe,ge,Ve,We,hn){for(var Jt,Ut,En=[0,de.length-1,0],ri=[];En.length;){var De=En.pop(),Xe=En.pop(),Lt=En.pop();if(Xe-Lt<=hn)for(var _t=Lt;_t<=Xe;_t++)Ut=Pe[2*_t+1],(Jt=Pe[2*_t])>=Qe&&Jt<=Ve&&Ut>=ge&&Ut<=We&&ri.push(de[_t]);else{var Rt=Math.floor((Lt+Xe)/2);Ut=Pe[2*Rt+1],(Jt=Pe[2*Rt])>=Qe&&Jt<=Ve&&Ut>=ge&&Ut<=We&&ri.push(de[Rt]);var zt=(De+1)%2;(0===De?Qe<=Jt:ge<=Ut)&&(En.push(Lt),En.push(Rt-1),En.push(zt)),(0===De?Ve>=Jt:We>=Ut)&&(En.push(Rt+1),En.push(Xe),En.push(zt))}}return ri}(this.ids,this.coords,U,K,$,he,this.nodeSize)},ki.prototype.within=function(U,K,$){return function(he,de,Pe,Qe,ge,Ve){for(var We=[0,he.length-1,0],hn=[],Jt=ge*ge;We.length;){var Ut=We.pop(),En=We.pop(),ri=We.pop();if(En-ri<=Ve)for(var De=ri;De<=En;De++)bn(de[2*De],de[2*De+1],Pe,Qe)<=Jt&&hn.push(he[De]);else{var Xe=Math.floor((ri+En)/2),Lt=de[2*Xe],_t=de[2*Xe+1];bn(Lt,_t,Pe,Qe)<=Jt&&hn.push(he[Xe]);var Rt=(Ut+1)%2;(0===Ut?Pe-ge<=Lt:Qe-ge<=_t)&&(We.push(ri),We.push(Xe-1),We.push(Rt)),(0===Ut?Pe+ge>=Lt:Qe+ge>=_t)&&(We.push(Xe+1),We.push(En),We.push(Rt))}}return hn}(this.ids,this.coords,U,K,$,this.nodeSize)};var Ui={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(U){return U}},Wn=function(U){this.options=Gt(Object.create(Ui),U),this.trees=new Array(this.options.maxZoom+1)};function ei(U,K,$,he,de){return{x:U,y:K,zoom:1/0,id:$,parentId:-1,numPoints:he,properties:de}}function Xn(U,K){var $=U.geometry.coordinates,he=$[1];return{x:Jn($[0]),y:kn(he),zoom:1/0,index:K,parentId:-1}}function qn(U){return{type:"Feature",id:U.id,properties:An(U),geometry:{type:"Point",coordinates:[(he=U.x,360*(he-.5)),(K=U.y,$=(180-360*K)*Math.PI/180,360*Math.atan(Math.exp($))/Math.PI-90)]}};var K,$,he}function An(U){var K=U.numPoints,$=K>=1e4?Math.round(K/1e3)+"k":K>=1e3?Math.round(K/100)/10+"k":K;return Gt(Gt({},U.properties),{cluster:!0,cluster_id:U.id,point_count:K,point_count_abbreviated:$})}function Jn(U){return U/360+.5}function kn(U){var K=Math.sin(U*Math.PI/180),$=.5-.25*Math.log((1+K)/(1-K))/Math.PI;return $<0?0:$>1?1:$}function Gt(U,K){for(var $ in K)U[$]=K[$];return U}function Zt(U){return U.x}function fi(U){return U.y}function Bi(U,K,$,he,de,Pe){var Qe=de-$,ge=Pe-he;if(0!==Qe||0!==ge){var Ve=((U-$)*Qe+(K-he)*ge)/(Qe*Qe+ge*ge);Ve>1?($=de,he=Pe):Ve>0&&($+=Qe*Ve,he+=ge*Ve)}return(Qe=U-$)*Qe+(ge=K-he)*ge}function gi(U,K,$,he){var de={id:void 0===U?null:U,type:K,geometry:$,tags:he,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Pe){var Qe=Pe.geometry,ge=Pe.type;if("Point"===ge||"MultiPoint"===ge||"LineString"===ge)Di(Pe,Qe);else if("Polygon"===ge||"MultiLineString"===ge)for(var Ve=0;Ve<Qe.length;Ve++)Di(Pe,Qe[Ve]);else if("MultiPolygon"===ge)for(Ve=0;Ve<Qe.length;Ve++)for(var We=0;We<Qe[Ve].length;We++)Di(Pe,Qe[Ve][We])}(de),de}function Di(U,K){for(var $=0;$<K.length;$+=3)U.minX=Math.min(U.minX,K[$]),U.minY=Math.min(U.minY,K[$+1]),U.maxX=Math.max(U.maxX,K[$]),U.maxY=Math.max(U.maxY,K[$+1])}function nr(U,K,$,he){if(K.geometry){var de=K.geometry.coordinates,Pe=K.geometry.type,Qe=Math.pow($.tolerance/((1<<$.maxZoom)*$.extent),2),ge=[],Ve=K.id;if($.promoteId?Ve=K.properties[$.promoteId]:$.generateId&&(Ve=he||0),"Point"===Pe)Ao(de,ge);else if("MultiPoint"===Pe)for(var We=0;We<de.length;We++)Ao(de[We],ge);else if("LineString"===Pe)Pr(de,ge,Qe,!1);else if("MultiLineString"===Pe){if($.lineMetrics){for(We=0;We<de.length;We++)Pr(de[We],ge=[],Qe,!1),U.push(gi(Ve,"LineString",ge,K.properties));return}Qr(de,ge,Qe,!1)}else if("Polygon"===Pe)Qr(de,ge,Qe,!0);else{if("MultiPolygon"!==Pe){if("GeometryCollection"===Pe){for(We=0;We<K.geometry.geometries.length;We++)nr(U,{id:Ve,geometry:K.geometry.geometries[We],properties:K.properties},$,he);return}throw new Error("Input data is not a valid GeoJSON object.")}for(We=0;We<de.length;We++){var hn=[];Qr(de[We],hn,Qe,!0),ge.push(hn)}}U.push(gi(Ve,Pe,ge,K.properties))}}function Ao(U,K){K.push(zi(U[0])),K.push(Qn(U[1])),K.push(0)}function Pr(U,K,$,he){for(var de,Pe,Qe=0,ge=0;ge<U.length;ge++){var Ve=zi(U[ge][0]),We=Qn(U[ge][1]);K.push(Ve),K.push(We),K.push(0),ge>0&&(Qe+=he?(de*We-Ve*Pe)/2:Math.sqrt(Math.pow(Ve-de,2)+Math.pow(We-Pe,2))),de=Ve,Pe=We}var hn=K.length-3;K[2]=1,function Jt(Ut,En,ri,De){for(var Xe,Lt=De,_t=ri-En>>1,Rt=ri-En,zt=Ut[En],tt=Ut[En+1],ct=Ut[ri],Pt=Ut[ri+1],kt=En+3;kt<ri;kt+=3){var Rn=Bi(Ut[kt],Ut[kt+1],zt,tt,ct,Pt);if(Rn>Lt)Xe=kt,Lt=Rn;else if(Rn===Lt){var fn=Math.abs(kt-_t);fn<Rt&&(Xe=kt,Rt=fn)}}Lt>De&&(Xe-En>3&&Jt(Ut,En,Xe,De),Ut[Xe+2]=Lt,ri-Xe>3&&Jt(Ut,Xe,ri,De))}(K,0,hn,$),K[hn+2]=1,K.size=Math.abs(Qe),K.start=0,K.end=K.size}function Qr(U,K,$,he){for(var de=0;de<U.length;de++){var Pe=[];Pr(U[de],Pe,$,he),K.push(Pe)}}function zi(U){return U/360+.5}function Qn(U){var K=Math.sin(U*Math.PI/180),$=.5-.25*Math.log((1+K)/(1-K))/Math.PI;return $<0?0:$>1?1:$}function jn(U,K,$,he,de,Pe,Qe,ge){if(he/=K,Pe>=($/=K)&&Qe<he)return U;if(Qe<$||Pe>=he)return null;for(var Ve=[],We=0;We<U.length;We++){var hn=U[We],Jt=hn.geometry,Ut=hn.type,En=0===de?hn.minX:hn.minY,ri=0===de?hn.maxX:hn.maxY;if(En>=$&&ri<he)Ve.push(hn);else if(!(ri<$||En>=he)){var De=[];if("Point"===Ut||"MultiPoint"===Ut)ai(Jt,De,$,he,de);else if("LineString"===Ut)mi(Jt,De,$,he,de,!1,ge.lineMetrics);else if("MultiLineString"===Ut)sr(Jt,De,$,he,de,!1);else if("Polygon"===Ut)sr(Jt,De,$,he,de,!0);else if("MultiPolygon"===Ut)for(var Xe=0;Xe<Jt.length;Xe++){var Lt=[];sr(Jt[Xe],Lt,$,he,de,!0),Lt.length&&De.push(Lt)}if(De.length){if(ge.lineMetrics&&"LineString"===Ut){for(Xe=0;Xe<De.length;Xe++)Ve.push(gi(hn.id,Ut,De[Xe],hn.tags));continue}"LineString"!==Ut&&"MultiLineString"!==Ut||(1===De.length?(Ut="LineString",De=De[0]):Ut="MultiLineString"),"Point"!==Ut&&"MultiPoint"!==Ut||(Ut=3===De.length?"Point":"MultiPoint"),Ve.push(gi(hn.id,Ut,De,hn.tags))}}}return Ve.length?Ve:null}function ai(U,K,$,he,de){for(var Pe=0;Pe<U.length;Pe+=3){var Qe=U[Pe+de];Qe>=$&&Qe<=he&&(K.push(U[Pe]),K.push(U[Pe+1]),K.push(U[Pe+2]))}}function mi(U,K,$,he,de,Pe,Qe){for(var ge,Ve,We=wi(U),hn=0===de?_r:Lr,Jt=U.start,Ut=0;Ut<U.length-3;Ut+=3){var En=U[Ut],ri=U[Ut+1],De=U[Ut+2],Xe=U[Ut+3],Lt=U[Ut+4],_t=0===de?En:ri,Rt=0===de?Xe:Lt,zt=!1;Qe&&(ge=Math.sqrt(Math.pow(En-Xe,2)+Math.pow(ri-Lt,2))),_t<$?Rt>$&&(Ve=hn(We,En,ri,Xe,Lt,$),Qe&&(We.start=Jt+ge*Ve)):_t>he?Rt<he&&(Ve=hn(We,En,ri,Xe,Lt,he),Qe&&(We.start=Jt+ge*Ve)):gr(We,En,ri,De),Rt<$&&_t>=$&&(Ve=hn(We,En,ri,Xe,Lt,$),zt=!0),Rt>he&&_t<=he&&(Ve=hn(We,En,ri,Xe,Lt,he),zt=!0),!Pe&&zt&&(Qe&&(We.end=Jt+ge*Ve),K.push(We),We=wi(U)),Qe&&(Jt+=ge)}var tt=U.length-3;En=U[tt],ri=U[tt+1],De=U[tt+2],(_t=0===de?En:ri)>=$&&_t<=he&&gr(We,En,ri,De),tt=We.length-3,Pe&&tt>=3&&(We[tt]!==We[0]||We[tt+1]!==We[1])&&gr(We,We[0],We[1],We[2]),We.length&&K.push(We)}function wi(U){var K=[];return K.size=U.size,K.start=U.start,K.end=U.end,K}function sr(U,K,$,he,de,Pe){for(var Qe=0;Qe<U.length;Qe++)mi(U[Qe],K,$,he,de,Pe,!1)}function gr(U,K,$,he){U.push(K),U.push($),U.push(he)}function _r(U,K,$,he,de,Pe){var Qe=(Pe-K)/(he-K);return U.push(Pe),U.push($+(de-$)*Qe),U.push(1),Qe}function Lr(U,K,$,he,de,Pe){var Qe=(Pe-$)/(de-$);return U.push(K+(he-K)*Qe),U.push(Pe),U.push(1),Qe}function Tr(U,K){for(var $=[],he=0;he<U.length;he++){var de,Pe=U[he],Qe=Pe.type;if("Point"===Qe||"MultiPoint"===Qe||"LineString"===Qe)de=mo(Pe.geometry,K);else if("MultiLineString"===Qe||"Polygon"===Qe){de=[];for(var ge=0;ge<Pe.geometry.length;ge++)de.push(mo(Pe.geometry[ge],K))}else if("MultiPolygon"===Qe)for(de=[],ge=0;ge<Pe.geometry.length;ge++){for(var Ve=[],We=0;We<Pe.geometry[ge].length;We++)Ve.push(mo(Pe.geometry[ge][We],K));de.push(Ve)}$.push(gi(Pe.id,Qe,de,Pe.tags))}return $}function mo(U,K){var $=[];$.size=U.size,void 0!==U.start&&($.start=U.start,$.end=U.end);for(var he=0;he<U.length;he+=3)$.push(U[he]+K,U[he+1],U[he+2]);return $}function Jr(U,K){if(U.transformed)return U;var $,he,de,Pe=1<<U.z,Qe=U.x,ge=U.y;for($=0;$<U.features.length;$++){var Ve=U.features[$],We=Ve.geometry,hn=Ve.type;if(Ve.geometry=[],1===hn)for(he=0;he<We.length;he+=2)Ve.geometry.push(Io(We[he],We[he+1],K,Pe,Qe,ge));else for(he=0;he<We.length;he++){var Jt=[];for(de=0;de<We[he].length;de+=2)Jt.push(Io(We[he][de],We[he][de+1],K,Pe,Qe,ge));Ve.geometry.push(Jt)}}return U.transformed=!0,U}function Io(U,K,$,he,de,Pe){return[Math.round($*(U*he-de)),Math.round($*(K*he-Pe))]}function Wo(U,K,$,he,de){for(var Pe=K===de.maxZoom?0:de.tolerance/((1<<K)*de.extent),Qe={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:$,y:he,z:K,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},ge=0;ge<U.length;ge++){Qe.numFeatures++,oo(Qe,U[ge],Pe,de);var Ve=U[ge].minX,We=U[ge].minY,hn=U[ge].maxX,Jt=U[ge].maxY;Ve<Qe.minX&&(Qe.minX=Ve),We<Qe.minY&&(Qe.minY=We),hn>Qe.maxX&&(Qe.maxX=hn),Jt>Qe.maxY&&(Qe.maxY=Jt)}return Qe}function oo(U,K,$,he){var de=K.geometry,Pe=K.type,Qe=[];if("Point"===Pe||"MultiPoint"===Pe)for(var ge=0;ge<de.length;ge+=3)Qe.push(de[ge]),Qe.push(de[ge+1]),U.numPoints++,U.numSimplified++;else if("LineString"===Pe)To(Qe,de,U,$,!1,!1);else if("MultiLineString"===Pe||"Polygon"===Pe)for(ge=0;ge<de.length;ge++)To(Qe,de[ge],U,$,"Polygon"===Pe,0===ge);else if("MultiPolygon"===Pe)for(var Ve=0;Ve<de.length;Ve++){var We=de[Ve];for(ge=0;ge<We.length;ge++)To(Qe,We[ge],U,$,!0,0===ge)}if(Qe.length){var hn=K.tags||null;if("LineString"===Pe&&he.lineMetrics){for(var Jt in hn={},K.tags)hn[Jt]=K.tags[Jt];hn.mapbox_clip_start=de.start/de.size,hn.mapbox_clip_end=de.end/de.size}var Ut={geometry:Qe,type:"Polygon"===Pe||"MultiPolygon"===Pe?3:"LineString"===Pe||"MultiLineString"===Pe?2:1,tags:hn};null!==K.id&&(Ut.id=K.id),U.features.push(Ut)}}function To(U,K,$,he,de,Pe){var Qe=he*he;if(he>0&&K.size<(de?Qe:he))$.numPoints+=K.length/3;else{for(var ge=[],Ve=0;Ve<K.length;Ve+=3)(0===he||K[Ve+2]>Qe)&&($.numSimplified++,ge.push(K[Ve]),ge.push(K[Ve+1])),$.numPoints++;de&&function(We,hn){for(var Jt=0,Ut=0,En=We.length,ri=En-2;Ut<En;ri=Ut,Ut+=2)Jt+=(We[Ut]-We[ri])*(We[Ut+1]+We[ri+1]);if(Jt>0===hn)for(Ut=0,En=We.length;Ut<En/2;Ut+=2){var De=We[Ut],Xe=We[Ut+1];We[Ut]=We[En-2-Ut],We[Ut+1]=We[En-1-Ut],We[En-2-Ut]=De,We[En-1-Ut]=Xe}}(ge,Pe),U.push(ge)}}function Ts(U,K){var $=(K=this.options=function(de,Pe){for(var Qe in Pe)de[Qe]=Pe[Qe];return de}(Object.create(this.options),K)).debug;if($&&console.time("preprocess data"),K.maxZoom<0||K.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(K.promoteId&&K.generateId)throw new Error("promoteId and generateId cannot be used together.");var de,Pe,Qe,ge,Ve,We,he=function(de,Pe){var Qe=[];if("FeatureCollection"===de.type)for(var ge=0;ge<de.features.length;ge++)nr(Qe,de.features[ge],Pe,ge);else nr(Qe,"Feature"===de.type?de:{geometry:de},Pe);return Qe}(U,K);this.tiles={},this.tileCoords=[],$&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",K.indexMaxZoom,K.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(de=he,Pe=K,Qe=Pe.buffer/Pe.extent,ge=de,Ve=jn(de,1,-1-Qe,Qe,0,-1,2,Pe),We=jn(de,1,1-Qe,2+Qe,0,-1,2,Pe),(Ve||We)&&(ge=jn(de,1,-Qe,1+Qe,0,-1,2,Pe)||[],Ve&&(ge=Tr(Ve,1).concat(ge)),We&&(ge=ge.concat(Tr(We,-1)))),he=ge).length&&this.splitTile(he,0,0,0),$&&(he.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function $o(U,K,$){return 32*((1<<U)*$+K)+U}function pr(U,K){var $=U.tileID.canonical;if(!this._geoJSONIndex)return K(null,null);var he=this._geoJSONIndex.getTile($.z,$.x,$.y);if(!he)return K(null,null);var de=new wt(he.features),Pe=Je(de);0===Pe.byteOffset&&Pe.byteLength===Pe.buffer.byteLength||(Pe=new Uint8Array(Pe)),K(null,{vectorTile:de,rawData:Pe.buffer})}Wn.prototype.load=function(U){var K=this.options,$=K.log,he=K.minZoom,de=K.maxZoom,Pe=K.nodeSize;$&&console.time("total time");var Qe="prepare "+U.length+" points";$&&console.time(Qe),this.points=U;for(var ge=[],Ve=0;Ve<U.length;Ve++)U[Ve].geometry&&ge.push(Xn(U[Ve],Ve));this.trees[de+1]=new ki(ge,Zt,fi,Pe,Float32Array),$&&console.timeEnd(Qe);for(var We=de;We>=he;We--){var hn=+Date.now();ge=this._cluster(ge,We),this.trees[We]=new ki(ge,Zt,fi,Pe,Float32Array),$&&console.log("z%d: %d clusters in %dms",We,ge.length,+Date.now()-hn)}return $&&console.timeEnd("total time"),this},Wn.prototype.getClusters=function(U,K){var $=((U[0]+180)%360+360)%360-180,he=Math.max(-90,Math.min(90,U[1])),de=180===U[2]?180:((U[2]+180)%360+360)%360-180,Pe=Math.max(-90,Math.min(90,U[3]));if(U[2]-U[0]>=360)$=-180,de=180;else if($>de){var Qe=this.getClusters([$,he,180,Pe],K),ge=this.getClusters([-180,he,de,Pe],K);return Qe.concat(ge)}for(var Ve=this.trees[this._limitZoom(K)],We=[],hn=0,Jt=Ve.range(Jn($),kn(Pe),Jn(de),kn(he));hn<Jt.length;hn+=1){var Ut=Ve.points[Jt[hn]];We.push(Ut.numPoints?qn(Ut):this.points[Ut.index])}return We},Wn.prototype.getChildren=function(U){var K=this._getOriginId(U),$=this._getOriginZoom(U),he="No cluster with the specified id.",de=this.trees[$];if(!de)throw new Error(he);var Pe=de.points[K];if(!Pe)throw new Error(he);for(var Qe=this.options.radius/(this.options.extent*Math.pow(2,$-1)),ge=[],Ve=0,We=de.within(Pe.x,Pe.y,Qe);Ve<We.length;Ve+=1){var hn=de.points[We[Ve]];hn.parentId===U&&ge.push(hn.numPoints?qn(hn):this.points[hn.index])}if(0===ge.length)throw new Error(he);return ge},Wn.prototype.getLeaves=function(U,K,$){var he=[];return this._appendLeaves(he,U,K=K||10,$=$||0,0),he},Wn.prototype.getTile=function(U,K,$){var he=this.trees[this._limitZoom(U)],de=Math.pow(2,U),Pe=this.options,Qe=Pe.radius/Pe.extent,ge=($-Qe)/de,Ve=($+1+Qe)/de,We={features:[]};return this._addTileFeatures(he.range((K-Qe)/de,ge,(K+1+Qe)/de,Ve),he.points,K,$,de,We),0===K&&this._addTileFeatures(he.range(1-Qe/de,ge,1,Ve),he.points,de,$,de,We),K===de-1&&this._addTileFeatures(he.range(0,ge,Qe/de,Ve),he.points,-1,$,de,We),We.features.length?We:null},Wn.prototype.getClusterExpansionZoom=function(U){for(var K=this._getOriginZoom(U)-1;K<=this.options.maxZoom;){var $=this.getChildren(U);if(K++,1!==$.length)break;U=$[0].properties.cluster_id}return K},Wn.prototype._appendLeaves=function(U,K,$,he,de){for(var Pe=0,Qe=this.getChildren(K);Pe<Qe.length;Pe+=1){var ge=Qe[Pe],Ve=ge.properties;if(Ve&&Ve.cluster?de+Ve.point_count<=he?de+=Ve.point_count:de=this._appendLeaves(U,Ve.cluster_id,$,he,de):de<he?de++:U.push(ge),U.length===$)break}return de},Wn.prototype._addTileFeatures=function(U,K,$,he,de,Pe){for(var Qe=0,ge=U;Qe<ge.length;Qe+=1){var Ve=K[ge[Qe]],We=Ve.numPoints,hn={type:1,geometry:[[Math.round(this.options.extent*(Ve.x*de-$)),Math.round(this.options.extent*(Ve.y*de-he))]],tags:We?An(Ve):this.points[Ve.index].properties},Jt=void 0;We?Jt=Ve.id:this.options.generateId?Jt=Ve.index:this.points[Ve.index].id&&(Jt=this.points[Ve.index].id),void 0!==Jt&&(hn.id=Jt),Pe.features.push(hn)}},Wn.prototype._limitZoom=function(U){return Math.max(this.options.minZoom,Math.min(+U,this.options.maxZoom+1))},Wn.prototype._cluster=function(U,K){for(var $=[],he=this.options,de=he.reduce,Pe=he.minPoints,Qe=he.radius/(he.extent*Math.pow(2,K)),ge=0;ge<U.length;ge++){var Ve=U[ge];if(!(Ve.zoom<=K)){Ve.zoom=K;for(var We=this.trees[K+1],hn=We.within(Ve.x,Ve.y,Qe),Jt=Ve.numPoints||1,Ut=Jt,En=0,ri=hn;En<ri.length;En+=1){var De=We.points[ri[En]];De.zoom>K&&(Ut+=De.numPoints||1)}if(Ut>=Pe){for(var Xe=Ve.x*Jt,Lt=Ve.y*Jt,_t=de&&Jt>1?this._map(Ve,!0):null,Rt=(ge<<5)+(K+1)+this.points.length,zt=0,tt=hn;zt<tt.length;zt+=1){var ct=We.points[tt[zt]];if(!(ct.zoom<=K)){ct.zoom=K;var Pt=ct.numPoints||1;Xe+=ct.x*Pt,Lt+=ct.y*Pt,ct.parentId=Rt,de&&(_t||(_t=this._map(Ve,!0)),de(_t,this._map(ct)))}}Ve.parentId=Rt,$.push(ei(Xe/Ut,Lt/Ut,Rt,Ut,_t))}else if($.push(Ve),Ut>1)for(var kt=0,Rn=hn;kt<Rn.length;kt+=1){var fn=We.points[Rn[kt]];fn.zoom<=K||(fn.zoom=K,$.push(fn))}}}return $},Wn.prototype._getOriginId=function(U){return U-this.points.length>>5},Wn.prototype._getOriginZoom=function(U){return(U-this.points.length)%32},Wn.prototype._map=function(U,K){if(U.numPoints)return K?Gt({},U.properties):U.properties;var $=this.points[U.index].properties,he=this.options.map($);return K&&he===$?Gt({},he):he},Ts.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Ts.prototype.splitTile=function(U,K,$,he,de,Pe,Qe){for(var ge=[U,K,$,he],Ve=this.options,We=Ve.debug;ge.length;){he=ge.pop(),$=ge.pop(),K=ge.pop(),U=ge.pop();var hn=1<<K,Jt=$o(K,$,he),Ut=this.tiles[Jt];if(!Ut&&(We>1&&console.time("creation"),Ut=this.tiles[Jt]=Wo(U,K,$,he,Ve),this.tileCoords.push({z:K,x:$,y:he}),We)){We>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",K,$,he,Ut.numFeatures,Ut.numPoints,Ut.numSimplified),console.timeEnd("creation"));var En="z"+K;this.stats[En]=(this.stats[En]||0)+1,this.total++}if(Ut.source=U,de){if(K===Ve.maxZoom||K===de)continue;var ri=1<<de-K;if($!==Math.floor(Pe/ri)||he!==Math.floor(Qe/ri))continue}else if(K===Ve.indexMaxZoom||Ut.numPoints<=Ve.indexMaxPoints)continue;if(Ut.source=null,0!==U.length){We>1&&console.time("clipping");var De,Xe,Lt,_t,Rt,zt,tt=.5*Ve.buffer/Ve.extent,ct=.5-tt,Pt=.5+tt,kt=1+tt;De=Xe=Lt=_t=null,Rt=jn(U,hn,$-tt,$+Pt,0,Ut.minX,Ut.maxX,Ve),zt=jn(U,hn,$+ct,$+kt,0,Ut.minX,Ut.maxX,Ve),U=null,Rt&&(De=jn(Rt,hn,he-tt,he+Pt,1,Ut.minY,Ut.maxY,Ve),Xe=jn(Rt,hn,he+ct,he+kt,1,Ut.minY,Ut.maxY,Ve),Rt=null),zt&&(Lt=jn(zt,hn,he-tt,he+Pt,1,Ut.minY,Ut.maxY,Ve),_t=jn(zt,hn,he+ct,he+kt,1,Ut.minY,Ut.maxY,Ve),zt=null),We>1&&console.timeEnd("clipping"),ge.push(De||[],K+1,2*$,2*he),ge.push(Xe||[],K+1,2*$,2*he+1),ge.push(Lt||[],K+1,2*$+1,2*he),ge.push(_t||[],K+1,2*$+1,2*he+1)}}},Ts.prototype.getTile=function(U,K,$){var he=this.options,de=he.extent,Pe=he.debug;if(U<0||U>24)return null;var Qe=1<<U,ge=$o(U,K=(K%Qe+Qe)%Qe,$);if(this.tiles[ge])return Jr(this.tiles[ge],de);Pe>1&&console.log("drilling down to z%d-%d-%d",U,K,$);for(var Ve,We=U,hn=K,Jt=$;!Ve&&We>0;)We--,hn=Math.floor(hn/2),Jt=Math.floor(Jt/2),Ve=this.tiles[$o(We,hn,Jt)];return Ve&&Ve.source?(Pe>1&&console.log("found parent tile z%d-%d-%d",We,hn,Jt),Pe>1&&console.time("drilling down"),this.splitTile(Ve.source,We,hn,Jt,U,K,$),Pe>1&&console.timeEnd("drilling down"),this.tiles[ge]?Jr(this.tiles[ge],de):null):null};var Ss=function(U){function K($,he,de,Pe){U.call(this,$,he,de,pr),Pe&&(this.loadGeoJSON=Pe)}return U&&(K.__proto__=U),(K.prototype=Object.create(U&&U.prototype)).constructor=K,K.prototype.loadData=function($,he){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=he,this._pendingLoadDataParams=$,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},K.prototype._loadData=function(){var $=this;if(this._pendingCallback&&this._pendingLoadDataParams){var he=this._pendingCallback,de=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Pe=!!(de&&de.request&&de.request.collectResourceTiming)&&new A.RequestPerformance(de.request);this.loadGeoJSON(de,function(Qe,ge){if(Qe||!ge)return he(Qe);if("object"!=typeof ge)return he(new Error("Input data given to '"+de.source+"' is not a valid GeoJSON object."));!function Ut(En,ri){var De,Xe=En&&En.type;if("FeatureCollection"===Xe)for(De=0;De<En.features.length;De++)Ut(En.features[De],ri);else if("GeometryCollection"===Xe)for(De=0;De<En.geometries.length;De++)Ut(En.geometries[De],ri);else if("Feature"===Xe)Ut(En.geometry,ri);else if("Polygon"===Xe)me(En.coordinates,ri);else if("MultiPolygon"===Xe)for(De=0;De<En.coordinates.length;De++)me(En.coordinates[De],ri);return En}(ge,!0);try{if(de.filter){var Ve=A.createExpression(de.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===Ve.result)throw new Error(Ve.value.map(function(Ut){return Ut.key+": "+Ut.message}).join(", "));var We=ge.features.filter(function(Ut){return Ve.value.evaluate({zoom:0},Ut)});ge={type:"FeatureCollection",features:We}}$._geoJSONIndex=de.cluster?new Wn(function(Ut){var En=Ut.superclusterOptions,ri=Ut.clusterProperties;if(!ri||!En)return En;for(var De={},Xe={},Lt={accumulated:null,zoom:0},_t={properties:null},Rt=Object.keys(ri),zt=0,tt=Rt;zt<tt.length;zt+=1){var ct=tt[zt],Pt=ri[ct],kt=Pt[0],Rn=A.createExpression(Pt[1]),fn=A.createExpression("string"==typeof kt?[kt,["accumulated"],["get",ct]]:kt);De[ct]=Rn.value,Xe[ct]=fn.value}return En.map=function(Ai){_t.properties=Ai;for(var Pi={},vi=0,ir=Rt;vi<ir.length;vi+=1){var Wi=ir[vi];Pi[Wi]=De[Wi].evaluate(Lt,_t)}return Pi},En.reduce=function(Ai,Pi){_t.properties=Pi;for(var vi=0,ir=Rt;vi<ir.length;vi+=1){var Wi=ir[vi];Lt.accumulated=Ai[Wi],Ai[Wi]=Xe[Wi].evaluate(Lt,_t)}},En}(de)).load(ge.features):new Ts(Ut=ge,de.geojsonVtOptions)}catch(Ut){return he(Ut)}var Ut;$.loaded={};var hn={};if(Pe){var Jt=Pe.finish();Jt&&(hn.resourceTiming={},hn.resourceTiming[de.source]=JSON.parse(JSON.stringify(Jt)))}he(null,hn)})}},K.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},K.prototype.reloadTile=function($,he){var de=this.loaded;return de&&de[$.uid]?U.prototype.reloadTile.call(this,$,he):this.loadTile($,he)},K.prototype.loadGeoJSON=function($,he){if($.request)A.getJSON($.request,he);else{if("string"!=typeof $.data)return he(new Error("Input data given to '"+$.source+"' is not a valid GeoJSON object."));try{return he(null,JSON.parse($.data))}catch{return he(new Error("Input data given to '"+$.source+"' is not a valid GeoJSON object."))}}},K.prototype.removeSource=function($,he){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),he()},K.prototype.getClusterExpansionZoom=function($,he){try{he(null,this._geoJSONIndex.getClusterExpansionZoom($.clusterId))}catch(de){he(de)}},K.prototype.getClusterChildren=function($,he){try{he(null,this._geoJSONIndex.getChildren($.clusterId))}catch(de){he(de)}},K.prototype.getClusterLeaves=function($,he){try{he(null,this._geoJSONIndex.getLeaves($.clusterId,$.limit,$.offset))}catch(de){he(de)}},K}(Z),so=function(U){var K=this;this.self=U,this.actor=new A.Actor(U,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:Z,geojson:Ss},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function($,he){if(K.workerSourceTypes[$])throw new Error('Worker source with name "'+$+'" already registered.');K.workerSourceTypes[$]=he},this.self.registerRTLTextPlugin=function($){if(A.plugin.isParsed())throw new Error("RTL text plugin already registered.");A.plugin.applyArabicShaping=$.applyArabicShaping,A.plugin.processBidirectionalText=$.processBidirectionalText,A.plugin.processStyledBidirectionalText=$.processStyledBidirectionalText}};return so.prototype.setReferrer=function(U,K){this.referrer=K},so.prototype.setImages=function(U,K,$){for(var he in this.availableImages[U]=K,this.workerSources[U]){var de=this.workerSources[U][he];for(var Pe in de)de[Pe].availableImages=K}$()},so.prototype.setLayers=function(U,K,$){this.getLayerIndex(U).replace(K),$()},so.prototype.updateLayers=function(U,K,$){this.getLayerIndex(U).update(K.layers,K.removedIds),$()},so.prototype.loadTile=function(U,K,$){this.getWorkerSource(U,K.type,K.source).loadTile(K,$)},so.prototype.loadDEMTile=function(U,K,$){this.getDEMWorkerSource(U,K.source).loadTile(K,$)},so.prototype.reloadTile=function(U,K,$){this.getWorkerSource(U,K.type,K.source).reloadTile(K,$)},so.prototype.abortTile=function(U,K,$){this.getWorkerSource(U,K.type,K.source).abortTile(K,$)},so.prototype.removeTile=function(U,K,$){this.getWorkerSource(U,K.type,K.source).removeTile(K,$)},so.prototype.removeDEMTile=function(U,K){this.getDEMWorkerSource(U,K.source).removeTile(K)},so.prototype.removeSource=function(U,K,$){if(this.workerSources[U]&&this.workerSources[U][K.type]&&this.workerSources[U][K.type][K.source]){var he=this.workerSources[U][K.type][K.source];delete this.workerSources[U][K.type][K.source],void 0!==he.removeSource?he.removeSource(K,$):$()}},so.prototype.loadWorkerSource=function(U,K,$){try{this.self.importScripts(K.url),$()}catch(he){$(he.toString())}},so.prototype.syncRTLPluginState=function(U,K,$){try{A.plugin.setState(K);var he=A.plugin.getPluginURL();if(A.plugin.isLoaded()&&!A.plugin.isParsed()&&null!=he){this.self.importScripts(he);var de=A.plugin.isParsed();$(de?void 0:new Error("RTL Text Plugin failed to import scripts from "+he),de)}}catch(Pe){$(Pe.toString())}},so.prototype.getAvailableImages=function(U){var K=this.availableImages[U];return K||(K=[]),K},so.prototype.getLayerIndex=function(U){var K=this.layerIndexes[U];return K||(K=this.layerIndexes[U]=new N),K},so.prototype.getWorkerSource=function(U,K,$){var he=this;return this.workerSources[U]||(this.workerSources[U]={}),this.workerSources[U][K]||(this.workerSources[U][K]={}),this.workerSources[U][K][$]||(this.workerSources[U][K][$]=new this.workerSourceTypes[K]({send:function(de,Pe,Qe){he.actor.send(de,Pe,Qe,U)}},this.getLayerIndex(U),this.getAvailableImages(U))),this.workerSources[U][K][$]},so.prototype.getDEMWorkerSource=function(U,K){return this.demWorkerSources[U]||(this.demWorkerSources[U]={}),this.demWorkerSources[U][K]||(this.demWorkerSources[U][K]=new fe),this.demWorkerSources[U][K]},so.prototype.enforceCacheSizeLimit=function(U,K){A.enforceCacheSizeLimit(K)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new so(self)),so}),V(0,function(A){var L=A.createCommonjsModule(function(h){function f(C){return!p(C)}function p(C){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var M,z,ie=new Blob([""],{type:"text/javascript"}),ue=URL.createObjectURL(ie);try{z=new Worker(ue),M=!0}catch{M=!1}return z&&z.terminate(),URL.revokeObjectURL(ue),M}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var M=document.createElement("canvas");M.width=M.height=1;var z=M.getContext("2d");if(!z)return!1;var ie=z.getImageData(0,0,1,1);return ie&&ie.width===M.width}()?(void 0===_[D=C&&C.failIfMajorPerformanceCaveat]&&(_[D]=function(M){var ue,Ce,Se,z=(ue=M,Ce=document.createElement("canvas"),(Se=Object.create(f.webGLContextAttributes)).failIfMajorPerformanceCaveat=ue,Ce.probablySupportsContext?Ce.probablySupportsContext("webgl",Se)||Ce.probablySupportsContext("experimental-webgl",Se):Ce.supportsContext?Ce.supportsContext("webgl",Se)||Ce.supportsContext("experimental-webgl",Se):Ce.getContext("webgl",Se)||Ce.getContext("experimental-webgl",Se));if(!z)return!1;var ie=z.createShader(z.VERTEX_SHADER);return!(!ie||z.isContextLost())&&(z.shaderSource(ie,"void main() {}"),z.compileShader(ie),!0===z.getShaderParameter(ie,z.COMPILE_STATUS))}(D)),_[D]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var D}h.exports?h.exports=f:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=f,window.mapboxgl.notSupportedReason=p);var _={};f.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),P={create:function(h,f,p){var _=A.window.document.createElement(h);return void 0!==f&&(_.className=f),p&&p.appendChild(_),_},createNS:function(h,f){return A.window.document.createElementNS(h,f)}},N=A.window.document&&A.window.document.documentElement.style;function W(h){if(!N)return h[0];for(var f=0;f<h.length;f++)if(h[f]in N)return h[f];return h[0]}var Y,G=W(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);P.disableDrag=function(){N&&G&&(Y=N[G],N[G]="none")},P.enableDrag=function(){N&&G&&(N[G]=Y)};var ne=W(["transform","WebkitTransform"]);P.setTransform=function(h,f){h.style[ne]=f};var Z=!1;try{var se=Object.defineProperty({},"passive",{get:function(){Z=!0}});A.window.addEventListener("test",se,se),A.window.removeEventListener("test",se,se)}catch{Z=!1}P.addEventListener=function(h,f,p,_){void 0===_&&(_={}),h.addEventListener(f,p,"passive"in _&&Z?_:_.capture)},P.removeEventListener=function(h,f,p,_){void 0===_&&(_={}),h.removeEventListener(f,p,"passive"in _&&Z?_:_.capture)};var fe=function(h){h.preventDefault(),h.stopPropagation(),A.window.removeEventListener("click",fe,!0)};function me(h){var f=h.userImage;return!!(f&&f.render&&f.render())&&(h.data.replace(new Uint8Array(f.data.buffer)),!0)}P.suppressClick=function(){A.window.addEventListener("click",fe,!0),A.window.setTimeout(function(){A.window.removeEventListener("click",fe,!0)},0)},P.mousePos=function(h,f){var p=h.getBoundingClientRect();return new A.Point(f.clientX-p.left-h.clientLeft,f.clientY-p.top-h.clientTop)},P.touchPos=function(h,f){for(var p=h.getBoundingClientRect(),_=[],C=0;C<f.length;C++)_.push(new A.Point(f[C].clientX-p.left-h.clientLeft,f[C].clientY-p.top-h.clientTop));return _},P.mouseButton=function(h){return void 0!==A.window.InstallTrigger&&2===h.button&&h.ctrlKey&&A.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:h.button},P.remove=function(h){h.parentNode&&h.parentNode.removeChild(h)};var we=function(h){function f(){h.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new A.RGBAImage({width:1,height:1}),this.dirty=!0}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.isLoaded=function(){return this.loaded},f.prototype.setLoaded=function(p){if(this.loaded!==p&&(this.loaded=p,p)){for(var _=0,C=this.requestors;_<C.length;_+=1){var D=C[_];this._notify(D.ids,D.callback)}this.requestors=[]}},f.prototype.getImage=function(p){return this.images[p]},f.prototype.addImage=function(p,_){this._validate(p,_)&&(this.images[p]=_)},f.prototype._validate=function(p,_){var C=!0;return this._validateStretch(_.stretchX,_.data&&_.data.width)||(this.fire(new A.ErrorEvent(new Error('Image "'+p+'" has invalid "stretchX" value'))),C=!1),this._validateStretch(_.stretchY,_.data&&_.data.height)||(this.fire(new A.ErrorEvent(new Error('Image "'+p+'" has invalid "stretchY" value'))),C=!1),this._validateContent(_.content,_)||(this.fire(new A.ErrorEvent(new Error('Image "'+p+'" has invalid "content" value'))),C=!1),C},f.prototype._validateStretch=function(p,_){if(!p)return!0;for(var C=0,D=0,M=p;D<M.length;D+=1){var z=M[D];if(z[0]<C||z[1]<z[0]||_<z[1])return!1;C=z[1]}return!0},f.prototype._validateContent=function(p,_){return!(p&&(4!==p.length||p[0]<0||_.data.width<p[0]||p[1]<0||_.data.height<p[1]||p[2]<0||_.data.width<p[2]||p[3]<0||_.data.height<p[3]||p[2]<p[0]||p[3]<p[1]))},f.prototype.updateImage=function(p,_){_.version=this.images[p].version+1,this.images[p]=_,this.updatedImages[p]=!0},f.prototype.removeImage=function(p){var _=this.images[p];delete this.images[p],delete this.patterns[p],_.userImage&&_.userImage.onRemove&&_.userImage.onRemove()},f.prototype.listImages=function(){return Object.keys(this.images)},f.prototype.getImages=function(p,_){var C=!0;if(!this.isLoaded())for(var D=0,M=p;D<M.length;D+=1)this.images[M[D]]||(C=!1);this.isLoaded()||C?this._notify(p,_):this.requestors.push({ids:p,callback:_})},f.prototype._notify=function(p,_){for(var C={},D=0,M=p;D<M.length;D+=1){var z=M[D];this.images[z]||this.fire(new A.Event("styleimagemissing",{id:z}));var ie=this.images[z];ie?C[z]={data:ie.data.clone(),pixelRatio:ie.pixelRatio,sdf:ie.sdf,version:ie.version,stretchX:ie.stretchX,stretchY:ie.stretchY,content:ie.content,hasRenderCallback:!(!ie.userImage||!ie.userImage.render)}:A.warnOnce('Image "'+z+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}_(null,C)},f.prototype.getPixelSize=function(){var p=this.atlasImage;return{width:p.width,height:p.height}},f.prototype.getPattern=function(p){var _=this.patterns[p],C=this.getImage(p);if(!C)return null;if(_&&_.position.version===C.version)return _.position;if(_)_.position.version=C.version;else{var D={w:C.data.width+2,h:C.data.height+2,x:0,y:0},M=new A.ImagePosition(D,C);this.patterns[p]={bin:D,position:M}}return this._updatePatternAtlas(),this.patterns[p].position},f.prototype.bind=function(p){var _=p.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new A.Texture(p,this.atlasImage,_.RGBA),this.atlasTexture.bind(_.LINEAR,_.CLAMP_TO_EDGE)},f.prototype._updatePatternAtlas=function(){var p=[];for(var _ in this.patterns)p.push(this.patterns[_].bin);var C=A.potpack(p),D=C.w,M=C.h,z=this.atlasImage;for(var ie in z.resize({width:D||1,height:M||1}),this.patterns){var ue=this.patterns[ie].bin,Ce=ue.x+1,Se=ue.y+1,ke=this.images[ie].data,qe=ke.width,je=ke.height;A.RGBAImage.copy(ke,z,{x:0,y:0},{x:Ce,y:Se},{width:qe,height:je}),A.RGBAImage.copy(ke,z,{x:0,y:je-1},{x:Ce,y:Se-1},{width:qe,height:1}),A.RGBAImage.copy(ke,z,{x:0,y:0},{x:Ce,y:Se+je},{width:qe,height:1}),A.RGBAImage.copy(ke,z,{x:qe-1,y:0},{x:Ce-1,y:Se},{width:1,height:je}),A.RGBAImage.copy(ke,z,{x:0,y:0},{x:Ce+qe,y:Se},{width:1,height:je})}this.dirty=!0},f.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},f.prototype.dispatchRenderCallbacks=function(p){for(var _=0,C=p;_<C.length;_+=1){var D=C[_];if(!this.callbackDispatchedThisFrame[D]){this.callbackDispatchedThisFrame[D]=!0;var M=this.images[D];me(M)&&this.updateImage(D,M)}}},f}(A.Evented),Ze=ht,ot=ht,wt=1e20;function ht(h,f,p,_,C,D){this.fontSize=h||24,this.buffer=void 0===f?3:f,this.cutoff=_||.25,this.fontFamily=C||"sans-serif",this.fontWeight=D||"normal",this.radius=p||8;var M=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=M,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(M*M),this.gridInner=new Float64Array(M*M),this.f=new Float64Array(M),this.d=new Float64Array(M),this.z=new Float64Array(M+1),this.v=new Int16Array(M),this.middle=Math.round(M/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function pt(h,f,p,_,C,D,M){for(var z=0;z<f;z++){for(var ie=0;ie<p;ie++)_[ie]=h[ie*f+z];for(mt(_,C,D,M,p),ie=0;ie<p;ie++)h[ie*f+z]=C[ie]}for(ie=0;ie<p;ie++){for(z=0;z<f;z++)_[z]=h[ie*f+z];for(mt(_,C,D,M,f),z=0;z<f;z++)h[ie*f+z]=Math.sqrt(C[z])}}function mt(h,f,p,_,C){p[0]=0,_[0]=-wt,_[1]=+wt;for(var D=1,M=0;D<C;D++){for(var z=(h[D]+D*D-(h[p[M]]+p[M]*p[M]))/(2*D-2*p[M]);z<=_[M];)M--,z=(h[D]+D*D-(h[p[M]]+p[M]*p[M]))/(2*D-2*p[M]);p[++M]=D,_[M]=z,_[M+1]=+wt}for(D=0,M=0;D<C;D++){for(;_[M+1]<D;)M++;f[D]=(D-p[M])*(D-p[M])+h[p[M]]}}ht.prototype.draw=function(h){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(h,this.buffer,this.middle);for(var f=this.ctx.getImageData(0,0,this.size,this.size),p=new Uint8ClampedArray(this.size*this.size),_=0;_<this.size*this.size;_++){var C=f.data[4*_+3]/255;this.gridOuter[_]=1===C?0:0===C?wt:Math.pow(Math.max(0,.5-C),2),this.gridInner[_]=1===C?wt:0===C?0:Math.pow(Math.max(0,C-.5),2)}for(pt(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),pt(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),_=0;_<this.size*this.size;_++)p[_]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[_]-this.gridInner[_])/this.radius+this.cutoff))));return p},Ze.default=ot;var vt=function(h,f){this.requestManager=h,this.localIdeographFontFamily=f,this.entries={}};vt.prototype.setURL=function(h){this.url=h},vt.prototype.getGlyphs=function(h,f){var p=this,_=[];for(var C in h)for(var D=0,M=h[C];D<M.length;D+=1)_.push({stack:C,id:M[D]});A.asyncAll(_,function(z,ie){var ue=z.stack,Ce=z.id,Se=p.entries[ue];Se||(Se=p.entries[ue]={glyphs:{},requests:{},ranges:{}});var ke=Se.glyphs[Ce];if(void 0===ke){if(ke=p._tinySDF(Se,ue,Ce))return Se.glyphs[Ce]=ke,void ie(null,{stack:ue,id:Ce,glyph:ke});var qe=Math.floor(Ce/256);if(256*qe>65535)ie(new Error("glyphs > 65535 not supported"));else if(Se.ranges[qe])ie(null,{stack:ue,id:Ce,glyph:ke});else{var je=Se.requests[qe];je||(je=Se.requests[qe]=[],vt.loadGlyphRange(ue,qe,p.url,p.requestManager,function(ut,Ue){if(Ue){for(var lt in Ue)p._doesCharSupportLocalGlyph(+lt)||(Se.glyphs[+lt]=Ue[+lt]);Se.ranges[qe]=!0}for(var At=0,Ot=je;At<Ot.length;At+=1)(0,Ot[At])(ut,Ue);delete Se.requests[qe]})),je.push(function(ut,Ue){ut?ie(ut):Ue&&ie(null,{stack:ue,id:Ce,glyph:Ue[Ce]||null})})}}else ie(null,{stack:ue,id:Ce,glyph:ke})},function(z,ie){if(z)f(z);else if(ie){for(var ue={},Ce=0,Se=ie;Ce<Se.length;Ce+=1){var ke=Se[Ce],qe=ke.stack,je=ke.id,ut=ke.glyph;(ue[qe]||(ue[qe]={}))[je]=ut&&{id:ut.id,bitmap:ut.bitmap.clone(),metrics:ut.metrics}}f(null,ue)}})},vt.prototype._doesCharSupportLocalGlyph=function(h){return!!this.localIdeographFontFamily&&(A.isChar["CJK Unified Ideographs"](h)||A.isChar["Hangul Syllables"](h)||A.isChar.Hiragana(h)||A.isChar.Katakana(h))},vt.prototype._tinySDF=function(h,f,p){var _=this.localIdeographFontFamily;if(_&&this._doesCharSupportLocalGlyph(p)){var C=h.tinySDF;if(!C){var D="400";/bold/i.test(f)?D="900":/medium/i.test(f)?D="500":/light/i.test(f)&&(D="200"),C=h.tinySDF=new vt.TinySDF(24,3,8,.25,_,D)}return{id:p,bitmap:new A.AlphaImage({width:30,height:30},C.draw(String.fromCharCode(p))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},vt.loadGlyphRange=function(h,f,p,_,C){var D=256*f,M=D+255,z=_.transformRequest(_.normalizeGlyphsURL(p).replace("{fontstack}",h).replace("{range}",D+"-"+M),A.ResourceType.Glyphs);A.getArrayBuffer(z,function(ie,ue){if(ie)C(ie);else if(ue){for(var Ce={},Se=0,ke=A.parseGlyphPBF(ue);Se<ke.length;Se+=1){var qe=ke[Se];Ce[qe.id]=qe}C(null,Ce)}})},vt.TinySDF=Ze;var Je=function(){this.specification=A.styleSpec.light.position};Je.prototype.possiblyEvaluate=function(h,f){return A.sphericalToCartesian(h.expression.evaluate(f))},Je.prototype.interpolate=function(h,f,p){return{x:A.number(h.x,f.x,p),y:A.number(h.y,f.y,p),z:A.number(h.z,f.z,p)}};var st=new A.Properties({anchor:new A.DataConstantProperty(A.styleSpec.light.anchor),position:new Je,color:new A.DataConstantProperty(A.styleSpec.light.color),intensity:new A.DataConstantProperty(A.styleSpec.light.intensity)}),Fe=function(h){function f(p){h.call(this),this._transitionable=new A.Transitionable(st),this.setLight(p),this._transitioning=this._transitionable.untransitioned()}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.getLight=function(){return this._transitionable.serialize()},f.prototype.setLight=function(p,_){if(void 0===_&&(_={}),!this._validate(A.validateLight,p,_))for(var C in p){var D=p[C];A.endsWith(C,"-transition")?this._transitionable.setTransition(C.slice(0,-11),D):this._transitionable.setValue(C,D)}},f.prototype.updateTransitions=function(p){this._transitioning=this._transitionable.transitioned(p,this._transitioning)},f.prototype.hasTransition=function(){return this._transitioning.hasTransition()},f.prototype.recalculate=function(p){this.properties=this._transitioning.possiblyEvaluate(p)},f.prototype._validate=function(p,_,C){return(!C||!1!==C.validate)&&A.emitValidationErrors(this,p.call(A.validateStyle,A.extend({value:_,style:{glyphs:!0,sprite:!0},styleSpec:A.styleSpec})))},f}(A.Evented),ze=function(h,f){this.width=h,this.height=f,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};ze.prototype.getDash=function(h,f){var p=h.join(",")+String(f);return this.dashEntry[p]||(this.dashEntry[p]=this.addDash(h,f)),this.dashEntry[p]},ze.prototype.getDashRanges=function(h,f,p){var _=[],C=h.length%2==1?-h[h.length-1]*p:0,D=h[0]*p,M=!0;_.push({left:C,right:D,isDash:M,zeroLength:0===h[0]});for(var z=h[0],ie=1;ie<h.length;ie++){var ue=h[ie];_.push({left:C=z*p,right:D=(z+=ue)*p,isDash:M=!M,zeroLength:0===ue})}return _},ze.prototype.addRoundDash=function(h,f,p){for(var _=f/2,C=-p;C<=p;C++)for(var D=this.width*(this.nextRow+p+C),M=0,z=h[M],ie=0;ie<this.width;ie++){ie/z.right>1&&(z=h[++M]);var ue=Math.abs(ie-z.left),Ce=Math.abs(ie-z.right),Se=Math.min(ue,Ce),ke=void 0,qe=C/p*(_+1);if(z.isDash){var je=_-Math.abs(qe);ke=Math.sqrt(Se*Se+je*je)}else ke=_-Math.sqrt(Se*Se+qe*qe);this.data[D+ie]=Math.max(0,Math.min(255,ke+128))}},ze.prototype.addRegularDash=function(h){for(var f=h.length-1;f>=0;--f){var p=h[f],_=h[f+1];p.zeroLength?h.splice(f,1):_&&_.isDash===p.isDash&&(_.left=p.left,h.splice(f,1))}var C=h[0],D=h[h.length-1];C.isDash===D.isDash&&(C.left=D.left-this.width,D.right=C.right+this.width);for(var M=this.width*this.nextRow,z=0,ie=h[z],ue=0;ue<this.width;ue++){ue/ie.right>1&&(ie=h[++z]);var Ce=Math.abs(ue-ie.left),Se=Math.abs(ue-ie.right),ke=Math.min(Ce,Se);this.data[M+ue]=Math.max(0,Math.min(255,(ie.isDash?ke:-ke)+128))}},ze.prototype.addDash=function(h,f){var p=f?7:0,_=2*p+1;if(this.nextRow+_>this.height)return A.warnOnce("LineAtlas out of space"),null;for(var C=0,D=0;D<h.length;D++)C+=h[D];if(0!==C){var M=this.width/C,z=this.getDashRanges(h,this.width,M);f?this.addRoundDash(z,M,p):this.addRegularDash(z)}var ie={y:(this.nextRow+p+.5)/this.height,height:2*p/this.height,width:C};return this.nextRow+=_,this.dirty=!0,ie},ze.prototype.bind=function(h){var f=h.gl;this.texture?(f.bindTexture(f.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,f.texSubImage2D(f.TEXTURE_2D,0,0,0,this.width,this.height,f.ALPHA,f.UNSIGNED_BYTE,this.data))):(this.texture=f.createTexture(),f.bindTexture(f.TEXTURE_2D,this.texture),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.REPEAT),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.REPEAT),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.LINEAR),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.LINEAR),f.texImage2D(f.TEXTURE_2D,0,f.ALPHA,this.width,this.height,0,f.ALPHA,f.UNSIGNED_BYTE,this.data))};var Dt=function h(f,p){this.workerPool=f,this.actors=[],this.currentActor=0,this.id=A.uniqueId();for(var _=this.workerPool.acquire(this.id),C=0;C<_.length;C++){var D=new h.Actor(_[C],p,this.id);D.name="Worker "+C,this.actors.push(D)}};function jt(h,f,p){var _=function(C,D){if(C)return p(C);if(D){var M=A.pick(A.extend(D,h),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);D.vector_layers&&(M.vectorLayers=D.vector_layers,M.vectorLayerIds=M.vectorLayers.map(function(z){return z.id})),M.tiles=f.canonicalizeTileset(M,h.url),p(null,M)}};return h.url?A.getJSON(f.transformRequest(f.normalizeSourceURL(h.url),A.ResourceType.Source),_):A.browser.frame(function(){return _(null,h)})}Dt.prototype.broadcast=function(h,f,p){A.asyncAll(this.actors,function(_,C){_.send(h,f,C)},p=p||function(){})},Dt.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},Dt.prototype.remove=function(){this.actors.forEach(function(h){h.remove()}),this.actors=[],this.workerPool.release(this.id)},Dt.Actor=A.Actor;var Tt=function(h,f,p){this.bounds=A.LngLatBounds.convert(this.validateBounds(h)),this.minzoom=f||0,this.maxzoom=p||24};Tt.prototype.validateBounds=function(h){return Array.isArray(h)&&4===h.length?[Math.max(-180,h[0]),Math.max(-90,h[1]),Math.min(180,h[2]),Math.min(90,h[3])]:[-180,-90,180,90]},Tt.prototype.contains=function(h){var f=Math.pow(2,h.z),p=Math.floor(A.mercatorXfromLng(this.bounds.getWest())*f),_=Math.floor(A.mercatorYfromLat(this.bounds.getNorth())*f),C=Math.ceil(A.mercatorXfromLng(this.bounds.getEast())*f),D=Math.ceil(A.mercatorYfromLat(this.bounds.getSouth())*f);return h.x>=p&&h.x<C&&h.y>=_&&h.y<D};var yn=function(h){function f(p,_,C,D){if(h.call(this),this.id=p,this.dispatcher=C,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,A.extend(this,A.pick(_,["url","scheme","tileSize","promoteId"])),this._options=A.extend({type:"vector"},_),this._collectResourceTiming=_.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(D)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.load=function(){var p=this;this._loaded=!1,this.fire(new A.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=jt(this._options,this.map._requestManager,function(_,C){p._tileJSONRequest=null,p._loaded=!0,_?p.fire(new A.ErrorEvent(_)):C&&(A.extend(p,C),C.bounds&&(p.tileBounds=new Tt(C.bounds,p.minzoom,p.maxzoom)),A.postTurnstileEvent(C.tiles,p.map._requestManager._customAccessToken),A.postMapLoadEvent(C.tiles,p.map._getMapId(),p.map._requestManager._skuToken,p.map._requestManager._customAccessToken),p.fire(new A.Event("data",{dataType:"source",sourceDataType:"metadata"})),p.fire(new A.Event("data",{dataType:"source",sourceDataType:"content"})))})},f.prototype.loaded=function(){return this._loaded},f.prototype.hasTile=function(p){return!this.tileBounds||this.tileBounds.contains(p.canonical)},f.prototype.onAdd=function(p){this.map=p,this.load()},f.prototype.setSourceProperty=function(p){this._tileJSONRequest&&this._tileJSONRequest.cancel(),p(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},f.prototype.setTiles=function(p){var _=this;return this.setSourceProperty(function(){_._options.tiles=p}),this},f.prototype.setUrl=function(p){var _=this;return this.setSourceProperty(function(){_.url=p,_._options.url=p}),this},f.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},f.prototype.serialize=function(){return A.extend({},this._options)},f.prototype.loadTile=function(p,_){var C=this.map._requestManager.normalizeTileURL(p.tileID.canonical.url(this.tiles,this.scheme)),D={request:this.map._requestManager.transformRequest(C,A.ResourceType.Tile),uid:p.uid,tileID:p.tileID,zoom:p.tileID.overscaledZ,tileSize:this.tileSize*p.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:A.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function M(z,ie){return delete p.request,p.aborted?_(null):z&&404!==z.status?_(z):(ie&&ie.resourceTiming&&(p.resourceTiming=ie.resourceTiming),this.map._refreshExpiredTiles&&ie&&p.setExpiryData(ie),p.loadVectorData(ie,this.map.painter),A.cacheEntryPossiblyAdded(this.dispatcher),_(null),void(p.reloadCallback&&(this.loadTile(p,p.reloadCallback),p.reloadCallback=null)))}D.request.collectResourceTiming=this._collectResourceTiming,p.actor&&"expired"!==p.state?"loading"===p.state?p.reloadCallback=_:p.request=p.actor.send("reloadTile",D,M.bind(this)):(p.actor=this.dispatcher.getActor(),p.request=p.actor.send("loadTile",D,M.bind(this)))},f.prototype.abortTile=function(p){p.request&&(p.request.cancel(),delete p.request),p.actor&&p.actor.send("abortTile",{uid:p.uid,type:this.type,source:this.id},void 0)},f.prototype.unloadTile=function(p){p.unloadVectorData(),p.actor&&p.actor.send("removeTile",{uid:p.uid,type:this.type,source:this.id},void 0)},f.prototype.hasTransition=function(){return!1},f}(A.Evented),Le=function(h){function f(p,_,C,D){h.call(this),this.id=p,this.dispatcher=C,this.setEventedParent(D),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=A.extend({type:"raster"},_),A.extend(this,A.pick(_,["url","scheme","tileSize"]))}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.load=function(){var p=this;this._loaded=!1,this.fire(new A.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=jt(this._options,this.map._requestManager,function(_,C){p._tileJSONRequest=null,p._loaded=!0,_?p.fire(new A.ErrorEvent(_)):C&&(A.extend(p,C),C.bounds&&(p.tileBounds=new Tt(C.bounds,p.minzoom,p.maxzoom)),A.postTurnstileEvent(C.tiles),A.postMapLoadEvent(C.tiles,p.map._getMapId(),p.map._requestManager._skuToken),p.fire(new A.Event("data",{dataType:"source",sourceDataType:"metadata"})),p.fire(new A.Event("data",{dataType:"source",sourceDataType:"content"})))})},f.prototype.loaded=function(){return this._loaded},f.prototype.onAdd=function(p){this.map=p,this.load()},f.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},f.prototype.serialize=function(){return A.extend({},this._options)},f.prototype.hasTile=function(p){return!this.tileBounds||this.tileBounds.contains(p.canonical)},f.prototype.loadTile=function(p,_){var C=this,D=this.map._requestManager.normalizeTileURL(p.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);p.request=A.getImage(this.map._requestManager.transformRequest(D,A.ResourceType.Tile),function(M,z){if(delete p.request,p.aborted)p.state="unloaded",_(null);else if(M)p.state="errored",_(M);else if(z){C.map._refreshExpiredTiles&&p.setExpiryData(z),delete z.cacheControl,delete z.expires;var ie=C.map.painter.context,ue=ie.gl;p.texture=C.map.painter.getTileTexture(z.width),p.texture?p.texture.update(z,{useMipmap:!0}):(p.texture=new A.Texture(ie,z,ue.RGBA,{useMipmap:!0}),p.texture.bind(ue.LINEAR,ue.CLAMP_TO_EDGE,ue.LINEAR_MIPMAP_NEAREST),ie.extTextureFilterAnisotropic&&ue.texParameterf(ue.TEXTURE_2D,ie.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,ie.extTextureFilterAnisotropicMax)),p.state="loaded",A.cacheEntryPossiblyAdded(C.dispatcher),_(null)}})},f.prototype.abortTile=function(p,_){p.request&&(p.request.cancel(),delete p.request),_()},f.prototype.unloadTile=function(p,_){p.texture&&this.map.painter.saveTileTexture(p.texture),_()},f.prototype.hasTransition=function(){return!1},f}(A.Evented),gt=function(h){function f(p,_,C,D){h.call(this,p,_,C,D),this.type="raster-dem",this.maxzoom=22,this._options=A.extend({type:"raster-dem"},_),this.encoding=_.encoding||"mapbox"}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},f.prototype.loadTile=function(p,_){var C=this.map._requestManager.normalizeTileURL(p.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function D(M,z){M&&(p.state="errored",_(M)),z&&(p.dem=z,p.needsHillshadePrepare=!0,p.state="loaded",_(null))}p.request=A.getImage(this.map._requestManager.transformRequest(C,A.ResourceType.Tile),function(M,z){if(delete p.request,p.aborted)p.state="unloaded",_(null);else if(M)p.state="errored",_(M);else if(z){this.map._refreshExpiredTiles&&p.setExpiryData(z),delete z.cacheControl,delete z.expires;var ie=A.window.ImageBitmap&&z instanceof A.window.ImageBitmap&&A.offscreenCanvasSupported()?z:A.browser.getImageData(z,1),ue={uid:p.uid,coord:p.tileID,source:this.id,rawImageData:ie,encoding:this.encoding};p.actor&&"expired"!==p.state||(p.actor=this.dispatcher.getActor(),p.actor.send("loadDEMTile",ue,D.bind(this)))}}.bind(this)),p.neighboringTiles=this._getNeighboringTiles(p.tileID)},f.prototype._getNeighboringTiles=function(p){var _=p.canonical,C=Math.pow(2,_.z),D=(_.x-1+C)%C,M=0===_.x?p.wrap-1:p.wrap,z=(_.x+1+C)%C,ie=_.x+1===C?p.wrap+1:p.wrap,ue={};return ue[new A.OverscaledTileID(p.overscaledZ,M,_.z,D,_.y).key]={backfilled:!1},ue[new A.OverscaledTileID(p.overscaledZ,ie,_.z,z,_.y).key]={backfilled:!1},_.y>0&&(ue[new A.OverscaledTileID(p.overscaledZ,M,_.z,D,_.y-1).key]={backfilled:!1},ue[new A.OverscaledTileID(p.overscaledZ,p.wrap,_.z,_.x,_.y-1).key]={backfilled:!1},ue[new A.OverscaledTileID(p.overscaledZ,ie,_.z,z,_.y-1).key]={backfilled:!1}),_.y+1<C&&(ue[new A.OverscaledTileID(p.overscaledZ,M,_.z,D,_.y+1).key]={backfilled:!1},ue[new A.OverscaledTileID(p.overscaledZ,p.wrap,_.z,_.x,_.y+1).key]={backfilled:!1},ue[new A.OverscaledTileID(p.overscaledZ,ie,_.z,z,_.y+1).key]={backfilled:!1}),ue},f.prototype.unloadTile=function(p){p.demTexture&&this.map.painter.saveTileTexture(p.demTexture),p.fbo&&(p.fbo.destroy(),delete p.fbo),p.dem&&delete p.dem,delete p.neighboringTiles,p.state="unloaded",p.actor&&p.actor.send("removeDEMTile",{uid:p.uid,source:this.id})},f}(Le),St=function(h){function f(p,_,C,D){h.call(this),this.id=p,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=C.getActor(),this.setEventedParent(D),this._data=_.data,this._options=A.extend({},_),this._collectResourceTiming=_.collectResourceTiming,this._resourceTiming=[],void 0!==_.maxzoom&&(this.maxzoom=_.maxzoom),_.type&&(this.type=_.type),_.attribution&&(this.attribution=_.attribution),this.promoteId=_.promoteId;var M=A.EXTENT/this.tileSize;this.workerOptions=A.extend({source:this.id,cluster:_.cluster||!1,geojsonVtOptions:{buffer:(void 0!==_.buffer?_.buffer:128)*M,tolerance:(void 0!==_.tolerance?_.tolerance:.375)*M,extent:A.EXTENT,maxZoom:this.maxzoom,lineMetrics:_.lineMetrics||!1,generateId:_.generateId||!1},superclusterOptions:{maxZoom:void 0!==_.clusterMaxZoom?Math.min(_.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,_.clusterMinPoints||2),extent:A.EXTENT,radius:(_.clusterRadius||50)*M,log:!1,generateId:_.generateId||!1},clusterProperties:_.clusterProperties,filter:_.filter},_.workerOptions)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.load=function(){var p=this;this.fire(new A.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(_){if(_)p.fire(new A.ErrorEvent(_));else{var C={dataType:"source",sourceDataType:"metadata"};p._collectResourceTiming&&p._resourceTiming&&p._resourceTiming.length>0&&(C.resourceTiming=p._resourceTiming,p._resourceTiming=[]),p.fire(new A.Event("data",C))}})},f.prototype.onAdd=function(p){this.map=p,this.load()},f.prototype.setData=function(p){var _=this;return this._data=p,this.fire(new A.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(C){if(C)_.fire(new A.ErrorEvent(C));else{var D={dataType:"source",sourceDataType:"content"};_._collectResourceTiming&&_._resourceTiming&&_._resourceTiming.length>0&&(D.resourceTiming=_._resourceTiming,_._resourceTiming=[]),_.fire(new A.Event("data",D))}}),this},f.prototype.getClusterExpansionZoom=function(p,_){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:p,source:this.id},_),this},f.prototype.getClusterChildren=function(p,_){return this.actor.send("geojson.getClusterChildren",{clusterId:p,source:this.id},_),this},f.prototype.getClusterLeaves=function(p,_,C,D){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:p,limit:_,offset:C},D),this},f.prototype._updateWorkerData=function(p){var _=this;this._loaded=!1;var C=A.extend({},this.workerOptions),D=this._data;"string"==typeof D?(C.request=this.map._requestManager.transformRequest(A.browser.resolveURL(D),A.ResourceType.Source),C.request.collectResourceTiming=this._collectResourceTiming):C.data=JSON.stringify(D),this.actor.send(this.type+".loadData",C,function(M,z){_._removed||z&&z.abandoned||(_._loaded=!0,z&&z.resourceTiming&&z.resourceTiming[_.id]&&(_._resourceTiming=z.resourceTiming[_.id].slice(0)),_.actor.send(_.type+".coalesce",{source:C.source},null),p(M))})},f.prototype.loaded=function(){return this._loaded},f.prototype.loadTile=function(p,_){var C=this,D=p.actor?"reloadTile":"loadTile";p.actor=this.actor,p.request=this.actor.send(D,{type:this.type,uid:p.uid,tileID:p.tileID,zoom:p.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:A.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},function(M,z){return delete p.request,p.unloadVectorData(),p.aborted?_(null):M?_(M):(p.loadVectorData(z,C.map.painter,"reloadTile"===D),_(null))})},f.prototype.abortTile=function(p){p.request&&(p.request.cancel(),delete p.request),p.aborted=!0},f.prototype.unloadTile=function(p){p.unloadVectorData(),this.actor.send("removeTile",{uid:p.uid,type:this.type,source:this.id})},f.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},f.prototype.serialize=function(){return A.extend({},this._options,{type:this.type,data:this._data})},f.prototype.hasTransition=function(){return!1},f}(A.Evented),Et=A.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),bn=function(h){function f(p,_,C,D){h.call(this),this.id=p,this.dispatcher=C,this.coordinates=_.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(D),this.options=_}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.load=function(p,_){var C=this;this._loaded=!1,this.fire(new A.Event("dataloading",{dataType:"source"})),this.url=this.options.url,A.getImage(this.map._requestManager.transformRequest(this.url,A.ResourceType.Image),function(D,M){C._loaded=!0,D?C.fire(new A.ErrorEvent(D)):M&&(C.image=M,p&&(C.coordinates=p),_&&_(),C._finishLoading())})},f.prototype.loaded=function(){return this._loaded},f.prototype.updateImage=function(p){var _=this;return this.image&&p.url?(this.options.url=p.url,this.load(p.coordinates,function(){_.texture=null}),this):this},f.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new A.Event("data",{dataType:"source",sourceDataType:"metadata"})))},f.prototype.onAdd=function(p){this.map=p,this.load()},f.prototype.setCoordinates=function(p){var _=this;this.coordinates=p;var C=p.map(A.MercatorCoordinate.fromLngLat);this.tileID=function(M){for(var z=1/0,ie=1/0,ue=-1/0,Ce=-1/0,Se=0,ke=M;Se<ke.length;Se+=1){var qe=ke[Se];z=Math.min(z,qe.x),ie=Math.min(ie,qe.y),ue=Math.max(ue,qe.x),Ce=Math.max(Ce,qe.y)}var je=Math.max(ue-z,Ce-ie),ut=Math.max(0,Math.floor(-Math.log(je)/Math.LN2)),Ue=Math.pow(2,ut);return new A.CanonicalTileID(ut,Math.floor((z+ue)/2*Ue),Math.floor((ie+Ce)/2*Ue))}(C),this.minzoom=this.maxzoom=this.tileID.z;var D=C.map(function(M){return _.tileID.getTilePoint(M)._round()});return this._boundsArray=new A.StructArrayLayout4i8,this._boundsArray.emplaceBack(D[0].x,D[0].y,0,0),this._boundsArray.emplaceBack(D[1].x,D[1].y,A.EXTENT,0),this._boundsArray.emplaceBack(D[3].x,D[3].y,0,A.EXTENT),this._boundsArray.emplaceBack(D[2].x,D[2].y,A.EXTENT,A.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new A.Event("data",{dataType:"source",sourceDataType:"content"})),this},f.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var p=this.map.painter.context,_=p.gl;for(var C in this.boundsBuffer||(this.boundsBuffer=p.createVertexBuffer(this._boundsArray,Et.members)),this.boundsSegments||(this.boundsSegments=A.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new A.Texture(p,this.image,_.RGBA),this.texture.bind(_.LINEAR,_.CLAMP_TO_EDGE)),this.tiles){var D=this.tiles[C];"loaded"!==D.state&&(D.state="loaded",D.texture=this.texture)}}},f.prototype.loadTile=function(p,_){this.tileID&&this.tileID.equals(p.tileID.canonical)?(this.tiles[String(p.tileID.wrap)]=p,p.buckets={},_(null)):(p.state="errored",_(null))},f.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},f.prototype.hasTransition=function(){return!1},f}(A.Evented),on=function(h){function f(p,_,C,D){h.call(this,p,_,C,D),this.roundZoom=!0,this.type="video",this.options=_}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.load=function(){var p=this;this._loaded=!1;var _=this.options;this.urls=[];for(var C=0,D=_.urls;C<D.length;C+=1)this.urls.push(this.map._requestManager.transformRequest(D[C],A.ResourceType.Source).url);A.getVideo(this.urls,function(M,z){p._loaded=!0,M?p.fire(new A.ErrorEvent(M)):z&&(p.video=z,p.video.loop=!0,p.video.addEventListener("playing",function(){p.map.triggerRepaint()}),p.map&&p.video.play(),p._finishLoading())})},f.prototype.pause=function(){this.video&&this.video.pause()},f.prototype.play=function(){this.video&&this.video.play()},f.prototype.seek=function(p){if(this.video){var _=this.video.seekable;p<_.start(0)||p>_.end(0)?this.fire(new A.ErrorEvent(new A.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+_.start(0)+" and "+_.end(0)+"-second mark."))):this.video.currentTime=p}},f.prototype.getVideo=function(){return this.video},f.prototype.onAdd=function(p){this.map||(this.map=p,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},f.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var p=this.map.painter.context,_=p.gl;for(var C in this.boundsBuffer||(this.boundsBuffer=p.createVertexBuffer(this._boundsArray,Et.members)),this.boundsSegments||(this.boundsSegments=A.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(_.LINEAR,_.CLAMP_TO_EDGE),_.texSubImage2D(_.TEXTURE_2D,0,0,0,_.RGBA,_.UNSIGNED_BYTE,this.video)):(this.texture=new A.Texture(p,this.video,_.RGBA),this.texture.bind(_.LINEAR,_.CLAMP_TO_EDGE)),this.tiles){var D=this.tiles[C];"loaded"!==D.state&&(D.state="loaded",D.texture=this.texture)}}},f.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},f.prototype.hasTransition=function(){return this.video&&!this.video.paused},f}(bn),On=function(h){function f(p,_,C,D){h.call(this,p,_,C,D),_.coordinates?Array.isArray(_.coordinates)&&4===_.coordinates.length&&!_.coordinates.some(function(M){return!Array.isArray(M)||2!==M.length||M.some(function(z){return"number"!=typeof z})})||this.fire(new A.ErrorEvent(new A.ValidationError("sources."+p,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new A.ErrorEvent(new A.ValidationError("sources."+p,null,'missing required property "coordinates"'))),_.animate&&"boolean"!=typeof _.animate&&this.fire(new A.ErrorEvent(new A.ValidationError("sources."+p,null,'optional "animate" property must be a boolean value'))),_.canvas?"string"==typeof _.canvas||_.canvas instanceof A.window.HTMLCanvasElement||this.fire(new A.ErrorEvent(new A.ValidationError("sources."+p,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new A.ErrorEvent(new A.ValidationError("sources."+p,null,'missing required property "canvas"'))),this.options=_,this.animate=void 0===_.animate||_.animate}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof A.window.HTMLCanvasElement?this.options.canvas:A.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new A.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},f.prototype.getCanvas=function(){return this.canvas},f.prototype.onAdd=function(p){this.map=p,this.load(),this.canvas&&this.animate&&this.play()},f.prototype.onRemove=function(){this.pause()},f.prototype.prepare=function(){var p=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,p=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,p=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var _=this.map.painter.context,C=_.gl;for(var D in this.boundsBuffer||(this.boundsBuffer=_.createVertexBuffer(this._boundsArray,Et.members)),this.boundsSegments||(this.boundsSegments=A.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(p||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new A.Texture(_,this.canvas,C.RGBA,{premultiply:!0}),this.tiles){var M=this.tiles[D];"loaded"!==M.state&&(M.state="loaded",M.texture=this.texture)}}},f.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},f.prototype.hasTransition=function(){return this._playing},f.prototype._hasInvalidDimensions=function(){for(var p=0,_=[this.canvas.width,this.canvas.height];p<_.length;p+=1){var C=_[p];if(isNaN(C)||C<=0)return!0}return!1},f}(bn),ki={vector:yn,raster:Le,"raster-dem":gt,geojson:St,video:on,image:bn,canvas:On};function Ui(h,f){var p=A.identity([]);return A.translate(p,p,[1,1,0]),A.scale(p,p,[.5*h.width,.5*h.height,1]),A.multiply(p,p,h.calculatePosMatrix(f.toUnwrapped()))}function Wn(h,f,p,_,C,D){var M=function(ut,Ue,lt){if(ut)for(var At=0,Ot=ut;At<Ot.length;At+=1){var rn=Ue[Ot[At]];if(rn&&rn.source===lt&&"fill-extrusion"===rn.type)return!0}else for(var tn in Ue){var un=Ue[tn];if(un.source===lt&&"fill-extrusion"===un.type)return!0}return!1}(C&&C.layers,f,h.id),z=D.maxPitchScaleFactor(),ie=h.tilesIn(_,z,M);ie.sort(ei);for(var ue=[],Ce=0,Se=ie;Ce<Se.length;Ce+=1){var ke=Se[Ce];ue.push({wrappedTileID:ke.tileID.wrapped().key,queryResults:ke.tile.queryRenderedFeatures(f,p,h._state,ke.queryGeometry,ke.cameraQueryGeometry,ke.scale,C,D,z,Ui(h.transform,ke.tileID))})}var qe=function(ut){for(var Ue={},lt={},At=0,Ot=ut;At<Ot.length;At+=1){var rn=Ot[At],tn=rn.queryResults,un=rn.wrappedTileID,Cn=lt[un]=lt[un]||{};for(var wn in tn)for(var Un=tn[wn],ci=Cn[wn]=Cn[wn]||{},Oi=Ue[wn]=Ue[wn]||[],Qi=0,Ni=Un;Qi<Ni.length;Qi+=1){var Sr=Ni[Qi];ci[Sr.featureIndex]||(ci[Sr.featureIndex]=!0,Oi.push(Sr))}}return Ue}(ue);for(var je in qe)qe[je].forEach(function(ut){var Ue=ut.feature,lt=h.getFeatureState(Ue.layer["source-layer"],Ue.id);Ue.source=Ue.layer.source,Ue.layer["source-layer"]&&(Ue.sourceLayer=Ue.layer["source-layer"]),Ue.state=lt});return qe}function ei(h,f){var p=h.tileID,_=f.tileID;return p.overscaledZ-_.overscaledZ||p.canonical.y-_.canonical.y||p.wrap-_.wrap||p.canonical.x-_.canonical.x}var Xn=function(h,f){this.max=h,this.onRemove=f,this.reset()};Xn.prototype.reset=function(){for(var h in this.data)for(var f=0,p=this.data[h];f<p.length;f+=1){var _=p[f];_.timeout&&clearTimeout(_.timeout),this.onRemove(_.value)}return this.data={},this.order=[],this},Xn.prototype.add=function(h,f,p){var _=this,C=h.wrapped().key;void 0===this.data[C]&&(this.data[C]=[]);var D={value:f,timeout:void 0};if(void 0!==p&&(D.timeout=setTimeout(function(){_.remove(h,D)},p)),this.data[C].push(D),this.order.push(C),this.order.length>this.max){var M=this._getAndRemoveByKey(this.order[0]);M&&this.onRemove(M)}return this},Xn.prototype.has=function(h){return h.wrapped().key in this.data},Xn.prototype.getAndRemove=function(h){return this.has(h)?this._getAndRemoveByKey(h.wrapped().key):null},Xn.prototype._getAndRemoveByKey=function(h){var f=this.data[h].shift();return f.timeout&&clearTimeout(f.timeout),0===this.data[h].length&&delete this.data[h],this.order.splice(this.order.indexOf(h),1),f.value},Xn.prototype.getByKey=function(h){var f=this.data[h];return f?f[0].value:null},Xn.prototype.get=function(h){return this.has(h)?this.data[h.wrapped().key][0].value:null},Xn.prototype.remove=function(h,f){if(!this.has(h))return this;var p=h.wrapped().key,_=void 0===f?0:this.data[p].indexOf(f),C=this.data[p][_];return this.data[p].splice(_,1),C.timeout&&clearTimeout(C.timeout),0===this.data[p].length&&delete this.data[p],this.onRemove(C.value),this.order.splice(this.order.indexOf(p),1),this},Xn.prototype.setMaxSize=function(h){for(this.max=h;this.order.length>this.max;){var f=this._getAndRemoveByKey(this.order[0]);f&&this.onRemove(f)}return this},Xn.prototype.filter=function(h){var f=[];for(var p in this.data)for(var _=0,C=this.data[p];_<C.length;_+=1){var D=C[_];h(D.value)||f.push(D)}for(var M=0,z=f;M<z.length;M+=1){var ie=z[M];this.remove(ie.value.tileID,ie)}};var qn=function(h,f,p){this.context=h;var _=h.gl;this.buffer=_.createBuffer(),this.dynamicDraw=!!p,this.context.unbindVAO(),h.bindElementBuffer.set(this.buffer),_.bufferData(_.ELEMENT_ARRAY_BUFFER,f.arrayBuffer,this.dynamicDraw?_.DYNAMIC_DRAW:_.STATIC_DRAW),this.dynamicDraw||delete f.arrayBuffer};qn.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},qn.prototype.updateData=function(h){var f=this.context.gl;this.context.unbindVAO(),this.bind(),f.bufferSubData(f.ELEMENT_ARRAY_BUFFER,0,h.arrayBuffer)},qn.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var An={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Jn=function(h,f,p,_){this.length=f.length,this.attributes=p,this.itemSize=f.bytesPerElement,this.dynamicDraw=_,this.context=h;var C=h.gl;this.buffer=C.createBuffer(),h.bindVertexBuffer.set(this.buffer),C.bufferData(C.ARRAY_BUFFER,f.arrayBuffer,this.dynamicDraw?C.DYNAMIC_DRAW:C.STATIC_DRAW),this.dynamicDraw||delete f.arrayBuffer};Jn.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Jn.prototype.updateData=function(h){var f=this.context.gl;this.bind(),f.bufferSubData(f.ARRAY_BUFFER,0,h.arrayBuffer)},Jn.prototype.enableAttributes=function(h,f){for(var p=0;p<this.attributes.length;p++){var _=f.attributes[this.attributes[p].name];void 0!==_&&h.enableVertexAttribArray(_)}},Jn.prototype.setVertexAttribPointers=function(h,f,p){for(var _=0;_<this.attributes.length;_++){var C=this.attributes[_],D=f.attributes[C.name];void 0!==D&&h.vertexAttribPointer(D,C.components,h[An[C.type]],!1,this.itemSize,C.offset+this.itemSize*(p||0))}},Jn.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var kn=function(h){this.gl=h.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};kn.prototype.get=function(){return this.current},kn.prototype.set=function(h){},kn.prototype.getDefault=function(){return this.default},kn.prototype.setDefault=function(){this.set(this.default)};var Gt=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.getDefault=function(){return A.Color.transparent},f.prototype.set=function(p){var _=this.current;(p.r!==_.r||p.g!==_.g||p.b!==_.b||p.a!==_.a||this.dirty)&&(this.gl.clearColor(p.r,p.g,p.b,p.a),this.current=p,this.dirty=!1)},f}(kn),Zt=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.getDefault=function(){return 1},f.prototype.set=function(p){(p!==this.current||this.dirty)&&(this.gl.clearDepth(p),this.current=p,this.dirty=!1)},f}(kn),fi=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.getDefault=function(){return 0},f.prototype.set=function(p){(p!==this.current||this.dirty)&&(this.gl.clearStencil(p),this.current=p,this.dirty=!1)},f}(kn),Bi=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.getDefault=function(){return[!0,!0,!0,!0]},f.prototype.set=function(p){var _=this.current;(p[0]!==_[0]||p[1]!==_[1]||p[2]!==_[2]||p[3]!==_[3]||this.dirty)&&(this.gl.colorMask(p[0],p[1],p[2],p[3]),this.current=p,this.dirty=!1)},f}(kn),gi=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.getDefault=function(){return!0},f.prototype.set=function(p){(p!==this.current||this.dirty)&&(this.gl.depthMask(p),this.current=p,this.dirty=!1)},f}(kn),Di=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.getDefault=function(){return 255},f.prototype.set=function(p){(p!==this.current||this.dirty)&&(this.gl.stencilMask(p),this.current=p,this.dirty=!1)},f}(kn),nr=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},f.prototype.set=function(p){var _=this.current;(p.func!==_.func||p.ref!==_.ref||p.mask!==_.mask||this.dirty)&&(this.gl.stencilFunc(p.func,p.ref,p.mask),this.current=p,this.dirty=!1)},f}(kn),Ao=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.getDefault=function(){var p=this.gl;return[p.KEEP,p.KEEP,p.KEEP]},f.prototype.set=function(p){var _=this.current;(p[0]!==_[0]||p[1]!==_[1]||p[2]!==_[2]||this.dirty)&&(this.gl.stencilOp(p[0],p[1],p[2]),this.current=p,this.dirty=!1)},f}(kn),Pr=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.getDefault=function(){return!1},f.prototype.set=function(p){if(p!==this.current||this.dirty){var _=this.gl;p?_.enable(_.STENCIL_TEST):_.disable(_.STENCIL_TEST),this.current=p,this.dirty=!1}},f}(kn),Qr=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.getDefault=function(){return[0,1]},f.prototype.set=function(p){var _=this.current;(p[0]!==_[0]||p[1]!==_[1]||this.dirty)&&(this.gl.depthRange(p[0],p[1]),this.current=p,this.dirty=!1)},f}(kn),zi=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.getDefault=function(){return!1},f.prototype.set=function(p){if(p!==this.current||this.dirty){var _=this.gl;p?_.enable(_.DEPTH_TEST):_.disable(_.DEPTH_TEST),this.current=p,this.dirty=!1}},f}(kn),Qn=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.getDefault=function(){return this.gl.LESS},f.prototype.set=function(p){(p!==this.current||this.dirty)&&(this.gl.depthFunc(p),this.current=p,this.dirty=!1)},f}(kn),jn=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.getDefault=function(){return!1},f.prototype.set=function(p){if(p!==this.current||this.dirty){var _=this.gl;p?_.enable(_.BLEND):_.disable(_.BLEND),this.current=p,this.dirty=!1}},f}(kn),ai=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.getDefault=function(){var p=this.gl;return[p.ONE,p.ZERO]},f.prototype.set=function(p){var _=this.current;(p[0]!==_[0]||p[1]!==_[1]||this.dirty)&&(this.gl.blendFunc(p[0],p[1]),this.current=p,this.dirty=!1)},f}(kn),mi=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.getDefault=function(){return A.Color.transparent},f.prototype.set=function(p){var _=this.current;(p.r!==_.r||p.g!==_.g||p.b!==_.b||p.a!==_.a||this.dirty)&&(this.gl.blendColor(p.r,p.g,p.b,p.a),this.current=p,this.dirty=!1)},f}(kn),wi=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.getDefault=function(){return this.gl.FUNC_ADD},f.prototype.set=function(p){(p!==this.current||this.dirty)&&(this.gl.blendEquation(p),this.current=p,this.dirty=!1)},f}(kn),sr=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.getDefault=function(){return!1},f.prototype.set=function(p){if(p!==this.current||this.dirty){var _=this.gl;p?_.enable(_.CULL_FACE):_.disable(_.CULL_FACE),this.current=p,this.dirty=!1}},f}(kn),gr=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.getDefault=function(){return this.gl.BACK},f.prototype.set=function(p){(p!==this.current||this.dirty)&&(this.gl.cullFace(p),this.current=p,this.dirty=!1)},f}(kn),_r=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.getDefault=function(){return this.gl.CCW},f.prototype.set=function(p){(p!==this.current||this.dirty)&&(this.gl.frontFace(p),this.current=p,this.dirty=!1)},f}(kn),Lr=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.getDefault=function(){return null},f.prototype.set=function(p){(p!==this.current||this.dirty)&&(this.gl.useProgram(p),this.current=p,this.dirty=!1)},f}(kn),Tr=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.getDefault=function(){return this.gl.TEXTURE0},f.prototype.set=function(p){(p!==this.current||this.dirty)&&(this.gl.activeTexture(p),this.current=p,this.dirty=!1)},f}(kn),mo=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.getDefault=function(){var p=this.gl;return[0,0,p.drawingBufferWidth,p.drawingBufferHeight]},f.prototype.set=function(p){var _=this.current;(p[0]!==_[0]||p[1]!==_[1]||p[2]!==_[2]||p[3]!==_[3]||this.dirty)&&(this.gl.viewport(p[0],p[1],p[2],p[3]),this.current=p,this.dirty=!1)},f}(kn),Jr=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.getDefault=function(){return null},f.prototype.set=function(p){if(p!==this.current||this.dirty){var _=this.gl;_.bindFramebuffer(_.FRAMEBUFFER,p),this.current=p,this.dirty=!1}},f}(kn),Io=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.getDefault=function(){return null},f.prototype.set=function(p){if(p!==this.current||this.dirty){var _=this.gl;_.bindRenderbuffer(_.RENDERBUFFER,p),this.current=p,this.dirty=!1}},f}(kn),Wo=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.getDefault=function(){return null},f.prototype.set=function(p){if(p!==this.current||this.dirty){var _=this.gl;_.bindTexture(_.TEXTURE_2D,p),this.current=p,this.dirty=!1}},f}(kn),oo=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.getDefault=function(){return null},f.prototype.set=function(p){if(p!==this.current||this.dirty){var _=this.gl;_.bindBuffer(_.ARRAY_BUFFER,p),this.current=p,this.dirty=!1}},f}(kn),To=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.getDefault=function(){return null},f.prototype.set=function(p){var _=this.gl;_.bindBuffer(_.ELEMENT_ARRAY_BUFFER,p),this.current=p,this.dirty=!1},f}(kn),Ts=function(h){function f(p){h.call(this,p),this.vao=p.extVertexArrayObject}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.getDefault=function(){return null},f.prototype.set=function(p){this.vao&&(p!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(p),this.current=p,this.dirty=!1)},f}(kn),$o=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.getDefault=function(){return 4},f.prototype.set=function(p){if(p!==this.current||this.dirty){var _=this.gl;_.pixelStorei(_.UNPACK_ALIGNMENT,p),this.current=p,this.dirty=!1}},f}(kn),pr=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.getDefault=function(){return!1},f.prototype.set=function(p){if(p!==this.current||this.dirty){var _=this.gl;_.pixelStorei(_.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p),this.current=p,this.dirty=!1}},f}(kn),Ss=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.getDefault=function(){return!1},f.prototype.set=function(p){if(p!==this.current||this.dirty){var _=this.gl;_.pixelStorei(_.UNPACK_FLIP_Y_WEBGL,p),this.current=p,this.dirty=!1}},f}(kn),so=function(h){function f(p,_){h.call(this,p),this.context=p,this.parent=_}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.getDefault=function(){return null},f}(kn),U=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.setDirty=function(){this.dirty=!0},f.prototype.set=function(p){if(p!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var _=this.gl;_.framebufferTexture2D(_.FRAMEBUFFER,_.COLOR_ATTACHMENT0,_.TEXTURE_2D,p,0),this.current=p,this.dirty=!1}},f}(so),K=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.set=function(p){if(p!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var _=this.gl;_.framebufferRenderbuffer(_.FRAMEBUFFER,_.DEPTH_ATTACHMENT,_.RENDERBUFFER,p),this.current=p,this.dirty=!1}},f}(so),$=function(h,f,p,_){this.context=h,this.width=f,this.height=p;var C=this.framebuffer=h.gl.createFramebuffer();this.colorAttachment=new U(h,C),_&&(this.depthAttachment=new K(h,C))};$.prototype.destroy=function(){var h=this.context.gl,f=this.colorAttachment.get();if(f&&h.deleteTexture(f),this.depthAttachment){var p=this.depthAttachment.get();p&&h.deleteRenderbuffer(p)}h.deleteFramebuffer(this.framebuffer)};var he=function(h,f,p){this.func=h,this.mask=f,this.range=p};he.ReadOnly=!1,he.ReadWrite=!0,he.disabled=new he(519,he.ReadOnly,[0,1]);var de=function(h,f,p,_,C,D){this.test=h,this.ref=f,this.mask=p,this.fail=_,this.depthFail=C,this.pass=D};de.disabled=new de({func:519,mask:0},0,0,7680,7680,7680);var Pe=function(h,f,p){this.blendFunction=h,this.blendColor=f,this.mask=p};Pe.disabled=new Pe(Pe.Replace=[1,0],A.Color.transparent,[!1,!1,!1,!1]),Pe.unblended=new Pe(Pe.Replace,A.Color.transparent,[!0,!0,!0,!0]),Pe.alphaBlended=new Pe([1,771],A.Color.transparent,[!0,!0,!0,!0]);var Qe=function(h,f,p){this.enable=h,this.mode=f,this.frontFace=p};Qe.disabled=new Qe(!1,1029,2305),Qe.backCCW=new Qe(!0,1029,2305);var ge=function(h){this.gl=h,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Gt(this),this.clearDepth=new Zt(this),this.clearStencil=new fi(this),this.colorMask=new Bi(this),this.depthMask=new gi(this),this.stencilMask=new Di(this),this.stencilFunc=new nr(this),this.stencilOp=new Ao(this),this.stencilTest=new Pr(this),this.depthRange=new Qr(this),this.depthTest=new zi(this),this.depthFunc=new Qn(this),this.blend=new jn(this),this.blendFunc=new ai(this),this.blendColor=new mi(this),this.blendEquation=new wi(this),this.cullFace=new sr(this),this.cullFaceSide=new gr(this),this.frontFace=new _r(this),this.program=new Lr(this),this.activeTexture=new Tr(this),this.viewport=new mo(this),this.bindFramebuffer=new Jr(this),this.bindRenderbuffer=new Io(this),this.bindTexture=new Wo(this),this.bindVertexBuffer=new oo(this),this.bindElementBuffer=new To(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Ts(this),this.pixelStoreUnpack=new $o(this),this.pixelStoreUnpackPremultiplyAlpha=new pr(this),this.pixelStoreUnpackFlipY=new Ss(this),this.extTextureFilterAnisotropic=h.getExtension("EXT_texture_filter_anisotropic")||h.getExtension("MOZ_EXT_texture_filter_anisotropic")||h.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=h.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=h.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(h.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=h.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=h.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=h.getParameter(h.MAX_TEXTURE_SIZE)};ge.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},ge.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},ge.prototype.createIndexBuffer=function(h,f){return new qn(this,h,f)},ge.prototype.createVertexBuffer=function(h,f,p){return new Jn(this,h,f,p)},ge.prototype.createRenderbuffer=function(h,f,p){var _=this.gl,C=_.createRenderbuffer();return this.bindRenderbuffer.set(C),_.renderbufferStorage(_.RENDERBUFFER,h,f,p),this.bindRenderbuffer.set(null),C},ge.prototype.createFramebuffer=function(h,f,p){return new $(this,h,f,p)},ge.prototype.clear=function(h){var f=h.color,p=h.depth,_=this.gl,C=0;f&&(C|=_.COLOR_BUFFER_BIT,this.clearColor.set(f),this.colorMask.set([!0,!0,!0,!0])),void 0!==p&&(C|=_.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(p),this.depthMask.set(!0)),_.clear(C)},ge.prototype.setCullFace=function(h){!1===h.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(h.mode),this.frontFace.set(h.frontFace))},ge.prototype.setDepthMode=function(h){h.func!==this.gl.ALWAYS||h.mask?(this.depthTest.set(!0),this.depthFunc.set(h.func),this.depthMask.set(h.mask),this.depthRange.set(h.range)):this.depthTest.set(!1)},ge.prototype.setStencilMode=function(h){h.test.func!==this.gl.ALWAYS||h.mask?(this.stencilTest.set(!0),this.stencilMask.set(h.mask),this.stencilOp.set([h.fail,h.depthFail,h.pass]),this.stencilFunc.set({func:h.test.func,ref:h.ref,mask:h.test.mask})):this.stencilTest.set(!1)},ge.prototype.setColorMode=function(h){A.deepEqual(h.blendFunction,Pe.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(h.blendFunction),this.blendColor.set(h.blendColor)),this.colorMask.set(h.mask)},ge.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Ve=function(h){function f(p,_,C){var D=this;h.call(this),this.id=p,this.dispatcher=C,this.on("data",function(M){"source"===M.dataType&&"metadata"===M.sourceDataType&&(D._sourceLoaded=!0),D._sourceLoaded&&!D._paused&&"source"===M.dataType&&"content"===M.sourceDataType&&(D.reload(),D.transform&&D.update(D.transform))}),this.on("error",function(){D._sourceErrored=!0}),this._source=function(M,z,ie,ue){var Ce=new ki[z.type](M,z,ie,ue);if(Ce.id!==M)throw new Error("Expected Source id to be "+M+" instead of "+Ce.id);return A.bindAll(["load","abort","unload","serialize","prepare"],Ce),Ce}(p,_,C,this),this._tiles={},this._cache=new Xn(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new A.SourceFeatureState}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.onAdd=function(p){this.map=p,this._maxTileCacheSize=p?p._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(p)},f.prototype.onRemove=function(p){this._source&&this._source.onRemove&&this._source.onRemove(p)},f.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var p in this._tiles){var _=this._tiles[p];if("loaded"!==_.state&&"errored"!==_.state)return!1}return!0},f.prototype.getSource=function(){return this._source},f.prototype.pause=function(){this._paused=!0},f.prototype.resume=function(){if(this._paused){var p=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,p&&this.reload(),this.transform&&this.update(this.transform)}},f.prototype._loadTile=function(p,_){return this._source.loadTile(p,_)},f.prototype._unloadTile=function(p){if(this._source.unloadTile)return this._source.unloadTile(p,function(){})},f.prototype._abortTile=function(p){if(this._source.abortTile)return this._source.abortTile(p,function(){})},f.prototype.serialize=function(){return this._source.serialize()},f.prototype.prepare=function(p){for(var _ in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var C=this._tiles[_];C.upload(p),C.prepare(this.map.style.imageManager)}},f.prototype.getIds=function(){return A.values(this._tiles).map(function(p){return p.tileID}).sort(We).map(function(p){return p.key})},f.prototype.getRenderableIds=function(p){var _=this,C=[];for(var D in this._tiles)this._isIdRenderable(D,p)&&C.push(this._tiles[D]);return p?C.sort(function(M,z){var ie=M.tileID,ue=z.tileID,Ce=new A.Point(ie.canonical.x,ie.canonical.y)._rotate(_.transform.angle),Se=new A.Point(ue.canonical.x,ue.canonical.y)._rotate(_.transform.angle);return ie.overscaledZ-ue.overscaledZ||Se.y-Ce.y||Se.x-Ce.x}).map(function(M){return M.tileID.key}):C.map(function(M){return M.tileID}).sort(We).map(function(M){return M.key})},f.prototype.hasRenderableParent=function(p){var _=this.findLoadedParent(p,0);return!!_&&this._isIdRenderable(_.tileID.key)},f.prototype._isIdRenderable=function(p,_){return this._tiles[p]&&this._tiles[p].hasData()&&!this._coveredTiles[p]&&(_||!this._tiles[p].holdingForFade())},f.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var p in this._cache.reset(),this._tiles)"errored"!==this._tiles[p].state&&this._reloadTile(p,"reloading")},f.prototype._reloadTile=function(p,_){var C=this._tiles[p];C&&("loading"!==C.state&&(C.state=_),this._loadTile(C,this._tileLoaded.bind(this,C,p,_)))},f.prototype._tileLoaded=function(p,_,C,D){if(D)return p.state="errored",void(404!==D.status?this._source.fire(new A.ErrorEvent(D,{tile:p})):this.update(this.transform));p.timeAdded=A.browser.now(),"expired"===C&&(p.refreshedUponExpiration=!0),this._setTileReloadTimer(_,p),"raster-dem"===this.getSource().type&&p.dem&&this._backfillDEM(p),this._state.initializeTileState(p,this.map?this.map.painter:null),this._source.fire(new A.Event("data",{dataType:"source",tile:p,coord:p.tileID}))},f.prototype._backfillDEM=function(p){for(var _=this.getRenderableIds(),C=0;C<_.length;C++){var D=_[C];if(p.neighboringTiles&&p.neighboringTiles[D]){var M=this.getTileByID(D);z(p,M),z(M,p)}}function z(ie,ue){ie.needsHillshadePrepare=!0;var Ce=ue.tileID.canonical.x-ie.tileID.canonical.x,Se=ue.tileID.canonical.y-ie.tileID.canonical.y,ke=Math.pow(2,ie.tileID.canonical.z),qe=ue.tileID.key;0===Ce&&0===Se||Math.abs(Se)>1||(Math.abs(Ce)>1&&(1===Math.abs(Ce+ke)?Ce+=ke:1===Math.abs(Ce-ke)&&(Ce-=ke)),ue.dem&&ie.dem&&(ie.dem.backfillBorder(ue.dem,Ce,Se),ie.neighboringTiles&&ie.neighboringTiles[qe]&&(ie.neighboringTiles[qe].backfilled=!0)))}},f.prototype.getTile=function(p){return this.getTileByID(p.key)},f.prototype.getTileByID=function(p){return this._tiles[p]},f.prototype._retainLoadedChildren=function(p,_,C,D){for(var M in this._tiles){var z=this._tiles[M];if(!(D[M]||!z.hasData()||z.tileID.overscaledZ<=_||z.tileID.overscaledZ>C)){for(var ie=z.tileID;z&&z.tileID.overscaledZ>_+1;){var ue=z.tileID.scaledTo(z.tileID.overscaledZ-1);(z=this._tiles[ue.key])&&z.hasData()&&(ie=ue)}for(var Ce=ie;Ce.overscaledZ>_;)if(p[(Ce=Ce.scaledTo(Ce.overscaledZ-1)).key]){D[ie.key]=ie;break}}}},f.prototype.findLoadedParent=function(p,_){if(p.key in this._loadedParentTiles){var C=this._loadedParentTiles[p.key];return C&&C.tileID.overscaledZ>=_?C:null}for(var D=p.overscaledZ-1;D>=_;D--){var M=p.scaledTo(D),z=this._getLoadedTile(M);if(z)return z}},f.prototype._getLoadedTile=function(p){var _=this._tiles[p.key];return _&&_.hasData()?_:this._cache.getByKey(p.wrapped().key)},f.prototype.updateCacheSize=function(p){var _=Math.ceil(p.width/this._source.tileSize)+1,C=Math.ceil(p.height/this._source.tileSize)+1,D=Math.floor(_*C*5),M="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,D):D;this._cache.setMaxSize(M)},f.prototype.handleWrapJump=function(p){var _=Math.round((p-(void 0===this._prevLng?p:this._prevLng))/360);if(this._prevLng=p,_){var C={};for(var D in this._tiles){var M=this._tiles[D];M.tileID=M.tileID.unwrapTo(M.tileID.wrap+_),C[M.tileID.key]=M}for(var z in this._tiles=C,this._timers)clearTimeout(this._timers[z]),delete this._timers[z];for(var ie in this._tiles)this._setTileReloadTimer(ie,this._tiles[ie])}},f.prototype.update=function(p){var _=this;if(this.transform=p,this._sourceLoaded&&!this._paused){var C;this.updateCacheSize(p),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?C=p.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(Cn){return new A.OverscaledTileID(Cn.canonical.z,Cn.wrap,Cn.canonical.z,Cn.canonical.x,Cn.canonical.y)}):(C=p.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(C=C.filter(function(Cn){return _._source.hasTile(Cn)}))):C=[];var D=p.coveringZoomLevel(this._source),M=Math.max(D-f.maxOverzooming,this._source.minzoom),z=Math.max(D+f.maxUnderzooming,this._source.minzoom),ie=this._updateRetainedTiles(C,D);if(hn(this._source.type)){for(var ue={},Ce={},Se=0,ke=Object.keys(ie);Se<ke.length;Se+=1){var qe=ke[Se],je=ie[qe],ut=this._tiles[qe];if(ut&&!(ut.fadeEndTime&&ut.fadeEndTime<=A.browser.now())){var Ue=this.findLoadedParent(je,M);Ue&&(this._addTile(Ue.tileID),ue[Ue.tileID.key]=Ue.tileID),Ce[qe]=je}}for(var lt in this._retainLoadedChildren(Ce,D,z,ie),ue)ie[lt]||(this._coveredTiles[lt]=!0,ie[lt]=ue[lt])}for(var At in ie)this._tiles[At].clearFadeHold();for(var Ot=0,rn=A.keysDifference(this._tiles,ie);Ot<rn.length;Ot+=1){var tn=rn[Ot],un=this._tiles[tn];un.hasSymbolBuckets&&!un.holdingForFade()?un.setHoldDuration(this.map._fadeDuration):un.hasSymbolBuckets&&!un.symbolFadeFinished()||this._removeTile(tn)}this._updateLoadedParentTileCache()}},f.prototype.releaseSymbolFadeTiles=function(){for(var p in this._tiles)this._tiles[p].holdingForFade()&&this._removeTile(p)},f.prototype._updateRetainedTiles=function(p,_){for(var C={},D={},M=Math.max(_-f.maxOverzooming,this._source.minzoom),z=Math.max(_+f.maxUnderzooming,this._source.minzoom),ie={},ue=0,Ce=p;ue<Ce.length;ue+=1){var Se=Ce[ue],ke=this._addTile(Se);C[Se.key]=Se,ke.hasData()||_<this._source.maxzoom&&(ie[Se.key]=Se)}this._retainLoadedChildren(ie,_,z,C);for(var qe=0,je=p;qe<je.length;qe+=1){var ut=je[qe],Ue=this._tiles[ut.key];if(!Ue.hasData()){if(_+1>this._source.maxzoom){var lt=ut.children(this._source.maxzoom)[0],At=this.getTile(lt);if(At&&At.hasData()){C[lt.key]=lt;continue}}else{var Ot=ut.children(this._source.maxzoom);if(C[Ot[0].key]&&C[Ot[1].key]&&C[Ot[2].key]&&C[Ot[3].key])continue}for(var rn=Ue.wasRequested(),tn=ut.overscaledZ-1;tn>=M;--tn){var un=ut.scaledTo(tn);if(D[un.key]||(D[un.key]=!0,!(Ue=this.getTile(un))&&rn&&(Ue=this._addTile(un)),Ue&&(C[un.key]=un,rn=Ue.wasRequested(),Ue.hasData())))break}}}return C},f.prototype._updateLoadedParentTileCache=function(){for(var p in this._loadedParentTiles={},this._tiles){for(var _=[],C=void 0,D=this._tiles[p].tileID;D.overscaledZ>0;){if(D.key in this._loadedParentTiles){C=this._loadedParentTiles[D.key];break}_.push(D.key);var M=D.scaledTo(D.overscaledZ-1);if(C=this._getLoadedTile(M))break;D=M}for(var z=0,ie=_;z<ie.length;z+=1)this._loadedParentTiles[ie[z]]=C}},f.prototype._addTile=function(p){var _=this._tiles[p.key];if(_)return _;(_=this._cache.getAndRemove(p))&&(this._setTileReloadTimer(p.key,_),_.tileID=p,this._state.initializeTileState(_,this.map?this.map.painter:null),this._cacheTimers[p.key]&&(clearTimeout(this._cacheTimers[p.key]),delete this._cacheTimers[p.key],this._setTileReloadTimer(p.key,_)));var C=!!_;return C||(_=new A.Tile(p,this._source.tileSize*p.overscaleFactor()),this._loadTile(_,this._tileLoaded.bind(this,_,p.key,_.state))),_?(_.uses++,this._tiles[p.key]=_,C||this._source.fire(new A.Event("dataloading",{tile:_,coord:_.tileID,dataType:"source"})),_):null},f.prototype._setTileReloadTimer=function(p,_){var C=this;p in this._timers&&(clearTimeout(this._timers[p]),delete this._timers[p]);var D=_.getExpiryTimeout();D&&(this._timers[p]=setTimeout(function(){C._reloadTile(p,"expired"),delete C._timers[p]},D))},f.prototype._removeTile=function(p){var _=this._tiles[p];_&&(_.uses--,delete this._tiles[p],this._timers[p]&&(clearTimeout(this._timers[p]),delete this._timers[p]),_.uses>0||(_.hasData()&&"reloading"!==_.state?this._cache.add(_.tileID,_,_.getExpiryTimeout()):(_.aborted=!0,this._abortTile(_),this._unloadTile(_))))},f.prototype.clearTiles=function(){for(var p in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(p);this._cache.reset()},f.prototype.tilesIn=function(p,_,C){var D=this,M=[],z=this.transform;if(!z)return M;for(var ie=C?z.getCameraQueryGeometry(p):p,ue=p.map(function(tn){return z.pointCoordinate(tn)}),Ce=ie.map(function(tn){return z.pointCoordinate(tn)}),Se=this.getIds(),ke=1/0,qe=1/0,je=-1/0,ut=-1/0,Ue=0,lt=Ce;Ue<lt.length;Ue+=1){var At=lt[Ue];ke=Math.min(ke,At.x),qe=Math.min(qe,At.y),je=Math.max(je,At.x),ut=Math.max(ut,At.y)}for(var Ot=function(tn){var un=D._tiles[Se[tn]];if(!un.holdingForFade()){var Cn=un.tileID,wn=Math.pow(2,z.zoom-un.tileID.overscaledZ),Un=_*un.queryPadding*A.EXTENT/un.tileSize/wn,ci=[Cn.getTilePoint(new A.MercatorCoordinate(ke,qe)),Cn.getTilePoint(new A.MercatorCoordinate(je,ut))];if(ci[0].x-Un<A.EXTENT&&ci[0].y-Un<A.EXTENT&&ci[1].x+Un>=0&&ci[1].y+Un>=0){var Oi=ue.map(function(Ni){return Cn.getTilePoint(Ni)}),Qi=Ce.map(function(Ni){return Cn.getTilePoint(Ni)});M.push({tile:un,tileID:Cn,queryGeometry:Oi,cameraQueryGeometry:Qi,scale:wn})}}},rn=0;rn<Se.length;rn++)Ot(rn);return M},f.prototype.getVisibleCoordinates=function(p){for(var _=this,C=this.getRenderableIds(p).map(function(ie){return _._tiles[ie].tileID}),D=0,M=C;D<M.length;D+=1){var z=M[D];z.posMatrix=this.transform.calculatePosMatrix(z.toUnwrapped())}return C},f.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(hn(this._source.type))for(var p in this._tiles){var _=this._tiles[p];if(void 0!==_.fadeEndTime&&_.fadeEndTime>=A.browser.now())return!0}return!1},f.prototype.setFeatureState=function(p,_,C){this._state.updateState(p=p||"_geojsonTileLayer",_,C)},f.prototype.removeFeatureState=function(p,_,C){this._state.removeFeatureState(p=p||"_geojsonTileLayer",_,C)},f.prototype.getFeatureState=function(p,_){return this._state.getState(p=p||"_geojsonTileLayer",_)},f.prototype.setDependencies=function(p,_,C){var D=this._tiles[p];D&&D.setDependencies(_,C)},f.prototype.reloadTilesForDependencies=function(p,_){for(var C in this._tiles)this._tiles[C].hasDependency(p,_)&&this._reloadTile(C,"reloading");this._cache.filter(function(D){return!D.hasDependency(p,_)})},f}(A.Evented);function We(h,f){var p=Math.abs(2*h.wrap)-+(h.wrap<0),_=Math.abs(2*f.wrap)-+(f.wrap<0);return h.overscaledZ-f.overscaledZ||_-p||f.canonical.y-h.canonical.y||f.canonical.x-h.canonical.x}function hn(h){return"raster"===h||"image"===h||"video"===h}function Jt(){return new A.window.Worker(Ep.workerUrl)}Ve.maxOverzooming=10,Ve.maxUnderzooming=3;var Ut="mapboxgl_preloaded_worker_pool",En=function(){this.active={}};En.prototype.acquire=function(h){if(!this.workers)for(this.workers=[];this.workers.length<En.workerCount;)this.workers.push(new Jt);return this.active[h]=!0,this.workers.slice()},En.prototype.release=function(h){delete this.active[h],0===this.numActive()&&(this.workers.forEach(function(f){f.terminate()}),this.workers=null)},En.prototype.isPreloaded=function(){return!!this.active[Ut]},En.prototype.numActive=function(){return Object.keys(this.active).length};var ri,De=Math.floor(A.browser.hardwareConcurrency/2);function Xe(){return ri||(ri=new En),ri}function Lt(h,f){var p={};for(var _ in h)"ref"!==_&&(p[_]=h[_]);return A.refProperties.forEach(function(C){C in f&&(p[C]=f[C])}),p}function _t(h){h=h.slice();for(var f=Object.create(null),p=0;p<h.length;p++)f[h[p].id]=h[p];for(var _=0;_<h.length;_++)"ref"in h[_]&&(h[_]=Lt(h[_],f[h[_].ref]));return h}En.workerCount=Math.max(Math.min(De,6),1);var Rt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function zt(h,f,p){p.push({command:Rt.addSource,args:[h,f[h]]})}function tt(h,f,p){f.push({command:Rt.removeSource,args:[h]}),p[h]=!0}function ct(h,f,p,_){tt(h,p,_),zt(h,f,p)}function Pt(h,f,p){var _;for(_ in h[p])if(h[p].hasOwnProperty(_)&&"data"!==_&&!A.deepEqual(h[p][_],f[p][_]))return!1;for(_ in f[p])if(f[p].hasOwnProperty(_)&&"data"!==_&&!A.deepEqual(h[p][_],f[p][_]))return!1;return!0}function kt(h,f,p,_,C,D){var M;for(M in f=f||{},h=h||{})h.hasOwnProperty(M)&&(A.deepEqual(h[M],f[M])||p.push({command:D,args:[_,M,f[M],C]}));for(M in f)f.hasOwnProperty(M)&&!h.hasOwnProperty(M)&&(A.deepEqual(h[M],f[M])||p.push({command:D,args:[_,M,f[M],C]}))}function Rn(h){return h.id}function fn(h,f){return h[f.id]=f,h}var Ai=function(h,f){this.reset(h,f)};Ai.prototype.reset=function(h,f){this.points=h||[],this._distances=[0];for(var p=1;p<this.points.length;p++)this._distances[p]=this._distances[p-1]+this.points[p].dist(this.points[p-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(f||0,.5*this.length),this.paddedLength=this.length-2*this.padding},Ai.prototype.lerp=function(h){if(1===this.points.length)return this.points[0];h=A.clamp(h,0,1);for(var f=1,p=this._distances[f],_=h*this.paddedLength+this.padding;p<_&&f<this._distances.length;)p=this._distances[++f];var C=f-1,D=this._distances[C],M=p-D,z=M>0?(_-D)/M:0;return this.points[C].mult(1-z).add(this.points[f].mult(z))};var Pi=function(h,f,p){var _=this.boxCells=[],C=this.circleCells=[];this.xCellCount=Math.ceil(h/p),this.yCellCount=Math.ceil(f/p);for(var D=0;D<this.xCellCount*this.yCellCount;D++)_.push([]),C.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=h,this.height=f,this.xScale=this.xCellCount/h,this.yScale=this.yCellCount/f,this.boxUid=0,this.circleUid=0};function vi(h,f,p,_,C){var D=A.create();return f?(A.scale(D,D,[1/C,1/C,1]),p||A.rotateZ(D,D,_.angle)):A.multiply(D,_.labelPlaneMatrix,h),D}function ir(h,f,p,_,C){if(f){var D=A.clone(h);return A.scale(D,D,[C,C,1]),p||A.rotateZ(D,D,-_.angle),D}return _.glCoordMatrix}function Wi(h,f){var p=[h.x,h.y,0,1];ts(p,p,f);var _=p[3];return{point:new A.Point(p[0]/_,p[1]/_),signedDistanceFromCamera:_}}function Or(h,f){return.5+h/f*.5}function Br(h,f){var p=h[0]/h[3],_=h[1]/h[3];return p>=-f[0]&&p<=f[0]&&_>=-f[1]&&_<=f[1]}function Ac(h,f,p,_,C,D,M,z){var ie=_?h.textSizeData:h.iconSizeData,ue=A.evaluateSizeForZoom(ie,p.transform.zoom),Ce=[256/p.width*2+1,256/p.height*2+1],Se=_?h.text.dynamicLayoutVertexArray:h.icon.dynamicLayoutVertexArray;Se.clear();for(var ke=h.lineVertexArray,qe=_?h.text.placedSymbolArray:h.icon.placedSymbolArray,je=p.transform.width/p.transform.height,ut=!1,Ue=0;Ue<qe.length;Ue++){var lt=qe.get(Ue);if(lt.hidden||lt.writingMode===A.WritingMode.vertical&&!ut)ls(lt.numGlyphs,Se);else{ut=!1;var At=[lt.anchorX,lt.anchorY,0,1];if(A.transformMat4(At,At,f),Br(At,Ce)){var Ot=Or(p.transform.cameraToCenterDistance,At[3]),rn=A.evaluateSizeForFeature(ie,ue,lt),tn=M?rn/Ot:rn*Ot,un=new A.Point(lt.anchorX,lt.anchorY),Cn=Wi(un,C).point,wn={},Un=uu(lt,tn,!1,z,f,C,D,h.glyphOffsetArray,ke,Se,Cn,un,wn,je);ut=Un.useVertical,(Un.notEnoughRoom||ut||Un.needsFlipping&&uu(lt,tn,!0,z,f,C,D,h.glyphOffsetArray,ke,Se,Cn,un,wn,je).notEnoughRoom)&&ls(lt.numGlyphs,Se)}else ls(lt.numGlyphs,Se)}}_?h.text.dynamicLayoutVertexBuffer.updateData(Se):h.icon.dynamicLayoutVertexBuffer.updateData(Se)}function no(h,f,p,_,C,D,M,z,ie,ue,Ce){var Se=z.glyphStartIndex+z.numGlyphs,ke=z.lineStartIndex,qe=z.lineStartIndex+z.lineLength,je=f.getoffsetX(z.glyphStartIndex),ut=f.getoffsetX(Se-1),Ue=es(h*je,p,_,C,D,M,z.segment,ke,qe,ie,ue,Ce);if(!Ue)return null;var lt=es(h*ut,p,_,C,D,M,z.segment,ke,qe,ie,ue,Ce);return lt?{first:Ue,last:lt}:null}function ks(h,f,p,_){return h===A.WritingMode.horizontal&&Math.abs(p.y-f.y)>Math.abs(p.x-f.x)*_?{useVertical:!0}:(h===A.WritingMode.vertical?f.y<p.y:f.x>p.x)?{needsFlipping:!0}:null}function uu(h,f,p,_,C,D,M,z,ie,ue,Ce,Se,ke,qe){var je,ut=f/24,Ue=h.lineOffsetX*ut,lt=h.lineOffsetY*ut;if(h.numGlyphs>1){var At=h.glyphStartIndex+h.numGlyphs,Ot=h.lineStartIndex,rn=h.lineStartIndex+h.lineLength,tn=no(ut,z,Ue,lt,p,Ce,Se,h,ie,D,ke);if(!tn)return{notEnoughRoom:!0};var un=Wi(tn.first.point,M).point,Cn=Wi(tn.last.point,M).point;if(_&&!p){var wn=ks(h.writingMode,un,Cn,qe);if(wn)return wn}je=[tn.first];for(var Un=h.glyphStartIndex+1;Un<At-1;Un++)je.push(es(ut*z.getoffsetX(Un),Ue,lt,p,Ce,Se,h.segment,Ot,rn,ie,D,ke));je.push(tn.last)}else{if(_&&!p){var ci=Wi(Se,C).point,Oi=h.lineStartIndex+h.segment+1,Qi=new A.Point(ie.getx(Oi),ie.gety(Oi)),Ni=Wi(Qi,C),Sr=Ni.signedDistanceFromCamera>0?Ni.point:du(Se,Qi,ci,1,C),oi=ks(h.writingMode,ci,Sr,qe);if(oi)return oi}var Ar=es(ut*z.getoffsetX(h.glyphStartIndex),Ue,lt,p,Ce,Se,h.segment,h.lineStartIndex,h.lineStartIndex+h.lineLength,ie,D,ke);if(!Ar)return{notEnoughRoom:!0};je=[Ar]}for(var br=0,er=je;br<er.length;br+=1){var tr=er[br];A.addDynamicAttributes(ue,tr.point,tr.angle)}return{}}function du(h,f,p,_,C){var D=Wi(h.add(h.sub(f)._unit()),C).point,M=p.sub(D);return p.add(M._mult(_/M.mag()))}function es(h,f,p,_,C,D,M,z,ie,ue,Ce,Se){var ke=_?h-f:h+f,qe=ke>0?1:-1,je=0;_&&(qe*=-1,je=Math.PI),qe<0&&(je+=Math.PI);for(var ut=qe>0?z+M:z+M+1,Ue=C,lt=C,At=0,Ot=0,rn=Math.abs(ke),tn=[];At+Ot<=rn;){if((ut+=qe)<z||ut>=ie)return null;if(lt=Ue,tn.push(Ue),void 0===(Ue=Se[ut])){var un=new A.Point(ue.getx(ut),ue.gety(ut)),Cn=Wi(un,Ce);if(Cn.signedDistanceFromCamera>0)Ue=Se[ut]=Cn.point;else{var wn=ut-qe;Ue=du(0===At?D:new A.Point(ue.getx(wn),ue.gety(wn)),un,lt,rn-At+1,Ce)}}At+=Ot,Ot=lt.dist(Ue)}var Un=(rn-At)/Ot,ci=Ue.sub(lt),Oi=ci.mult(Un)._add(lt);Oi._add(ci._unit()._perp()._mult(p*qe));var Qi=je+Math.atan2(Ue.y-lt.y,Ue.x-lt.x);return tn.push(Oi),{point:Oi,angle:Qi,path:tn}}Pi.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Pi.prototype.insert=function(h,f,p,_,C){this._forEachCell(f,p,_,C,this._insertBoxCell,this.boxUid++),this.boxKeys.push(h),this.bboxes.push(f),this.bboxes.push(p),this.bboxes.push(_),this.bboxes.push(C)},Pi.prototype.insertCircle=function(h,f,p,_){this._forEachCell(f-_,p-_,f+_,p+_,this._insertCircleCell,this.circleUid++),this.circleKeys.push(h),this.circles.push(f),this.circles.push(p),this.circles.push(_)},Pi.prototype._insertBoxCell=function(h,f,p,_,C,D){this.boxCells[C].push(D)},Pi.prototype._insertCircleCell=function(h,f,p,_,C,D){this.circleCells[C].push(D)},Pi.prototype._query=function(h,f,p,_,C,D){if(p<0||h>this.width||_<0||f>this.height)return!C&&[];var M=[];if(h<=0&&f<=0&&this.width<=p&&this.height<=_){if(C)return!0;for(var z=0;z<this.boxKeys.length;z++)M.push({key:this.boxKeys[z],x1:this.bboxes[4*z],y1:this.bboxes[4*z+1],x2:this.bboxes[4*z+2],y2:this.bboxes[4*z+3]});for(var ie=0;ie<this.circleKeys.length;ie++){var ue=this.circles[3*ie],Ce=this.circles[3*ie+1],Se=this.circles[3*ie+2];M.push({key:this.circleKeys[ie],x1:ue-Se,y1:Ce-Se,x2:ue+Se,y2:Ce+Se})}return D?M.filter(D):M}return this._forEachCell(h,f,p,_,this._queryCell,M,{hitTest:C,seenUids:{box:{},circle:{}}},D),C?M.length>0:M},Pi.prototype._queryCircle=function(h,f,p,_,C){var D=h-p,M=h+p,z=f-p,ie=f+p;if(M<0||D>this.width||ie<0||z>this.height)return!_&&[];var ue=[];return this._forEachCell(D,z,M,ie,this._queryCellCircle,ue,{hitTest:_,circle:{x:h,y:f,radius:p},seenUids:{box:{},circle:{}}},C),_?ue.length>0:ue},Pi.prototype.query=function(h,f,p,_,C){return this._query(h,f,p,_,!1,C)},Pi.prototype.hitTest=function(h,f,p,_,C){return this._query(h,f,p,_,!0,C)},Pi.prototype.hitTestCircle=function(h,f,p,_){return this._queryCircle(h,f,p,!0,_)},Pi.prototype._queryCell=function(h,f,p,_,C,D,M,z){var ie=M.seenUids,ue=this.boxCells[C];if(null!==ue)for(var Ce=this.bboxes,Se=0,ke=ue;Se<ke.length;Se+=1){var qe=ke[Se];if(!ie.box[qe]){ie.box[qe]=!0;var je=4*qe;if(h<=Ce[je+2]&&f<=Ce[je+3]&&p>=Ce[je+0]&&_>=Ce[je+1]&&(!z||z(this.boxKeys[qe]))){if(M.hitTest)return D.push(!0),!0;D.push({key:this.boxKeys[qe],x1:Ce[je],y1:Ce[je+1],x2:Ce[je+2],y2:Ce[je+3]})}}}var ut=this.circleCells[C];if(null!==ut)for(var Ue=this.circles,lt=0,At=ut;lt<At.length;lt+=1){var Ot=At[lt];if(!ie.circle[Ot]){ie.circle[Ot]=!0;var rn=3*Ot;if(this._circleAndRectCollide(Ue[rn],Ue[rn+1],Ue[rn+2],h,f,p,_)&&(!z||z(this.circleKeys[Ot]))){if(M.hitTest)return D.push(!0),!0;var tn=Ue[rn],un=Ue[rn+1],Cn=Ue[rn+2];D.push({key:this.circleKeys[Ot],x1:tn-Cn,y1:un-Cn,x2:tn+Cn,y2:un+Cn})}}}},Pi.prototype._queryCellCircle=function(h,f,p,_,C,D,M,z){var ie=M.circle,ue=M.seenUids,Ce=this.boxCells[C];if(null!==Ce)for(var Se=this.bboxes,ke=0,qe=Ce;ke<qe.length;ke+=1){var je=qe[ke];if(!ue.box[je]){ue.box[je]=!0;var ut=4*je;if(this._circleAndRectCollide(ie.x,ie.y,ie.radius,Se[ut+0],Se[ut+1],Se[ut+2],Se[ut+3])&&(!z||z(this.boxKeys[je])))return D.push(!0),!0}}var Ue=this.circleCells[C];if(null!==Ue)for(var lt=this.circles,At=0,Ot=Ue;At<Ot.length;At+=1){var rn=Ot[At];if(!ue.circle[rn]){ue.circle[rn]=!0;var tn=3*rn;if(this._circlesCollide(lt[tn],lt[tn+1],lt[tn+2],ie.x,ie.y,ie.radius)&&(!z||z(this.circleKeys[rn])))return D.push(!0),!0}}},Pi.prototype._forEachCell=function(h,f,p,_,C,D,M,z){for(var ie=this._convertToXCellCoord(h),ue=this._convertToYCellCoord(f),Ce=this._convertToXCellCoord(p),Se=this._convertToYCellCoord(_),ke=ie;ke<=Ce;ke++)for(var qe=ue;qe<=Se;qe++)if(C.call(this,h,f,p,_,this.xCellCount*qe+ke,D,M,z))return},Pi.prototype._convertToXCellCoord=function(h){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(h*this.xScale)))},Pi.prototype._convertToYCellCoord=function(h){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(h*this.yScale)))},Pi.prototype._circlesCollide=function(h,f,p,_,C,D){var M=_-h,z=C-f,ie=p+D;return ie*ie>M*M+z*z},Pi.prototype._circleAndRectCollide=function(h,f,p,_,C,D,M){var z=(D-_)/2,ie=Math.abs(h-(_+z));if(ie>z+p)return!1;var ue=(M-C)/2,Ce=Math.abs(f-(C+ue));if(Ce>ue+p)return!1;if(ie<=z||Ce<=ue)return!0;var Se=ie-z,ke=Ce-ue;return Se*Se+ke*ke<=p*p};var Lu=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ls(h,f){for(var p=0;p<h;p++){var _=f.length;f.resize(_+4),f.float32.set(Lu,3*_)}}function ts(h,f,p){var _=f[0],C=f[1];return h[0]=p[0]*_+p[4]*C+p[12],h[1]=p[1]*_+p[5]*C+p[13],h[3]=p[3]*_+p[7]*C+p[15],h}var fl=function(h,f,p){void 0===f&&(f=new Pi(h.width+200,h.height+200,25)),void 0===p&&(p=new Pi(h.width+200,h.height+200,25)),this.transform=h,this.grid=f,this.ignoredGrid=p,this.pitchfactor=Math.cos(h._pitch)*h.cameraToCenterDistance,this.screenRightBoundary=h.width+100,this.screenBottomBoundary=h.height+100,this.gridRightBoundary=h.width+200,this.gridBottomBoundary=h.height+200};function No(h,f,p){return f*(A.EXTENT/(h.tileSize*Math.pow(2,p-h.tileID.overscaledZ)))}fl.prototype.placeCollisionBox=function(h,f,p,_,C){var D=this.projectAndGetPerspectiveRatio(_,h.anchorPointX,h.anchorPointY),M=p*D.perspectiveRatio,z=h.x1*M+D.point.x,ie=h.y1*M+D.point.y,ue=h.x2*M+D.point.x,Ce=h.y2*M+D.point.y;return!this.isInsideGrid(z,ie,ue,Ce)||!f&&this.grid.hitTest(z,ie,ue,Ce,C)?{box:[],offscreen:!1}:{box:[z,ie,ue,Ce],offscreen:this.isOffscreen(z,ie,ue,Ce)}},fl.prototype.placeCollisionCircles=function(h,f,p,_,C,D,M,z,ie,ue,Ce,Se,ke){var qe=[],je=new A.Point(f.anchorX,f.anchorY),ut=Wi(je,D),Ue=Or(this.transform.cameraToCenterDistance,ut.signedDistanceFromCamera),lt=(ue?C/Ue:C*Ue)/A.ONE_EM,At=Wi(je,M).point,Ot=no(lt,_,f.lineOffsetX*lt,f.lineOffsetY*lt,!1,At,je,f,p,M,{}),rn=!1,tn=!1,un=!0;if(Ot){for(var Cn=.5*Se*Ue+ke,wn=new A.Point(-100,-100),Un=new A.Point(this.screenRightBoundary,this.screenBottomBoundary),ci=new Ai,Oi=Ot.first,Qi=Ot.last,Ni=[],Sr=Oi.path.length-1;Sr>=1;Sr--)Ni.push(Oi.path[Sr]);for(var oi=1;oi<Qi.path.length;oi++)Ni.push(Qi.path[oi]);var Ar=2.5*Cn;if(z){var br=Ni.map(function(Nl){return Wi(Nl,z)});Ni=br.some(function(Nl){return Nl.signedDistanceFromCamera<=0})?[]:br.map(function(Nl){return Nl.point})}var er=[];if(Ni.length>0){for(var tr=Ni[0].clone(),vr=Ni[0].clone(),Zi=1;Zi<Ni.length;Zi++)tr.x=Math.min(tr.x,Ni[Zi].x),tr.y=Math.min(tr.y,Ni[Zi].y),vr.x=Math.max(vr.x,Ni[Zi].x),vr.y=Math.max(vr.y,Ni[Zi].y);er=tr.x>=wn.x&&vr.x<=Un.x&&tr.y>=wn.y&&vr.y<=Un.y?[Ni]:vr.x<wn.x||tr.x>Un.x||vr.y<wn.y||tr.y>Un.y?[]:A.clipLine([Ni],wn.x,wn.y,Un.x,Un.y)}for(var qi=0,hs=er;qi<hs.length;qi+=1){var ss;ci.reset(hs[qi],.25*Cn),ss=ci.length<=.5*Cn?1:Math.ceil(ci.paddedLength/Ar)+1;for(var ll=0;ll<ss;ll++){var Ma=ll/Math.max(ss-1,1),bo=ci.lerp(Ma),ws=bo.x+100,gl=bo.y+100;qe.push(ws,gl,Cn,0);var _l=ws-Cn,Jd=gl-Cn,cl=ws+Cn,wu=gl+Cn;if(un=un&&this.isOffscreen(_l,Jd,cl,wu),tn=tn||this.isInsideGrid(_l,Jd,cl,wu),!h&&this.grid.hitTestCircle(ws,gl,Cn,Ce)&&(rn=!0,!ie))return{circles:[],offscreen:!1,collisionDetected:rn}}}}return{circles:!ie&&rn||!tn?[]:qe,offscreen:un,collisionDetected:rn}},fl.prototype.queryRenderedSymbols=function(h){if(0===h.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var f=[],p=1/0,_=1/0,C=-1/0,D=-1/0,M=0,z=h;M<z.length;M+=1){var ie=z[M],ue=new A.Point(ie.x+100,ie.y+100);p=Math.min(p,ue.x),_=Math.min(_,ue.y),C=Math.max(C,ue.x),D=Math.max(D,ue.y),f.push(ue)}for(var Ce={},Se={},ke=0,qe=this.grid.query(p,_,C,D).concat(this.ignoredGrid.query(p,_,C,D));ke<qe.length;ke+=1){var je=qe[ke],ut=je.key;if(void 0===Ce[ut.bucketInstanceId]&&(Ce[ut.bucketInstanceId]={}),!Ce[ut.bucketInstanceId][ut.featureIndex]){var Ue=[new A.Point(je.x1,je.y1),new A.Point(je.x2,je.y1),new A.Point(je.x2,je.y2),new A.Point(je.x1,je.y2)];A.polygonIntersectsPolygon(f,Ue)&&(Ce[ut.bucketInstanceId][ut.featureIndex]=!0,void 0===Se[ut.bucketInstanceId]&&(Se[ut.bucketInstanceId]=[]),Se[ut.bucketInstanceId].push(ut.featureIndex))}}return Se},fl.prototype.insertCollisionBox=function(h,f,p,_,C){(f?this.ignoredGrid:this.grid).insert({bucketInstanceId:p,featureIndex:_,collisionGroupID:C},h[0],h[1],h[2],h[3])},fl.prototype.insertCollisionCircles=function(h,f,p,_,C){for(var D=f?this.ignoredGrid:this.grid,M={bucketInstanceId:p,featureIndex:_,collisionGroupID:C},z=0;z<h.length;z+=4)D.insertCircle(M,h[z],h[z+1],h[z+2])},fl.prototype.projectAndGetPerspectiveRatio=function(h,f,p){var _=[f,p,0,1];return ts(_,_,h),{point:new A.Point((_[0]/_[3]+1)/2*this.transform.width+100,(-_[1]/_[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/_[3]*.5}},fl.prototype.isOffscreen=function(h,f,p,_){return p<100||h>=this.screenRightBoundary||_<100||f>this.screenBottomBoundary},fl.prototype.isInsideGrid=function(h,f,p,_){return p>=0&&h<this.gridRightBoundary&&_>=0&&f<this.gridBottomBoundary},fl.prototype.getViewportMatrix=function(){var h=A.identity([]);return A.translate(h,h,[-100,-100,0]),h};var nl=function(h,f,p,_){this.opacity=h?Math.max(0,Math.min(1,h.opacity+(h.placed?f:-f))):_&&p?1:0,this.placed=p};nl.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var ga=function(h,f,p,_,C){this.text=new nl(h?h.text:null,f,p,C),this.icon=new nl(h?h.icon:null,f,_,C)};ga.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Yl=function(h,f,p){this.text=h,this.icon=f,this.skipFade=p},ja=function(){this.invProjMatrix=A.create(),this.viewportMatrix=A.create(),this.circles=[]},Te=function(h,f,p,_,C){this.bucketInstanceId=h,this.featureIndex=f,this.sourceLayerIndex=p,this.bucketIndex=_,this.tileID=C},Me=function(h){this.crossSourceCollisions=h,this.maxGroupID=0,this.collisionGroups={}};function at(h,f,p,_,C){var D=A.getAnchorAlignment(h),M=-(D.horizontalAlign-.5)*f,z=-(D.verticalAlign-.5)*p,ie=A.evaluateVariableOffset(h,_);return new A.Point(M+ie[0]*C,z+ie[1]*C)}function en(h,f,p,_,C,D){var M=h.x1,z=h.x2,ie=h.y1,ue=h.y2,Ce=h.anchorPointX,Se=h.anchorPointY,ke=new A.Point(f,p);return _&&ke._rotate(C?D:-D),{x1:M+ke.x,y1:ie+ke.y,x2:z+ke.x,y2:ue+ke.y,anchorPointX:Ce,anchorPointY:Se}}Me.prototype.get=function(h){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[h]){var f=++this.maxGroupID;this.collisionGroups[h]={ID:f,predicate:function(p){return p.collisionGroupID===f}}}return this.collisionGroups[h]};var Fn=function(h,f,p,_){this.transform=h.clone(),this.collisionIndex=new fl(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=f,this.retainedQueryData={},this.collisionGroups=new Me(p),this.collisionCircleArrays={},this.prevPlacement=_,_&&(_.prevPlacement=void 0),this.placedOrientations={}};function _i(h,f,p,_,C){h.emplaceBack(f?1:0,p?1:0,_||0,C||0),h.emplaceBack(f?1:0,p?1:0,_||0,C||0),h.emplaceBack(f?1:0,p?1:0,_||0,C||0),h.emplaceBack(f?1:0,p?1:0,_||0,C||0)}Fn.prototype.getBucketParts=function(h,f,p,_){var C=p.getBucket(f),D=p.latestFeatureIndex;if(C&&D&&f.id===C.layerIds[0]){var M=p.collisionBoxArray,z=C.layers[0].layout,ie=Math.pow(2,this.transform.zoom-p.tileID.overscaledZ),ue=p.tileSize/A.EXTENT,Ce=this.transform.calculatePosMatrix(p.tileID.toUnwrapped()),Se="map"===z.get("text-pitch-alignment"),ke="map"===z.get("text-rotation-alignment"),qe=No(p,1,this.transform.zoom),je=vi(Ce,Se,ke,this.transform,qe),ut=null;if(Se){var Ue=ir(Ce,Se,ke,this.transform,qe);ut=A.multiply([],this.transform.labelPlaneMatrix,Ue)}this.retainedQueryData[C.bucketInstanceId]=new Te(C.bucketInstanceId,D,C.sourceLayerIndex,C.index,p.tileID);var lt={bucket:C,layout:z,posMatrix:Ce,textLabelPlaneMatrix:je,labelToScreenMatrix:ut,scale:ie,textPixelRatio:ue,holdingForFade:p.holdingForFade(),collisionBoxArray:M,partiallyEvaluatedTextSize:A.evaluateSizeForZoom(C.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(C.sourceID)};if(_)for(var At=0,Ot=C.sortKeyRanges;At<Ot.length;At+=1){var rn=Ot[At];h.push({sortKey:rn.sortKey,symbolInstanceStart:rn.symbolInstanceStart,symbolInstanceEnd:rn.symbolInstanceEnd,parameters:lt})}else h.push({symbolInstanceStart:0,symbolInstanceEnd:C.symbolInstances.length,parameters:lt})}},Fn.prototype.attemptAnchorPlacement=function(h,f,p,_,C,D,M,z,ie,ue,Ce,Se,ke,qe,je){var ut,Ue=[Se.textOffset0,Se.textOffset1],lt=at(h,p,_,Ue,C),At=this.collisionIndex.placeCollisionBox(en(f,lt.x,lt.y,D,M,this.transform.angle),Ce,z,ie,ue.predicate);if(!je||0!==this.collisionIndex.placeCollisionBox(en(je,lt.x,lt.y,D,M,this.transform.angle),Ce,z,ie,ue.predicate).box.length)return At.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[Se.crossTileID]&&this.prevPlacement.placements[Se.crossTileID]&&this.prevPlacement.placements[Se.crossTileID].text&&(ut=this.prevPlacement.variableOffsets[Se.crossTileID].anchor),this.variableOffsets[Se.crossTileID]={textOffset:Ue,width:p,height:_,anchor:h,textBoxScale:C,prevAnchor:ut},this.markUsedJustification(ke,h,Se,qe),ke.allowVerticalPlacement&&(this.markUsedOrientation(ke,qe,Se),this.placedOrientations[Se.crossTileID]=qe),{shift:lt,placedGlyphBoxes:At}):void 0},Fn.prototype.placeLayerBucketPart=function(h,f,p){var _=this,C=h.parameters,D=C.bucket,M=C.layout,z=C.posMatrix,ie=C.textLabelPlaneMatrix,ue=C.labelToScreenMatrix,Ce=C.textPixelRatio,Se=C.holdingForFade,ke=C.collisionBoxArray,qe=C.partiallyEvaluatedTextSize,je=C.collisionGroup,ut=M.get("text-optional"),Ue=M.get("icon-optional"),lt=M.get("text-allow-overlap"),At=M.get("icon-allow-overlap"),Ot="map"===M.get("text-rotation-alignment"),rn="map"===M.get("text-pitch-alignment"),tn="none"!==M.get("icon-text-fit"),un="viewport-y"===M.get("symbol-z-order"),Cn=lt&&(At||!D.hasIconData()||Ue),wn=At&&(lt||!D.hasTextData()||ut);!D.collisionArrays&&ke&&D.deserializeCollisionBoxes(ke);var Un=function(oi,Ar){if(!f[oi.crossTileID])if(Se)_.placements[oi.crossTileID]=new Yl(!1,!1,!1);else{var br,er=!1,tr=!1,vr=!0,Zi=null,qi={box:null,offscreen:null},hs={box:null,offscreen:null},ss=null,ll=null,Ma=0,bo=0,ws=0;Ar.textFeatureIndex?Ma=Ar.textFeatureIndex:oi.useRuntimeCollisionCircles&&(Ma=oi.featureIndex),Ar.verticalTextFeatureIndex&&(bo=Ar.verticalTextFeatureIndex);var gl=Ar.textBox;if(gl){var _l=function(wr){var na=A.WritingMode.horizontal;if(D.allowVerticalPlacement&&!wr&&_.prevPlacement){var Yo=_.prevPlacement.placedOrientations[oi.crossTileID];Yo&&(_.placedOrientations[oi.crossTileID]=Yo,_.markUsedOrientation(D,na=Yo,oi))}return na},Jd=function(wr,na){if(D.allowVerticalPlacement&&oi.numVerticalGlyphVertices>0&&Ar.verticalTextBox)for(var Yo=0,th=D.writingModes;Yo<th.length&&(th[Yo]===A.WritingMode.vertical?(qi=na(),hs=qi):qi=wr(),!(qi&&qi.box&&qi.box.length));Yo+=1);else qi=wr()};if(M.get("text-variable-anchor")){var cl=M.get("text-variable-anchor");if(_.prevPlacement&&_.prevPlacement.variableOffsets[oi.crossTileID]){var wu=_.prevPlacement.variableOffsets[oi.crossTileID];cl.indexOf(wu.anchor)>0&&(cl=cl.filter(function(wr){return wr!==wu.anchor})).unshift(wu.anchor)}var Nl=function(wr,na,Yo){for(var th=wr.x2-wr.x1,pA=wr.y2-wr.y1,Fh=oi.textBoxScale,Q_=tn&&!At?na:null,Lh={box:[],offscreen:!1},Nh=lt?2*cl.length:cl.length,Cp=0;Cp<Nh;++Cp){var nh=_.attemptAnchorPlacement(cl[Cp%cl.length],wr,th,pA,Fh,Ot,rn,Ce,z,je,Cp>=cl.length,oi,D,Yo,Q_);if(nh&&(Lh=nh.placedGlyphBoxes)&&Lh.box&&Lh.box.length){er=!0,Zi=nh.shift;break}}return Lh};Jd(function(){return Nl(gl,Ar.iconBox,A.WritingMode.horizontal)},function(){var wr=Ar.verticalTextBox;return D.allowVerticalPlacement&&!(qi&&qi.box&&qi.box.length)&&oi.numVerticalGlyphVertices>0&&wr?Nl(wr,Ar.verticalIconBox,A.WritingMode.vertical):{box:null,offscreen:null}}),qi&&(er=qi.box,vr=qi.offscreen);var gf=_l(qi&&qi.box);if(!er&&_.prevPlacement){var eh=_.prevPlacement.variableOffsets[oi.crossTileID];eh&&(_.variableOffsets[oi.crossTileID]=eh,_.markUsedJustification(D,eh.anchor,oi,gf))}}else{var $u=function(wr,na){var Yo=_.collisionIndex.placeCollisionBox(wr,lt,Ce,z,je.predicate);return Yo&&Yo.box&&Yo.box.length&&(_.markUsedOrientation(D,na,oi),_.placedOrientations[oi.crossTileID]=na),Yo};Jd(function(){return $u(gl,A.WritingMode.horizontal)},function(){var wr=Ar.verticalTextBox;return D.allowVerticalPlacement&&oi.numVerticalGlyphVertices>0&&wr?$u(wr,A.WritingMode.vertical):{box:null,offscreen:null}}),_l(qi&&qi.box&&qi.box.length)}}if(er=(br=qi)&&br.box&&br.box.length>0,vr=br&&br.offscreen,oi.useRuntimeCollisionCircles){var Ii=D.text.placedSymbolArray.get(oi.centerJustifiedTextSymbolIndex),Cd=A.evaluateSizeForFeature(D.textSizeData,qe,Ii),Xu=M.get("text-padding");ss=_.collisionIndex.placeCollisionCircles(lt,Ii,D.lineVertexArray,D.glyphOffsetArray,Cd,z,ie,ue,p,rn,je.predicate,oi.collisionCircleDiameter,Xu),er=lt||ss.circles.length>0&&!ss.collisionDetected,vr=vr&&ss.offscreen}if(Ar.iconFeatureIndex&&(ws=Ar.iconFeatureIndex),Ar.iconBox){var bi=function(wr){var na=tn&&Zi?en(wr,Zi.x,Zi.y,Ot,rn,_.transform.angle):wr;return _.collisionIndex.placeCollisionBox(na,At,Ce,z,je.predicate)};tr=hs&&hs.box&&hs.box.length&&Ar.verticalIconBox?(ll=bi(Ar.verticalIconBox)).box.length>0:(ll=bi(Ar.iconBox)).box.length>0,vr=vr&&ll.offscreen}var Tc=ut||0===oi.numHorizontalGlyphVertices&&0===oi.numVerticalGlyphVertices,zn=Ue||0===oi.numIconVertices;if(Tc||zn?zn?Tc||(tr=tr&&er):er=tr&&er:tr=er=tr&&er,er&&br&&br.box&&_.collisionIndex.insertCollisionBox(br.box,M.get("text-ignore-placement"),D.bucketInstanceId,hs&&hs.box&&bo?bo:Ma,je.ID),tr&&ll&&_.collisionIndex.insertCollisionBox(ll.box,M.get("icon-ignore-placement"),D.bucketInstanceId,ws,je.ID),ss&&(er&&_.collisionIndex.insertCollisionCircles(ss.circles,M.get("text-ignore-placement"),D.bucketInstanceId,Ma,je.ID),p)){var Bs=D.bucketInstanceId,Nr=_.collisionCircleArrays[Bs];void 0===Nr&&(Nr=_.collisionCircleArrays[Bs]=new ja);for(var cs=0;cs<ss.circles.length;cs+=4)Nr.circles.push(ss.circles[cs+0]),Nr.circles.push(ss.circles[cs+1]),Nr.circles.push(ss.circles[cs+2]),Nr.circles.push(ss.collisionDetected?1:0)}_.placements[oi.crossTileID]=new Yl(er||Cn,tr||wn,vr||D.justReloaded),f[oi.crossTileID]=!0}};if(un)for(var ci=D.getSortedSymbolIndexes(this.transform.angle),Oi=ci.length-1;Oi>=0;--Oi){var Qi=ci[Oi];Un(D.symbolInstances.get(Qi),D.collisionArrays[Qi])}else for(var Ni=h.symbolInstanceStart;Ni<h.symbolInstanceEnd;Ni++)Un(D.symbolInstances.get(Ni),D.collisionArrays[Ni]);if(p&&D.bucketInstanceId in this.collisionCircleArrays){var Sr=this.collisionCircleArrays[D.bucketInstanceId];A.invert(Sr.invProjMatrix,z),Sr.viewportMatrix=this.collisionIndex.getViewportMatrix()}D.justReloaded=!1},Fn.prototype.markUsedJustification=function(h,f,p,_){var C;C=_===A.WritingMode.vertical?p.verticalPlacedTextSymbolIndex:{left:p.leftJustifiedTextSymbolIndex,center:p.centerJustifiedTextSymbolIndex,right:p.rightJustifiedTextSymbolIndex}[A.getAnchorJustification(f)];for(var D=0,M=[p.leftJustifiedTextSymbolIndex,p.centerJustifiedTextSymbolIndex,p.rightJustifiedTextSymbolIndex,p.verticalPlacedTextSymbolIndex];D<M.length;D+=1){var z=M[D];z>=0&&(h.text.placedSymbolArray.get(z).crossTileID=C>=0&&z!==C?0:p.crossTileID)}},Fn.prototype.markUsedOrientation=function(h,f,p){for(var _=f===A.WritingMode.horizontal||f===A.WritingMode.horizontalOnly?f:0,C=f===A.WritingMode.vertical?f:0,D=0,M=[p.leftJustifiedTextSymbolIndex,p.centerJustifiedTextSymbolIndex,p.rightJustifiedTextSymbolIndex];D<M.length;D+=1)h.text.placedSymbolArray.get(M[D]).placedOrientation=_;p.verticalPlacedTextSymbolIndex&&(h.text.placedSymbolArray.get(p.verticalPlacedTextSymbolIndex).placedOrientation=C)},Fn.prototype.commit=function(h){this.commitTime=h,this.zoomAtLastRecencyCheck=this.transform.zoom;var f=this.prevPlacement,p=!1;this.prevZoomAdjustment=f?f.zoomAdjustment(this.transform.zoom):0;var _=f?f.symbolFadeChange(h):1,C=f?f.opacities:{},D=f?f.variableOffsets:{},M=f?f.placedOrientations:{};for(var z in this.placements){var ie=this.placements[z],ue=C[z];ue?(this.opacities[z]=new ga(ue,_,ie.text,ie.icon),p=p||ie.text!==ue.text.placed||ie.icon!==ue.icon.placed):(this.opacities[z]=new ga(null,_,ie.text,ie.icon,ie.skipFade),p=p||ie.text||ie.icon)}for(var Ce in C){var Se=C[Ce];if(!this.opacities[Ce]){var ke=new ga(Se,_,!1,!1);ke.isHidden()||(this.opacities[Ce]=ke,p=p||Se.text.placed||Se.icon.placed)}}for(var qe in D)this.variableOffsets[qe]||!this.opacities[qe]||this.opacities[qe].isHidden()||(this.variableOffsets[qe]=D[qe]);for(var je in M)this.placedOrientations[je]||!this.opacities[je]||this.opacities[je].isHidden()||(this.placedOrientations[je]=M[je]);p?this.lastPlacementChangeTime=h:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=f?f.lastPlacementChangeTime:h)},Fn.prototype.updateLayerOpacities=function(h,f){for(var p={},_=0,C=f;_<C.length;_+=1){var D=C[_],M=D.getBucket(h);M&&D.latestFeatureIndex&&h.id===M.layerIds[0]&&this.updateBucketOpacities(M,p,D.collisionBoxArray)}},Fn.prototype.updateBucketOpacities=function(h,f,p){var _=this;h.hasTextData()&&h.text.opacityVertexArray.clear(),h.hasIconData()&&h.icon.opacityVertexArray.clear(),h.hasIconCollisionBoxData()&&h.iconCollisionBox.collisionVertexArray.clear(),h.hasTextCollisionBoxData()&&h.textCollisionBox.collisionVertexArray.clear();var C=h.layers[0].layout,D=new ga(null,0,!1,!1,!0),M=C.get("text-allow-overlap"),z=C.get("icon-allow-overlap"),ie=C.get("text-variable-anchor"),ue="map"===C.get("text-rotation-alignment"),Ce="map"===C.get("text-pitch-alignment"),Se="none"!==C.get("icon-text-fit"),ke=new ga(null,0,M&&(z||!h.hasIconData()||C.get("icon-optional")),z&&(M||!h.hasTextData()||C.get("text-optional")),!0);!h.collisionArrays&&p&&(h.hasIconCollisionBoxData()||h.hasTextCollisionBoxData())&&h.deserializeCollisionBoxes(p);for(var qe=function(lt,At,Ot){for(var rn=0;rn<At/4;rn++)lt.opacityVertexArray.emplaceBack(Ot)},je=function(lt){var At=h.symbolInstances.get(lt),Ot=At.numHorizontalGlyphVertices,rn=At.numVerticalGlyphVertices,tn=At.crossTileID,un=_.opacities[tn];f[tn]?un=D:un||(_.opacities[tn]=un=ke),f[tn]=!0;var Cn=At.numIconVertices>0,wn=_.placedOrientations[At.crossTileID],Un=wn===A.WritingMode.vertical,ci=wn===A.WritingMode.horizontal||wn===A.WritingMode.horizontalOnly;if(Ot>0||rn>0){var Oi=ap(un.text);qe(h.text,Ot,Un?Kd:Oi),qe(h.text,rn,ci?Kd:Oi);var Qi=un.text.isHidden();[At.rightJustifiedTextSymbolIndex,At.centerJustifiedTextSymbolIndex,At.leftJustifiedTextSymbolIndex].forEach(function(qi){qi>=0&&(h.text.placedSymbolArray.get(qi).hidden=Qi||Un?1:0)}),At.verticalPlacedTextSymbolIndex>=0&&(h.text.placedSymbolArray.get(At.verticalPlacedTextSymbolIndex).hidden=Qi||ci?1:0);var Ni=_.variableOffsets[At.crossTileID];Ni&&_.markUsedJustification(h,Ni.anchor,At,wn);var Sr=_.placedOrientations[At.crossTileID];Sr&&(_.markUsedJustification(h,"left",At,Sr),_.markUsedOrientation(h,Sr,At))}if(Cn){var oi=ap(un.icon),Ar=!(Se&&At.verticalPlacedIconSymbolIndex&&Un);At.placedIconSymbolIndex>=0&&(qe(h.icon,At.numIconVertices,Ar?oi:Kd),h.icon.placedSymbolArray.get(At.placedIconSymbolIndex).hidden=un.icon.isHidden()),At.verticalPlacedIconSymbolIndex>=0&&(qe(h.icon,At.numVerticalIconVertices,Ar?Kd:oi),h.icon.placedSymbolArray.get(At.verticalPlacedIconSymbolIndex).hidden=un.icon.isHidden())}if(h.hasIconCollisionBoxData()||h.hasTextCollisionBoxData()){var br=h.collisionArrays[lt];if(br){var er=new A.Point(0,0);if(br.textBox||br.verticalTextBox){var tr=!0;if(ie){var vr=_.variableOffsets[tn];vr?(er=at(vr.anchor,vr.width,vr.height,vr.textOffset,vr.textBoxScale),ue&&er._rotate(Ce?_.transform.angle:-_.transform.angle)):tr=!1}br.textBox&&_i(h.textCollisionBox.collisionVertexArray,un.text.placed,!tr||Un,er.x,er.y),br.verticalTextBox&&_i(h.textCollisionBox.collisionVertexArray,un.text.placed,!tr||ci,er.x,er.y)}var Zi=!(ci||!br.verticalIconBox);br.iconBox&&_i(h.iconCollisionBox.collisionVertexArray,un.icon.placed,Zi,Se?er.x:0,Se?er.y:0),br.verticalIconBox&&_i(h.iconCollisionBox.collisionVertexArray,un.icon.placed,!Zi,Se?er.x:0,Se?er.y:0)}}},ut=0;ut<h.symbolInstances.length;ut++)je(ut);if(h.sortFeatures(this.transform.angle),this.retainedQueryData[h.bucketInstanceId]&&(this.retainedQueryData[h.bucketInstanceId].featureSortOrder=h.featureSortOrder),h.hasTextData()&&h.text.opacityVertexBuffer&&h.text.opacityVertexBuffer.updateData(h.text.opacityVertexArray),h.hasIconData()&&h.icon.opacityVertexBuffer&&h.icon.opacityVertexBuffer.updateData(h.icon.opacityVertexArray),h.hasIconCollisionBoxData()&&h.iconCollisionBox.collisionVertexBuffer&&h.iconCollisionBox.collisionVertexBuffer.updateData(h.iconCollisionBox.collisionVertexArray),h.hasTextCollisionBoxData()&&h.textCollisionBox.collisionVertexBuffer&&h.textCollisionBox.collisionVertexBuffer.updateData(h.textCollisionBox.collisionVertexArray),h.bucketInstanceId in this.collisionCircleArrays){var Ue=this.collisionCircleArrays[h.bucketInstanceId];h.placementInvProjMatrix=Ue.invProjMatrix,h.placementViewportMatrix=Ue.viewportMatrix,h.collisionCircleArray=Ue.circles,delete this.collisionCircleArrays[h.bucketInstanceId]}},Fn.prototype.symbolFadeChange=function(h){return 0===this.fadeDuration?1:(h-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Fn.prototype.zoomAdjustment=function(h){return Math.max(0,(this.transform.zoom-h)/1.5)},Fn.prototype.hasTransitions=function(h){return this.stale||h-this.lastPlacementChangeTime<this.fadeDuration},Fn.prototype.stillRecent=function(h,f){var p=this.zoomAtLastRecencyCheck===f?1-this.zoomAdjustment(f):1;return this.zoomAtLastRecencyCheck=f,this.commitTime+this.fadeDuration*p>h},Fn.prototype.setStale=function(){this.stale=!0};var Xr=Math.pow(2,25),Us=Math.pow(2,24),Ds=Math.pow(2,17),ys=Math.pow(2,16),il=Math.pow(2,9),rf=Math.pow(2,8),sA=Math.pow(2,1);function ap(h){if(0===h.opacity&&!h.placed)return 0;if(1===h.opacity&&h.placed)return 4294967295;var f=h.placed?1:0,p=Math.floor(127*h.opacity);return p*Xr+f*Us+p*Ds+f*ys+p*il+f*rf+p*sA+f}var Kd=0,Eh=function(h){this._sortAcrossTiles="viewport-y"!==h.layout.get("symbol-z-order")&&void 0!==h.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Eh.prototype.continuePlacement=function(h,f,p,_,C){for(var D=this._bucketParts;this._currentTileIndex<h.length;)if(f.getBucketParts(D,_,h[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,C())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,D.sort(function(M,z){return M.sortKey-z.sortKey}));this._currentPartIndex<D.length;)if(f.placeLayerBucketPart(D[this._currentPartIndex],this._seenCrossTileIDs,p),this._currentPartIndex++,C())return!0;return!1};var lp=function(h,f,p,_,C,D,M){this.placement=new Fn(h,C,D,M),this._currentPlacementIndex=f.length-1,this._forceFullPlacement=p,this._showCollisionBoxes=_,this._done=!1};lp.prototype.isDone=function(){return this._done},lp.prototype.continuePlacement=function(h,f,p){for(var _=this,C=A.browser.now(),D=function(){var ie=A.browser.now()-C;return!_._forceFullPlacement&&ie>2};this._currentPlacementIndex>=0;){var M=f[h[this._currentPlacementIndex]],z=this.placement.collisionIndex.transform.zoom;if("symbol"===M.type&&(!M.minzoom||M.minzoom<=z)&&(!M.maxzoom||M.maxzoom>z)){if(this._inProgressLayer||(this._inProgressLayer=new Eh(M)),this._inProgressLayer.continuePlacement(p[M.source],this.placement,this._showCollisionBoxes,M,D))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},lp.prototype.commit=function(h){return this.placement.commit(h),this.placement};var cp=512/A.EXTENT/2,sf=function(h,f,p){this.tileID=h,this.indexedSymbolInstances={},this.bucketInstanceId=p;for(var _=0;_<f.length;_++){var C=f.get(_),D=C.key;this.indexedSymbolInstances[D]||(this.indexedSymbolInstances[D]=[]),this.indexedSymbolInstances[D].push({crossTileID:C.crossTileID,coord:this.getScaledCoordinates(C,h)})}};sf.prototype.getScaledCoordinates=function(h,f){var p=cp/Math.pow(2,f.canonical.z-this.tileID.canonical.z);return{x:Math.floor((f.canonical.x*A.EXTENT+h.anchorX)*p),y:Math.floor((f.canonical.y*A.EXTENT+h.anchorY)*p)}},sf.prototype.findMatches=function(h,f,p){for(var _=this.tileID.canonical.z<f.canonical.z?1:Math.pow(2,this.tileID.canonical.z-f.canonical.z),C=0;C<h.length;C++){var D=h.get(C);if(!D.crossTileID){var M=this.indexedSymbolInstances[D.key];if(M)for(var z=this.getScaledCoordinates(D,f),ie=0,ue=M;ie<ue.length;ie+=1){var Ce=ue[ie];if(Math.abs(Ce.coord.x-z.x)<=_&&Math.abs(Ce.coord.y-z.y)<=_&&!p[Ce.crossTileID]){p[Ce.crossTileID]=!0,D.crossTileID=Ce.crossTileID;break}}}}};var Al=function(){this.maxCrossTileID=0};Al.prototype.generate=function(){return++this.maxCrossTileID};var _a=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};_a.prototype.handleWrapJump=function(h){var f=Math.round((h-this.lng)/360);if(0!==f)for(var p in this.indexes){var _=this.indexes[p],C={};for(var D in _){var M=_[D];M.tileID=M.tileID.unwrapTo(M.tileID.wrap+f),C[M.tileID.key]=M}this.indexes[p]=C}this.lng=h},_a.prototype.addBucket=function(h,f,p){if(this.indexes[h.overscaledZ]&&this.indexes[h.overscaledZ][h.key]){if(this.indexes[h.overscaledZ][h.key].bucketInstanceId===f.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(h.overscaledZ,this.indexes[h.overscaledZ][h.key])}for(var _=0;_<f.symbolInstances.length;_++)f.symbolInstances.get(_).crossTileID=0;this.usedCrossTileIDs[h.overscaledZ]||(this.usedCrossTileIDs[h.overscaledZ]={});var C=this.usedCrossTileIDs[h.overscaledZ];for(var D in this.indexes){var M=this.indexes[D];if(Number(D)>h.overscaledZ)for(var z in M){var ie=M[z];ie.tileID.isChildOf(h)&&ie.findMatches(f.symbolInstances,h,C)}else{var ue=M[h.scaledTo(Number(D)).key];ue&&ue.findMatches(f.symbolInstances,h,C)}}for(var Ce=0;Ce<f.symbolInstances.length;Ce++){var Se=f.symbolInstances.get(Ce);Se.crossTileID||(Se.crossTileID=p.generate(),C[Se.crossTileID]=!0)}return void 0===this.indexes[h.overscaledZ]&&(this.indexes[h.overscaledZ]={}),this.indexes[h.overscaledZ][h.key]=new sf(h,f.symbolInstances,f.bucketInstanceId),!0},_a.prototype.removeBucketCrossTileIDs=function(h,f){for(var p in f.indexedSymbolInstances)for(var _=0,C=f.indexedSymbolInstances[p];_<C.length;_+=1)delete this.usedCrossTileIDs[h][C[_].crossTileID]},_a.prototype.removeStaleBuckets=function(h){var f=!1;for(var p in this.indexes){var _=this.indexes[p];for(var C in _)h[_[C].bucketInstanceId]||(this.removeBucketCrossTileIDs(p,_[C]),delete _[C],f=!0)}return f};var mc=function(){this.layerIndexes={},this.crossTileIDs=new Al,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};mc.prototype.addLayer=function(h,f,p){var _=this.layerIndexes[h.id];void 0===_&&(_=this.layerIndexes[h.id]=new _a);var C=!1,D={};_.handleWrapJump(p);for(var M=0,z=f;M<z.length;M+=1){var ie=z[M],ue=ie.getBucket(h);ue&&h.id===ue.layerIds[0]&&(ue.bucketInstanceId||(ue.bucketInstanceId=++this.maxBucketInstanceId),_.addBucket(ie.tileID,ue,this.crossTileIDs)&&(C=!0),D[ue.bucketInstanceId]=!0)}return _.removeStaleBuckets(D)&&(C=!0),C},mc.prototype.pruneUnusedLayers=function(h){var f={};for(var p in h.forEach(function(_){f[_]=!0}),this.layerIndexes)f[p]||delete this.layerIndexes[p]};var Vc=function(h,f){return A.emitValidationErrors(h,f&&f.filter(function(p){return"source.canvas"!==p.identifier}))},gc=A.pick(Rt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),hu=A.pick(Rt,["setCenter","setZoom","setBearing","setPitch"]),gd=function(){var h={},f=A.styleSpec.$version;for(var p in A.styleSpec.$root){var _,C=A.styleSpec.$root[p];C.required&&null!=(_="version"===p?f:"array"===C.type?[]:{})&&(h[p]=_)}return h}(),rl=function(h){function f(p,_){var C=this;void 0===_&&(_={}),h.call(this),this.map=p,this.dispatcher=new Dt(Xe(),this),this.imageManager=new we,this.imageManager.setEventedParent(this),this.glyphManager=new vt(p._requestManager,_.localIdeographFontFamily),this.lineAtlas=new ze(256,512),this.crossTileSymbolIndex=new mc,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new A.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",A.getReferrer());var D=this;this._rtlTextPluginCallback=f.registerForPluginStateChange(function(M){D.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:M.pluginStatus,pluginURL:M.pluginURL},function(z,ie){if(A.triggerPluginCompletionEvent(z),ie&&ie.every(function(Ce){return Ce}))for(var ue in D.sourceCaches)D.sourceCaches[ue].reload()})}),this.on("data",function(M){if("source"===M.dataType&&"metadata"===M.sourceDataType){var z=C.sourceCaches[M.sourceId];if(z){var ie=z.getSource();if(ie&&ie.vectorLayerIds)for(var ue in C._layers){var Ce=C._layers[ue];Ce.source===ie.id&&C._validateLayer(Ce)}}}})}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.loadURL=function(p,_){var C=this;void 0===_&&(_={}),this.fire(new A.Event("dataloading",{dataType:"style"}));var D="boolean"==typeof _.validate?_.validate:!A.isMapboxURL(p);p=this.map._requestManager.normalizeStyleURL(p,_.accessToken);var M=this.map._requestManager.transformRequest(p,A.ResourceType.Style);this._request=A.getJSON(M,function(z,ie){C._request=null,z?C.fire(new A.ErrorEvent(z)):ie&&C._load(ie,D)})},f.prototype.loadJSON=function(p,_){var C=this;void 0===_&&(_={}),this.fire(new A.Event("dataloading",{dataType:"style"})),this._request=A.browser.frame(function(){C._request=null,C._load(p,!1!==_.validate)})},f.prototype.loadEmpty=function(){this.fire(new A.Event("dataloading",{dataType:"style"})),this._load(gd,!1)},f.prototype._load=function(p,_){if(!_||!Vc(this,A.validateStyle(p))){for(var C in this._loaded=!0,this.stylesheet=p,p.sources)this.addSource(C,p.sources[C],{validate:!1});p.sprite?this._loadSprite(p.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(p.glyphs);var D=_t(this.stylesheet.layers);this._order=D.map(function(ue){return ue.id}),this._layers={},this._serializedLayers={};for(var M=0,z=D;M<z.length;M+=1){var ie=z[M];(ie=A.createStyleLayer(ie)).setEventedParent(this,{layer:{id:ie.id}}),this._layers[ie.id]=ie,this._serializedLayers[ie.id]=ie.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new Fe(this.stylesheet.light),this.fire(new A.Event("data",{dataType:"style"})),this.fire(new A.Event("style.load"))}},f.prototype._loadSprite=function(p){var _=this;this._spriteRequest=function(C,D,M){var z,ie,ue,Ce=A.browser.devicePixelRatio>1?"@2x":"",Se=A.getJSON(D.transformRequest(D.normalizeSpriteURL(C,Ce,".json"),A.ResourceType.SpriteJSON),function(je,ut){Se=null,ue||(ue=je,z=ut,qe())}),ke=A.getImage(D.transformRequest(D.normalizeSpriteURL(C,Ce,".png"),A.ResourceType.SpriteImage),function(je,ut){ke=null,ue||(ue=je,ie=ut,qe())});function qe(){if(ue)M(ue);else if(z&&ie){var je=A.browser.getImageData(ie),ut={};for(var Ue in z){var lt=z[Ue],At=lt.width,Ot=lt.height,rn=lt.x,tn=lt.y,un=lt.sdf,Cn=lt.pixelRatio,wn=lt.stretchX,Un=lt.stretchY,ci=lt.content,Oi=new A.RGBAImage({width:At,height:Ot});A.RGBAImage.copy(je,Oi,{x:rn,y:tn},{x:0,y:0},{width:At,height:Ot}),ut[Ue]={data:Oi,pixelRatio:Cn,sdf:un,stretchX:wn,stretchY:Un,content:ci}}M(null,ut)}}return{cancel:function(){Se&&(Se.cancel(),Se=null),ke&&(ke.cancel(),ke=null)}}}(p,this.map._requestManager,function(C,D){if(_._spriteRequest=null,C)_.fire(new A.ErrorEvent(C));else if(D)for(var M in D)_.imageManager.addImage(M,D[M]);_.imageManager.setLoaded(!0),_._availableImages=_.imageManager.listImages(),_.dispatcher.broadcast("setImages",_._availableImages),_.fire(new A.Event("data",{dataType:"style"}))})},f.prototype._validateLayer=function(p){var _=this.sourceCaches[p.source];if(_){var C=p.sourceLayer;if(C){var D=_.getSource();("geojson"===D.type||D.vectorLayerIds&&-1===D.vectorLayerIds.indexOf(C))&&this.fire(new A.ErrorEvent(new Error('Source layer "'+C+'" does not exist on source "'+D.id+'" as specified by style layer "'+p.id+'"')))}}},f.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var p in this.sourceCaches)if(!this.sourceCaches[p].loaded())return!1;return!!this.imageManager.isLoaded()},f.prototype._serializeLayers=function(p){for(var _=[],C=0,D=p;C<D.length;C+=1){var M=this._layers[D[C]];"custom"!==M.type&&_.push(M.serialize())}return _},f.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var p in this.sourceCaches)if(this.sourceCaches[p].hasTransition())return!0;for(var _ in this._layers)if(this._layers[_].hasTransition())return!0;return!1},f.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},f.prototype.update=function(p){if(this._loaded){var _=this._changed;if(this._changed){var C=Object.keys(this._updatedLayers),D=Object.keys(this._removedLayers);for(var M in(C.length||D.length)&&this._updateWorkerLayers(C,D),this._updatedSources){var z=this._updatedSources[M];"reload"===z?this._reloadSource(M):"clear"===z&&this._clearSource(M)}for(var ie in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[ie].updateTransitions(p);this.light.updateTransitions(p),this._resetUpdates()}var ue={};for(var Ce in this.sourceCaches){var Se=this.sourceCaches[Ce];ue[Ce]=Se.used,Se.used=!1}for(var ke=0,qe=this._order;ke<qe.length;ke+=1){var je=this._layers[qe[ke]];je.recalculate(p,this._availableImages),!je.isHidden(p.zoom)&&je.source&&(this.sourceCaches[je.source].used=!0)}for(var ut in ue){var Ue=this.sourceCaches[ut];ue[ut]!==Ue.used&&Ue.fire(new A.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:ut}))}this.light.recalculate(p),this.z=p.zoom,_&&this.fire(new A.Event("data",{dataType:"style"}))}},f.prototype._updateTilesForChangedImages=function(){var p=Object.keys(this._changedImages);if(p.length){for(var _ in this.sourceCaches)this.sourceCaches[_].reloadTilesForDependencies(["icons","patterns"],p);this._changedImages={}}},f.prototype._updateWorkerLayers=function(p,_){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(p),removedIds:_})},f.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},f.prototype.setState=function(p){var _=this;if(this._checkLoaded(),Vc(this,A.validateStyle(p)))return!1;(p=A.clone$1(p)).layers=_t(p.layers);var C=function(M,z){if(!M)return[{command:Rt.setStyle,args:[z]}];var ie=[];try{if(!A.deepEqual(M.version,z.version))return[{command:Rt.setStyle,args:[z]}];A.deepEqual(M.center,z.center)||ie.push({command:Rt.setCenter,args:[z.center]}),A.deepEqual(M.zoom,z.zoom)||ie.push({command:Rt.setZoom,args:[z.zoom]}),A.deepEqual(M.bearing,z.bearing)||ie.push({command:Rt.setBearing,args:[z.bearing]}),A.deepEqual(M.pitch,z.pitch)||ie.push({command:Rt.setPitch,args:[z.pitch]}),A.deepEqual(M.sprite,z.sprite)||ie.push({command:Rt.setSprite,args:[z.sprite]}),A.deepEqual(M.glyphs,z.glyphs)||ie.push({command:Rt.setGlyphs,args:[z.glyphs]}),A.deepEqual(M.transition,z.transition)||ie.push({command:Rt.setTransition,args:[z.transition]}),A.deepEqual(M.light,z.light)||ie.push({command:Rt.setLight,args:[z.light]});var ue={},Ce=[];!function(ke,qe,je,ut){var Ue;for(Ue in qe=qe||{},ke=ke||{})ke.hasOwnProperty(Ue)&&(qe.hasOwnProperty(Ue)||tt(Ue,je,ut));for(Ue in qe)qe.hasOwnProperty(Ue)&&(ke.hasOwnProperty(Ue)?A.deepEqual(ke[Ue],qe[Ue])||("geojson"===ke[Ue].type&&"geojson"===qe[Ue].type&&Pt(ke,qe,Ue)?je.push({command:Rt.setGeoJSONSourceData,args:[Ue,qe[Ue].data]}):ct(Ue,qe,je,ut)):zt(Ue,qe,je))}(M.sources,z.sources,Ce,ue);var Se=[];M.layers&&M.layers.forEach(function(ke){ue[ke.source]?ie.push({command:Rt.removeLayer,args:[ke.id]}):Se.push(ke)}),ie=ie.concat(Ce),function(ke,qe,je){qe=qe||[];var ut,Ue,lt,At,Ot,rn,tn,un=(ke=ke||[]).map(Rn),Cn=qe.map(Rn),wn=ke.reduce(fn,{}),Un=qe.reduce(fn,{}),ci=un.slice(),Oi=Object.create(null);for(ut=0,Ue=0;ut<un.length;ut++)Un.hasOwnProperty(lt=un[ut])?Ue++:(je.push({command:Rt.removeLayer,args:[lt]}),ci.splice(ci.indexOf(lt,Ue),1));for(ut=0,Ue=0;ut<Cn.length;ut++)ci[ci.length-1-ut]!==(lt=Cn[Cn.length-1-ut])&&(wn.hasOwnProperty(lt)?(je.push({command:Rt.removeLayer,args:[lt]}),ci.splice(ci.lastIndexOf(lt,ci.length-Ue),1)):Ue++,je.push({command:Rt.addLayer,args:[Un[lt],rn=ci[ci.length-ut]]}),ci.splice(ci.length-ut,0,lt),Oi[lt]=!0);for(ut=0;ut<Cn.length;ut++)if(At=wn[lt=Cn[ut]],Ot=Un[lt],!Oi[lt]&&!A.deepEqual(At,Ot))if(A.deepEqual(At.source,Ot.source)&&A.deepEqual(At["source-layer"],Ot["source-layer"])&&A.deepEqual(At.type,Ot.type)){for(tn in kt(At.layout,Ot.layout,je,lt,null,Rt.setLayoutProperty),kt(At.paint,Ot.paint,je,lt,null,Rt.setPaintProperty),A.deepEqual(At.filter,Ot.filter)||je.push({command:Rt.setFilter,args:[lt,Ot.filter]}),A.deepEqual(At.minzoom,Ot.minzoom)&&A.deepEqual(At.maxzoom,Ot.maxzoom)||je.push({command:Rt.setLayerZoomRange,args:[lt,Ot.minzoom,Ot.maxzoom]}),At)At.hasOwnProperty(tn)&&"layout"!==tn&&"paint"!==tn&&"filter"!==tn&&"metadata"!==tn&&"minzoom"!==tn&&"maxzoom"!==tn&&(0===tn.indexOf("paint.")?kt(At[tn],Ot[tn],je,lt,tn.slice(6),Rt.setPaintProperty):A.deepEqual(At[tn],Ot[tn])||je.push({command:Rt.setLayerProperty,args:[lt,tn,Ot[tn]]}));for(tn in Ot)Ot.hasOwnProperty(tn)&&!At.hasOwnProperty(tn)&&"layout"!==tn&&"paint"!==tn&&"filter"!==tn&&"metadata"!==tn&&"minzoom"!==tn&&"maxzoom"!==tn&&(0===tn.indexOf("paint.")?kt(At[tn],Ot[tn],je,lt,tn.slice(6),Rt.setPaintProperty):A.deepEqual(At[tn],Ot[tn])||je.push({command:Rt.setLayerProperty,args:[lt,tn,Ot[tn]]}))}else je.push({command:Rt.removeLayer,args:[lt]}),rn=ci[ci.lastIndexOf(lt)+1],je.push({command:Rt.addLayer,args:[Ot,rn]})}(Se,z.layers,ie)}catch(ke){console.warn("Unable to compute style diff:",ke),ie=[{command:Rt.setStyle,args:[z]}]}return ie}(this.serialize(),p).filter(function(M){return!(M.command in hu)});if(0===C.length)return!1;var D=C.filter(function(M){return!(M.command in gc)});if(D.length>0)throw new Error("Unimplemented: "+D.map(function(M){return M.command}).join(", ")+".");return C.forEach(function(M){"setTransition"!==M.command&&_[M.command].apply(_,M.args)}),this.stylesheet=p,!0},f.prototype.addImage=function(p,_){if(this.getImage(p))return this.fire(new A.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(p,_),this._afterImageUpdated(p)},f.prototype.updateImage=function(p,_){this.imageManager.updateImage(p,_)},f.prototype.getImage=function(p){return this.imageManager.getImage(p)},f.prototype.removeImage=function(p){if(!this.getImage(p))return this.fire(new A.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(p),this._afterImageUpdated(p)},f.prototype._afterImageUpdated=function(p){this._availableImages=this.imageManager.listImages(),this._changedImages[p]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new A.Event("data",{dataType:"style"}))},f.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},f.prototype.addSource=function(p,_,C){var D=this;if(void 0===C&&(C={}),this._checkLoaded(),void 0!==this.sourceCaches[p])throw new Error("There is already a source with this ID");if(!_.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(_).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(_.type)>=0&&this._validate(A.validateStyle.source,"sources."+p,_,null,C))){this.map&&this.map._collectResourceTiming&&(_.collectResourceTiming=!0);var M=this.sourceCaches[p]=new Ve(p,_,this.dispatcher);M.style=this,M.setEventedParent(this,function(){return{isSourceLoaded:D.loaded(),source:M.serialize(),sourceId:p}}),M.onAdd(this.map),this._changed=!0}},f.prototype.removeSource=function(p){if(this._checkLoaded(),void 0===this.sourceCaches[p])throw new Error("There is no source with this ID");for(var _ in this._layers)if(this._layers[_].source===p)return this.fire(new A.ErrorEvent(new Error('Source "'+p+'" cannot be removed while layer "'+_+'" is using it.')));var C=this.sourceCaches[p];delete this.sourceCaches[p],delete this._updatedSources[p],C.fire(new A.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:p})),C.setEventedParent(null),C.clearTiles(),C.onRemove&&C.onRemove(this.map),this._changed=!0},f.prototype.setGeoJSONSourceData=function(p,_){this._checkLoaded(),this.sourceCaches[p].getSource().setData(_),this._changed=!0},f.prototype.getSource=function(p){return this.sourceCaches[p]&&this.sourceCaches[p].getSource()},f.prototype.addLayer=function(p,_,C){void 0===C&&(C={}),this._checkLoaded();var D=p.id;if(this.getLayer(D))this.fire(new A.ErrorEvent(new Error('Layer with id "'+D+'" already exists on this map')));else{var M;if("custom"===p.type){if(Vc(this,A.validateCustomStyleLayer(p)))return;M=A.createStyleLayer(p)}else{if("object"==typeof p.source&&(this.addSource(D,p.source),p=A.clone$1(p),p=A.extend(p,{source:D})),this._validate(A.validateStyle.layer,"layers."+D,p,{arrayIndex:-1},C))return;M=A.createStyleLayer(p),this._validateLayer(M),M.setEventedParent(this,{layer:{id:D}}),this._serializedLayers[M.id]=M.serialize()}var z=_?this._order.indexOf(_):this._order.length;if(_&&-1===z)this.fire(new A.ErrorEvent(new Error('Layer with id "'+_+'" does not exist on this map.')));else{if(this._order.splice(z,0,D),this._layerOrderChanged=!0,this._layers[D]=M,this._removedLayers[D]&&M.source&&"custom"!==M.type){var ie=this._removedLayers[D];delete this._removedLayers[D],ie.type!==M.type?this._updatedSources[M.source]="clear":(this._updatedSources[M.source]="reload",this.sourceCaches[M.source].pause())}this._updateLayer(M),M.onAdd&&M.onAdd(this.map)}}},f.prototype.moveLayer=function(p,_){if(this._checkLoaded(),this._changed=!0,this._layers[p]){if(p!==_){var C=this._order.indexOf(p);this._order.splice(C,1);var D=_?this._order.indexOf(_):this._order.length;_&&-1===D?this.fire(new A.ErrorEvent(new Error('Layer with id "'+_+'" does not exist on this map.'))):(this._order.splice(D,0,p),this._layerOrderChanged=!0)}}else this.fire(new A.ErrorEvent(new Error("The layer '"+p+"' does not exist in the map's style and cannot be moved.")))},f.prototype.removeLayer=function(p){this._checkLoaded();var _=this._layers[p];if(_){_.setEventedParent(null);var C=this._order.indexOf(p);this._order.splice(C,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[p]=_,delete this._layers[p],delete this._serializedLayers[p],delete this._updatedLayers[p],delete this._updatedPaintProps[p],_.onRemove&&_.onRemove(this.map)}else this.fire(new A.ErrorEvent(new Error("The layer '"+p+"' does not exist in the map's style and cannot be removed.")))},f.prototype.getLayer=function(p){return this._layers[p]},f.prototype.hasLayer=function(p){return p in this._layers},f.prototype.setLayerZoomRange=function(p,_,C){this._checkLoaded();var D=this.getLayer(p);D?D.minzoom===_&&D.maxzoom===C||(null!=_&&(D.minzoom=_),null!=C&&(D.maxzoom=C),this._updateLayer(D)):this.fire(new A.ErrorEvent(new Error("The layer '"+p+"' does not exist in the map's style and cannot have zoom extent.")))},f.prototype.setFilter=function(p,_,C){void 0===C&&(C={}),this._checkLoaded();var D=this.getLayer(p);if(D){if(!A.deepEqual(D.filter,_))return null==_?(D.filter=void 0,void this._updateLayer(D)):void(this._validate(A.validateStyle.filter,"layers."+D.id+".filter",_,null,C)||(D.filter=A.clone$1(_),this._updateLayer(D)))}else this.fire(new A.ErrorEvent(new Error("The layer '"+p+"' does not exist in the map's style and cannot be filtered.")))},f.prototype.getFilter=function(p){return A.clone$1(this.getLayer(p).filter)},f.prototype.setLayoutProperty=function(p,_,C,D){void 0===D&&(D={}),this._checkLoaded();var M=this.getLayer(p);M?A.deepEqual(M.getLayoutProperty(_),C)||(M.setLayoutProperty(_,C,D),this._updateLayer(M)):this.fire(new A.ErrorEvent(new Error("The layer '"+p+"' does not exist in the map's style and cannot be styled.")))},f.prototype.getLayoutProperty=function(p,_){var C=this.getLayer(p);if(C)return C.getLayoutProperty(_);this.fire(new A.ErrorEvent(new Error("The layer '"+p+"' does not exist in the map's style.")))},f.prototype.setPaintProperty=function(p,_,C,D){void 0===D&&(D={}),this._checkLoaded();var M=this.getLayer(p);M?A.deepEqual(M.getPaintProperty(_),C)||(M.setPaintProperty(_,C,D)&&this._updateLayer(M),this._changed=!0,this._updatedPaintProps[p]=!0):this.fire(new A.ErrorEvent(new Error("The layer '"+p+"' does not exist in the map's style and cannot be styled.")))},f.prototype.getPaintProperty=function(p,_){return this.getLayer(p).getPaintProperty(_)},f.prototype.setFeatureState=function(p,_){this._checkLoaded();var C=p.source,D=p.sourceLayer,M=this.sourceCaches[C];if(void 0!==M){var z=M.getSource().type;"geojson"===z&&D?this.fire(new A.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==z||D?(void 0===p.id&&this.fire(new A.ErrorEvent(new Error("The feature id parameter must be provided."))),M.setFeatureState(D,p.id,_)):this.fire(new A.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new A.ErrorEvent(new Error("The source '"+C+"' does not exist in the map's style.")))},f.prototype.removeFeatureState=function(p,_){this._checkLoaded();var C=p.source,D=this.sourceCaches[C];if(void 0!==D){var M=D.getSource().type,z="vector"===M?p.sourceLayer:void 0;"vector"!==M||z?_&&"string"!=typeof p.id&&"number"!=typeof p.id?this.fire(new A.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):D.removeFeatureState(z,p.id,_):this.fire(new A.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new A.ErrorEvent(new Error("The source '"+C+"' does not exist in the map's style.")))},f.prototype.getFeatureState=function(p){this._checkLoaded();var _=p.source,C=p.sourceLayer,D=this.sourceCaches[_];if(void 0!==D){if("vector"!==D.getSource().type||C)return void 0===p.id&&this.fire(new A.ErrorEvent(new Error("The feature id parameter must be provided."))),D.getFeatureState(C,p.id);this.fire(new A.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new A.ErrorEvent(new Error("The source '"+_+"' does not exist in the map's style.")))},f.prototype.getTransition=function(){return A.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},f.prototype.serialize=function(){return A.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:A.mapObject(this.sourceCaches,function(p){return p.serialize()}),layers:this._serializeLayers(this._order)},function(p){return void 0!==p})},f.prototype._updateLayer=function(p){this._updatedLayers[p.id]=!0,p.source&&!this._updatedSources[p.source]&&"raster"!==this.sourceCaches[p.source].getSource().type&&(this._updatedSources[p.source]="reload",this.sourceCaches[p.source].pause()),this._changed=!0},f.prototype._flattenAndSortRenderedFeatures=function(p){for(var _=this,C=function(wn){return"fill-extrusion"===_._layers[wn].type},D={},M=[],z=this._order.length-1;z>=0;z--){var ie=this._order[z];if(C(ie)){D[ie]=z;for(var ue=0,Ce=p;ue<Ce.length;ue+=1){var Se=Ce[ue][ie];if(Se)for(var ke=0,qe=Se;ke<qe.length;ke+=1)M.push(qe[ke])}}}M.sort(function(wn,Un){return Un.intersectionZ-wn.intersectionZ});for(var je=[],ut=this._order.length-1;ut>=0;ut--){var Ue=this._order[ut];if(C(Ue))for(var lt=M.length-1;lt>=0;lt--){var At=M[lt].feature;if(D[At.layer.id]<ut)break;je.push(At),M.pop()}else for(var Ot=0,rn=p;Ot<rn.length;Ot+=1){var tn=rn[Ot][Ue];if(tn)for(var un=0,Cn=tn;un<Cn.length;un+=1)je.push(Cn[un].feature)}}return je},f.prototype.queryRenderedFeatures=function(p,_,C){_&&_.filter&&this._validate(A.validateStyle.filter,"queryRenderedFeatures.filter",_.filter,null,_);var D={};if(_&&_.layers){if(!Array.isArray(_.layers))return this.fire(new A.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var M=0,z=_.layers;M<z.length;M+=1){var ie=z[M],ue=this._layers[ie];if(!ue)return this.fire(new A.ErrorEvent(new Error("The layer '"+ie+"' does not exist in the map's style and cannot be queried for features."))),[];D[ue.source]=!0}}var Ce=[];for(var Se in _.availableImages=this._availableImages,this.sourceCaches)_.layers&&!D[Se]||Ce.push(Wn(this.sourceCaches[Se],this._layers,this._serializedLayers,p,_,C));return this.placement&&Ce.push(function(ke,qe,je,ut,Ue,lt,At){for(var Ot={},rn=lt.queryRenderedSymbols(ut),tn=[],un=0,Cn=Object.keys(rn).map(Number);un<Cn.length;un+=1)tn.push(At[Cn[un]]);tn.sort(ei);for(var wn=function(){var Ni=ci[Un],Sr=Ni.featureIndex.lookupSymbolFeatures(rn[Ni.bucketInstanceId],qe,Ni.bucketIndex,Ni.sourceLayerIndex,Ue.filter,Ue.layers,Ue.availableImages,ke);for(var oi in Sr){var Ar=Ot[oi]=Ot[oi]||[],br=Sr[oi];br.sort(function(vr,Zi){var qi=Ni.featureSortOrder;if(qi){var hs=qi.indexOf(vr.featureIndex);return qi.indexOf(Zi.featureIndex)-hs}return Zi.featureIndex-vr.featureIndex});for(var er=0,tr=br;er<tr.length;er+=1)Ar.push(tr[er])}},Un=0,ci=tn;Un<ci.length;Un+=1)wn();var Oi=function(Ni){Ot[Ni].forEach(function(Sr){var oi=Sr.feature,Ar=je[ke[Ni].source].getFeatureState(oi.layer["source-layer"],oi.id);oi.source=oi.layer.source,oi.layer["source-layer"]&&(oi.sourceLayer=oi.layer["source-layer"]),oi.state=Ar})};for(var Qi in Ot)Oi(Qi);return Ot}(this._layers,this._serializedLayers,this.sourceCaches,p,_,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(Ce)},f.prototype.querySourceFeatures=function(p,_){_&&_.filter&&this._validate(A.validateStyle.filter,"querySourceFeatures.filter",_.filter,null,_);var C=this.sourceCaches[p];return C?function(D,M){for(var z=D.getRenderableIds().map(function(qe){return D.getTileByID(qe)}),ie=[],ue={},Ce=0;Ce<z.length;Ce++){var Se=z[Ce],ke=Se.tileID.canonical.key;ue[ke]||(ue[ke]=!0,Se.querySourceFeatures(ie,M))}return ie}(C,_):[]},f.prototype.addSourceType=function(p,_,C){return f.getSourceType(p)?C(new Error('A source type called "'+p+'" already exists.')):(f.setSourceType(p,_),_.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:p,url:_.workerSourceURL},C):C(null,null))},f.prototype.getLight=function(){return this.light.getLight()},f.prototype.setLight=function(p,_){void 0===_&&(_={}),this._checkLoaded();var C=this.light.getLight(),D=!1;for(var M in p)if(!A.deepEqual(p[M],C[M])){D=!0;break}if(D){var z={now:A.browser.now(),transition:A.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(p,_),this.light.updateTransitions(z)}},f.prototype._validate=function(p,_,C,D,M){return void 0===M&&(M={}),(!M||!1!==M.validate)&&Vc(this,p.call(A.validateStyle,A.extend({key:_,style:this.serialize(),value:C,styleSpec:A.styleSpec},D)))},f.prototype._remove=function(){for(var p in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),A.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[p].setEventedParent(null);for(var _ in this.sourceCaches)this.sourceCaches[_].clearTiles(),this.sourceCaches[_].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},f.prototype._clearSource=function(p){this.sourceCaches[p].clearTiles()},f.prototype._reloadSource=function(p){this.sourceCaches[p].resume(),this.sourceCaches[p].reload()},f.prototype._updateSources=function(p){for(var _ in this.sourceCaches)this.sourceCaches[_].update(p)},f.prototype._generateCollisionBoxes=function(){for(var p in this.sourceCaches)this._reloadSource(p)},f.prototype._updatePlacement=function(p,_,C,D,M){void 0===M&&(M=!1);for(var z=!1,ie=!1,ue={},Ce=0,Se=this._order;Ce<Se.length;Ce+=1){var ke=this._layers[Se[Ce]];if("symbol"===ke.type){if(!ue[ke.source]){var qe=this.sourceCaches[ke.source];ue[ke.source]=qe.getRenderableIds(!0).map(function(At){return qe.getTileByID(At)}).sort(function(At,Ot){return Ot.tileID.overscaledZ-At.tileID.overscaledZ||(At.tileID.isLessThan(Ot.tileID)?-1:1)})}var je=this.crossTileSymbolIndex.addLayer(ke,ue[ke.source],p.center.lng);z=z||je}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((M=M||this._layerOrderChanged||0===C)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(A.browser.now(),p.zoom))&&(this.pauseablePlacement=new lp(p,this._order,M,_,C,D,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,ue),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(A.browser.now()),ie=!0),z&&this.pauseablePlacement.placement.setStale()),ie||z)for(var ut=0,Ue=this._order;ut<Ue.length;ut+=1){var lt=this._layers[Ue[ut]];"symbol"===lt.type&&this.placement.updateLayerOpacities(lt,ue[lt.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(A.browser.now())},f.prototype._releaseSymbolFadeTiles=function(){for(var p in this.sourceCaches)this.sourceCaches[p].releaseSymbolFadeTiles()},f.prototype.getImages=function(p,_,C){this.imageManager.getImages(_.icons,C),this._updateTilesForChangedImages();var D=this.sourceCaches[_.source];D&&D.setDependencies(_.tileID.key,_.type,_.icons)},f.prototype.getGlyphs=function(p,_,C){this.glyphManager.getGlyphs(_.stacks,C)},f.prototype.getResource=function(p,_,C){return A.makeRequest(_,C)},f}(A.Evented);rl.getSourceType=function(h){return ki[h]},rl.setSourceType=function(h,f){ki[h]=f},rl.registerForPluginStateChange=A.registerForPluginStateChange;var ds=A.createLayout([{name:"a_pos",type:"Int16",components:2}]),Wd=Gr("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),up=Gr("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),dp=Gr("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),hp=Gr("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Ch=Gr("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),pp=Gr("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),Qc=Gr("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),_c=Gr("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),fp=Gr("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),nm=Gr("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),pu=Gr("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),$d=Gr("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),Nu=Gr("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),aA=Gr("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),qs=Gr("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),lA=Gr("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),Rl=Gr("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),fu=Gr("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),Uu=Gr("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),Au=Gr("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),ol=Gr("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),jc=Gr("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),Vu=Gr("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),Zl=Gr("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),im=Gr("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),Ap=Gr("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function Gr(h,f){var p=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,_=f.match(/attribute ([\w]+) ([\w]+)/g),C=h.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),D=f.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),M=D?D.concat(C):C,z={};return{fragmentSource:h=h.replace(p,function(ie,ue,Ce,Se,ke){return z[ke]=!0,"define"===ue?"\n#ifndef HAS_UNIFORM_u_"+ke+"\nvarying "+Ce+" "+Se+" "+ke+";\n#else\nuniform "+Ce+" "+Se+" u_"+ke+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+ke+"\n    "+Ce+" "+Se+" "+ke+" = u_"+ke+";\n#endif\n"}),vertexSource:f=f.replace(p,function(ie,ue,Ce,Se,ke){var qe="float"===Se?"vec2":"vec4",je=ke.match(/color/)?"color":qe;return z[ke]?"define"===ue?"\n#ifndef HAS_UNIFORM_u_"+ke+"\nuniform lowp float u_"+ke+"_t;\nattribute "+Ce+" "+qe+" a_"+ke+";\nvarying "+Ce+" "+Se+" "+ke+";\n#else\nuniform "+Ce+" "+Se+" u_"+ke+";\n#endif\n":"vec4"===je?"\n#ifndef HAS_UNIFORM_u_"+ke+"\n    "+ke+" = a_"+ke+";\n#else\n    "+Ce+" "+Se+" "+ke+" = u_"+ke+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+ke+"\n    "+ke+" = unpack_mix_"+je+"(a_"+ke+", u_"+ke+"_t);\n#else\n    "+Ce+" "+Se+" "+ke+" = u_"+ke+";\n#endif\n":"define"===ue?"\n#ifndef HAS_UNIFORM_u_"+ke+"\nuniform lowp float u_"+ke+"_t;\nattribute "+Ce+" "+qe+" a_"+ke+";\n#else\nuniform "+Ce+" "+Se+" u_"+ke+";\n#endif\n":"vec4"===je?"\n#ifndef HAS_UNIFORM_u_"+ke+"\n    "+Ce+" "+Se+" "+ke+" = a_"+ke+";\n#else\n    "+Ce+" "+Se+" "+ke+" = u_"+ke+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+ke+"\n    "+Ce+" "+Se+" "+ke+" = unpack_mix_"+je+"(a_"+ke+", u_"+ke+"_t);\n#else\n    "+Ce+" "+Se+" "+ke+" = u_"+ke+";\n#endif\n"}),staticAttributes:_,staticUniforms:M}}var _d=Object.freeze({__proto__:null,prelude:Wd,background:up,backgroundPattern:dp,circle:hp,clippingMask:Ch,heatmap:pp,heatmapTexture:Qc,collisionBox:_c,collisionCircle:fp,debug:nm,fill:pu,fillOutline:$d,fillOutlinePattern:Nu,fillPattern:aA,fillExtrusion:qs,fillExtrusionPattern:lA,hillshadePrepare:Rl,hillshade:fu,line:Uu,lineGradient:Au,linePattern:ol,lineSDF:jc,raster:Vu,symbolIcon:Zl,symbolSDF:im,symbolTextAndIcon:Ap}),Qu=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function mp(h){for(var f=[],p=0;p<h.length;p++)if(null!==h[p]){var _=h[p].split(" ");f.push(_.pop())}return f}Qu.prototype.bind=function(h,f,p,_,C,D,M,z){this.context=h;for(var ie=this.boundPaintVertexBuffers.length!==_.length,ue=0;!ie&&ue<_.length;ue++)this.boundPaintVertexBuffers[ue]!==_[ue]&&(ie=!0);h.extVertexArrayObject&&this.vao&&this.boundProgram===f&&this.boundLayoutVertexBuffer===p&&!ie&&this.boundIndexBuffer===C&&this.boundVertexOffset===D&&this.boundDynamicVertexBuffer===M&&this.boundDynamicVertexBuffer2===z?(h.bindVertexArrayOES.set(this.vao),M&&M.bind(),C&&C.dynamicDraw&&C.bind(),z&&z.bind()):this.freshBind(f,p,_,C,D,M,z)},Qu.prototype.freshBind=function(h,f,p,_,C,D,M){var z,ie=h.numAttributes,ue=this.context,Ce=ue.gl;if(ue.extVertexArrayObject)this.vao&&this.destroy(),this.vao=ue.extVertexArrayObject.createVertexArrayOES(),ue.bindVertexArrayOES.set(this.vao),z=0,this.boundProgram=h,this.boundLayoutVertexBuffer=f,this.boundPaintVertexBuffers=p,this.boundIndexBuffer=_,this.boundVertexOffset=C,this.boundDynamicVertexBuffer=D,this.boundDynamicVertexBuffer2=M;else{z=ue.currentNumAttributes||0;for(var Se=ie;Se<z;Se++)Ce.disableVertexAttribArray(Se)}f.enableAttributes(Ce,h);for(var ke=0,qe=p;ke<qe.length;ke+=1)qe[ke].enableAttributes(Ce,h);D&&D.enableAttributes(Ce,h),M&&M.enableAttributes(Ce,h),f.bind(),f.setVertexAttribPointers(Ce,h,C);for(var je=0,ut=p;je<ut.length;je+=1){var Ue=ut[je];Ue.bind(),Ue.setVertexAttribPointers(Ce,h,C)}D&&(D.bind(),D.setVertexAttribPointers(Ce,h,C)),_&&_.bind(),M&&(M.bind(),M.setVertexAttribPointers(Ce,h,C)),ue.currentNumAttributes=ie},Qu.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var gp=function(h,f,p,_,C,D){var M=h.gl;this.program=M.createProgram();for(var z=mp(p.staticAttributes),ie=_?_.getBinderAttributes():[],ue=z.concat(ie),Ce=p.staticUniforms?mp(p.staticUniforms):[],Se=_?_.getBinderUniforms():[],ke=[],qe=0,je=Ce.concat(Se);qe<je.length;qe+=1){var ut=je[qe];ke.indexOf(ut)<0&&ke.push(ut)}var Ue=_?_.defines():[];D&&Ue.push("#define OVERDRAW_INSPECTOR;");var lt=Ue.concat(Wd.fragmentSource,p.fragmentSource).join("\n"),At=Ue.concat(Wd.vertexSource,p.vertexSource).join("\n"),Ot=M.createShader(M.FRAGMENT_SHADER);if(M.isContextLost())this.failedToCreate=!0;else{M.shaderSource(Ot,lt),M.compileShader(Ot),M.attachShader(this.program,Ot);var rn=M.createShader(M.VERTEX_SHADER);if(M.isContextLost())this.failedToCreate=!0;else{M.shaderSource(rn,At),M.compileShader(rn),M.attachShader(this.program,rn),this.attributes={};var tn={};this.numAttributes=ue.length;for(var un=0;un<this.numAttributes;un++)ue[un]&&(M.bindAttribLocation(this.program,un,ue[un]),this.attributes[ue[un]]=un);M.linkProgram(this.program),M.deleteShader(rn),M.deleteShader(Ot);for(var Cn=0;Cn<ke.length;Cn++){var wn=ke[Cn];if(wn&&!tn[wn]){var Un=M.getUniformLocation(this.program,wn);Un&&(tn[wn]=Un)}}this.fixedUniforms=C(h,tn),this.binderUniforms=_?_.getUniforms(h,tn):[]}}};function Ih(h,f,p){var _=1/No(p,1,f.transform.tileZoom),C=Math.pow(2,p.tileID.overscaledZ),D=p.tileSize*Math.pow(2,f.transform.tileZoom)/C,M=D*(p.tileID.canonical.x+p.tileID.wrap*C),z=D*p.tileID.canonical.y;return{u_image:0,u_texsize:p.imageAtlasTexture.size,u_scale:[_,h.fromScale,h.toScale],u_fade:h.t,u_pixel_coord_upper:[M>>16,z>>16],u_pixel_coord_lower:[65535&M,65535&z]}}gp.prototype.draw=function(h,f,p,_,C,D,M,z,ie,ue,Ce,Se,ke,qe,je,ut){var Ue,lt=h.gl;if(!this.failedToCreate){for(var At in h.program.set(this.program),h.setDepthMode(p),h.setStencilMode(_),h.setColorMode(C),h.setCullFace(D),this.fixedUniforms)this.fixedUniforms[At].set(M[At]);qe&&qe.setUniforms(h,this.binderUniforms,Se,{zoom:ke});for(var Ot=(Ue={},Ue[lt.LINES]=2,Ue[lt.TRIANGLES]=3,Ue[lt.LINE_STRIP]=1,Ue)[f],rn=0,tn=Ce.get();rn<tn.length;rn+=1){var un=tn[rn],Cn=un.vaos||(un.vaos={});(Cn[z]||(Cn[z]=new Qu)).bind(h,this,ie,qe?qe.getPaintVertexBuffers():[],ue,un.vertexOffset,je,ut),lt.drawElements(f,un.primitiveLength*Ot,lt.UNSIGNED_SHORT,un.primitiveOffset*Ot*2)}}};var rm=function(h,f,p,_){var C=f.style.light,D=C.properties.get("position"),M=[D.x,D.y,D.z],z=A.create$1();"viewport"===C.properties.get("anchor")&&A.fromRotation(z,-f.transform.angle),A.transformMat3(M,M,z);var ie=C.properties.get("color");return{u_matrix:h,u_lightpos:M,u_lightintensity:C.properties.get("intensity"),u_lightcolor:[ie.r,ie.g,ie.b],u_vertical_gradient:+p,u_opacity:_}},Jl=function(h,f,p,_,C,D,M){return A.extend(rm(h,f,p,_),Ih(D,f,M),{u_height_factor:-Math.pow(2,C.overscaledZ)/M.tileSize/8})},ju=function(h){return{u_matrix:h}},vc=function(h,f,p,_){return A.extend(ju(h),Ih(p,f,_))},af=function(h,f){return{u_matrix:h,u_world:f}},mu=function(h,f,p,_,C){return A.extend(vc(h,f,p,_),{u_world:C})},Th=function(h,f,p,_){var C,D,M=h.transform;if("map"===_.paint.get("circle-pitch-alignment")){var z=No(p,1,M.zoom);C=!0,D=[z,z]}else C=!1,D=M.pixelsToGLUnits;return{u_camera_to_center_distance:M.cameraToCenterDistance,u_scale_with_map:+("map"===_.paint.get("circle-pitch-scale")),u_matrix:h.translatePosMatrix(f.posMatrix,p,_.paint.get("circle-translate"),_.paint.get("circle-translate-anchor")),u_pitch_with_map:+C,u_device_pixel_ratio:A.browser.devicePixelRatio,u_extrude_scale:D}},va=function(h,f,p){var _=No(p,1,f.zoom),C=Math.pow(2,f.zoom-p.tileID.overscaledZ),D=p.tileID.overscaleFactor();return{u_matrix:h,u_camera_to_center_distance:f.cameraToCenterDistance,u_pixels_to_tile_units:_,u_extrude_scale:[f.pixelsToGLUnits[0]/(_*C),f.pixelsToGLUnits[1]/(_*C)],u_overscale_factor:D}},_p=function(h,f,p){return{u_matrix:h,u_inv_matrix:f,u_camera_to_center_distance:p.cameraToCenterDistance,u_viewport_size:[p.width,p.height]}},zc=function(h,f,p){return void 0===p&&(p=1),{u_matrix:h,u_color:f,u_overlay:0,u_overlay_scale:p}},sl=function(h){return{u_matrix:h}},Xd=function(h,f,p,_){return{u_matrix:h,u_extrude_scale:No(f,1,p),u_intensity:_}},Ks=function(h,f,p){var _=h.transform;return{u_matrix:cf(h,f,p),u_ratio:1/No(f,1,_.zoom),u_device_pixel_ratio:A.browser.devicePixelRatio,u_units_to_pixels:[1/_.pixelsToGLUnits[0],1/_.pixelsToGLUnits[1]]}},Ro=function(h,f,p,_){return A.extend(Ks(h,f,p),{u_image:0,u_image_height:_})},vp=function(h,f,p,_){var C=h.transform,D=zu(f,C);return{u_matrix:cf(h,f,p),u_texsize:f.imageAtlasTexture.size,u_ratio:1/No(f,1,C.zoom),u_device_pixel_ratio:A.browser.devicePixelRatio,u_image:0,u_scale:[D,_.fromScale,_.toScale],u_fade:_.t,u_units_to_pixels:[1/C.pixelsToGLUnits[0],1/C.pixelsToGLUnits[1]]}},lf=function(h,f,p,_,C){var D=h.lineAtlas,M=zu(f,h.transform),z="round"===p.layout.get("line-cap"),ie=D.getDash(_.from,z),ue=D.getDash(_.to,z),Ce=ie.width*C.fromScale,Se=ue.width*C.toScale;return A.extend(Ks(h,f,p),{u_patternscale_a:[M/Ce,-ie.height/2],u_patternscale_b:[M/Se,-ue.height/2],u_sdfgamma:D.width/(256*Math.min(Ce,Se)*A.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:ie.y,u_tex_y_b:ue.y,u_mix:C.t})};function zu(h,f){return 1/No(h,1,f.tileZoom)}function cf(h,f,p){return h.translatePosMatrix(f.tileID.posMatrix,f,p.paint.get("line-translate"),p.paint.get("line-translate-anchor"))}var uf=function(h,f,p,_,C){return{u_matrix:h,u_tl_parent:f,u_scale_parent:p,u_buffer_scale:1,u_fade_t:_.mix,u_opacity:_.opacity*C.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:C.paint.get("raster-brightness-min"),u_brightness_high:C.paint.get("raster-brightness-max"),u_saturation_factor:(M=C.paint.get("raster-saturation"),M>0?1-1/(1.001-M):-M),u_contrast_factor:(D=C.paint.get("raster-contrast"),D>0?1/(1-D):1+D),u_spin_weights:df(C.paint.get("raster-hue-rotate"))};var D,M};function df(h){h*=Math.PI/180;var f=Math.sin(h),p=Math.cos(h);return[(2*p+1)/3,(-Math.sqrt(3)*f-p+1)/3,(Math.sqrt(3)*f-p+1)/3]}var yp,vd=function(h,f,p,_,C,D,M,z,ie,ue){var Ce=C.transform;return{u_is_size_zoom_constant:+("constant"===h||"source"===h),u_is_size_feature_constant:+("constant"===h||"camera"===h),u_size_t:f?f.uSizeT:0,u_size:f?f.uSize:0,u_camera_to_center_distance:Ce.cameraToCenterDistance,u_pitch:Ce.pitch/360*2*Math.PI,u_rotate_symbol:+p,u_aspect_ratio:Ce.width/Ce.height,u_fade_change:C.options.fadeDuration?C.symbolFadeChange:1,u_matrix:D,u_label_plane_matrix:M,u_coord_matrix:z,u_is_text:+ie,u_pitch_with_map:+_,u_texsize:ue,u_texture:0}},Gu=function(h,f,p,_,C,D,M,z,ie,ue,Ce){var Se=C.transform;return A.extend(vd(h,f,p,_,C,D,M,z,ie,ue),{u_gamma_scale:_?Math.cos(Se._pitch)*Se.cameraToCenterDistance:1,u_device_pixel_ratio:A.browser.devicePixelRatio,u_is_halo:+Ce})},an=function(h,f,p,_,C,D,M,z,ie,ue){return A.extend(Gu(h,f,p,_,C,D,M,z,!0,ie,!0),{u_texsize_icon:ue,u_texture_icon:1})},Ml=function(h,f,p){return{u_matrix:h,u_opacity:f,u_color:p}},yc=function(h,f,p,_,C,D){return A.extend((z=D,ue=C,Ce=(ie=p).imageManager.getPattern((M=_).from.toString()),Se=ie.imageManager.getPattern(M.to.toString()),qe=(ke=ie.imageManager.getPixelSize()).width,je=ke.height,ut=Math.pow(2,ue.tileID.overscaledZ),lt=(Ue=ue.tileSize*Math.pow(2,ie.transform.tileZoom)/ut)*(ue.tileID.canonical.x+ue.tileID.wrap*ut),At=Ue*ue.tileID.canonical.y,{u_image:0,u_pattern_tl_a:Ce.tl,u_pattern_br_a:Ce.br,u_pattern_tl_b:Se.tl,u_pattern_br_b:Se.br,u_texsize:[qe,je],u_mix:z.t,u_pattern_size_a:Ce.displaySize,u_pattern_size_b:Se.displaySize,u_scale_a:z.fromScale,u_scale_b:z.toScale,u_tile_units_to_pixels:1/No(ue,1,ie.transform.tileZoom),u_pixel_coord_upper:[lt>>16,At>>16],u_pixel_coord_lower:[65535&lt,65535&At]}),{u_matrix:h,u_opacity:f});var M,z,ie,ue,Ce,Se,ke,qe,je,ut,Ue,lt,At},Sh={fillExtrusion:function(h,f){return{u_matrix:new A.UniformMatrix4f(h,f.u_matrix),u_lightpos:new A.Uniform3f(h,f.u_lightpos),u_lightintensity:new A.Uniform1f(h,f.u_lightintensity),u_lightcolor:new A.Uniform3f(h,f.u_lightcolor),u_vertical_gradient:new A.Uniform1f(h,f.u_vertical_gradient),u_opacity:new A.Uniform1f(h,f.u_opacity)}},fillExtrusionPattern:function(h,f){return{u_matrix:new A.UniformMatrix4f(h,f.u_matrix),u_lightpos:new A.Uniform3f(h,f.u_lightpos),u_lightintensity:new A.Uniform1f(h,f.u_lightintensity),u_lightcolor:new A.Uniform3f(h,f.u_lightcolor),u_vertical_gradient:new A.Uniform1f(h,f.u_vertical_gradient),u_height_factor:new A.Uniform1f(h,f.u_height_factor),u_image:new A.Uniform1i(h,f.u_image),u_texsize:new A.Uniform2f(h,f.u_texsize),u_pixel_coord_upper:new A.Uniform2f(h,f.u_pixel_coord_upper),u_pixel_coord_lower:new A.Uniform2f(h,f.u_pixel_coord_lower),u_scale:new A.Uniform3f(h,f.u_scale),u_fade:new A.Uniform1f(h,f.u_fade),u_opacity:new A.Uniform1f(h,f.u_opacity)}},fill:function(h,f){return{u_matrix:new A.UniformMatrix4f(h,f.u_matrix)}},fillPattern:function(h,f){return{u_matrix:new A.UniformMatrix4f(h,f.u_matrix),u_image:new A.Uniform1i(h,f.u_image),u_texsize:new A.Uniform2f(h,f.u_texsize),u_pixel_coord_upper:new A.Uniform2f(h,f.u_pixel_coord_upper),u_pixel_coord_lower:new A.Uniform2f(h,f.u_pixel_coord_lower),u_scale:new A.Uniform3f(h,f.u_scale),u_fade:new A.Uniform1f(h,f.u_fade)}},fillOutline:function(h,f){return{u_matrix:new A.UniformMatrix4f(h,f.u_matrix),u_world:new A.Uniform2f(h,f.u_world)}},fillOutlinePattern:function(h,f){return{u_matrix:new A.UniformMatrix4f(h,f.u_matrix),u_world:new A.Uniform2f(h,f.u_world),u_image:new A.Uniform1i(h,f.u_image),u_texsize:new A.Uniform2f(h,f.u_texsize),u_pixel_coord_upper:new A.Uniform2f(h,f.u_pixel_coord_upper),u_pixel_coord_lower:new A.Uniform2f(h,f.u_pixel_coord_lower),u_scale:new A.Uniform3f(h,f.u_scale),u_fade:new A.Uniform1f(h,f.u_fade)}},circle:function(h,f){return{u_camera_to_center_distance:new A.Uniform1f(h,f.u_camera_to_center_distance),u_scale_with_map:new A.Uniform1i(h,f.u_scale_with_map),u_pitch_with_map:new A.Uniform1i(h,f.u_pitch_with_map),u_extrude_scale:new A.Uniform2f(h,f.u_extrude_scale),u_device_pixel_ratio:new A.Uniform1f(h,f.u_device_pixel_ratio),u_matrix:new A.UniformMatrix4f(h,f.u_matrix)}},collisionBox:function(h,f){return{u_matrix:new A.UniformMatrix4f(h,f.u_matrix),u_camera_to_center_distance:new A.Uniform1f(h,f.u_camera_to_center_distance),u_pixels_to_tile_units:new A.Uniform1f(h,f.u_pixels_to_tile_units),u_extrude_scale:new A.Uniform2f(h,f.u_extrude_scale),u_overscale_factor:new A.Uniform1f(h,f.u_overscale_factor)}},collisionCircle:function(h,f){return{u_matrix:new A.UniformMatrix4f(h,f.u_matrix),u_inv_matrix:new A.UniformMatrix4f(h,f.u_inv_matrix),u_camera_to_center_distance:new A.Uniform1f(h,f.u_camera_to_center_distance),u_viewport_size:new A.Uniform2f(h,f.u_viewport_size)}},debug:function(h,f){return{u_color:new A.UniformColor(h,f.u_color),u_matrix:new A.UniformMatrix4f(h,f.u_matrix),u_overlay:new A.Uniform1i(h,f.u_overlay),u_overlay_scale:new A.Uniform1f(h,f.u_overlay_scale)}},clippingMask:function(h,f){return{u_matrix:new A.UniformMatrix4f(h,f.u_matrix)}},heatmap:function(h,f){return{u_extrude_scale:new A.Uniform1f(h,f.u_extrude_scale),u_intensity:new A.Uniform1f(h,f.u_intensity),u_matrix:new A.UniformMatrix4f(h,f.u_matrix)}},heatmapTexture:function(h,f){return{u_matrix:new A.UniformMatrix4f(h,f.u_matrix),u_world:new A.Uniform2f(h,f.u_world),u_image:new A.Uniform1i(h,f.u_image),u_color_ramp:new A.Uniform1i(h,f.u_color_ramp),u_opacity:new A.Uniform1f(h,f.u_opacity)}},hillshade:function(h,f){return{u_matrix:new A.UniformMatrix4f(h,f.u_matrix),u_image:new A.Uniform1i(h,f.u_image),u_latrange:new A.Uniform2f(h,f.u_latrange),u_light:new A.Uniform2f(h,f.u_light),u_shadow:new A.UniformColor(h,f.u_shadow),u_highlight:new A.UniformColor(h,f.u_highlight),u_accent:new A.UniformColor(h,f.u_accent)}},hillshadePrepare:function(h,f){return{u_matrix:new A.UniformMatrix4f(h,f.u_matrix),u_image:new A.Uniform1i(h,f.u_image),u_dimension:new A.Uniform2f(h,f.u_dimension),u_zoom:new A.Uniform1f(h,f.u_zoom),u_unpack:new A.Uniform4f(h,f.u_unpack)}},line:function(h,f){return{u_matrix:new A.UniformMatrix4f(h,f.u_matrix),u_ratio:new A.Uniform1f(h,f.u_ratio),u_device_pixel_ratio:new A.Uniform1f(h,f.u_device_pixel_ratio),u_units_to_pixels:new A.Uniform2f(h,f.u_units_to_pixels)}},lineGradient:function(h,f){return{u_matrix:new A.UniformMatrix4f(h,f.u_matrix),u_ratio:new A.Uniform1f(h,f.u_ratio),u_device_pixel_ratio:new A.Uniform1f(h,f.u_device_pixel_ratio),u_units_to_pixels:new A.Uniform2f(h,f.u_units_to_pixels),u_image:new A.Uniform1i(h,f.u_image),u_image_height:new A.Uniform1f(h,f.u_image_height)}},linePattern:function(h,f){return{u_matrix:new A.UniformMatrix4f(h,f.u_matrix),u_texsize:new A.Uniform2f(h,f.u_texsize),u_ratio:new A.Uniform1f(h,f.u_ratio),u_device_pixel_ratio:new A.Uniform1f(h,f.u_device_pixel_ratio),u_image:new A.Uniform1i(h,f.u_image),u_units_to_pixels:new A.Uniform2f(h,f.u_units_to_pixels),u_scale:new A.Uniform3f(h,f.u_scale),u_fade:new A.Uniform1f(h,f.u_fade)}},lineSDF:function(h,f){return{u_matrix:new A.UniformMatrix4f(h,f.u_matrix),u_ratio:new A.Uniform1f(h,f.u_ratio),u_device_pixel_ratio:new A.Uniform1f(h,f.u_device_pixel_ratio),u_units_to_pixels:new A.Uniform2f(h,f.u_units_to_pixels),u_patternscale_a:new A.Uniform2f(h,f.u_patternscale_a),u_patternscale_b:new A.Uniform2f(h,f.u_patternscale_b),u_sdfgamma:new A.Uniform1f(h,f.u_sdfgamma),u_image:new A.Uniform1i(h,f.u_image),u_tex_y_a:new A.Uniform1f(h,f.u_tex_y_a),u_tex_y_b:new A.Uniform1f(h,f.u_tex_y_b),u_mix:new A.Uniform1f(h,f.u_mix)}},raster:function(h,f){return{u_matrix:new A.UniformMatrix4f(h,f.u_matrix),u_tl_parent:new A.Uniform2f(h,f.u_tl_parent),u_scale_parent:new A.Uniform1f(h,f.u_scale_parent),u_buffer_scale:new A.Uniform1f(h,f.u_buffer_scale),u_fade_t:new A.Uniform1f(h,f.u_fade_t),u_opacity:new A.Uniform1f(h,f.u_opacity),u_image0:new A.Uniform1i(h,f.u_image0),u_image1:new A.Uniform1i(h,f.u_image1),u_brightness_low:new A.Uniform1f(h,f.u_brightness_low),u_brightness_high:new A.Uniform1f(h,f.u_brightness_high),u_saturation_factor:new A.Uniform1f(h,f.u_saturation_factor),u_contrast_factor:new A.Uniform1f(h,f.u_contrast_factor),u_spin_weights:new A.Uniform3f(h,f.u_spin_weights)}},symbolIcon:function(h,f){return{u_is_size_zoom_constant:new A.Uniform1i(h,f.u_is_size_zoom_constant),u_is_size_feature_constant:new A.Uniform1i(h,f.u_is_size_feature_constant),u_size_t:new A.Uniform1f(h,f.u_size_t),u_size:new A.Uniform1f(h,f.u_size),u_camera_to_center_distance:new A.Uniform1f(h,f.u_camera_to_center_distance),u_pitch:new A.Uniform1f(h,f.u_pitch),u_rotate_symbol:new A.Uniform1i(h,f.u_rotate_symbol),u_aspect_ratio:new A.Uniform1f(h,f.u_aspect_ratio),u_fade_change:new A.Uniform1f(h,f.u_fade_change),u_matrix:new A.UniformMatrix4f(h,f.u_matrix),u_label_plane_matrix:new A.UniformMatrix4f(h,f.u_label_plane_matrix),u_coord_matrix:new A.UniformMatrix4f(h,f.u_coord_matrix),u_is_text:new A.Uniform1i(h,f.u_is_text),u_pitch_with_map:new A.Uniform1i(h,f.u_pitch_with_map),u_texsize:new A.Uniform2f(h,f.u_texsize),u_texture:new A.Uniform1i(h,f.u_texture)}},symbolSDF:function(h,f){return{u_is_size_zoom_constant:new A.Uniform1i(h,f.u_is_size_zoom_constant),u_is_size_feature_constant:new A.Uniform1i(h,f.u_is_size_feature_constant),u_size_t:new A.Uniform1f(h,f.u_size_t),u_size:new A.Uniform1f(h,f.u_size),u_camera_to_center_distance:new A.Uniform1f(h,f.u_camera_to_center_distance),u_pitch:new A.Uniform1f(h,f.u_pitch),u_rotate_symbol:new A.Uniform1i(h,f.u_rotate_symbol),u_aspect_ratio:new A.Uniform1f(h,f.u_aspect_ratio),u_fade_change:new A.Uniform1f(h,f.u_fade_change),u_matrix:new A.UniformMatrix4f(h,f.u_matrix),u_label_plane_matrix:new A.UniformMatrix4f(h,f.u_label_plane_matrix),u_coord_matrix:new A.UniformMatrix4f(h,f.u_coord_matrix),u_is_text:new A.Uniform1i(h,f.u_is_text),u_pitch_with_map:new A.Uniform1i(h,f.u_pitch_with_map),u_texsize:new A.Uniform2f(h,f.u_texsize),u_texture:new A.Uniform1i(h,f.u_texture),u_gamma_scale:new A.Uniform1f(h,f.u_gamma_scale),u_device_pixel_ratio:new A.Uniform1f(h,f.u_device_pixel_ratio),u_is_halo:new A.Uniform1i(h,f.u_is_halo)}},symbolTextAndIcon:function(h,f){return{u_is_size_zoom_constant:new A.Uniform1i(h,f.u_is_size_zoom_constant),u_is_size_feature_constant:new A.Uniform1i(h,f.u_is_size_feature_constant),u_size_t:new A.Uniform1f(h,f.u_size_t),u_size:new A.Uniform1f(h,f.u_size),u_camera_to_center_distance:new A.Uniform1f(h,f.u_camera_to_center_distance),u_pitch:new A.Uniform1f(h,f.u_pitch),u_rotate_symbol:new A.Uniform1i(h,f.u_rotate_symbol),u_aspect_ratio:new A.Uniform1f(h,f.u_aspect_ratio),u_fade_change:new A.Uniform1f(h,f.u_fade_change),u_matrix:new A.UniformMatrix4f(h,f.u_matrix),u_label_plane_matrix:new A.UniformMatrix4f(h,f.u_label_plane_matrix),u_coord_matrix:new A.UniformMatrix4f(h,f.u_coord_matrix),u_is_text:new A.Uniform1i(h,f.u_is_text),u_pitch_with_map:new A.Uniform1i(h,f.u_pitch_with_map),u_texsize:new A.Uniform2f(h,f.u_texsize),u_texsize_icon:new A.Uniform2f(h,f.u_texsize_icon),u_texture:new A.Uniform1i(h,f.u_texture),u_texture_icon:new A.Uniform1i(h,f.u_texture_icon),u_gamma_scale:new A.Uniform1f(h,f.u_gamma_scale),u_device_pixel_ratio:new A.Uniform1f(h,f.u_device_pixel_ratio),u_is_halo:new A.Uniform1i(h,f.u_is_halo)}},background:function(h,f){return{u_matrix:new A.UniformMatrix4f(h,f.u_matrix),u_opacity:new A.Uniform1f(h,f.u_opacity),u_color:new A.UniformColor(h,f.u_color)}},backgroundPattern:function(h,f){return{u_matrix:new A.UniformMatrix4f(h,f.u_matrix),u_opacity:new A.Uniform1f(h,f.u_opacity),u_image:new A.Uniform1i(h,f.u_image),u_pattern_tl_a:new A.Uniform2f(h,f.u_pattern_tl_a),u_pattern_br_a:new A.Uniform2f(h,f.u_pattern_br_a),u_pattern_tl_b:new A.Uniform2f(h,f.u_pattern_tl_b),u_pattern_br_b:new A.Uniform2f(h,f.u_pattern_br_b),u_texsize:new A.Uniform2f(h,f.u_texsize),u_mix:new A.Uniform1f(h,f.u_mix),u_pattern_size_a:new A.Uniform2f(h,f.u_pattern_size_a),u_pattern_size_b:new A.Uniform2f(h,f.u_pattern_size_b),u_scale_a:new A.Uniform1f(h,f.u_scale_a),u_scale_b:new A.Uniform1f(h,f.u_scale_b),u_pixel_coord_upper:new A.Uniform2f(h,f.u_pixel_coord_upper),u_pixel_coord_lower:new A.Uniform2f(h,f.u_pixel_coord_lower),u_tile_units_to_pixels:new A.Uniform1f(h,f.u_tile_units_to_pixels)}}};function yd(h,f,p,_,C,D,M){for(var z=h.context,ie=z.gl,ue=h.useProgram("collisionBox"),Ce=[],Se=0,ke=0,qe=0;qe<_.length;qe++){var je=_[qe],ut=f.getTile(je),Ue=ut.getBucket(p);if(Ue){var lt=je.posMatrix;0===C[0]&&0===C[1]||(lt=h.translatePosMatrix(je.posMatrix,ut,C,D));var At=M?Ue.textCollisionBox:Ue.iconCollisionBox,Ot=Ue.collisionCircleArray;if(Ot.length>0){var rn=A.create(),tn=lt;A.mul(rn,Ue.placementInvProjMatrix,h.transform.glCoordMatrix),A.mul(rn,rn,Ue.placementViewportMatrix),Ce.push({circleArray:Ot,circleOffset:ke,transform:tn,invTransform:rn}),ke=Se+=Ot.length/4}At&&ue.draw(z,ie.LINES,he.disabled,de.disabled,h.colorModeForRenderPass(),Qe.disabled,va(lt,h.transform,ut),p.id,At.layoutVertexBuffer,At.indexBuffer,At.segments,null,h.transform.zoom,null,null,At.collisionVertexBuffer)}}if(M&&Ce.length){var un=h.useProgram("collisionCircle"),Cn=new A.StructArrayLayout2f1f2i16;Cn.resize(4*Se),Cn._trim();for(var wn=0,Un=0,ci=Ce;Un<ci.length;Un+=1)for(var Oi=ci[Un],Qi=0;Qi<Oi.circleArray.length/4;Qi++){var Ni=4*Qi,Sr=Oi.circleArray[Ni+0],oi=Oi.circleArray[Ni+1],Ar=Oi.circleArray[Ni+2],br=Oi.circleArray[Ni+3];Cn.emplace(wn++,Sr,oi,Ar,br,0),Cn.emplace(wn++,Sr,oi,Ar,br,1),Cn.emplace(wn++,Sr,oi,Ar,br,2),Cn.emplace(wn++,Sr,oi,Ar,br,3)}(!yp||yp.length<2*Se)&&(yp=function(ss){var ll=2*ss,Ma=new A.StructArrayLayout3ui6;Ma.resize(ll),Ma._trim();for(var bo=0;bo<ll;bo++){var ws=6*bo;Ma.uint16[ws+0]=4*bo+0,Ma.uint16[ws+1]=4*bo+1,Ma.uint16[ws+2]=4*bo+2,Ma.uint16[ws+3]=4*bo+2,Ma.uint16[ws+4]=4*bo+3,Ma.uint16[ws+5]=4*bo+0}return Ma}(Se));for(var er=z.createIndexBuffer(yp,!0),tr=z.createVertexBuffer(Cn,A.collisionCircleLayout.members,!0),vr=0,Zi=Ce;vr<Zi.length;vr+=1){var qi=Zi[vr],hs=_p(qi.transform,qi.invTransform,h.transform);un.draw(z,ie.TRIANGLES,he.disabled,de.disabled,h.colorModeForRenderPass(),Qe.disabled,hs,p.id,tr,er,A.SegmentVector.simpleSegment(0,2*qi.circleOffset,qi.circleArray.length,qi.circleArray.length/2),null,h.transform.zoom,null,null,null)}tr.destroy(),er.destroy()}}var bc=A.identity(new Float32Array(16));function Gc(h,f,p,_,C,D){var M=A.getAnchorAlignment(h),z=-(M.horizontalAlign-.5)*f,ie=-(M.verticalAlign-.5)*p,ue=A.evaluateVariableOffset(h,_);return new A.Point((z/C+ue[0])*D,(ie/C+ue[1])*D)}function Da(h,f,p,_,C,D,M,z,ie,ue,Ce){var Se=h.text.placedSymbolArray,ke=h.text.dynamicLayoutVertexArray,qe=h.icon.dynamicLayoutVertexArray,je={};ke.clear();for(var ut=0;ut<Se.length;ut++){var Ue=Se.get(ut),lt=Ue.hidden||!Ue.crossTileID||h.allowVerticalPlacement&&!Ue.placedOrientation?null:_[Ue.crossTileID];if(lt){var At=new A.Point(Ue.anchorX,Ue.anchorY),Ot=Wi(At,p?z:M),rn=Or(D.cameraToCenterDistance,Ot.signedDistanceFromCamera),tn=C.evaluateSizeForFeature(h.textSizeData,ue,Ue)*rn/A.ONE_EM;p&&(tn*=h.tilePixelRatio/ie);for(var un=Gc(lt.anchor,lt.width,lt.height,lt.textOffset,lt.textBoxScale,tn),Cn=p?Wi(At.add(un),M).point:Ot.point.add(f?un.rotate(-D.angle):un),wn=h.allowVerticalPlacement&&Ue.placedOrientation===A.WritingMode.vertical?Math.PI/2:0,Un=0;Un<Ue.numGlyphs;Un++)A.addDynamicAttributes(ke,Cn,wn);Ce&&Ue.associatedIconIndex>=0&&(je[Ue.associatedIconIndex]={shiftedAnchor:Cn,angle:wn})}else ls(Ue.numGlyphs,ke)}if(Ce){qe.clear();for(var ci=h.icon.placedSymbolArray,Oi=0;Oi<ci.length;Oi++){var Qi=ci.get(Oi);if(Qi.hidden)ls(Qi.numGlyphs,qe);else{var Ni=je[Oi];if(Ni)for(var Sr=0;Sr<Qi.numGlyphs;Sr++)A.addDynamicAttributes(qe,Ni.shiftedAnchor,Ni.angle);else ls(Qi.numGlyphs,qe)}}h.icon.dynamicLayoutVertexBuffer.updateData(qe)}h.text.dynamicLayoutVertexBuffer.updateData(ke)}function gu(h,f,p){return p.iconsInText&&f?"symbolTextAndIcon":h?"symbolSDF":"symbolIcon"}function ec(h,f,p,_,C,D,M,z,ie,ue,Ce,Se){for(var ke=h.context,qe=ke.gl,je=h.transform,ut="map"===z,Ue="map"===ie,lt=ut&&"point"!==p.layout.get("symbol-placement"),At=ut&&!Ue&&!lt,Ot=void 0!==p.layout.get("symbol-sort-key").constantOr(1),rn=!1,tn=h.depthModeForSublayer(0,he.ReadOnly),un=p.layout.get("text-variable-anchor"),Cn=[],wn=0,Un=_;wn<Un.length;wn+=1){var ci=Un[wn],Oi=f.getTile(ci),Qi=Oi.getBucket(p);if(Qi){var Ni=C?Qi.text:Qi.icon;if(Ni&&Ni.segments.get().length){var Sr=Ni.programConfigurations.get(p.id),oi=C||Qi.sdfIcons,Ar=C?Qi.textSizeData:Qi.iconSizeData,br=Ue||0!==je.pitch,er=h.useProgram(gu(oi,C,Qi),Sr),tr=A.evaluateSizeForZoom(Ar,je.zoom),vr=void 0,Zi=[0,0],qi=void 0,hs=void 0,ss=null,ll=void 0;if(C)qi=Oi.glyphAtlasTexture,hs=qe.LINEAR,vr=Oi.glyphAtlasTexture.size,Qi.iconsInText&&(Zi=Oi.imageAtlasTexture.size,ss=Oi.imageAtlasTexture,ll=br||h.options.rotating||h.options.zooming||"composite"===Ar.kind||"camera"===Ar.kind?qe.LINEAR:qe.NEAREST);else{var Ma=1!==p.layout.get("icon-size").constantOr(0)||Qi.iconsNeedLinear;qi=Oi.imageAtlasTexture,hs=oi||h.options.rotating||h.options.zooming||Ma||br?qe.LINEAR:qe.NEAREST,vr=Oi.imageAtlasTexture.size}var bo=No(Oi,1,h.transform.zoom),ws=vi(ci.posMatrix,Ue,ut,h.transform,bo),gl=ir(ci.posMatrix,Ue,ut,h.transform,bo),_l=un&&Qi.hasTextData(),Jd="none"!==p.layout.get("icon-text-fit")&&_l&&Qi.hasIconData();lt&&Ac(Qi,ci.posMatrix,h,C,ws,gl,Ue,ue);var cl=h.translatePosMatrix(ci.posMatrix,Oi,D,M),wu=lt||C&&un||Jd?bc:ws,Nl=h.translatePosMatrix(gl,Oi,D,M,!0),gf=oi&&0!==p.paint.get(C?"text-halo-width":"icon-halo-width").constantOr(1),eh={program:er,buffers:Ni,uniformValues:oi?Qi.iconsInText?an(Ar.kind,tr,At,Ue,h,cl,wu,Nl,vr,Zi):Gu(Ar.kind,tr,At,Ue,h,cl,wu,Nl,C,vr,!0):vd(Ar.kind,tr,At,Ue,h,cl,wu,Nl,C,vr),atlasTexture:qi,atlasTextureIcon:ss,atlasInterpolation:hs,atlasInterpolationIcon:ll,isSDF:oi,hasHalo:gf};if(Ot&&Qi.canOverlap){rn=!0;for(var $u=0,Ii=Ni.segments.get();$u<Ii.length;$u+=1){var Cd=Ii[$u];Cn.push({segments:new A.SegmentVector([Cd]),sortKey:Cd.sortKey,state:eh})}}else Cn.push({segments:Ni.segments,sortKey:0,state:eh})}}}rn&&Cn.sort(function(Nr,cs){return Nr.sortKey-cs.sortKey});for(var Xu=0,bi=Cn;Xu<bi.length;Xu+=1){var Tc=bi[Xu],zn=Tc.state;if(ke.activeTexture.set(qe.TEXTURE0),zn.atlasTexture.bind(zn.atlasInterpolation,qe.CLAMP_TO_EDGE),zn.atlasTextureIcon&&(ke.activeTexture.set(qe.TEXTURE1),zn.atlasTextureIcon&&zn.atlasTextureIcon.bind(zn.atlasInterpolationIcon,qe.CLAMP_TO_EDGE)),zn.isSDF){var Bs=zn.uniformValues;zn.hasHalo&&(Bs.u_is_halo=1,tc(zn.buffers,Tc.segments,p,h,zn.program,tn,Ce,Se,Bs)),Bs.u_is_halo=0}tc(zn.buffers,Tc.segments,p,h,zn.program,tn,Ce,Se,zn.uniformValues)}}function tc(h,f,p,_,C,D,M,z,ie){var ue=_.context;C.draw(ue,ue.gl.TRIANGLES,D,M,z,Qe.disabled,ie,p.id,h.layoutVertexBuffer,h.indexBuffer,f,p.paint,_.transform.zoom,h.programConfigurations.get(p.id),h.dynamicLayoutVertexBuffer,h.opacityVertexBuffer)}function _u(h,f,p,_,C,D,M){var z,ie,ue,Ce,Se,ke=h.context.gl,qe=p.paint.get("fill-pattern"),je=qe&&qe.constantOr(1),ut=p.getCrossfadeParameters();M?(ie=je&&!p.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",z=ke.LINES):(ie=je?"fillPattern":"fill",z=ke.TRIANGLES);for(var Ue=0,lt=_;Ue<lt.length;Ue+=1){var At=lt[Ue],Ot=f.getTile(At);if(!je||Ot.patternsLoaded()){var rn=Ot.getBucket(p);if(rn){var tn=rn.programConfigurations.get(p.id),un=h.useProgram(ie,tn);je&&(h.context.activeTexture.set(ke.TEXTURE0),Ot.imageAtlasTexture.bind(ke.LINEAR,ke.CLAMP_TO_EDGE),tn.updatePaintBuffers(ut));var Cn=qe.constantOr(null);if(Cn&&Ot.imageAtlas){var wn=Ot.imageAtlas,Un=wn.patternPositions[Cn.to.toString()],ci=wn.patternPositions[Cn.from.toString()];Un&&ci&&tn.setConstantPatternPositions(Un,ci)}var Oi=h.translatePosMatrix(At.posMatrix,Ot,p.paint.get("fill-translate"),p.paint.get("fill-translate-anchor"));if(M){Ce=rn.indexBuffer2,Se=rn.segments2;var Qi=[ke.drawingBufferWidth,ke.drawingBufferHeight];ue="fillOutlinePattern"===ie&&je?mu(Oi,h,ut,Ot,Qi):af(Oi,Qi)}else Ce=rn.indexBuffer,Se=rn.segments,ue=je?vc(Oi,h,ut,Ot):ju(Oi);un.draw(h.context,z,C,h.stencilModeForClipping(At),D,Qe.disabled,ue,p.id,rn.layoutVertexBuffer,Ce,Se,p.paint,h.transform.zoom,tn)}}}}function bd(h,f,p,_,C,D,M){for(var z=h.context,ie=z.gl,ue=p.paint.get("fill-extrusion-pattern"),Ce=ue.constantOr(1),Se=p.getCrossfadeParameters(),ke=p.paint.get("fill-extrusion-opacity"),qe=0,je=_;qe<je.length;qe+=1){var ut=je[qe],Ue=f.getTile(ut),lt=Ue.getBucket(p);if(lt){var At=lt.programConfigurations.get(p.id),Ot=h.useProgram(Ce?"fillExtrusionPattern":"fillExtrusion",At);Ce&&(h.context.activeTexture.set(ie.TEXTURE0),Ue.imageAtlasTexture.bind(ie.LINEAR,ie.CLAMP_TO_EDGE),At.updatePaintBuffers(Se));var rn=ue.constantOr(null);if(rn&&Ue.imageAtlas){var tn=Ue.imageAtlas,un=tn.patternPositions[rn.to.toString()],Cn=tn.patternPositions[rn.from.toString()];un&&Cn&&At.setConstantPatternPositions(un,Cn)}var wn=h.translatePosMatrix(ut.posMatrix,Ue,p.paint.get("fill-extrusion-translate"),p.paint.get("fill-extrusion-translate-anchor")),Un=p.paint.get("fill-extrusion-vertical-gradient"),ci=Ce?Jl(wn,h,Un,ke,ut,Se,Ue):rm(wn,h,Un,ke);Ot.draw(z,z.gl.TRIANGLES,C,D,M,Qe.backCCW,ci,p.id,lt.layoutVertexBuffer,lt.indexBuffer,lt.segments,p.paint,h.transform.zoom,At)}}}function wc(h,f,p,_,C,D){var M=h.context,z=M.gl,ie=f.fbo;if(ie){var ue=h.useProgram("hillshade");M.activeTexture.set(z.TEXTURE0),z.bindTexture(z.TEXTURE_2D,ie.colorAttachment.get());var Ce=function(Se,ke,qe){var je=qe.paint.get("hillshade-shadow-color"),ut=qe.paint.get("hillshade-highlight-color"),Ue=qe.paint.get("hillshade-accent-color"),lt=qe.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===qe.paint.get("hillshade-illumination-anchor")&&(lt-=Se.transform.angle);var At,Ot,rn,tn=!Se.options.moving;return{u_matrix:Se.transform.calculatePosMatrix(ke.tileID.toUnwrapped(),tn),u_image:0,u_latrange:(At=ke.tileID,Ot=Math.pow(2,At.canonical.z),rn=At.canonical.y,[new A.MercatorCoordinate(0,rn/Ot).toLngLat().lat,new A.MercatorCoordinate(0,(rn+1)/Ot).toLngLat().lat]),u_light:[qe.paint.get("hillshade-exaggeration"),lt],u_shadow:je,u_highlight:ut,u_accent:Ue}}(h,f,p);ue.draw(M,z.TRIANGLES,_,C,D,Qe.disabled,Ce,p.id,h.rasterBoundsBuffer,h.quadTriangleIndexBuffer,h.rasterBoundsSegments)}}function hf(h,f,p,_,C,D){var ut,Ue,lt,At,M=h.context,z=M.gl,ie=f.dem;if(ie&&ie.data){var ue=ie.dim,Ce=ie.stride,Se=ie.getPixels();if(M.activeTexture.set(z.TEXTURE1),M.pixelStoreUnpackPremultiplyAlpha.set(!1),f.demTexture=f.demTexture||h.getTileTexture(Ce),f.demTexture){var ke=f.demTexture;ke.update(Se,{premultiply:!1}),ke.bind(z.NEAREST,z.CLAMP_TO_EDGE)}else f.demTexture=new A.Texture(M,Se,z.RGBA,{premultiply:!1}),f.demTexture.bind(z.NEAREST,z.CLAMP_TO_EDGE);M.activeTexture.set(z.TEXTURE0);var qe=f.fbo;if(!qe){var je=new A.Texture(M,{width:ue,height:ue,data:null},z.RGBA);je.bind(z.LINEAR,z.CLAMP_TO_EDGE),(qe=f.fbo=M.createFramebuffer(ue,ue,!0)).colorAttachment.set(je.texture)}M.bindFramebuffer.set(qe.framebuffer),M.viewport.set([0,0,ue,ue]),h.useProgram("hillshadePrepare").draw(M,z.TRIANGLES,_,C,D,Qe.disabled,(ut=f.tileID,lt=(Ue=ie).stride,At=A.create(),A.ortho(At,0,A.EXTENT,-A.EXTENT,0,0,1),A.translate(At,At,[0,-A.EXTENT,0]),{u_matrix:At,u_image:1,u_dimension:[lt,lt],u_zoom:ut.overscaledZ,u_unpack:Ue.getUnpackVector()}),p.id,h.rasterBoundsBuffer,h.quadTriangleIndexBuffer,h.rasterBoundsSegments),f.needsHillshadePrepare=!1}}function Uo(h,f,p,_,C){var D=_.paint.get("raster-fade-duration");if(D>0){var M=A.browser.now(),z=(M-h.timeAdded)/D,ie=f?(M-f.timeAdded)/D:-1,ue=p.getSource(),Ce=C.coveringZoomLevel({tileSize:ue.tileSize,roundZoom:ue.roundZoom}),Se=!f||Math.abs(f.tileID.overscaledZ-Ce)>Math.abs(h.tileID.overscaledZ-Ce),ke=Se&&h.refreshedUponExpiration?1:A.clamp(Se?z:1-ie,0,1);return h.refreshedUponExpiration&&z>=1&&(h.refreshedUponExpiration=!1),f?{opacity:1,mix:1-ke}:{opacity:ke,mix:0}}return{opacity:1,mix:0}}var bp=new A.Color(1,0,0,1),om=new A.Color(0,1,0,1),So=new A.Color(0,0,1,1),kh=new A.Color(1,0,1,1),Xo=new A.Color(0,1,1,1);function xc(h,f,p,_){Yd(h,0,f+p/2,h.transform.width,p,_)}function Dh(h,f,p,_){Yd(h,f-p/2,0,p,h.transform.height,_)}function Yd(h,f,p,_,C,D){var M=h.context,z=M.gl;z.enable(z.SCISSOR_TEST),z.scissor(f*A.browser.devicePixelRatio,p*A.browser.devicePixelRatio,_*A.browser.devicePixelRatio,C*A.browser.devicePixelRatio),M.clear({color:D}),z.disable(z.SCISSOR_TEST)}function Ir(h,f,p){var _=h.context,C=_.gl,D=p.posMatrix,M=h.useProgram("debug"),z=he.disabled,ie=de.disabled,ue=h.colorModeForRenderPass();_.activeTexture.set(C.TEXTURE0),h.emptyTexture.bind(C.LINEAR,C.CLAMP_TO_EDGE),M.draw(_,C.LINE_STRIP,z,ie,ue,Qe.disabled,zc(D,A.Color.red),"$debug",h.debugBuffer,h.tileBorderIndexBuffer,h.debugSegments);var Ce=f.getTileByID(p.key).latestRawTileData,Se=Math.floor((Ce&&Ce.byteLength||0)/1024),ke=f.getTile(p).tileSize,qe=512/Math.min(ke,512)*(p.overscaledZ/h.transform.zoom)*.5,je=p.canonical.toString();p.overscaledZ!==p.canonical.z&&(je+=" => "+p.overscaledZ),function(ut,Ue){ut.initDebugOverlayCanvas();var lt=ut.debugOverlayCanvas,At=ut.context.gl,Ot=ut.debugOverlayCanvas.getContext("2d");Ot.clearRect(0,0,lt.width,lt.height),Ot.shadowColor="white",Ot.shadowBlur=2,Ot.lineWidth=1.5,Ot.strokeStyle="white",Ot.textBaseline="top",Ot.font="bold 36px Open Sans, sans-serif",Ot.fillText(Ue,5,5),Ot.strokeText(Ue,5,5),ut.debugOverlayTexture.update(lt),ut.debugOverlayTexture.bind(At.LINEAR,At.CLAMP_TO_EDGE)}(h,je+" "+Se+"kb"),M.draw(_,C.TRIANGLES,z,ie,Pe.alphaBlended,Qe.disabled,zc(D,A.Color.transparent,qe),"$debug",h.debugBuffer,h.quadTriangleIndexBuffer,h.debugSegments)}var fr={symbol:function(h,f,p,_,C){if("translucent"===h.renderPass){var D=de.disabled,M=h.colorModeForRenderPass();p.layout.get("text-variable-anchor")&&function(z,ie,ue,Ce,Se,ke,qe){for(var je=ie.transform,ut="map"===Se,Ue="map"===ke,lt=0,At=z;lt<At.length;lt+=1){var Ot=At[lt],rn=Ce.getTile(Ot),tn=rn.getBucket(ue);if(tn&&tn.text&&tn.text.segments.get().length){var un=A.evaluateSizeForZoom(tn.textSizeData,je.zoom),Cn=No(rn,1,ie.transform.zoom),wn=vi(Ot.posMatrix,Ue,ut,ie.transform,Cn),Un="none"!==ue.layout.get("icon-text-fit")&&tn.hasIconData();if(un){var ci=Math.pow(2,je.zoom-rn.tileID.overscaledZ);Da(tn,ut,Ue,qe,A.symbolSize,je,wn,Ot.posMatrix,ci,un,Un)}}}}(_,h,p,f,p.layout.get("text-rotation-alignment"),p.layout.get("text-pitch-alignment"),C),0!==p.paint.get("icon-opacity").constantOr(1)&&ec(h,f,p,_,!1,p.paint.get("icon-translate"),p.paint.get("icon-translate-anchor"),p.layout.get("icon-rotation-alignment"),p.layout.get("icon-pitch-alignment"),p.layout.get("icon-keep-upright"),D,M),0!==p.paint.get("text-opacity").constantOr(1)&&ec(h,f,p,_,!0,p.paint.get("text-translate"),p.paint.get("text-translate-anchor"),p.layout.get("text-rotation-alignment"),p.layout.get("text-pitch-alignment"),p.layout.get("text-keep-upright"),D,M),f.map.showCollisionBoxes&&(yd(h,f,p,_,p.paint.get("text-translate"),p.paint.get("text-translate-anchor"),!0),yd(h,f,p,_,p.paint.get("icon-translate"),p.paint.get("icon-translate-anchor"),!1))}},circle:function(h,f,p,_){if("translucent"===h.renderPass){var C=p.paint.get("circle-opacity"),D=p.paint.get("circle-stroke-width"),M=p.paint.get("circle-stroke-opacity"),z=void 0!==p.layout.get("circle-sort-key").constantOr(1);if(0!==C.constantOr(1)||0!==D.constantOr(1)&&0!==M.constantOr(1)){for(var ie=h.context,ue=ie.gl,Ce=h.depthModeForSublayer(0,he.ReadOnly),Se=de.disabled,ke=h.colorModeForRenderPass(),qe=[],je=0;je<_.length;je++){var ut=_[je],Ue=f.getTile(ut),lt=Ue.getBucket(p);if(lt){var At=lt.programConfigurations.get(p.id),Ot={programConfiguration:At,program:h.useProgram("circle",At),layoutVertexBuffer:lt.layoutVertexBuffer,indexBuffer:lt.indexBuffer,uniformValues:Th(h,ut,Ue,p)};if(z)for(var rn=0,tn=lt.segments.get();rn<tn.length;rn+=1){var un=tn[rn];qe.push({segments:new A.SegmentVector([un]),sortKey:un.sortKey,state:Ot})}else qe.push({segments:lt.segments,sortKey:0,state:Ot})}}z&&qe.sort(function(Oi,Qi){return Oi.sortKey-Qi.sortKey});for(var Cn=0,wn=qe;Cn<wn.length;Cn+=1){var Un=wn[Cn],ci=Un.state;ci.program.draw(ie,ue.TRIANGLES,Ce,Se,ke,Qe.disabled,ci.uniformValues,p.id,ci.layoutVertexBuffer,ci.indexBuffer,Un.segments,p.paint,h.transform.zoom,ci.programConfiguration)}}}},heatmap:function(h,f,p,_){if(0!==p.paint.get("heatmap-opacity"))if("offscreen"===h.renderPass){var C=h.context,D=C.gl,M=de.disabled,z=new Pe([D.ONE,D.ONE],A.Color.transparent,[!0,!0,!0,!0]);(function(qe,je,ut){var Ue=qe.gl;qe.activeTexture.set(Ue.TEXTURE1),qe.viewport.set([0,0,je.width/4,je.height/4]);var Ot,rn,tn,un,Cn,lt=ut.heatmapFbo;if(lt)Ue.bindTexture(Ue.TEXTURE_2D,lt.colorAttachment.get()),qe.bindFramebuffer.set(lt.framebuffer);else{var At=Ue.createTexture();Ue.bindTexture(Ue.TEXTURE_2D,At),Ue.texParameteri(Ue.TEXTURE_2D,Ue.TEXTURE_WRAP_S,Ue.CLAMP_TO_EDGE),Ue.texParameteri(Ue.TEXTURE_2D,Ue.TEXTURE_WRAP_T,Ue.CLAMP_TO_EDGE),Ue.texParameteri(Ue.TEXTURE_2D,Ue.TEXTURE_MIN_FILTER,Ue.LINEAR),Ue.texParameteri(Ue.TEXTURE_2D,Ue.TEXTURE_MAG_FILTER,Ue.LINEAR),tn=At,un=lt=ut.heatmapFbo=qe.createFramebuffer(je.width/4,je.height/4,!1),(Cn=(Ot=qe).gl).texImage2D(Cn.TEXTURE_2D,0,Cn.RGBA,(rn=je).width/4,rn.height/4,0,Cn.RGBA,Ot.extRenderToTextureHalfFloat?Ot.extTextureHalfFloat.HALF_FLOAT_OES:Cn.UNSIGNED_BYTE,null),un.colorAttachment.set(tn)}})(C,h,p),C.clear({color:A.Color.transparent});for(var ie=0;ie<_.length;ie++){var ue=_[ie];if(!f.hasRenderableParent(ue)){var Ce=f.getTile(ue),Se=Ce.getBucket(p);if(Se){var ke=Se.programConfigurations.get(p.id);h.useProgram("heatmap",ke).draw(C,D.TRIANGLES,he.disabled,M,z,Qe.disabled,Xd(ue.posMatrix,Ce,h.transform.zoom,p.paint.get("heatmap-intensity")),p.id,Se.layoutVertexBuffer,Se.indexBuffer,Se.segments,p.paint,h.transform.zoom,ke)}}}C.viewport.set([0,0,h.width,h.height])}else"translucent"===h.renderPass&&(h.context.setColorMode(h.colorModeForRenderPass()),function(qe,je){var ut=qe.context,Ue=ut.gl,lt=je.heatmapFbo;if(lt){ut.activeTexture.set(Ue.TEXTURE0),Ue.bindTexture(Ue.TEXTURE_2D,lt.colorAttachment.get()),ut.activeTexture.set(Ue.TEXTURE1);var At=je.colorRampTexture;At||(At=je.colorRampTexture=new A.Texture(ut,je.colorRamp,Ue.RGBA)),At.bind(Ue.LINEAR,Ue.CLAMP_TO_EDGE),qe.useProgram("heatmapTexture").draw(ut,Ue.TRIANGLES,he.disabled,de.disabled,qe.colorModeForRenderPass(),Qe.disabled,function(Ot,rn,tn,un){var Cn=A.create();A.ortho(Cn,0,Ot.width,Ot.height,0,0,1);var wn=Ot.context.gl;return{u_matrix:Cn,u_world:[wn.drawingBufferWidth,wn.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:rn.paint.get("heatmap-opacity")}}(qe,je),je.id,qe.viewportBuffer,qe.quadTriangleIndexBuffer,qe.viewportSegments,je.paint,qe.transform.zoom)}}(h,p))},line:function(h,f,p,_){if("translucent"===h.renderPass){var C=p.paint.get("line-opacity"),D=p.paint.get("line-width");if(0!==C.constantOr(1)&&0!==D.constantOr(1))for(var M=h.depthModeForSublayer(0,he.ReadOnly),z=h.colorModeForRenderPass(),ie=p.paint.get("line-dasharray"),ue=p.paint.get("line-pattern"),Ce=ue.constantOr(1),Se=p.paint.get("line-gradient"),ke=p.getCrossfadeParameters(),qe=Ce?"linePattern":ie?"lineSDF":Se?"lineGradient":"line",je=h.context,ut=je.gl,Ue=!0,lt=0,At=_;lt<At.length;lt+=1){var Ot=At[lt],rn=f.getTile(Ot);if(!Ce||rn.patternsLoaded()){var tn=rn.getBucket(p);if(tn){var un=tn.programConfigurations.get(p.id),Cn=h.context.program.get(),wn=h.useProgram(qe,un),Un=Ue||wn.program!==Cn,ci=ue.constantOr(null);if(ci&&rn.imageAtlas){var Oi=rn.imageAtlas,Qi=Oi.patternPositions[ci.to.toString()],Ni=Oi.patternPositions[ci.from.toString()];Qi&&Ni&&un.setConstantPatternPositions(Qi,Ni)}var Sr=Ce?vp(h,rn,p,ke):ie?lf(h,rn,p,ie,ke):Se?Ro(h,rn,p,tn.lineClipsArray.length):Ks(h,rn,p);if(Ce)je.activeTexture.set(ut.TEXTURE0),rn.imageAtlasTexture.bind(ut.LINEAR,ut.CLAMP_TO_EDGE),un.updatePaintBuffers(ke);else if(ie&&(Un||h.lineAtlas.dirty))je.activeTexture.set(ut.TEXTURE0),h.lineAtlas.bind(je);else if(Se){var oi=tn.gradients[p.id],Ar=oi.texture;if(p.gradientVersion!==oi.version){var br=256;if(p.stepInterpolant){var er=f.getSource().maxzoom,tr=Ot.canonical.z===er?Math.ceil(1<<h.transform.maxZoom-Ot.canonical.z):1;br=A.clamp(A.nextPowerOfTwo(tn.maxLineLength/A.EXTENT*1024*tr),256,je.maxTextureSize)}oi.gradient=A.renderColorRamp({expression:p.gradientExpression(),evaluationKey:"lineProgress",resolution:br,image:oi.gradient||void 0,clips:tn.lineClipsArray}),oi.texture?oi.texture.update(oi.gradient):oi.texture=new A.Texture(je,oi.gradient,ut.RGBA),oi.version=p.gradientVersion,Ar=oi.texture}je.activeTexture.set(ut.TEXTURE0),Ar.bind(p.stepInterpolant?ut.NEAREST:ut.LINEAR,ut.CLAMP_TO_EDGE)}wn.draw(je,ut.TRIANGLES,M,h.stencilModeForClipping(Ot),z,Qe.disabled,Sr,p.id,tn.layoutVertexBuffer,tn.indexBuffer,tn.segments,p.paint,h.transform.zoom,un,tn.layoutVertexBuffer2),Ue=!1}}}}},fill:function(h,f,p,_){var C=p.paint.get("fill-color"),D=p.paint.get("fill-opacity");if(0!==D.constantOr(1)){var M=h.colorModeForRenderPass(),z=p.paint.get("fill-pattern"),ie=h.opaquePassEnabledForLayer()&&!z.constantOr(1)&&1===C.constantOr(A.Color.transparent).a&&1===D.constantOr(0)?"opaque":"translucent";if(h.renderPass===ie){var ue=h.depthModeForSublayer(1,"opaque"===h.renderPass?he.ReadWrite:he.ReadOnly);_u(h,f,p,_,ue,M,!1)}if("translucent"===h.renderPass&&p.paint.get("fill-antialias")){var Ce=h.depthModeForSublayer(p.getPaintProperty("fill-outline-color")?2:0,he.ReadOnly);_u(h,f,p,_,Ce,M,!0)}}},"fill-extrusion":function(h,f,p,_){var C=p.paint.get("fill-extrusion-opacity");if(0!==C&&"translucent"===h.renderPass){var D=new he(h.context.gl.LEQUAL,he.ReadWrite,h.depthRangeFor3D);if(1!==C||p.paint.get("fill-extrusion-pattern").constantOr(1))bd(h,f,p,_,D,de.disabled,Pe.disabled),bd(h,f,p,_,D,h.stencilModeFor3D(),h.colorModeForRenderPass());else{var M=h.colorModeForRenderPass();bd(h,f,p,_,D,de.disabled,M)}}},hillshade:function(h,f,p,_){if("offscreen"===h.renderPass||"translucent"===h.renderPass){for(var C=h.context,D=h.depthModeForSublayer(0,he.ReadOnly),M=h.colorModeForRenderPass(),z="translucent"===h.renderPass?h.stencilConfigForOverlap(_):[{},_],ie=z[0],ue=0,Ce=z[1];ue<Ce.length;ue+=1){var Se=Ce[ue],ke=f.getTile(Se);ke.needsHillshadePrepare&&"offscreen"===h.renderPass?hf(h,ke,p,D,de.disabled,M):"translucent"===h.renderPass&&wc(h,ke,p,D,ie[Se.overscaledZ],M)}C.viewport.set([0,0,h.width,h.height])}},raster:function(h,f,p,_){if("translucent"===h.renderPass&&0!==p.paint.get("raster-opacity")&&_.length)for(var C=h.context,D=C.gl,M=f.getSource(),z=h.useProgram("raster"),ie=h.colorModeForRenderPass(),ue=M instanceof bn?[{},_]:h.stencilConfigForOverlap(_),Ce=ue[0],Se=ue[1],ke=Se[Se.length-1].overscaledZ,qe=!h.options.moving,je=0,ut=Se;je<ut.length;je+=1){var Ue=ut[je],lt=h.depthModeForSublayer(Ue.overscaledZ-ke,1===p.paint.get("raster-opacity")?he.ReadWrite:he.ReadOnly,D.LESS),At=f.getTile(Ue),Ot=h.transform.calculatePosMatrix(Ue.toUnwrapped(),qe);At.registerFadeDuration(p.paint.get("raster-fade-duration"));var rn=f.findLoadedParent(Ue,0),tn=Uo(At,rn,f,p,h.transform),un=void 0,Cn=void 0,wn="nearest"===p.paint.get("raster-resampling")?D.NEAREST:D.LINEAR;C.activeTexture.set(D.TEXTURE0),At.texture.bind(wn,D.CLAMP_TO_EDGE,D.LINEAR_MIPMAP_NEAREST),C.activeTexture.set(D.TEXTURE1),rn?(rn.texture.bind(wn,D.CLAMP_TO_EDGE,D.LINEAR_MIPMAP_NEAREST),un=Math.pow(2,rn.tileID.overscaledZ-At.tileID.overscaledZ),Cn=[At.tileID.canonical.x*un%1,At.tileID.canonical.y*un%1]):At.texture.bind(wn,D.CLAMP_TO_EDGE,D.LINEAR_MIPMAP_NEAREST);var Un=uf(Ot,Cn||[0,0],un||1,tn,p);M instanceof bn?z.draw(C,D.TRIANGLES,lt,de.disabled,ie,Qe.disabled,Un,p.id,M.boundsBuffer,h.quadTriangleIndexBuffer,M.boundsSegments):z.draw(C,D.TRIANGLES,lt,Ce[Ue.overscaledZ],ie,Qe.disabled,Un,p.id,h.rasterBoundsBuffer,h.quadTriangleIndexBuffer,h.rasterBoundsSegments)}},background:function(h,f,p){var _=p.paint.get("background-color"),C=p.paint.get("background-opacity");if(0!==C){var D=h.context,M=D.gl,z=h.transform,ie=z.tileSize,ue=p.paint.get("background-pattern");if(!h.isPatternMissing(ue)){var Ce=!ue&&1===_.a&&1===C&&h.opaquePassEnabledForLayer()?"opaque":"translucent";if(h.renderPass===Ce){var Se=de.disabled,ke=h.depthModeForSublayer(0,"opaque"===Ce?he.ReadWrite:he.ReadOnly),qe=h.colorModeForRenderPass(),je=h.useProgram(ue?"backgroundPattern":"background"),ut=z.coveringTiles({tileSize:ie});ue&&(D.activeTexture.set(M.TEXTURE0),h.imageManager.bind(h.context));for(var Ue=p.getCrossfadeParameters(),lt=0,At=ut;lt<At.length;lt+=1){var Ot=At[lt],rn=h.transform.calculatePosMatrix(Ot.toUnwrapped()),tn=ue?yc(rn,C,h,ue,{tileID:Ot,tileSize:ie},Ue):Ml(rn,C,_);je.draw(D,M.TRIANGLES,ke,Se,qe,Qe.disabled,tn,p.id,h.tileExtentBuffer,h.quadTriangleIndexBuffer,h.tileExtentSegments)}}}}},debug:function(h,f,p){for(var _=0;_<p.length;_++)Ir(h,f,p[_])},custom:function(h,f,p){var _=h.context,C=p.implementation;if("offscreen"===h.renderPass){var D=C.prerender;D&&(h.setCustomLayerDefaults(),_.setColorMode(h.colorModeForRenderPass()),D.call(C,_.gl,h.transform.customLayerMatrix()),_.setDirty(),h.setBaseState())}else if("translucent"===h.renderPass){h.setCustomLayerDefaults(),_.setColorMode(h.colorModeForRenderPass()),_.setStencilMode(de.disabled);var M="3d"===C.renderingMode?new he(h.context.gl.LEQUAL,he.ReadWrite,h.depthRangeFor3D):h.depthModeForSublayer(0,he.ReadOnly);_.setDepthMode(M),C.render(_.gl,h.transform.customLayerMatrix()),_.setDirty(),h.setBaseState(),_.bindFramebuffer.set(null)}}},go=function(h,f){this.context=new ge(h),this.transform=f,this._tileTextures={},this.setup(),this.numSublayers=Ve.maxUnderzooming+Ve.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new mc,this.gpuTimers={}};go.prototype.resize=function(h,f){if(this.width=h*A.browser.devicePixelRatio,this.height=f*A.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var p=0,_=this.style._order;p<_.length;p+=1)this.style._layers[_[p]].resize()},go.prototype.setup=function(){var h=this.context,f=new A.StructArrayLayout2i4;f.emplaceBack(0,0),f.emplaceBack(A.EXTENT,0),f.emplaceBack(0,A.EXTENT),f.emplaceBack(A.EXTENT,A.EXTENT),this.tileExtentBuffer=h.createVertexBuffer(f,ds.members),this.tileExtentSegments=A.SegmentVector.simpleSegment(0,0,4,2);var p=new A.StructArrayLayout2i4;p.emplaceBack(0,0),p.emplaceBack(A.EXTENT,0),p.emplaceBack(0,A.EXTENT),p.emplaceBack(A.EXTENT,A.EXTENT),this.debugBuffer=h.createVertexBuffer(p,ds.members),this.debugSegments=A.SegmentVector.simpleSegment(0,0,4,5);var _=new A.StructArrayLayout4i8;_.emplaceBack(0,0,0,0),_.emplaceBack(A.EXTENT,0,A.EXTENT,0),_.emplaceBack(0,A.EXTENT,0,A.EXTENT),_.emplaceBack(A.EXTENT,A.EXTENT,A.EXTENT,A.EXTENT),this.rasterBoundsBuffer=h.createVertexBuffer(_,Et.members),this.rasterBoundsSegments=A.SegmentVector.simpleSegment(0,0,4,2);var C=new A.StructArrayLayout2i4;C.emplaceBack(0,0),C.emplaceBack(1,0),C.emplaceBack(0,1),C.emplaceBack(1,1),this.viewportBuffer=h.createVertexBuffer(C,ds.members),this.viewportSegments=A.SegmentVector.simpleSegment(0,0,4,2);var D=new A.StructArrayLayout1ui2;D.emplaceBack(0),D.emplaceBack(1),D.emplaceBack(3),D.emplaceBack(2),D.emplaceBack(0),this.tileBorderIndexBuffer=h.createIndexBuffer(D);var M=new A.StructArrayLayout3ui6;M.emplaceBack(0,1,2),M.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=h.createIndexBuffer(M),this.emptyTexture=new A.Texture(h,{width:1,height:1,data:new Uint8Array([0,0,0,0])},h.gl.RGBA);var z=this.context.gl;this.stencilClearMode=new de({func:z.ALWAYS,mask:0},0,255,z.ZERO,z.ZERO,z.ZERO)},go.prototype.clearStencil=function(){var h=this.context,f=h.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var p=A.create();A.ortho(p,0,this.width,this.height,0,0,1),A.scale(p,p,[f.drawingBufferWidth,f.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(h,f.TRIANGLES,he.disabled,this.stencilClearMode,Pe.disabled,Qe.disabled,sl(p),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},go.prototype._renderTileClippingMasks=function(h,f){if(this.currentStencilSource!==h.source&&h.isTileClipped()&&f&&f.length){this.currentStencilSource=h.source;var p=this.context,_=p.gl;this.nextStencilID+f.length>256&&this.clearStencil(),p.setColorMode(Pe.disabled),p.setDepthMode(he.disabled);var C=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var D=0,M=f;D<M.length;D+=1){var z=M[D],ie=this._tileClippingMaskIDs[z.key]=this.nextStencilID++;C.draw(p,_.TRIANGLES,he.disabled,new de({func:_.ALWAYS,mask:0},ie,255,_.KEEP,_.KEEP,_.REPLACE),Pe.disabled,Qe.disabled,sl(z.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},go.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var h=this.nextStencilID++,f=this.context.gl;return new de({func:f.NOTEQUAL,mask:255},h,255,f.KEEP,f.KEEP,f.REPLACE)},go.prototype.stencilModeForClipping=function(h){var f=this.context.gl;return new de({func:f.EQUAL,mask:255},this._tileClippingMaskIDs[h.key],0,f.KEEP,f.KEEP,f.REPLACE)},go.prototype.stencilConfigForOverlap=function(h){var f,p=this.context.gl,_=h.sort(function(ie,ue){return ue.overscaledZ-ie.overscaledZ}),C=_[_.length-1].overscaledZ,D=_[0].overscaledZ-C+1;if(D>1){this.currentStencilSource=void 0,this.nextStencilID+D>256&&this.clearStencil();for(var M={},z=0;z<D;z++)M[z+C]=new de({func:p.GEQUAL,mask:255},z+this.nextStencilID,255,p.KEEP,p.KEEP,p.REPLACE);return this.nextStencilID+=D,[M,_]}return[(f={},f[C]=de.disabled,f),_]},go.prototype.colorModeForRenderPass=function(){var h=this.context.gl;return this._showOverdrawInspector?new Pe([h.CONSTANT_COLOR,h.ONE],new A.Color(.125,.125,.125,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?Pe.unblended:Pe.alphaBlended},go.prototype.depthModeForSublayer=function(h,f,p){if(!this.opaquePassEnabledForLayer())return he.disabled;var _=1-((1+this.currentLayer)*this.numSublayers+h)*this.depthEpsilon;return new he(p||this.context.gl.LEQUAL,f,[_,_])},go.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},go.prototype.render=function(h,f){var p=this;this.style=h,this.options=f,this.lineAtlas=h.lineAtlas,this.imageManager=h.imageManager,this.glyphManager=h.glyphManager,this.symbolFadeChange=h.placement.symbolFadeChange(A.browser.now()),this.imageManager.beginFrame();var _=this.style._order,C=this.style.sourceCaches;for(var D in C){var M=C[D];M.used&&M.prepare(this.context)}var z,ie,ue={},Ce={},Se={};for(var ke in C){var qe=C[ke];ue[ke]=qe.getVisibleCoordinates(),Ce[ke]=ue[ke].slice().reverse(),Se[ke]=qe.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var je=0;je<_.length;je++)if(this.style._layers[_[je]].is3D()){this.opaquePassCutoff=je;break}this.renderPass="offscreen";for(var ut=0,Ue=_;ut<Ue.length;ut+=1){var lt=this.style._layers[Ue[ut]];if(lt.hasOffscreenPass()&&!lt.isHidden(this.transform.zoom)){var At=Ce[lt.source];("custom"===lt.type||At.length)&&this.renderLayer(this,C[lt.source],lt,At)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:f.showOverdrawInspector?A.Color.black:A.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=f.showOverdrawInspector,this.depthRangeFor3D=[0,1-(h._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=_.length-1;this.currentLayer>=0;this.currentLayer--){var Ot=this.style._layers[_[this.currentLayer]],rn=C[Ot.source],tn=ue[Ot.source];this._renderTileClippingMasks(Ot,tn),this.renderLayer(this,rn,Ot,tn)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<_.length;this.currentLayer++){var un=this.style._layers[_[this.currentLayer]],Cn=C[un.source],wn=("symbol"===un.type?Se:Ce)[un.source];this._renderTileClippingMasks(un,ue[un.source]),this.renderLayer(this,Cn,un,wn)}this.options.showTileBoundaries&&(A.values(this.style._layers).forEach(function(Un){Un.source&&!Un.isHidden(p.transform.zoom)&&(Un.source!==(ie&&ie.id)&&(ie=p.style.sourceCaches[Un.source]),(!z||z.getSource().maxzoom<ie.getSource().maxzoom)&&(z=ie))}),z&&fr.debug(this,z,z.getVisibleCoordinates())),this.options.showPadding&&function(Un){var ci=Un.transform.padding;xc(Un,Un.transform.height-(ci.top||0),3,bp),xc(Un,ci.bottom||0,3,om),Dh(Un,ci.left||0,3,So),Dh(Un,Un.transform.width-(ci.right||0),3,kh);var Qi,Ni,Sr,oi,Oi=Un.transform.centerPoint;Yd(Qi=Un,(Ni=Oi.x)-1,(Sr=Un.transform.height-Oi.y)-10,2,20,oi=Xo),Yd(Qi,Ni-10,Sr-1,20,2,oi)}(this),this.context.setDefault()},go.prototype.renderLayer=function(h,f,p,_){p.isHidden(this.transform.zoom)||("background"===p.type||"custom"===p.type||_.length)&&(this.id=p.id,this.gpuTimingStart(p),fr[p.type](h,f,p,_,this.style.placement.variableOffsets),this.gpuTimingEnd())},go.prototype.gpuTimingStart=function(h){if(this.options.gpuTiming){var f=this.context.extTimerQuery,p=this.gpuTimers[h.id];p||(p=this.gpuTimers[h.id]={calls:0,cpuTime:0,query:f.createQueryEXT()}),p.calls++,f.beginQueryEXT(f.TIME_ELAPSED_EXT,p.query)}},go.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var h=this.context.extTimerQuery;h.endQueryEXT(h.TIME_ELAPSED_EXT)}},go.prototype.collectGpuTimers=function(){var h=this.gpuTimers;return this.gpuTimers={},h},go.prototype.queryGpuTimers=function(h){var f={};for(var p in h){var _=h[p],C=this.context.extTimerQuery,D=C.getQueryObjectEXT(_.query,C.QUERY_RESULT_EXT)/1e6;C.deleteQueryEXT(_.query),f[p]=D}return f},go.prototype.translatePosMatrix=function(h,f,p,_,C){if(!p[0]&&!p[1])return h;var D=C?"map"===_?this.transform.angle:0:"viewport"===_?-this.transform.angle:0;if(D){var M=Math.sin(D),z=Math.cos(D);p=[p[0]*z-p[1]*M,p[0]*M+p[1]*z]}var ie=[C?p[0]:No(f,p[0],this.transform.zoom),C?p[1]:No(f,p[1],this.transform.zoom),0],ue=new Float32Array(16);return A.translate(ue,h,ie),ue},go.prototype.saveTileTexture=function(h){var f=this._tileTextures[h.size[0]];f?f.push(h):this._tileTextures[h.size[0]]=[h]},go.prototype.getTileTexture=function(h){var f=this._tileTextures[h];return f&&f.length>0?f.pop():null},go.prototype.isPatternMissing=function(h){if(!h)return!1;if(!h.from||!h.to)return!0;var f=this.imageManager.getPattern(h.from.toString()),p=this.imageManager.getPattern(h.to.toString());return!f||!p},go.prototype.useProgram=function(h,f){this.cache=this.cache||{};var p=""+h+(f?f.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[p]||(this.cache[p]=new gp(this.context,h,_d[h],f,Sh[h],this._showOverdrawInspector)),this.cache[p]},go.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},go.prototype.setBaseState=function(){var h=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(h.FUNC_ADD)},go.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=A.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new A.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},go.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var za=function(h,f){this.points=h,this.planes=f};za.fromInvProjectionMatrix=function(h,f,p){var _=Math.pow(2,p),C=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(M){return A.transformMat4([],M,h)}).map(function(M){return A.scale$1([],M,1/M[3]/f*_)}),D=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(M){var z=A.sub([],C[M[0]],C[M[1]]),ie=A.sub([],C[M[2]],C[M[1]]),ue=A.normalize([],A.cross([],z,ie)),Ce=-A.dot(ue,C[M[1]]);return ue.concat(Ce)});return new za(C,D)};var vu=function(h,f){this.min=h,this.max=f,this.center=A.scale$2([],A.add([],this.min,this.max),.5)};vu.prototype.quadrant=function(h){for(var f=[h%2==0,h<2],p=A.clone$2(this.min),_=A.clone$2(this.max),C=0;C<f.length;C++)p[C]=f[C]?this.min[C]:this.center[C],_[C]=f[C]?this.center[C]:this.max[C];return _[2]=this.max[2],new vu(p,_)},vu.prototype.distanceX=function(h){return Math.max(Math.min(this.max[0],h[0]),this.min[0])-h[0]},vu.prototype.distanceY=function(h){return Math.max(Math.min(this.max[1],h[1]),this.min[1])-h[1]},vu.prototype.intersects=function(h){for(var f=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],p=!0,_=0;_<h.planes.length;_++){for(var C=h.planes[_],D=0,M=0;M<f.length;M++)D+=A.dot$1(C,f[M])>=0;if(0===D)return 0;D!==f.length&&(p=!1)}if(p)return 2;for(var z=0;z<3;z++){for(var ie=Number.MAX_VALUE,ue=-Number.MAX_VALUE,Ce=0;Ce<h.points.length;Ce++){var Se=h.points[Ce][z]-this.min[z];ie=Math.min(ie,Se),ue=Math.max(ue,Se)}if(ue<0||ie>this.max[z]-this.min[z])return 0}return 1};var yu=function(h,f,p,_){if(void 0===h&&(h=0),void 0===f&&(f=0),void 0===p&&(p=0),void 0===_&&(_=0),isNaN(h)||h<0||isNaN(f)||f<0||isNaN(p)||p<0||isNaN(_)||_<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=h,this.bottom=f,this.left=p,this.right=_};yu.prototype.interpolate=function(h,f,p){return null!=f.top&&null!=h.top&&(this.top=A.number(h.top,f.top,p)),null!=f.bottom&&null!=h.bottom&&(this.bottom=A.number(h.bottom,f.bottom,p)),null!=f.left&&null!=h.left&&(this.left=A.number(h.left,f.left,p)),null!=f.right&&null!=h.right&&(this.right=A.number(h.right,f.right,p)),this},yu.prototype.getCenter=function(h,f){var p=A.clamp((this.left+h-this.right)/2,0,h),_=A.clamp((this.top+f-this.bottom)/2,0,f);return new A.Point(p,_)},yu.prototype.equals=function(h){return this.top===h.top&&this.bottom===h.bottom&&this.left===h.left&&this.right===h.right},yu.prototype.clone=function(){return new yu(this.top,this.bottom,this.left,this.right)},yu.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Hr=function(h,f,p,_,C){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===C||C,this._minZoom=h||0,this._maxZoom=f||22,this._minPitch=p??0,this._maxPitch=_??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new A.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new yu,this._posMatrixCache={},this._alignedPosMatrixCache={}},eo={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Hr.prototype.clone=function(){var h=new Hr(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return h.tileSize=this.tileSize,h.latRange=this.latRange,h.width=this.width,h.height=this.height,h._center=this._center,h.zoom=this.zoom,h.angle=this.angle,h._fov=this._fov,h._pitch=this._pitch,h._unmodified=this._unmodified,h._edgeInsets=this._edgeInsets.clone(),h._calcMatrices(),h},eo.minZoom.get=function(){return this._minZoom},eo.minZoom.set=function(h){this._minZoom!==h&&(this._minZoom=h,this.zoom=Math.max(this.zoom,h))},eo.maxZoom.get=function(){return this._maxZoom},eo.maxZoom.set=function(h){this._maxZoom!==h&&(this._maxZoom=h,this.zoom=Math.min(this.zoom,h))},eo.minPitch.get=function(){return this._minPitch},eo.minPitch.set=function(h){this._minPitch!==h&&(this._minPitch=h,this.pitch=Math.max(this.pitch,h))},eo.maxPitch.get=function(){return this._maxPitch},eo.maxPitch.set=function(h){this._maxPitch!==h&&(this._maxPitch=h,this.pitch=Math.min(this.pitch,h))},eo.renderWorldCopies.get=function(){return this._renderWorldCopies},eo.renderWorldCopies.set=function(h){void 0===h?h=!0:null===h&&(h=!1),this._renderWorldCopies=h},eo.worldSize.get=function(){return this.tileSize*this.scale},eo.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},eo.size.get=function(){return new A.Point(this.width,this.height)},eo.bearing.get=function(){return-this.angle/Math.PI*180},eo.bearing.set=function(h){var f=-A.wrap(h,-180,180)*Math.PI/180;this.angle!==f&&(this._unmodified=!1,this.angle=f,this._calcMatrices(),this.rotationMatrix=A.create$2(),A.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},eo.pitch.get=function(){return this._pitch/Math.PI*180},eo.pitch.set=function(h){var f=A.clamp(h,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==f&&(this._unmodified=!1,this._pitch=f,this._calcMatrices())},eo.fov.get=function(){return this._fov/Math.PI*180},eo.fov.set=function(h){h=Math.max(.01,Math.min(60,h)),this._fov!==h&&(this._unmodified=!1,this._fov=h/180*Math.PI,this._calcMatrices())},eo.zoom.get=function(){return this._zoom},eo.zoom.set=function(h){var f=Math.min(Math.max(h,this.minZoom),this.maxZoom);this._zoom!==f&&(this._unmodified=!1,this._zoom=f,this.scale=this.zoomScale(f),this.tileZoom=Math.floor(f),this.zoomFraction=f-this.tileZoom,this._constrain(),this._calcMatrices())},eo.center.get=function(){return this._center},eo.center.set=function(h){h.lat===this._center.lat&&h.lng===this._center.lng||(this._unmodified=!1,this._center=h,this._constrain(),this._calcMatrices())},eo.padding.get=function(){return this._edgeInsets.toJSON()},eo.padding.set=function(h){this._edgeInsets.equals(h)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,h,1),this._calcMatrices())},eo.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Hr.prototype.isPaddingEqual=function(h){return this._edgeInsets.equals(h)},Hr.prototype.interpolatePadding=function(h,f,p){this._unmodified=!1,this._edgeInsets.interpolate(h,f,p),this._constrain(),this._calcMatrices()},Hr.prototype.coveringZoomLevel=function(h){var f=(h.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/h.tileSize));return Math.max(0,f)},Hr.prototype.getVisibleUnwrappedCoordinates=function(h){var f=[new A.UnwrappedTileID(0,h)];if(this._renderWorldCopies)for(var p=this.pointCoordinate(new A.Point(0,0)),_=this.pointCoordinate(new A.Point(this.width,0)),C=this.pointCoordinate(new A.Point(this.width,this.height)),D=this.pointCoordinate(new A.Point(0,this.height)),M=Math.floor(Math.min(p.x,_.x,C.x,D.x)),z=Math.floor(Math.max(p.x,_.x,C.x,D.x)),ie=M-1;ie<=z+1;ie++)0!==ie&&f.push(new A.UnwrappedTileID(ie,h));return f},Hr.prototype.coveringTiles=function(h){var f=this.coveringZoomLevel(h),p=f;if(void 0!==h.minzoom&&f<h.minzoom)return[];void 0!==h.maxzoom&&f>h.maxzoom&&(f=h.maxzoom);var _=A.MercatorCoordinate.fromLngLat(this.center),C=Math.pow(2,f),D=[C*_.x,C*_.y,0],M=za.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,f),z=h.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(z=f);var ie=function(Un){return{aabb:new vu([Un*C,0,0],[(Un+1)*C,C,0]),zoom:0,x:0,y:0,wrap:Un,fullyVisible:!1}},ue=[],Ce=[],Se=f,ke=h.reparseOverscaled?p:f;if(this._renderWorldCopies)for(var qe=1;qe<=3;qe++)ue.push(ie(-qe)),ue.push(ie(qe));for(ue.push(ie(0));ue.length>0;){var je=ue.pop(),ut=je.x,Ue=je.y,lt=je.fullyVisible;if(!lt){var At=je.aabb.intersects(M);if(0===At)continue;lt=2===At}var Ot=je.aabb.distanceX(D),rn=je.aabb.distanceY(D),tn=Math.max(Math.abs(Ot),Math.abs(rn));if(je.zoom===Se||tn>3+(1<<Se-je.zoom)-2&&je.zoom>=z)Ce.push({tileID:new A.OverscaledTileID(je.zoom===Se?ke:je.zoom,je.wrap,je.zoom,ut,Ue),distanceSq:A.sqrLen([D[0]-.5-ut,D[1]-.5-Ue])});else for(var un=0;un<4;un++){var Cn=(ut<<1)+un%2,wn=(Ue<<1)+(un>>1);ue.push({aabb:je.aabb.quadrant(un),zoom:je.zoom+1,x:Cn,y:wn,wrap:je.wrap,fullyVisible:lt})}}return Ce.sort(function(Un,ci){return Un.distanceSq-ci.distanceSq}).map(function(Un){return Un.tileID})},Hr.prototype.resize=function(h,f){this.width=h,this.height=f,this.pixelsToGLUnits=[2/h,-2/f],this._constrain(),this._calcMatrices()},eo.unmodified.get=function(){return this._unmodified},Hr.prototype.zoomScale=function(h){return Math.pow(2,h)},Hr.prototype.scaleZoom=function(h){return Math.log(h)/Math.LN2},Hr.prototype.project=function(h){var f=A.clamp(h.lat,-this.maxValidLatitude,this.maxValidLatitude);return new A.Point(A.mercatorXfromLng(h.lng)*this.worldSize,A.mercatorYfromLat(f)*this.worldSize)},Hr.prototype.unproject=function(h){return new A.MercatorCoordinate(h.x/this.worldSize,h.y/this.worldSize).toLngLat()},eo.point.get=function(){return this.project(this.center)},Hr.prototype.setLocationAtPoint=function(h,f){var p=this.pointCoordinate(f),_=this.pointCoordinate(this.centerPoint),C=this.locationCoordinate(h),D=new A.MercatorCoordinate(C.x-(p.x-_.x),C.y-(p.y-_.y));this.center=this.coordinateLocation(D),this._renderWorldCopies&&(this.center=this.center.wrap())},Hr.prototype.locationPoint=function(h){return this.coordinatePoint(this.locationCoordinate(h))},Hr.prototype.pointLocation=function(h){return this.coordinateLocation(this.pointCoordinate(h))},Hr.prototype.locationCoordinate=function(h){return A.MercatorCoordinate.fromLngLat(h)},Hr.prototype.coordinateLocation=function(h){return h.toLngLat()},Hr.prototype.pointCoordinate=function(h){var f=[h.x,h.y,0,1],p=[h.x,h.y,1,1];A.transformMat4(f,f,this.pixelMatrixInverse),A.transformMat4(p,p,this.pixelMatrixInverse);var _=f[3],C=p[3],D=f[1]/_,M=p[1]/C,z=f[2]/_,ie=p[2]/C,ue=z===ie?0:(0-z)/(ie-z);return new A.MercatorCoordinate(A.number(f[0]/_,p[0]/C,ue)/this.worldSize,A.number(D,M,ue)/this.worldSize)},Hr.prototype.coordinatePoint=function(h){var f=[h.x*this.worldSize,h.y*this.worldSize,0,1];return A.transformMat4(f,f,this.pixelMatrix),new A.Point(f[0]/f[3],f[1]/f[3])},Hr.prototype.getBounds=function(){return(new A.LngLatBounds).extend(this.pointLocation(new A.Point(0,0))).extend(this.pointLocation(new A.Point(this.width,0))).extend(this.pointLocation(new A.Point(this.width,this.height))).extend(this.pointLocation(new A.Point(0,this.height)))},Hr.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new A.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},Hr.prototype.setMaxBounds=function(h){h?(this.lngRange=[h.getWest(),h.getEast()],this.latRange=[h.getSouth(),h.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Hr.prototype.calculatePosMatrix=function(h,f){void 0===f&&(f=!1);var p=h.key,_=f?this._alignedPosMatrixCache:this._posMatrixCache;if(_[p])return _[p];var C=h.canonical,D=this.worldSize/this.zoomScale(C.z),M=C.x+Math.pow(2,C.z)*h.wrap,z=A.identity(new Float64Array(16));return A.translate(z,z,[M*D,C.y*D,0]),A.scale(z,z,[D/A.EXTENT,D/A.EXTENT,1]),A.multiply(z,f?this.alignedProjMatrix:this.projMatrix,z),_[p]=new Float32Array(z),_[p]},Hr.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Hr.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var h,f,p,_,C=-90,D=90,M=-180,z=180,ie=this.size,ue=this._unmodified;if(this.latRange){var Ce=this.latRange;C=A.mercatorYfromLat(Ce[1])*this.worldSize,h=(D=A.mercatorYfromLat(Ce[0])*this.worldSize)-C<ie.y?ie.y/(D-C):0}if(this.lngRange){var Se=this.lngRange;M=A.mercatorXfromLng(Se[0])*this.worldSize,f=(z=A.mercatorXfromLng(Se[1])*this.worldSize)-M<ie.x?ie.x/(z-M):0}var ke=this.point,qe=Math.max(f||0,h||0);if(qe)return this.center=this.unproject(new A.Point(f?(z+M)/2:ke.x,h?(D+C)/2:ke.y)),this.zoom+=this.scaleZoom(qe),this._unmodified=ue,void(this._constraining=!1);if(this.latRange){var je=ke.y,ut=ie.y/2;je-ut<C&&(_=C+ut),je+ut>D&&(_=D-ut)}if(this.lngRange){var Ue=ke.x,lt=ie.x/2;Ue-lt<M&&(p=M+lt),Ue+lt>z&&(p=z-lt)}void 0===p&&void 0===_||(this.center=this.unproject(new A.Point(void 0!==p?p:ke.x,void 0!==_?_:ke.y))),this._unmodified=ue,this._constraining=!1}},Hr.prototype._calcMatrices=function(){if(this.height){var h=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var f=Math.PI/2+this._pitch,p=this._fov*(.5+h.y/this.height),_=Math.sin(p)*this.cameraToCenterDistance/Math.sin(A.clamp(Math.PI-f-p,.01,Math.PI-.01)),C=this.point,D=C.x,M=C.y,z=1.01*(Math.cos(Math.PI/2-this._pitch)*_+this.cameraToCenterDistance),ie=this.height/50,ue=new Float64Array(16);A.perspective(ue,this._fov,this.width/this.height,ie,z),ue[8]=2*-h.x/this.width,ue[9]=2*h.y/this.height,A.scale(ue,ue,[1,-1,1]),A.translate(ue,ue,[0,0,-this.cameraToCenterDistance]),A.rotateX(ue,ue,this._pitch),A.rotateZ(ue,ue,this.angle),A.translate(ue,ue,[-D,-M,0]),this.mercatorMatrix=A.scale([],ue,[this.worldSize,this.worldSize,this.worldSize]),A.scale(ue,ue,[1,1,A.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=ue,this.invProjMatrix=A.invert([],this.projMatrix);var Ce=this.width%2/2,Se=this.height%2/2,ke=Math.cos(this.angle),qe=Math.sin(this.angle),je=D-Math.round(D)+ke*Ce+qe*Se,ut=M-Math.round(M)+ke*Se+qe*Ce,Ue=new Float64Array(ue);if(A.translate(Ue,Ue,[je>.5?je-1:je,ut>.5?ut-1:ut,0]),this.alignedProjMatrix=Ue,ue=A.create(),A.scale(ue,ue,[this.width/2,-this.height/2,1]),A.translate(ue,ue,[1,-1,0]),this.labelPlaneMatrix=ue,ue=A.create(),A.scale(ue,ue,[1,-1,1]),A.translate(ue,ue,[-1,-1,0]),A.scale(ue,ue,[2/this.width,2/this.height,1]),this.glCoordMatrix=ue,this.pixelMatrix=A.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(ue=A.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=ue,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Hr.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var h=this.pointCoordinate(new A.Point(0,0)),f=[h.x*this.worldSize,h.y*this.worldSize,0,1];return A.transformMat4(f,f,this.pixelMatrix)[3]/this.cameraToCenterDistance},Hr.prototype.getCameraPoint=function(){var h=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new A.Point(0,h))},Hr.prototype.getCameraQueryGeometry=function(h){var f=this.getCameraPoint();if(1===h.length)return[h[0],f];for(var p=f.x,_=f.y,C=f.x,D=f.y,M=0,z=h;M<z.length;M+=1){var ie=z[M];p=Math.min(p,ie.x),_=Math.min(_,ie.y),C=Math.max(C,ie.x),D=Math.max(D,ie.y)}return[new A.Point(p,_),new A.Point(C,_),new A.Point(C,D),new A.Point(p,D),new A.Point(p,_)]},Object.defineProperties(Hr.prototype,eo);var oe=function(h){var f,p,_,C;this._hashName=h&&encodeURIComponent(h),A.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(f=this._updateHashUnthrottled.bind(this),p=!1,_=null,C=function(){_=null,p&&(f(),_=setTimeout(C,300),p=!1)},function(){return p=!0,_||C(),_})};oe.prototype.addTo=function(h){return this._map=h,A.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},oe.prototype.remove=function(){return A.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},oe.prototype.getHashString=function(h){var f=this._map.getCenter(),p=Math.round(100*this._map.getZoom())/100,_=Math.ceil((p*Math.LN2+Math.log(512/360/.5))/Math.LN10),C=Math.pow(10,_),D=Math.round(f.lng*C)/C,M=Math.round(f.lat*C)/C,z=this._map.getBearing(),ie=this._map.getPitch(),ue="";if(ue+=h?"/"+D+"/"+M+"/"+p:p+"/"+M+"/"+D,(z||ie)&&(ue+="/"+Math.round(10*z)/10),ie&&(ue+="/"+Math.round(ie)),this._hashName){var Ce=this._hashName,Se=!1,ke=A.window.location.hash.slice(1).split("&").map(function(qe){var je=qe.split("=")[0];return je===Ce?(Se=!0,je+"="+ue):qe}).filter(function(qe){return qe});return Se||ke.push(Ce+"="+ue),"#"+ke.join("&")}return"#"+ue},oe.prototype._getCurrentHash=function(){var h,f=this,p=A.window.location.hash.replace("#","");return this._hashName?(p.split("&").map(function(_){return _.split("=")}).forEach(function(_){_[0]===f._hashName&&(h=_)}),(h&&h[1]||"").split("/")):p.split("/")},oe.prototype._onHashChange=function(){var h=this._getCurrentHash();if(h.length>=3&&!h.some(function(p){return isNaN(p)})){var f=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(h[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+h[2],+h[1]],zoom:+h[0],bearing:f,pitch:+(h[4]||0)}),!0}return!1},oe.prototype._updateHashUnthrottled=function(){var h=A.window.location.href.replace(/(#.+)?$/,this.getHashString());try{A.window.history.replaceState(A.window.history.state,null,h)}catch{}};var pe={linearity:.3,easing:A.bezier(0,0,.3,1)},ve=A.extend({deceleration:2500,maxSpeed:1400},pe),Ne=A.extend({deceleration:20,maxSpeed:1400},pe),Mt=A.extend({deceleration:1e3,maxSpeed:360},pe),ln=A.extend({deceleration:1e3,maxSpeed:90},pe),dn=function(h){this._map=h,this.clear()};function Ln(h,f){(!h.duration||h.duration<f.duration)&&(h.duration=f.duration,h.easing=f.easing)}function Gn(h,f,p){var _=p.maxSpeed,C=p.linearity,D=p.deceleration,M=A.clamp(h*C/(f/1e3),-_,_),z=Math.abs(M)/(D*C);return{easing:p.easing,duration:1e3*z,amount:M*(z/2)}}dn.prototype.clear=function(){this._inertiaBuffer=[]},dn.prototype.record=function(h){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:A.browser.now(),settings:h})},dn.prototype._drainInertiaBuffer=function(){for(var h=this._inertiaBuffer,f=A.browser.now();h.length>0&&f-h[0].time>160;)h.shift()},dn.prototype._onMoveEnd=function(h){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var f={zoom:0,bearing:0,pitch:0,pan:new A.Point(0,0),pinchAround:void 0,around:void 0},p=0,_=this._inertiaBuffer;p<_.length;p+=1){var C=_[p].settings;f.zoom+=C.zoomDelta||0,f.bearing+=C.bearingDelta||0,f.pitch+=C.pitchDelta||0,C.panDelta&&f.pan._add(C.panDelta),C.around&&(f.around=C.around),C.pinchAround&&(f.pinchAround=C.pinchAround)}var D=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,M={};if(f.pan.mag()){var z=Gn(f.pan.mag(),D,A.extend({},ve,h||{}));M.offset=f.pan.mult(z.amount/f.pan.mag()),M.center=this._map.transform.center,Ln(M,z)}if(f.zoom){var ie=Gn(f.zoom,D,Ne);M.zoom=this._map.transform.zoom+ie.amount,Ln(M,ie)}if(f.bearing){var ue=Gn(f.bearing,D,Mt);M.bearing=this._map.transform.bearing+A.clamp(ue.amount,-179,179),Ln(M,ue)}if(f.pitch){var Ce=Gn(f.pitch,D,ln);M.pitch=this._map.transform.pitch+Ce.amount,Ln(M,Ce)}if(M.zoom||M.bearing){var Se=void 0===f.pinchAround?f.around:f.pinchAround;M.around=Se?this._map.unproject(Se):this._map.getCenter()}return this.clear(),A.extend(M,{noMoveStart:!0})}};var Mn=function(h){function f(_,C,D,M){void 0===M&&(M={});var z=P.mousePos(C.getCanvasContainer(),D),ie=C.unproject(z);h.call(this,_,A.extend({point:z,lngLat:ie,originalEvent:D},M)),this._defaultPrevented=!1,this.target=C}h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f;var p={defaultPrevented:{configurable:!0}};return f.prototype.preventDefault=function(){this._defaultPrevented=!0},p.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(f.prototype,p),f}(A.Event),qr=function(h){function f(_,C,D){var M="touchend"===_?D.changedTouches:D.touches,z=P.touchPos(C.getCanvasContainer(),M),ie=z.map(function(Se){return C.unproject(Se)}),ue=z.reduce(function(Se,ke,qe,je){return Se.add(ke.div(je.length))},new A.Point(0,0)),Ce=C.unproject(ue);h.call(this,_,{points:z,point:ue,lngLats:ie,lngLat:Ce,originalEvent:D}),this._defaultPrevented=!1}h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f;var p={defaultPrevented:{configurable:!0}};return f.prototype.preventDefault=function(){this._defaultPrevented=!0},p.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(f.prototype,p),f}(A.Event),nc=function(h){function f(_,C,D){h.call(this,_,{originalEvent:D}),this._defaultPrevented=!1}h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f;var p={defaultPrevented:{configurable:!0}};return f.prototype.preventDefault=function(){this._defaultPrevented=!0},p.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(f.prototype,p),f}(A.Event),Mo=function(h,f){this._map=h,this._clickTolerance=f.clickTolerance};Mo.prototype.reset=function(){delete this._mousedownPos},Mo.prototype.wheel=function(h){return this._firePreventable(new nc(h.type,this._map,h))},Mo.prototype.mousedown=function(h,f){return this._mousedownPos=f,this._firePreventable(new Mn(h.type,this._map,h))},Mo.prototype.mouseup=function(h){this._map.fire(new Mn(h.type,this._map,h))},Mo.prototype.click=function(h,f){this._mousedownPos&&this._mousedownPos.dist(f)>=this._clickTolerance||this._map.fire(new Mn(h.type,this._map,h))},Mo.prototype.dblclick=function(h){return this._firePreventable(new Mn(h.type,this._map,h))},Mo.prototype.mouseover=function(h){this._map.fire(new Mn(h.type,this._map,h))},Mo.prototype.mouseout=function(h){this._map.fire(new Mn(h.type,this._map,h))},Mo.prototype.touchstart=function(h){return this._firePreventable(new qr(h.type,this._map,h))},Mo.prototype.touchmove=function(h){this._map.fire(new qr(h.type,this._map,h))},Mo.prototype.touchend=function(h){this._map.fire(new qr(h.type,this._map,h))},Mo.prototype.touchcancel=function(h){this._map.fire(new qr(h.type,this._map,h))},Mo.prototype._firePreventable=function(h){if(this._map.fire(h),h.defaultPrevented)return{}},Mo.prototype.isEnabled=function(){return!0},Mo.prototype.isActive=function(){return!1},Mo.prototype.enable=function(){},Mo.prototype.disable=function(){};var li=function(h){this._map=h};li.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},li.prototype.mousemove=function(h){this._map.fire(new Mn(h.type,this._map,h))},li.prototype.mousedown=function(){this._delayContextMenu=!0},li.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Mn("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},li.prototype.contextmenu=function(h){this._delayContextMenu?this._contextMenuEvent=h:this._map.fire(new Mn(h.type,this._map,h)),this._map.listens("contextmenu")&&h.preventDefault()},li.prototype.isEnabled=function(){return!0},li.prototype.isActive=function(){return!1},li.prototype.enable=function(){},li.prototype.disable=function(){};var ya=function(h,f){this._map=h,this._el=h.getCanvasContainer(),this._container=h.getContainer(),this._clickTolerance=f.clickTolerance||1};function Nn(h,f){for(var p={},_=0;_<h.length;_++)p[h[_].identifier]=f[_];return p}ya.prototype.isEnabled=function(){return!!this._enabled},ya.prototype.isActive=function(){return!!this._active},ya.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},ya.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},ya.prototype.mousedown=function(h,f){this.isEnabled()&&h.shiftKey&&0===h.button&&(P.disableDrag(),this._startPos=this._lastPos=f,this._active=!0)},ya.prototype.mousemoveWindow=function(h,f){if(this._active){var p=f;if(!(this._lastPos.equals(p)||!this._box&&p.dist(this._startPos)<this._clickTolerance)){var _=this._startPos;this._lastPos=p,this._box||(this._box=P.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",h));var C=Math.min(_.x,p.x),D=Math.max(_.x,p.x),M=Math.min(_.y,p.y),z=Math.max(_.y,p.y);P.setTransform(this._box,"translate("+C+"px,"+M+"px)"),this._box.style.width=D-C+"px",this._box.style.height=z-M+"px"}}},ya.prototype.mouseupWindow=function(h,f){var p=this;if(this._active&&0===h.button){var _=this._startPos,C=f;if(this.reset(),P.suppressClick(),_.x!==C.x||_.y!==C.y)return this._map.fire(new A.Event("boxzoomend",{originalEvent:h})),{cameraAnimation:function(D){return D.fitScreenCoordinates(_,C,p._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",h)}},ya.prototype.keydown=function(h){this._active&&27===h.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",h))},ya.prototype.blur=function(){this.reset()},ya.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(P.remove(this._box),this._box=null),P.enableDrag(),delete this._startPos,delete this._lastPos},ya.prototype._fireEvent=function(h,f){return this._map.fire(new A.Event(h,{originalEvent:f}))};var pf=function(h){this.reset(),this.numTouches=h.numTouches};pf.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},pf.prototype.touchstart=function(h,f,p){(this.centroid||p.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=h.timeStamp),p.length===this.numTouches&&(this.centroid=function(_){for(var C=new A.Point(0,0),D=0,M=_;D<M.length;D+=1)C._add(M[D]);return C.div(_.length)}(f),this.touches=Nn(p,f)))},pf.prototype.touchmove=function(h,f,p){if(!this.aborted&&this.centroid){var _=Nn(p,f);for(var C in this.touches){var D=_[C];(!D||D.dist(this.touches[C])>30)&&(this.aborted=!0)}}},pf.prototype.touchend=function(h,f,p){if((!this.centroid||h.timeStamp-this.startTime>500)&&(this.aborted=!0),0===p.length){var _=!this.aborted&&this.centroid;if(this.reset(),_)return _}};var di=function(h){this.singleTap=new pf(h),this.numTaps=h.numTaps,this.reset()};di.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},di.prototype.touchstart=function(h,f,p){this.singleTap.touchstart(h,f,p)},di.prototype.touchmove=function(h,f,p){this.singleTap.touchmove(h,f,p)},di.prototype.touchend=function(h,f,p){var _=this.singleTap.touchend(h,f,p);if(_){var C=h.timeStamp-this.lastTime<500,D=!this.lastTap||this.lastTap.dist(_)<30;if(C&&D||this.reset(),this.count++,this.lastTime=h.timeStamp,this.lastTap=_,this.count===this.numTaps)return this.reset(),_}};var Ra=function(){this._zoomIn=new di({numTouches:1,numTaps:2}),this._zoomOut=new di({numTouches:2,numTaps:1}),this.reset()};Ra.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Ra.prototype.touchstart=function(h,f,p){this._zoomIn.touchstart(h,f,p),this._zoomOut.touchstart(h,f,p)},Ra.prototype.touchmove=function(h,f,p){this._zoomIn.touchmove(h,f,p),this._zoomOut.touchmove(h,f,p)},Ra.prototype.touchend=function(h,f,p){var _=this,C=this._zoomIn.touchend(h,f,p),D=this._zoomOut.touchend(h,f,p);return C?(this._active=!0,h.preventDefault(),setTimeout(function(){return _.reset()},0),{cameraAnimation:function(M){return M.easeTo({duration:300,zoom:M.getZoom()+1,around:M.unproject(C)},{originalEvent:h})}}):D?(this._active=!0,h.preventDefault(),setTimeout(function(){return _.reset()},0),{cameraAnimation:function(M){return M.easeTo({duration:300,zoom:M.getZoom()-1,around:M.unproject(D)},{originalEvent:h})}}):void 0},Ra.prototype.touchcancel=function(){this.reset()},Ra.prototype.enable=function(){this._enabled=!0},Ra.prototype.disable=function(){this._enabled=!1,this.reset()},Ra.prototype.isEnabled=function(){return this._enabled},Ra.prototype.isActive=function(){return this._active};var sm={0:1,2:2},Yn=function(h){this.reset(),this._clickTolerance=h.clickTolerance||1};Yn.prototype.blur=function(){this.reset()},Yn.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Yn.prototype._correctButton=function(h,f){return!1},Yn.prototype._move=function(h,f){return{}},Yn.prototype.mousedown=function(h,f){if(!this._lastPoint){var p=P.mouseButton(h);this._correctButton(h,p)&&(this._lastPoint=f,this._eventButton=p)}},Yn.prototype.mousemoveWindow=function(h,f){var _,D,p=this._lastPoint;if(p)if(h.preventDefault(),D=sm[this._eventButton],void 0===(_=h).buttons||(_.buttons&D)!==D)this.reset();else if(this._moved||!(f.dist(p)<this._clickTolerance))return this._moved=!0,this._lastPoint=f,this._move(p,f)},Yn.prototype.mouseupWindow=function(h){this._lastPoint&&P.mouseButton(h)===this._eventButton&&(this._moved&&P.suppressClick(),this.reset())},Yn.prototype.enable=function(){this._enabled=!0},Yn.prototype.disable=function(){this._enabled=!1,this.reset()},Yn.prototype.isEnabled=function(){return this._enabled},Yn.prototype.isActive=function(){return this._active};var cA=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.mousedown=function(p,_){h.prototype.mousedown.call(this,p,_),this._lastPoint&&(this._active=!0)},f.prototype._correctButton=function(p,_){return 0===_&&!p.ctrlKey},f.prototype._move=function(p,_){return{around:_,panDelta:_.sub(p)}},f}(Yn),Rh=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype._correctButton=function(p,_){return 0===_&&p.ctrlKey||2===_},f.prototype._move=function(p,_){var C=.8*(_.x-p.x);if(C)return this._active=!0,{bearingDelta:C}},f.prototype.contextmenu=function(p){p.preventDefault()},f}(Yn),wp=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype._correctButton=function(p,_){return 0===_&&p.ctrlKey||2===_},f.prototype._move=function(p,_){var C=-.5*(_.y-p.y);if(C)return this._active=!0,{pitchDelta:C}},f.prototype.contextmenu=function(p){p.preventDefault()},f}(Yn),ic=function(h){this._minTouches=1,this._clickTolerance=h.clickTolerance||1,this.reset()};ic.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new A.Point(0,0)},ic.prototype.touchstart=function(h,f,p){return this._calculateTransform(h,f,p)},ic.prototype.touchmove=function(h,f,p){if(this._active&&!(p.length<this._minTouches))return h.preventDefault(),this._calculateTransform(h,f,p)},ic.prototype.touchend=function(h,f,p){this._calculateTransform(h,f,p),this._active&&p.length<this._minTouches&&this.reset()},ic.prototype.touchcancel=function(){this.reset()},ic.prototype._calculateTransform=function(h,f,p){p.length>0&&(this._active=!0);var _=Nn(p,f),C=new A.Point(0,0),D=new A.Point(0,0),M=0;for(var z in _){var ie=_[z],ue=this._touches[z];ue&&(C._add(ie),D._add(ie.sub(ue)),M++,_[z]=ie)}if(this._touches=_,!(M<this._minTouches)&&D.mag()){var Ce=D.div(M);if(this._sum._add(Ce),!(this._sum.mag()<this._clickTolerance))return{around:C.div(M),panDelta:Ce}}},ic.prototype.enable=function(){this._enabled=!0},ic.prototype.disable=function(){this._enabled=!1,this.reset()},ic.prototype.isEnabled=function(){return this._enabled},ic.prototype.isActive=function(){return this._active};var Bl=function(){this.reset()};function uA(h,f,p){for(var _=0;_<h.length;_++)if(h[_].identifier===p)return f[_]}function Wt(h,f){return Math.log(h/f)/Math.LN2}Bl.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Bl.prototype._start=function(h){},Bl.prototype._move=function(h,f,p){return{}},Bl.prototype.touchstart=function(h,f,p){this._firstTwoTouches||p.length<2||(this._firstTwoTouches=[p[0].identifier,p[1].identifier],this._start([f[0],f[1]]))},Bl.prototype.touchmove=function(h,f,p){if(this._firstTwoTouches){h.preventDefault();var _=this._firstTwoTouches,C=_[1],D=uA(p,f,_[0]),M=uA(p,f,C);if(D&&M){var z=this._aroundCenter?null:D.add(M).div(2);return this._move([D,M],z,h)}}},Bl.prototype.touchend=function(h,f,p){if(this._firstTwoTouches){var _=this._firstTwoTouches,C=_[1],D=uA(p,f,_[0]),M=uA(p,f,C);D&&M||(this._active&&P.suppressClick(),this.reset())}},Bl.prototype.touchcancel=function(){this.reset()},Bl.prototype.enable=function(h){this._enabled=!0,this._aroundCenter=!!h&&"center"===h.around},Bl.prototype.disable=function(){this._enabled=!1,this.reset()},Bl.prototype.isEnabled=function(){return this._enabled},Bl.prototype.isActive=function(){return this._active};var Pl=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.reset=function(){h.prototype.reset.call(this),delete this._distance,delete this._startDistance},f.prototype._start=function(p){this._startDistance=this._distance=p[0].dist(p[1])},f.prototype._move=function(p,_){var C=this._distance;if(this._distance=p[0].dist(p[1]),this._active||!(Math.abs(Wt(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Wt(this._distance,C),pinchAround:_}},f}(Bl);function Hu(h,f){return 180*h.angleWith(f)/Math.PI}var ff=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.reset=function(){h.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},f.prototype._start=function(p){this._startVector=this._vector=p[0].sub(p[1]),this._minDiameter=p[0].dist(p[1])},f.prototype._move=function(p,_){var C=this._vector;if(this._vector=p[0].sub(p[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Hu(this._vector,C),pinchAround:_}},f.prototype._isBelowThreshold=function(p){this._minDiameter=Math.min(this._minDiameter,p.mag());var _=25/(Math.PI*this._minDiameter)*360,C=Hu(p,this._startVector);return Math.abs(C)<_},f}(Bl);function Mh(h){return Math.abs(h.y)>Math.abs(h.x)}var am=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.reset=function(){h.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},f.prototype._start=function(p){this._lastPoints=p,Mh(p[0].sub(p[1]))&&(this._valid=!1)},f.prototype._move=function(p,_,C){var D=p[0].sub(this._lastPoints[0]),M=p[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(D,M,C.timeStamp),this._valid)return this._lastPoints=p,this._active=!0,{pitchDelta:(D.y+M.y)/2*-.5}},f.prototype.gestureBeginsVertically=function(p,_,C){if(void 0!==this._valid)return this._valid;var D=p.mag()>=2,M=_.mag()>=2;if(D||M){if(!D||!M)return void 0===this._firstMove&&(this._firstMove=C),C-this._firstMove<100&&void 0;var z=p.y>0==_.y>0;return Mh(p)&&Mh(_)&&z}},f}(Bl),dA={panStep:100,bearingStep:15,pitchStep:10},wd=function(){var h=dA;this._panStep=h.panStep,this._bearingStep=h.bearingStep,this._pitchStep=h.pitchStep,this._rotationDisabled=!1};function bu(h){return h*(2-h)}wd.prototype.blur=function(){this.reset()},wd.prototype.reset=function(){this._active=!1},wd.prototype.keydown=function(h){var f=this;if(!(h.altKey||h.ctrlKey||h.metaKey)){var p=0,_=0,C=0,D=0,M=0;switch(h.keyCode){case 61:case 107:case 171:case 187:p=1;break;case 189:case 109:case 173:p=-1;break;case 37:h.shiftKey?_=-1:(h.preventDefault(),D=-1);break;case 39:h.shiftKey?_=1:(h.preventDefault(),D=1);break;case 38:h.shiftKey?C=1:(h.preventDefault(),M=-1);break;case 40:h.shiftKey?C=-1:(h.preventDefault(),M=1);break;default:return}return this._rotationDisabled&&(_=0,C=0),{cameraAnimation:function(z){var ie=z.getZoom();z.easeTo({duration:300,easeId:"keyboardHandler",easing:bu,zoom:p?Math.round(ie)+p*(h.shiftKey?2:1):ie,bearing:z.getBearing()+_*f._bearingStep,pitch:z.getPitch()+C*f._pitchStep,offset:[-D*f._panStep,-M*f._panStep],center:z.getCenter()},{originalEvent:h})}}}},wd.prototype.enable=function(){this._enabled=!0},wd.prototype.disable=function(){this._enabled=!1,this.reset()},wd.prototype.isEnabled=function(){return this._enabled},wd.prototype.isActive=function(){return this._active},wd.prototype.disableRotation=function(){this._rotationDisabled=!0},wd.prototype.enableRotation=function(){this._rotationDisabled=!1};var Kr=function(h,f){this._map=h,this._el=h.getCanvasContainer(),this._handler=f,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,A.bindAll(["_onTimeout"],this)};Kr.prototype.setZoomRate=function(h){this._defaultZoomRate=h},Kr.prototype.setWheelZoomRate=function(h){this._wheelZoomRate=h},Kr.prototype.isEnabled=function(){return!!this._enabled},Kr.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},Kr.prototype.isZooming=function(){return!!this._zooming},Kr.prototype.enable=function(h){this.isEnabled()||(this._enabled=!0,this._aroundCenter=h&&"center"===h.around)},Kr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Kr.prototype.wheel=function(h){if(this.isEnabled()){var f=h.deltaMode===A.window.WheelEvent.DOM_DELTA_LINE?40*h.deltaY:h.deltaY,p=A.browser.now(),_=p-(this._lastWheelEventTime||0);this._lastWheelEventTime=p,0!==f&&f%4.000244140625==0?this._type="wheel":0!==f&&Math.abs(f)<4?this._type="trackpad":_>400?(this._type=null,this._lastValue=f,this._timeout=setTimeout(this._onTimeout,40,h)):this._type||(this._type=Math.abs(_*f)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,f+=this._lastValue)),h.shiftKey&&f&&(f/=4),this._type&&(this._lastWheelEvent=h,this._delta-=f,this._active||this._start(h)),h.preventDefault()}},Kr.prototype._onTimeout=function(h){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(h)},Kr.prototype._start=function(h){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var f=P.mousePos(this._el,h);this._around=A.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(f)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},Kr.prototype.renderFrame=function(){var h=this;if(this._frameId&&(this._frameId=null,this.isActive())){var f=this._map.transform;if(0!==this._delta){var p="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,_=2/(1+Math.exp(-Math.abs(this._delta*p)));this._delta<0&&0!==_&&(_=1/_);var C="number"==typeof this._targetZoom?f.zoomScale(this._targetZoom):f.scale;this._targetZoom=Math.min(f.maxZoom,Math.max(f.minZoom,f.scaleZoom(C*_))),"wheel"===this._type&&(this._startZoom=f.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var D,M="number"==typeof this._targetZoom?this._targetZoom:f.zoom,z=this._startZoom,ie=this._easing,ue=!1;if("wheel"===this._type&&z&&ie){var Ce=Math.min((A.browser.now()-this._lastWheelEventTime)/200,1),Se=ie(Ce);D=A.number(z,M,Se),Ce<1?this._frameId||(this._frameId=!0):ue=!0}else D=M,ue=!0;return this._active=!0,ue&&(this._active=!1,this._finishTimeout=setTimeout(function(){h._zooming=!1,h._handler._triggerRenderFrame(),delete h._targetZoom,delete h._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!ue,zoomDelta:D-f.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},Kr.prototype._smoothOutEasing=function(h){var f=A.ease;if(this._prevEase){var p=this._prevEase,_=(A.browser.now()-p.start)/p.duration,C=p.easing(_+.01)-p.easing(_),D=.27/Math.sqrt(C*C+1e-4)*.01,M=Math.sqrt(.0729-D*D);f=A.bezier(D,M,.25,1)}return this._prevEase={start:A.browser.now(),duration:h,easing:f},f},Kr.prototype.blur=function(){this.reset()},Kr.prototype.reset=function(){this._active=!1};var Zd=function(h,f){this._clickZoom=h,this._tapZoom=f};Zd.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Zd.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Zd.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Zd.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Ec=function(){this.reset()};Ec.prototype.reset=function(){this._active=!1},Ec.prototype.blur=function(){this.reset()},Ec.prototype.dblclick=function(h,f){return h.preventDefault(),{cameraAnimation:function(p){p.easeTo({duration:300,zoom:p.getZoom()+(h.shiftKey?-1:1),around:p.unproject(f)},{originalEvent:h})}}},Ec.prototype.enable=function(){this._enabled=!0},Ec.prototype.disable=function(){this._enabled=!1,this.reset()},Ec.prototype.isEnabled=function(){return this._enabled},Ec.prototype.isActive=function(){return this._active};var Rs=function(){this._tap=new di({numTouches:1,numTaps:1}),this.reset()};Rs.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Rs.prototype.touchstart=function(h,f,p){this._swipePoint||(this._tapTime&&h.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?p.length>0&&(this._swipePoint=f[0],this._swipeTouch=p[0].identifier):this._tap.touchstart(h,f,p))},Rs.prototype.touchmove=function(h,f,p){if(this._tapTime){if(this._swipePoint){if(p[0].identifier!==this._swipeTouch)return;var _=f[0],C=_.y-this._swipePoint.y;return this._swipePoint=_,h.preventDefault(),this._active=!0,{zoomDelta:C/128}}}else this._tap.touchmove(h,f,p)},Rs.prototype.touchend=function(h,f,p){this._tapTime?this._swipePoint&&0===p.length&&this.reset():this._tap.touchend(h,f,p)&&(this._tapTime=h.timeStamp)},Rs.prototype.touchcancel=function(){this.reset()},Rs.prototype.enable=function(){this._enabled=!0},Rs.prototype.disable=function(){this._enabled=!1,this.reset()},Rs.prototype.isEnabled=function(){return this._enabled},Rs.prototype.isActive=function(){return this._active};var Ol=function(h,f,p){this._el=h,this._mousePan=f,this._touchPan=p};Ol.prototype.enable=function(h){this._inertiaOptions=h||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},Ol.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},Ol.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},Ol.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var Hc=function(h,f,p){this._pitchWithRotate=h.pitchWithRotate,this._mouseRotate=f,this._mousePitch=p};Hc.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},Hc.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},Hc.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},Hc.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var qc=function(h,f,p,_){this._el=h,this._touchZoom=f,this._touchRotate=p,this._tapDragZoom=_,this._rotationDisabled=!1,this._enabled=!0};qc.prototype.enable=function(h){this._touchZoom.enable(h),this._rotationDisabled||this._touchRotate.enable(h),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},qc.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},qc.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},qc.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},qc.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},qc.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Ms=function(h){return h.zoom||h.drag||h.pitch||h.rotate},xd=function(h){function f(){h.apply(this,arguments)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f}(A.Event);function Vi(h){return h.panDelta&&h.panDelta.mag()||h.zoomDelta||h.bearingDelta||h.pitchDelta}var Bn=function(h,f){this._map=h,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new dn(h),this._bearingSnap=f.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(f),A.bindAll(["handleEvent","handleWindowEvent"],this);var p=this._el;this._listeners=[[p,"touchstart",{passive:!0}],[p,"touchmove",{passive:!1}],[p,"touchend",void 0],[p,"touchcancel",void 0],[p,"mousedown",void 0],[p,"mousemove",void 0],[p,"mouseup",void 0],[A.window.document,"mousemove",{capture:!0}],[A.window.document,"mouseup",void 0],[p,"mouseover",void 0],[p,"mouseout",void 0],[p,"dblclick",void 0],[p,"click",void 0],[p,"keydown",{capture:!1}],[p,"keyup",void 0],[p,"wheel",{passive:!1}],[p,"contextmenu",void 0],[A.window,"blur",void 0]];for(var _=0,C=this._listeners;_<C.length;_+=1){var D=C[_],M=D[0];P.addEventListener(M,D[1],M===A.window.document?this.handleWindowEvent:this.handleEvent,D[2])}};Bn.prototype.destroy=function(){for(var h=0,f=this._listeners;h<f.length;h+=1){var p=f[h],_=p[0];P.removeEventListener(_,p[1],_===A.window.document?this.handleWindowEvent:this.handleEvent,p[2])}},Bn.prototype._addDefaultHandlers=function(h){var f=this._map,p=f.getCanvasContainer();this._add("mapEvent",new Mo(f,h));var _=f.boxZoom=new ya(f,h);this._add("boxZoom",_);var C=new Ra,D=new Ec;f.doubleClickZoom=new Zd(D,C),this._add("tapZoom",C),this._add("clickZoom",D);var M=new Rs;this._add("tapDragZoom",M);var z=f.touchPitch=new am;this._add("touchPitch",z);var ie=new Rh(h),ue=new wp(h);f.dragRotate=new Hc(h,ie,ue),this._add("mouseRotate",ie,["mousePitch"]),this._add("mousePitch",ue,["mouseRotate"]);var Ce=new cA(h),Se=new ic(h);f.dragPan=new Ol(p,Ce,Se),this._add("mousePan",Ce),this._add("touchPan",Se,["touchZoom","touchRotate"]);var ke=new ff,qe=new Pl;f.touchZoomRotate=new qc(p,qe,ke,M),this._add("touchRotate",ke,["touchPan","touchZoom"]),this._add("touchZoom",qe,["touchPan","touchRotate"]);var je=f.scrollZoom=new Kr(f,this);this._add("scrollZoom",je,["mousePan"]);var ut=f.keyboard=new wd;this._add("keyboard",ut),this._add("blockableMapEvent",new li(f));for(var Ue=0,lt=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];Ue<lt.length;Ue+=1){var At=lt[Ue];h.interactive&&h[At]&&f[At].enable(h[At])}},Bn.prototype._add=function(h,f,p){this._handlers.push({handlerName:h,handler:f,allowed:p}),this._handlersById[h]=f},Bn.prototype.stop=function(h){if(!this._updatingCamera){for(var f=0,p=this._handlers;f<p.length;f+=1)p[f].handler.reset();this._inertia.clear(),this._fireEvents({},{},h),this._changes=[]}},Bn.prototype.isActive=function(){for(var h=0,f=this._handlers;h<f.length;h+=1)if(f[h].handler.isActive())return!0;return!1},Bn.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Bn.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Bn.prototype.isMoving=function(){return!!Ms(this._eventsInProgress)||this.isZooming()},Bn.prototype._blockedByActive=function(h,f,p){for(var _ in h)if(_!==p&&(!f||f.indexOf(_)<0))return!0;return!1},Bn.prototype.handleWindowEvent=function(h){this.handleEvent(h,h.type+"Window")},Bn.prototype._getMapTouches=function(h){for(var f=[],p=0,_=h;p<_.length;p+=1){var C=_[p];this._el.contains(C.target)&&f.push(C)}return f},Bn.prototype.handleEvent=function(h,f){this._updatingCamera=!0;for(var p="renderFrame"===h.type?void 0:h,_={needsRenderFrame:!1},C={},D={},M=h.touches?this._getMapTouches(h.touches):void 0,z=M?P.touchPos(this._el,M):P.mousePos(this._el,h),ie=0,ue=this._handlers;ie<ue.length;ie+=1){var Ce=ue[ie],Se=Ce.handlerName,ke=Ce.handler,qe=Ce.allowed;if(ke.isEnabled()){var je=void 0;this._blockedByActive(D,qe,Se)?ke.reset():ke[f||h.type]&&(je=ke[f||h.type](h,z,M),this.mergeHandlerResult(_,C,je,Se,p),je&&je.needsRenderFrame&&this._triggerRenderFrame()),(je||ke.isActive())&&(D[Se]=ke)}}var ut={};for(var Ue in this._previousActiveHandlers)D[Ue]||(ut[Ue]=p);this._previousActiveHandlers=D,(Object.keys(ut).length||Vi(_))&&(this._changes.push([_,C,ut]),this._triggerRenderFrame()),(Object.keys(D).length||Vi(_))&&this._map._stop(!0),this._updatingCamera=!1;var lt=_.cameraAnimation;lt&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],lt(this._map))},Bn.prototype.mergeHandlerResult=function(h,f,p,_,C){if(p){A.extend(h,p);var D={handlerName:_,originalEvent:p.originalEvent||C};void 0!==p.zoomDelta&&(f.zoom=D),void 0!==p.panDelta&&(f.drag=D),void 0!==p.pitchDelta&&(f.pitch=D),void 0!==p.bearingDelta&&(f.rotate=D)}},Bn.prototype._applyChanges=function(){for(var h={},f={},p={},_=0,C=this._changes;_<C.length;_+=1){var D=C[_],M=D[0],z=D[1],ie=D[2];M.panDelta&&(h.panDelta=(h.panDelta||new A.Point(0,0))._add(M.panDelta)),M.zoomDelta&&(h.zoomDelta=(h.zoomDelta||0)+M.zoomDelta),M.bearingDelta&&(h.bearingDelta=(h.bearingDelta||0)+M.bearingDelta),M.pitchDelta&&(h.pitchDelta=(h.pitchDelta||0)+M.pitchDelta),void 0!==M.around&&(h.around=M.around),void 0!==M.pinchAround&&(h.pinchAround=M.pinchAround),M.noInertia&&(h.noInertia=M.noInertia),A.extend(f,z),A.extend(p,ie)}this._updateMapTransform(h,f,p),this._changes=[]},Bn.prototype._updateMapTransform=function(h,f,p){var _=this._map,C=_.transform;if(!Vi(h))return this._fireEvents(f,p,!0);var D=h.panDelta,M=h.zoomDelta,z=h.bearingDelta,ie=h.pitchDelta,ue=h.around,Ce=h.pinchAround;void 0!==Ce&&(ue=Ce),_._stop(!0),ue=ue||_.transform.centerPoint;var Se=C.pointLocation(D?ue.sub(D):ue);z&&(C.bearing+=z),ie&&(C.pitch+=ie),M&&(C.zoom+=M),C.setLocationAtPoint(Se,ue),this._map._update(),h.noInertia||this._inertia.record(h),this._fireEvents(f,p,!0)},Bn.prototype._fireEvents=function(h,f,p){var _=this,C=Ms(this._eventsInProgress),D=Ms(h),M={};for(var z in h)this._eventsInProgress[z]||(M[z+"start"]=h[z].originalEvent),this._eventsInProgress[z]=h[z];for(var ie in!C&&D&&this._fireEvent("movestart",D.originalEvent),M)this._fireEvent(ie,M[ie]);for(var ue in D&&this._fireEvent("move",D.originalEvent),h)this._fireEvent(ue,h[ue].originalEvent);var Ce,Se={};for(var ke in this._eventsInProgress){var qe=this._eventsInProgress[ke],je=qe.handlerName,ut=qe.originalEvent;this._handlersById[je].isActive()||(delete this._eventsInProgress[ke],Se[ke+"end"]=Ce=f[je]||ut)}for(var Ue in Se)this._fireEvent(Ue,Se[Ue]);var lt=Ms(this._eventsInProgress);if(p&&(C||D)&&!lt){this._updatingCamera=!0;var At=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Ot=function(rn){return 0!==rn&&-_._bearingSnap<rn&&rn<_._bearingSnap};At?(Ot(At.bearing||this._map.getBearing())&&(At.bearing=0),this._map.easeTo(At,{originalEvent:Ce})):(this._map.fire(new A.Event("moveend",{originalEvent:Ce})),Ot(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},Bn.prototype._fireEvent=function(h,f){this._map.fire(new A.Event(h,f?{originalEvent:f}:{}))},Bn.prototype._requestFrame=function(){var h=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(f){delete h._frameId,h.handleEvent(new xd("renderFrame",{timeStamp:f})),h._applyChanges()})},Bn.prototype._triggerRenderFrame=function(){void 0===this._frameId&&(this._frameId=this._requestFrame())};var ko=function(h){function f(p,_){h.call(this),this._moving=!1,this._zooming=!1,this.transform=p,this._bearingSnap=_.bearingSnap,A.bindAll(["_renderFrameCallback"],this)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.getCenter=function(){return new A.LngLat(this.transform.center.lng,this.transform.center.lat)},f.prototype.setCenter=function(p,_){return this.jumpTo({center:p},_)},f.prototype.panBy=function(p,_,C){return p=A.Point.convert(p).mult(-1),this.panTo(this.transform.center,A.extend({offset:p},_),C)},f.prototype.panTo=function(p,_,C){return this.easeTo(A.extend({center:p},_),C)},f.prototype.getZoom=function(){return this.transform.zoom},f.prototype.setZoom=function(p,_){return this.jumpTo({zoom:p},_),this},f.prototype.zoomTo=function(p,_,C){return this.easeTo(A.extend({zoom:p},_),C)},f.prototype.zoomIn=function(p,_){return this.zoomTo(this.getZoom()+1,p,_),this},f.prototype.zoomOut=function(p,_){return this.zoomTo(this.getZoom()-1,p,_),this},f.prototype.getBearing=function(){return this.transform.bearing},f.prototype.setBearing=function(p,_){return this.jumpTo({bearing:p},_),this},f.prototype.getPadding=function(){return this.transform.padding},f.prototype.setPadding=function(p,_){return this.jumpTo({padding:p},_),this},f.prototype.rotateTo=function(p,_,C){return this.easeTo(A.extend({bearing:p},_),C)},f.prototype.resetNorth=function(p,_){return this.rotateTo(0,A.extend({duration:1e3},p),_),this},f.prototype.resetNorthPitch=function(p,_){return this.easeTo(A.extend({bearing:0,pitch:0,duration:1e3},p),_),this},f.prototype.snapToNorth=function(p,_){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(p,_):this},f.prototype.getPitch=function(){return this.transform.pitch},f.prototype.setPitch=function(p,_){return this.jumpTo({pitch:p},_),this},f.prototype.cameraForBounds=function(p,_){p=A.LngLatBounds.convert(p);var C=_&&_.bearing||0;return this._cameraForBoxAndBearing(p.getNorthWest(),p.getSouthEast(),C,_)},f.prototype._cameraForBoxAndBearing=function(p,_,C,D){var M={top:0,bottom:0,right:0,left:0};if("number"==typeof(D=A.extend({padding:M,offset:[0,0],maxZoom:this.transform.maxZoom},D)).padding){var z=D.padding;D.padding={top:z,bottom:z,right:z,left:z}}D.padding=A.extend(M,D.padding);var ie=this.transform,ue=ie.padding,Ce=ie.project(A.LngLat.convert(p)),Se=ie.project(A.LngLat.convert(_)),ke=Ce.rotate(-C*Math.PI/180),qe=Se.rotate(-C*Math.PI/180),je=new A.Point(Math.max(ke.x,qe.x),Math.max(ke.y,qe.y)),ut=new A.Point(Math.min(ke.x,qe.x),Math.min(ke.y,qe.y)),Ue=je.sub(ut),lt=(ie.width-(ue.left+ue.right+D.padding.left+D.padding.right))/Ue.x,At=(ie.height-(ue.top+ue.bottom+D.padding.top+D.padding.bottom))/Ue.y;if(!(At<0||lt<0)){var Ot=Math.min(ie.scaleZoom(ie.scale*Math.min(lt,At)),D.maxZoom),rn="number"==typeof D.offset.x?new A.Point(D.offset.x,D.offset.y):A.Point.convert(D.offset),tn=new A.Point((D.padding.left-D.padding.right)/2,(D.padding.top-D.padding.bottom)/2).rotate(C*Math.PI/180),un=rn.add(tn).mult(ie.scale/ie.zoomScale(Ot));return{center:ie.unproject(Ce.add(Se).div(2).sub(un)),zoom:Ot,bearing:C}}A.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},f.prototype.fitBounds=function(p,_,C){return this._fitInternal(this.cameraForBounds(p,_),_,C)},f.prototype.fitScreenCoordinates=function(p,_,C,D,M){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(A.Point.convert(p)),this.transform.pointLocation(A.Point.convert(_)),C,D),D,M)},f.prototype._fitInternal=function(p,_,C){return p?(delete(_=A.extend(p,_)).padding,_.linear?this.easeTo(_,C):this.flyTo(_,C)):this},f.prototype.jumpTo=function(p,_){this.stop();var C=this.transform,D=!1,M=!1,z=!1;return"zoom"in p&&C.zoom!==+p.zoom&&(D=!0,C.zoom=+p.zoom),void 0!==p.center&&(C.center=A.LngLat.convert(p.center)),"bearing"in p&&C.bearing!==+p.bearing&&(M=!0,C.bearing=+p.bearing),"pitch"in p&&C.pitch!==+p.pitch&&(z=!0,C.pitch=+p.pitch),null==p.padding||C.isPaddingEqual(p.padding)||(C.padding=p.padding),this.fire(new A.Event("movestart",_)).fire(new A.Event("move",_)),D&&this.fire(new A.Event("zoomstart",_)).fire(new A.Event("zoom",_)).fire(new A.Event("zoomend",_)),M&&this.fire(new A.Event("rotatestart",_)).fire(new A.Event("rotate",_)).fire(new A.Event("rotateend",_)),z&&this.fire(new A.Event("pitchstart",_)).fire(new A.Event("pitch",_)).fire(new A.Event("pitchend",_)),this.fire(new A.Event("moveend",_))},f.prototype.easeTo=function(p,_){var C=this;this._stop(!1,p.easeId),(!1===(p=A.extend({offset:[0,0],duration:500,easing:A.ease},p)).animate||!p.essential&&A.browser.prefersReducedMotion)&&(p.duration=0);var D=this.transform,M=this.getZoom(),z=this.getBearing(),ie=this.getPitch(),ue=this.getPadding(),Ce="zoom"in p?+p.zoom:M,Se="bearing"in p?this._normalizeBearing(p.bearing,z):z,ke="pitch"in p?+p.pitch:ie,qe="padding"in p?p.padding:D.padding,je=A.Point.convert(p.offset),ut=D.centerPoint.add(je),Ue=D.pointLocation(ut),lt=A.LngLat.convert(p.center||Ue);this._normalizeCenter(lt);var At,Ot,rn=D.project(Ue),tn=D.project(lt).sub(rn),un=D.zoomScale(Ce-M);p.around&&(At=A.LngLat.convert(p.around),Ot=D.locationPoint(At));var Cn={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||Ce!==M,this._rotating=this._rotating||z!==Se,this._pitching=this._pitching||ke!==ie,this._padding=!D.isPaddingEqual(qe),this._easeId=p.easeId,this._prepareEase(_,p.noMoveStart,Cn),this._ease(function(wn){if(C._zooming&&(D.zoom=A.number(M,Ce,wn)),C._rotating&&(D.bearing=A.number(z,Se,wn)),C._pitching&&(D.pitch=A.number(ie,ke,wn)),C._padding&&(D.interpolatePadding(ue,qe,wn),ut=D.centerPoint.add(je)),At)D.setLocationAtPoint(At,Ot);else{var Un=D.zoomScale(D.zoom-M),ci=Ce>M?Math.min(2,un):Math.max(.5,un),Oi=Math.pow(ci,1-wn),Qi=D.unproject(rn.add(tn.mult(wn*Oi)).mult(Un));D.setLocationAtPoint(D.renderWorldCopies?Qi.wrap():Qi,ut)}C._fireMoveEvents(_)},function(wn){C._afterEase(_,wn)},p),this},f.prototype._prepareEase=function(p,_,C){void 0===C&&(C={}),this._moving=!0,_||C.moving||this.fire(new A.Event("movestart",p)),this._zooming&&!C.zooming&&this.fire(new A.Event("zoomstart",p)),this._rotating&&!C.rotating&&this.fire(new A.Event("rotatestart",p)),this._pitching&&!C.pitching&&this.fire(new A.Event("pitchstart",p))},f.prototype._fireMoveEvents=function(p){this.fire(new A.Event("move",p)),this._zooming&&this.fire(new A.Event("zoom",p)),this._rotating&&this.fire(new A.Event("rotate",p)),this._pitching&&this.fire(new A.Event("pitch",p))},f.prototype._afterEase=function(p,_){if(!this._easeId||!_||this._easeId!==_){delete this._easeId;var C=this._zooming,D=this._rotating,M=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,C&&this.fire(new A.Event("zoomend",p)),D&&this.fire(new A.Event("rotateend",p)),M&&this.fire(new A.Event("pitchend",p)),this.fire(new A.Event("moveend",p))}},f.prototype.flyTo=function(p,_){var C=this;if(!p.essential&&A.browser.prefersReducedMotion){var D=A.pick(p,["center","zoom","bearing","pitch","around"]);return this.jumpTo(D,_)}this.stop(),p=A.extend({offset:[0,0],speed:1.2,curve:1.42,easing:A.ease},p);var M=this.transform,z=this.getZoom(),ie=this.getBearing(),ue=this.getPitch(),Ce=this.getPadding(),Se="zoom"in p?A.clamp(+p.zoom,M.minZoom,M.maxZoom):z,ke="bearing"in p?this._normalizeBearing(p.bearing,ie):ie,qe="pitch"in p?+p.pitch:ue,je="padding"in p?p.padding:M.padding,ut=M.zoomScale(Se-z),Ue=A.Point.convert(p.offset),lt=M.centerPoint.add(Ue),At=M.pointLocation(lt),Ot=A.LngLat.convert(p.center||At);this._normalizeCenter(Ot);var rn=M.project(At),tn=M.project(Ot).sub(rn),un=p.curve,Cn=Math.max(M.width,M.height),wn=Cn/ut,Un=tn.mag();if("minZoom"in p){var ci=A.clamp(Math.min(p.minZoom,z,Se),M.minZoom,M.maxZoom),Oi=Cn/M.zoomScale(ci-z);un=Math.sqrt(Oi/Un*2)}var Qi=un*un;function Ni(Zi){var qi=(wn*wn-Cn*Cn+(Zi?-1:1)*Qi*Qi*Un*Un)/(2*(Zi?wn:Cn)*Qi*Un);return Math.log(Math.sqrt(qi*qi+1)-qi)}function Sr(Zi){return(Math.exp(Zi)-Math.exp(-Zi))/2}function oi(Zi){return(Math.exp(Zi)+Math.exp(-Zi))/2}var Ar=Ni(0),br=function(Zi){return oi(Ar)/oi(Ar+un*Zi)},er=function(Zi){return Cn*((oi(Ar)*(Sr(qi=Ar+un*Zi)/oi(qi))-Sr(Ar))/Qi)/Un;var qi},tr=(Ni(1)-Ar)/un;if(Math.abs(Un)<1e-6||!isFinite(tr)){if(Math.abs(Cn-wn)<1e-6)return this.easeTo(p,_);var vr=wn<Cn?-1:1;tr=Math.abs(Math.log(wn/Cn))/un,er=function(){return 0},br=function(Zi){return Math.exp(vr*un*Zi)}}return p.duration="duration"in p?+p.duration:1e3*tr/("screenSpeed"in p?+p.screenSpeed/un:+p.speed),p.maxDuration&&p.duration>p.maxDuration&&(p.duration=0),this._zooming=!0,this._rotating=ie!==ke,this._pitching=qe!==ue,this._padding=!M.isPaddingEqual(je),this._prepareEase(_,!1),this._ease(function(Zi){var qi=Zi*tr,hs=1/br(qi);M.zoom=1===Zi?Se:z+M.scaleZoom(hs),C._rotating&&(M.bearing=A.number(ie,ke,Zi)),C._pitching&&(M.pitch=A.number(ue,qe,Zi)),C._padding&&(M.interpolatePadding(Ce,je,Zi),lt=M.centerPoint.add(Ue));var ss=1===Zi?Ot:M.unproject(rn.add(tn.mult(er(qi))).mult(hs));M.setLocationAtPoint(M.renderWorldCopies?ss.wrap():ss,lt),C._fireMoveEvents(_)},function(){return C._afterEase(_)},p),this},f.prototype.isEasing=function(){return!!this._easeFrameId},f.prototype.stop=function(){return this._stop()},f.prototype._stop=function(p,_){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var C=this._onEaseEnd;delete this._onEaseEnd,C.call(this,_)}if(!p){var D=this.handlers;D&&D.stop(!1)}return this},f.prototype._ease=function(p,_,C){!1===C.animate||0===C.duration?(p(1),_()):(this._easeStart=A.browser.now(),this._easeOptions=C,this._onEaseFrame=p,this._onEaseEnd=_,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},f.prototype._renderFrameCallback=function(){var p=Math.min((A.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(p)),p<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},f.prototype._normalizeBearing=function(p,_){p=A.wrap(p,-180,180);var C=Math.abs(p-_);return Math.abs(p-360-_)<C&&(p-=360),Math.abs(p+360-_)<C&&(p+=360),p},f.prototype._normalizeCenter=function(p){var _=this.transform;if(_.renderWorldCopies&&!_.lngRange){var C=p.lng-_.center.lng;p.lng+=C>180?-360:C<-180?360:0}},f}(A.Evented),al=function(h){void 0===h&&(h={}),this.options=h,A.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};al.prototype.getDefaultPosition=function(){return"bottom-right"},al.prototype.onAdd=function(h){var f=this.options&&this.options.compact;return this._map=h,this._container=P.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=P.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=P.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),f&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===f&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},al.prototype.onRemove=function(){P.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},al.prototype._setElementTitle=function(h,f){var p=this._map._getUIString("AttributionControl."+f);h.title=p,h.setAttribute("aria-label",p)},al.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},al.prototype._updateEditLink=function(){var h=this._editLink;h||(h=this._editLink=this._container.querySelector(".mapbox-improve-map"));var f=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||A.config.ACCESS_TOKEN}];if(h){var p=f.reduce(function(_,C,D){return C.value&&(_+=C.key+"="+C.value+(D<f.length-1?"&":"")),_},"?");h.href=A.config.FEEDBACK_URL+"/"+p+(this._map._hash?this._map._hash.getHashString(!0):""),h.rel="noopener nofollow",this._setElementTitle(h,"MapFeedback")}},al.prototype._updateData=function(h){!h||"metadata"!==h.sourceDataType&&"visibility"!==h.sourceDataType&&"style"!==h.dataType||(this._updateAttributions(),this._updateEditLink())},al.prototype._updateAttributions=function(){if(this._map.style){var h=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?h=h.concat(this.options.customAttribution.map(function(z){return"string"!=typeof z?"":z})):"string"==typeof this.options.customAttribution&&h.push(this.options.customAttribution)),this._map.style.stylesheet){var f=this._map.style.stylesheet;this.styleOwner=f.owner,this.styleId=f.id}var p=this._map.style.sourceCaches;for(var _ in p){var C=p[_];if(C.used){var D=C.getSource();D.attribution&&h.indexOf(D.attribution)<0&&h.push(D.attribution)}}h.sort(function(z,ie){return z.length-ie.length});var M=(h=h.filter(function(z,ie){for(var ue=ie+1;ue<h.length;ue++)if(h[ue].indexOf(z)>=0)return!1;return!0})).join(" | ");M!==this._attribHTML&&(this._attribHTML=M,h.length?(this._innerContainer.innerHTML=M,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},al.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var Cc=function(){A.bindAll(["_updateLogo"],this),A.bindAll(["_updateCompact"],this)};Cc.prototype.onAdd=function(h){this._map=h,this._container=P.create("div","mapboxgl-ctrl");var f=P.create("a","mapboxgl-ctrl-logo");return f.target="_blank",f.rel="noopener nofollow",f.href="https://www.mapbox.com/",f.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),f.setAttribute("rel","noopener nofollow"),this._container.appendChild(f),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Cc.prototype.onRemove=function(){P.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Cc.prototype.getDefaultPosition=function(){return"bottom-left"},Cc.prototype._updateLogo=function(h){h&&"metadata"!==h.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},Cc.prototype._logoRequired=function(){if(this._map.style){var h=this._map.style.sourceCaches;for(var f in h)if(h[f].getSource().mapbox_logo)return!0;return!1}},Cc.prototype._updateCompact=function(){var h=this._container.children;if(h.length){var f=h[0];this._map.getCanvasContainer().offsetWidth<250?f.classList.add("mapboxgl-compact"):f.classList.remove("mapboxgl-compact")}};var Ga=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Ga.prototype.add=function(h){var f=++this._id;return this._queue.push({callback:h,id:f,cancelled:!1}),f},Ga.prototype.remove=function(h){for(var f=this._currentlyRunning,p=0,_=f?this._queue.concat(f):this._queue;p<_.length;p+=1){var C=_[p];if(C.id===h)return void(C.cancelled=!0)}},Ga.prototype.run=function(h){void 0===h&&(h=0);var f=this._currentlyRunning=this._queue;this._queue=[];for(var p=0,_=f;p<_.length;p+=1){var C=_[p];if(!C.cancelled&&(C.callback(h),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Ga.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Kc={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},hA=A.window.HTMLImageElement,xp=A.window.HTMLElement,Li=A.window.ImageBitmap,ta={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},pg=function(h){function f(_){var C=this;if(null!=(_=A.extend({},ta,_)).minZoom&&null!=_.maxZoom&&_.minZoom>_.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=_.minPitch&&null!=_.maxPitch&&_.minPitch>_.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=_.minPitch&&_.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=_.maxPitch&&_.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var D=new Hr(_.minZoom,_.maxZoom,_.minPitch,_.maxPitch,_.renderWorldCopies);if(h.call(this,D,_),this._interactive=_.interactive,this._maxTileCacheSize=_.maxTileCacheSize,this._failIfMajorPerformanceCaveat=_.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=_.preserveDrawingBuffer,this._antialias=_.antialias,this._trackResize=_.trackResize,this._bearingSnap=_.bearingSnap,this._refreshExpiredTiles=_.refreshExpiredTiles,this._fadeDuration=_.fadeDuration,this._crossSourceCollisions=_.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=_.collectResourceTiming,this._renderTaskQueue=new Ga,this._controls=[],this._mapId=A.uniqueId(),this._locale=A.extend({},Kc,_.locale),this._clickTolerance=_.clickTolerance,this._requestManager=new A.RequestManager(_.transformRequest,_.accessToken),"string"==typeof _.container){if(this._container=A.window.document.getElementById(_.container),!this._container)throw new Error("Container '"+_.container+"' not found.")}else{if(!(_.container instanceof xp))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=_.container}if(_.maxBounds&&this.setMaxBounds(_.maxBounds),A.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return C._update(!1)}),this.on("moveend",function(){return C._update(!1)}),this.on("zoom",function(){return C._update(!0)}),void 0!==A.window&&(A.window.addEventListener("online",this._onWindowOnline,!1),A.window.addEventListener("resize",this._onWindowResize,!1),A.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Bn(this,_),this._hash=_.hash&&new oe("string"==typeof _.hash&&_.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:_.center,zoom:_.zoom,bearing:_.bearing,pitch:_.pitch}),_.bounds&&(this.resize(),this.fitBounds(_.bounds,A.extend({},_.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=_.localIdeographFontFamily,_.style&&this.setStyle(_.style,{localIdeographFontFamily:_.localIdeographFontFamily}),_.attributionControl&&this.addControl(new al({customAttribution:_.customAttribution})),this.addControl(new Cc,_.logoPosition),this.on("style.load",function(){C.transform.unmodified&&C.jumpTo(C.style.stylesheet)}),this.on("data",function(M){C._update("style"===M.dataType),C.fire(new A.Event(M.dataType+"data",M))}),this.on("dataloading",function(M){C.fire(new A.Event(M.dataType+"dataloading",M))})}h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f;var p={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return f.prototype._getMapId=function(){return this._mapId},f.prototype.addControl=function(_,C){if(void 0===C&&(C=_.getDefaultPosition?_.getDefaultPosition():"top-right"),!_||!_.onAdd)return this.fire(new A.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var D=_.onAdd(this);this._controls.push(_);var M=this._controlPositions[C];return-1!==C.indexOf("bottom")?M.insertBefore(D,M.firstChild):M.appendChild(D),this},f.prototype.removeControl=function(_){if(!_||!_.onRemove)return this.fire(new A.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var C=this._controls.indexOf(_);return C>-1&&this._controls.splice(C,1),_.onRemove(this),this},f.prototype.hasControl=function(_){return this._controls.indexOf(_)>-1},f.prototype.resize=function(_){var C=this._containerDimensions(),D=C[0],M=C[1];if(D===this.transform.width&&M===this.transform.height)return this;this._resizeCanvas(D,M),this.transform.resize(D,M),this.painter.resize(D,M);var z=!this._moving;return z&&this.fire(new A.Event("movestart",_)).fire(new A.Event("move",_)),this.fire(new A.Event("resize",_)),z&&this.fire(new A.Event("moveend",_)),this},f.prototype.getBounds=function(){return this.transform.getBounds()},f.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},f.prototype.setMaxBounds=function(_){return this.transform.setMaxBounds(A.LngLatBounds.convert(_)),this._update()},f.prototype.setMinZoom=function(_){if((_=_??-2)>=-2&&_<=this.transform.maxZoom)return this.transform.minZoom=_,this._update(),this.getZoom()<_&&this.setZoom(_),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},f.prototype.getMinZoom=function(){return this.transform.minZoom},f.prototype.setMaxZoom=function(_){if((_=_??22)>=this.transform.minZoom)return this.transform.maxZoom=_,this._update(),this.getZoom()>_&&this.setZoom(_),this;throw new Error("maxZoom must be greater than the current minZoom")},f.prototype.getMaxZoom=function(){return this.transform.maxZoom},f.prototype.setMinPitch=function(_){if((_=_??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(_>=0&&_<=this.transform.maxPitch)return this.transform.minPitch=_,this._update(),this.getPitch()<_&&this.setPitch(_),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},f.prototype.getMinPitch=function(){return this.transform.minPitch},f.prototype.setMaxPitch=function(_){if((_=_??60)>60)throw new Error("maxPitch must be less than or equal to 60");if(_>=this.transform.minPitch)return this.transform.maxPitch=_,this._update(),this.getPitch()>_&&this.setPitch(_),this;throw new Error("maxPitch must be greater than the current minPitch")},f.prototype.getMaxPitch=function(){return this.transform.maxPitch},f.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},f.prototype.setRenderWorldCopies=function(_){return this.transform.renderWorldCopies=_,this._update()},f.prototype.project=function(_){return this.transform.locationPoint(A.LngLat.convert(_))},f.prototype.unproject=function(_){return this.transform.pointLocation(A.Point.convert(_))},f.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},f.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},f.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},f.prototype._createDelegatedListener=function(_,C,D){var M,z=this;if("mouseenter"===_||"mouseover"===_){var ie=!1;return{layer:C,listener:D,delegates:{mousemove:function(Ce){var Se=z.getLayer(C)?z.queryRenderedFeatures(Ce.point,{layers:[C]}):[];Se.length?ie||(ie=!0,D.call(z,new Mn(_,z,Ce.originalEvent,{features:Se}))):ie=!1},mouseout:function(){ie=!1}}}}if("mouseleave"===_||"mouseout"===_){var ue=!1;return{layer:C,listener:D,delegates:{mousemove:function(Ce){(z.getLayer(C)?z.queryRenderedFeatures(Ce.point,{layers:[C]}):[]).length?ue=!0:ue&&(ue=!1,D.call(z,new Mn(_,z,Ce.originalEvent)))},mouseout:function(Ce){ue&&(ue=!1,D.call(z,new Mn(_,z,Ce.originalEvent)))}}}}return{layer:C,listener:D,delegates:(M={},M[_]=function(Ce){var Se=z.getLayer(C)?z.queryRenderedFeatures(Ce.point,{layers:[C]}):[];Se.length&&(Ce.features=Se,D.call(z,Ce),delete Ce.features)},M)}},f.prototype.on=function(_,C,D){if(void 0===D)return h.prototype.on.call(this,_,C);var M=this._createDelegatedListener(_,C,D);for(var z in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[_]=this._delegatedListeners[_]||[],this._delegatedListeners[_].push(M),M.delegates)this.on(z,M.delegates[z]);return this},f.prototype.once=function(_,C,D){if(void 0===D)return h.prototype.once.call(this,_,C);var M=this._createDelegatedListener(_,C,D);for(var z in M.delegates)this.once(z,M.delegates[z]);return this},f.prototype.off=function(_,C,D){var M=this;return void 0===D?h.prototype.off.call(this,_,C):(this._delegatedListeners&&this._delegatedListeners[_]&&function(z){for(var ie=z[_],ue=0;ue<ie.length;ue++){var Ce=ie[ue];if(Ce.layer===C&&Ce.listener===D){for(var Se in Ce.delegates)M.off(Se,Ce.delegates[Se]);return ie.splice(ue,1),M}}}(this._delegatedListeners),this)},f.prototype.queryRenderedFeatures=function(_,C){if(!this.style)return[];var D;if(void 0!==C||void 0===_||_ instanceof A.Point||Array.isArray(_)||(C=_,_=void 0),C=C||{},(_=_||[[0,0],[this.transform.width,this.transform.height]])instanceof A.Point||"number"==typeof _[0])D=[A.Point.convert(_)];else{var M=A.Point.convert(_[0]),z=A.Point.convert(_[1]);D=[M,new A.Point(z.x,M.y),z,new A.Point(M.x,z.y),M]}return this.style.queryRenderedFeatures(D,C,this.transform)},f.prototype.querySourceFeatures=function(_,C){return this.style.querySourceFeatures(_,C)},f.prototype.setStyle=function(_,C){return!1!==(C=A.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},C)).diff&&C.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&_?(this._diffStyle(_,C),this):(this._localIdeographFontFamily=C.localIdeographFontFamily,this._updateStyle(_,C))},f.prototype._getUIString=function(_){var C=this._locale[_];if(null==C)throw new Error("Missing UI string '"+_+"'");return C},f.prototype._updateStyle=function(_,C){return this.style&&(this.style.setEventedParent(null),this.style._remove()),_?(this.style=new rl(this,C||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof _?this.style.loadURL(_):this.style.loadJSON(_),this):(delete this.style,this)},f.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new rl(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},f.prototype._diffStyle=function(_,C){var D=this;if("string"==typeof _){var M=this._requestManager.normalizeStyleURL(_),z=this._requestManager.transformRequest(M,A.ResourceType.Style);A.getJSON(z,function(ie,ue){ie?D.fire(new A.ErrorEvent(ie)):ue&&D._updateDiff(ue,C)})}else"object"==typeof _&&this._updateDiff(_,C)},f.prototype._updateDiff=function(_,C){try{this.style.setState(_)&&this._update(!0)}catch(D){A.warnOnce("Unable to perform style diff: "+(D.message||D.error||D)+".  Rebuilding the style from scratch."),this._updateStyle(_,C)}},f.prototype.getStyle=function(){if(this.style)return this.style.serialize()},f.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():A.warnOnce("There is no style added to the map.")},f.prototype.addSource=function(_,C){return this._lazyInitEmptyStyle(),this.style.addSource(_,C),this._update(!0)},f.prototype.isSourceLoaded=function(_){var C=this.style&&this.style.sourceCaches[_];if(void 0!==C)return C.loaded();this.fire(new A.ErrorEvent(new Error("There is no source with ID '"+_+"'")))},f.prototype.areTilesLoaded=function(){var _=this.style&&this.style.sourceCaches;for(var C in _){var D=_[C]._tiles;for(var M in D){var z=D[M];if("loaded"!==z.state&&"errored"!==z.state)return!1}}return!0},f.prototype.addSourceType=function(_,C,D){return this._lazyInitEmptyStyle(),this.style.addSourceType(_,C,D)},f.prototype.removeSource=function(_){return this.style.removeSource(_),this._update(!0)},f.prototype.getSource=function(_){return this.style.getSource(_)},f.prototype.addImage=function(_,C,D){void 0===D&&(D={});var M=D.pixelRatio;void 0===M&&(M=1);var z=D.sdf;void 0===z&&(z=!1);var ie=D.stretchX,ue=D.stretchY,Ce=D.content;if(this._lazyInitEmptyStyle(),C instanceof hA||Li&&C instanceof Li){var Se=A.browser.getImageData(C);this.style.addImage(_,{data:new A.RGBAImage({width:Se.width,height:Se.height},Se.data),pixelRatio:M,stretchX:ie,stretchY:ue,content:Ce,sdf:z,version:0})}else{if(void 0===C.width||void 0===C.height)return this.fire(new A.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var ke=C;this.style.addImage(_,{data:new A.RGBAImage({width:C.width,height:C.height},new Uint8Array(C.data)),pixelRatio:M,stretchX:ie,stretchY:ue,content:Ce,sdf:z,version:0,userImage:ke}),ke.onAdd&&ke.onAdd(this,_)}},f.prototype.updateImage=function(_,C){var D=this.style.getImage(_);if(!D)return this.fire(new A.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var M=C instanceof hA||Li&&C instanceof Li?A.browser.getImageData(C):C,z=M.width,ie=M.height,ue=M.data;return void 0===z||void 0===ie?this.fire(new A.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):z!==D.data.width||ie!==D.data.height?this.fire(new A.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(D.data.replace(ue,!(C instanceof hA||Li&&C instanceof Li)),void this.style.updateImage(_,D))},f.prototype.hasImage=function(_){return _?!!this.style.getImage(_):(this.fire(new A.ErrorEvent(new Error("Missing required image id"))),!1)},f.prototype.removeImage=function(_){this.style.removeImage(_)},f.prototype.loadImage=function(_,C){A.getImage(this._requestManager.transformRequest(_,A.ResourceType.Image),C)},f.prototype.listImages=function(){return this.style.listImages()},f.prototype.addLayer=function(_,C){return this._lazyInitEmptyStyle(),this.style.addLayer(_,C),this._update(!0)},f.prototype.moveLayer=function(_,C){return this.style.moveLayer(_,C),this._update(!0)},f.prototype.removeLayer=function(_){return this.style.removeLayer(_),this._update(!0)},f.prototype.getLayer=function(_){return this.style.getLayer(_)},f.prototype.setLayerZoomRange=function(_,C,D){return this.style.setLayerZoomRange(_,C,D),this._update(!0)},f.prototype.setFilter=function(_,C,D){return void 0===D&&(D={}),this.style.setFilter(_,C,D),this._update(!0)},f.prototype.getFilter=function(_){return this.style.getFilter(_)},f.prototype.setPaintProperty=function(_,C,D,M){return void 0===M&&(M={}),this.style.setPaintProperty(_,C,D,M),this._update(!0)},f.prototype.getPaintProperty=function(_,C){return this.style.getPaintProperty(_,C)},f.prototype.setLayoutProperty=function(_,C,D,M){return void 0===M&&(M={}),this.style.setLayoutProperty(_,C,D,M),this._update(!0)},f.prototype.getLayoutProperty=function(_,C){return this.style.getLayoutProperty(_,C)},f.prototype.setLight=function(_,C){return void 0===C&&(C={}),this._lazyInitEmptyStyle(),this.style.setLight(_,C),this._update(!0)},f.prototype.getLight=function(){return this.style.getLight()},f.prototype.setFeatureState=function(_,C){return this.style.setFeatureState(_,C),this._update()},f.prototype.removeFeatureState=function(_,C){return this.style.removeFeatureState(_,C),this._update()},f.prototype.getFeatureState=function(_){return this.style.getFeatureState(_)},f.prototype.getContainer=function(){return this._container},f.prototype.getCanvasContainer=function(){return this._canvasContainer},f.prototype.getCanvas=function(){return this._canvas},f.prototype._containerDimensions=function(){var _=0,C=0;return this._container&&(_=this._container.clientWidth||400,C=this._container.clientHeight||300),[_,C]},f.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==A.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&A.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},f.prototype._setupContainer=function(){var _=this._container;_.classList.add("mapboxgl-map"),(this._missingCSSCanary=P.create("div","mapboxgl-canary",_)).style.visibility="hidden",this._detectMissingCSS();var C=this._canvasContainer=P.create("div","mapboxgl-canvas-container",_);this._interactive&&C.classList.add("mapboxgl-interactive"),this._canvas=P.create("canvas","mapboxgl-canvas",C),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var D=this._containerDimensions();this._resizeCanvas(D[0],D[1]);var M=this._controlContainer=P.create("div","mapboxgl-control-container",_),z=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(ie){z[ie]=P.create("div","mapboxgl-ctrl-"+ie,M)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},f.prototype._resizeCanvas=function(_,C){var D=A.browser.devicePixelRatio||1;this._canvas.width=D*_,this._canvas.height=D*C,this._canvas.style.width=_+"px",this._canvas.style.height=C+"px"},f.prototype._setupPainter=function(){var _=A.extend({},L.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),C=this._canvas.getContext("webgl",_)||this._canvas.getContext("experimental-webgl",_);C?(this.painter=new go(C,this.transform),A.webpSupported.testSupport(C)):this.fire(new A.ErrorEvent(new Error("Failed to initialize WebGL")))},f.prototype._contextLost=function(_){_.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new A.Event("webglcontextlost",{originalEvent:_}))},f.prototype._contextRestored=function(_){this._setupPainter(),this.resize(),this._update(),this.fire(new A.Event("webglcontextrestored",{originalEvent:_}))},f.prototype._onMapScroll=function(_){if(_.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},f.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},f.prototype._update=function(_){return this.style?(this._styleDirty=this._styleDirty||_,this._sourcesDirty=!0,this.triggerRepaint(),this):this},f.prototype._requestRenderFrame=function(_){return this._update(),this._renderTaskQueue.add(_)},f.prototype._cancelRenderFrame=function(_){this._renderTaskQueue.remove(_)},f.prototype._render=function(_){var C,D=this,M=0,z=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(C=z.createQueryEXT(),z.beginQueryEXT(z.TIME_ELAPSED_EXT,C),M=A.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(_),!this._removed){var ie=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var ue=this.transform.zoom,Ce=A.browser.now();this.style.zoomHistory.update(ue,Ce);var Se=new A.EvaluationParameters(ue,{now:Ce,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),ke=Se.crossFadingFactor();1===ke&&ke===this._crossFadingFactor||(ie=!0,this._crossFadingFactor=ke),this.style.update(Se)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new A.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new A.Event("load"))),this.style&&(this.style.hasTransitions()||ie)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var qe=A.browser.now()-M;z.endQueryEXT(z.TIME_ELAPSED_EXT,C),setTimeout(function(){var Ue=z.getQueryObjectEXT(C,z.QUERY_RESULT_EXT)/1e6;z.deleteQueryEXT(C),D.fire(new A.Event("gpu-timing-frame",{cpuTime:qe,gpuTime:Ue}))},50)}if(this.listens("gpu-timing-layer")){var je=this.painter.collectGpuTimers();setTimeout(function(){var Ue=D.painter.queryGpuTimers(je);D.fire(new A.Event("gpu-timing-layer",{layerTimes:Ue}))},50)}var ut=this._sourcesDirty||this._styleDirty||this._placementDirty;return ut||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new A.Event("idle")),!this._loaded||this._fullyLoaded||ut||(this._fullyLoaded=!0),this}},f.prototype.remove=function(){this._hash&&this._hash.remove();for(var _=0,C=this._controls;_<C.length;_+=1)C[_].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==A.window&&(A.window.removeEventListener("resize",this._onWindowResize,!1),A.window.removeEventListener("orientationchange",this._onWindowResize,!1),A.window.removeEventListener("online",this._onWindowOnline,!1));var D=this.painter.context.gl.getExtension("WEBGL_lose_context");D&&D.loseContext(),Vs(this._canvasContainer),Vs(this._controlContainer),Vs(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new A.Event("remove"))},f.prototype.triggerRepaint=function(){var _=this;this.style&&!this._frame&&(this._frame=A.browser.frame(function(C){_._frame=null,_._render(C)}))},f.prototype._onWindowOnline=function(){this._update()},f.prototype._onWindowResize=function(_){this._trackResize&&this.resize({originalEvent:_})._update()},p.showTileBoundaries.get=function(){return!!this._showTileBoundaries},p.showTileBoundaries.set=function(_){this._showTileBoundaries!==_&&(this._showTileBoundaries=_,this._update())},p.showPadding.get=function(){return!!this._showPadding},p.showPadding.set=function(_){this._showPadding!==_&&(this._showPadding=_,this._update())},p.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},p.showCollisionBoxes.set=function(_){this._showCollisionBoxes!==_&&(this._showCollisionBoxes=_,_?this.style._generateCollisionBoxes():this._update())},p.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},p.showOverdrawInspector.set=function(_){this._showOverdrawInspector!==_&&(this._showOverdrawInspector=_,this._update())},p.repaint.get=function(){return!!this._repaint},p.repaint.set=function(_){this._repaint!==_&&(this._repaint=_,this.triggerRepaint())},p.vertices.get=function(){return!!this._vertices},p.vertices.set=function(_){this._vertices=_,this._update()},f.prototype._setCacheLimits=function(_,C){A.setCacheLimits(_,C)},p.version.get=function(){return A.version},Object.defineProperties(f.prototype,p),f}(ko);function Vs(h){h.parentNode&&h.parentNode.removeChild(h)}var lm={showCompass:!0,showZoom:!0,visualizePitch:!1},Fl=function(h){var f=this;this.options=A.extend({},lm,h),this._container=P.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(p){return p.preventDefault()}),this.options.showZoom&&(A.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(p){return f._map.zoomIn({},{originalEvent:p})}),P.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(p){return f._map.zoomOut({},{originalEvent:p})}),P.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(A.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(p){f.options.visualizePitch?f._map.resetNorthPitch({},{originalEvent:p}):f._map.resetNorth({},{originalEvent:p})}),this._compassIcon=P.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Fl.prototype._updateZoomButtons=function(){var h=this._map.getZoom(),f=h===this._map.getMaxZoom(),p=h===this._map.getMinZoom();this._zoomInButton.disabled=f,this._zoomOutButton.disabled=p,this._zoomInButton.setAttribute("aria-disabled",f.toString()),this._zoomOutButton.setAttribute("aria-disabled",p.toString())},Fl.prototype._rotateCompassArrow=function(){var h=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=h},Fl.prototype.onAdd=function(h){return this._map=h,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Ic(this._map,this._compass,this.options.visualizePitch)),this._container},Fl.prototype.onRemove=function(){P.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Fl.prototype._createButton=function(h,f){var p=P.create("button",h,this._container);return p.type="button",p.addEventListener("click",f),p},Fl.prototype._setButtonTitle=function(h,f){var p=this._map._getUIString("NavigationControl."+f);h.title=p,h.setAttribute("aria-label",p)};var Ic=function(h,f,p){void 0===p&&(p=!1),this._clickTolerance=10,this.element=f,this.mouseRotate=new Rh({clickTolerance:h.dragRotate._mouseRotate._clickTolerance}),this.map=h,p&&(this.mousePitch=new wp({clickTolerance:h.dragRotate._mousePitch._clickTolerance})),A.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),P.addEventListener(f,"mousedown",this.mousedown),P.addEventListener(f,"touchstart",this.touchstart,{passive:!1}),P.addEventListener(f,"touchmove",this.touchmove),P.addEventListener(f,"touchend",this.touchend),P.addEventListener(f,"touchcancel",this.reset)};function qu(h,f,p){if(h=new A.LngLat(h.lng,h.lat),f){var _=new A.LngLat(h.lng-360,h.lat),C=new A.LngLat(h.lng+360,h.lat),D=p.locationPoint(h).distSqr(f);p.locationPoint(_).distSqr(f)<D?h=_:p.locationPoint(C).distSqr(f)<D&&(h=C)}for(;Math.abs(h.lng-p.center.lng)>180;){var M=p.locationPoint(h);if(M.x>=0&&M.y>=0&&M.x<=p.width&&M.y<=p.height)break;h.lng>p.center.lng?h.lng-=360:h.lng+=360}return h}Ic.prototype.down=function(h,f){this.mouseRotate.mousedown(h,f),this.mousePitch&&this.mousePitch.mousedown(h,f),P.disableDrag()},Ic.prototype.move=function(h,f){var p=this.map,_=this.mouseRotate.mousemoveWindow(h,f);if(_&&_.bearingDelta&&p.setBearing(p.getBearing()+_.bearingDelta),this.mousePitch){var C=this.mousePitch.mousemoveWindow(h,f);C&&C.pitchDelta&&p.setPitch(p.getPitch()+C.pitchDelta)}},Ic.prototype.off=function(){var h=this.element;P.removeEventListener(h,"mousedown",this.mousedown),P.removeEventListener(h,"touchstart",this.touchstart,{passive:!1}),P.removeEventListener(h,"touchmove",this.touchmove),P.removeEventListener(h,"touchend",this.touchend),P.removeEventListener(h,"touchcancel",this.reset),this.offTemp()},Ic.prototype.offTemp=function(){P.enableDrag(),P.removeEventListener(A.window,"mousemove",this.mousemove),P.removeEventListener(A.window,"mouseup",this.mouseup)},Ic.prototype.mousedown=function(h){this.down(A.extend({},h,{ctrlKey:!0,preventDefault:function(){return h.preventDefault()}}),P.mousePos(this.element,h)),P.addEventListener(A.window,"mousemove",this.mousemove),P.addEventListener(A.window,"mouseup",this.mouseup)},Ic.prototype.mousemove=function(h){this.move(h,P.mousePos(this.element,h))},Ic.prototype.mouseup=function(h){this.mouseRotate.mouseupWindow(h),this.mousePitch&&this.mousePitch.mouseupWindow(h),this.offTemp()},Ic.prototype.touchstart=function(h){1!==h.targetTouches.length?this.reset():(this._startPos=this._lastPos=P.touchPos(this.element,h.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return h.preventDefault()}},this._startPos))},Ic.prototype.touchmove=function(h){1!==h.targetTouches.length?this.reset():(this._lastPos=P.touchPos(this.element,h.targetTouches)[0],this.move({preventDefault:function(){return h.preventDefault()}},this._lastPos))},Ic.prototype.touchend=function(h){0===h.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Ic.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var ml={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Bh(h,f,p){var _=h.classList;for(var C in ml)_.remove("mapboxgl-"+p+"-anchor-"+C);_.add("mapboxgl-"+p+"-anchor-"+f)}var bs,Af=function(h){function f(p,_){if(h.call(this),(p instanceof A.window.HTMLElement||_)&&(p=A.extend({element:p},_)),A.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=p&&p.anchor||"center",this._color=p&&p.color||"#3FB1CE",this._scale=p&&p.scale||1,this._draggable=p&&p.draggable||!1,this._clickTolerance=p&&p.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=p&&p.rotation||0,this._rotationAlignment=p&&p.rotationAlignment||"auto",this._pitchAlignment=p&&p.pitchAlignment&&"auto"!==p.pitchAlignment?p.pitchAlignment:this._rotationAlignment,p&&p.element)this._element=p.element,this._offset=A.Point.convert(p&&p.offset||[0,0]);else{this._defaultMarker=!0,this._element=P.create("div"),this._element.setAttribute("aria-label","Map marker");var C=P.createNS("http://www.w3.org/2000/svg","svg");C.setAttributeNS(null,"display","block"),C.setAttributeNS(null,"height","41px"),C.setAttributeNS(null,"width","27px"),C.setAttributeNS(null,"viewBox","0 0 27 41");var D=P.createNS("http://www.w3.org/2000/svg","g");D.setAttributeNS(null,"stroke","none"),D.setAttributeNS(null,"stroke-width","1"),D.setAttributeNS(null,"fill","none"),D.setAttributeNS(null,"fill-rule","evenodd");var M=P.createNS("http://www.w3.org/2000/svg","g");M.setAttributeNS(null,"fill-rule","nonzero");var z=P.createNS("http://www.w3.org/2000/svg","g");z.setAttributeNS(null,"transform","translate(3.0, 29.0)"),z.setAttributeNS(null,"fill","#000000");for(var ie=0,ue=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];ie<ue.length;ie+=1){var Ce=ue[ie],Se=P.createNS("http://www.w3.org/2000/svg","ellipse");Se.setAttributeNS(null,"opacity","0.04"),Se.setAttributeNS(null,"cx","10.5"),Se.setAttributeNS(null,"cy","5.80029008"),Se.setAttributeNS(null,"rx",Ce.rx),Se.setAttributeNS(null,"ry",Ce.ry),z.appendChild(Se)}var ke=P.createNS("http://www.w3.org/2000/svg","g");ke.setAttributeNS(null,"fill",this._color);var qe=P.createNS("http://www.w3.org/2000/svg","path");qe.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),ke.appendChild(qe);var je=P.createNS("http://www.w3.org/2000/svg","g");je.setAttributeNS(null,"opacity","0.25"),je.setAttributeNS(null,"fill","#000000");var ut=P.createNS("http://www.w3.org/2000/svg","path");ut.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),je.appendChild(ut);var Ue=P.createNS("http://www.w3.org/2000/svg","g");Ue.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Ue.setAttributeNS(null,"fill","#FFFFFF");var lt=P.createNS("http://www.w3.org/2000/svg","g");lt.setAttributeNS(null,"transform","translate(8.0, 8.0)");var At=P.createNS("http://www.w3.org/2000/svg","circle");At.setAttributeNS(null,"fill","#000000"),At.setAttributeNS(null,"opacity","0.25"),At.setAttributeNS(null,"cx","5.5"),At.setAttributeNS(null,"cy","5.5"),At.setAttributeNS(null,"r","5.4999962");var Ot=P.createNS("http://www.w3.org/2000/svg","circle");Ot.setAttributeNS(null,"fill","#FFFFFF"),Ot.setAttributeNS(null,"cx","5.5"),Ot.setAttributeNS(null,"cy","5.5"),Ot.setAttributeNS(null,"r","5.4999962"),lt.appendChild(At),lt.appendChild(Ot),M.appendChild(z),M.appendChild(ke),M.appendChild(je),M.appendChild(Ue),M.appendChild(lt),C.appendChild(M),C.setAttributeNS(null,"height",41*this._scale+"px"),C.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(C),this._offset=A.Point.convert(p&&p.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(rn){rn.preventDefault()}),this._element.addEventListener("mousedown",function(rn){rn.preventDefault()}),Bh(this._element,this._anchor,"marker"),this._popup=null}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.addTo=function(p){return this.remove(),this._map=p,p.getCanvasContainer().appendChild(this._element),p.on("move",this._update),p.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},f.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),P.remove(this._element),this._popup&&this._popup.remove(),this},f.prototype.getLngLat=function(){return this._lngLat},f.prototype.setLngLat=function(p){return this._lngLat=A.LngLat.convert(p),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},f.prototype.getElement=function(){return this._element},f.prototype.setPopup=function(p){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),p){if(!("offset"in p.options)){var _=Math.sqrt(Math.pow(13.5,2)/2);p.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[_,-1*(24.6+_)],"bottom-right":[-_,-1*(24.6+_)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=p,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},f.prototype._onKeyPress=function(p){var _=p.code,C=p.charCode||p.keyCode;"Space"!==_&&"Enter"!==_&&32!==C&&13!==C||this.togglePopup()},f.prototype._onMapClick=function(p){var _=p.originalEvent.target,C=this._element;this._popup&&(_===C||C.contains(_))&&this.togglePopup()},f.prototype.getPopup=function(){return this._popup},f.prototype.togglePopup=function(){var p=this._popup;return p?(p.isOpen()?p.remove():p.addTo(this._map),this):this},f.prototype._update=function(p){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=qu(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var _="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?_="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(_="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var C="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?C="rotateX(0deg)":"map"===this._pitchAlignment&&(C="rotateX("+this._map.getPitch()+"deg)"),p&&"moveend"!==p.type||(this._pos=this._pos.round()),P.setTransform(this._element,ml[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+C+" "+_)}},f.prototype.getOffset=function(){return this._offset},f.prototype.setOffset=function(p){return this._offset=A.Point.convert(p),this._update(),this},f.prototype._onMove=function(p){if(!this._isDragging){var _=this._clickTolerance||this._map._clickTolerance;this._isDragging=p.point.dist(this._pointerdownPos)>=_}this._isDragging&&(this._pos=p.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new A.Event("dragstart"))),this.fire(new A.Event("drag")))},f.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new A.Event("dragend")),this._state="inactive"},f.prototype._addDragHandler=function(p){this._element.contains(p.originalEvent.target)&&(p.preventDefault(),this._positionDelta=p.point.sub(this._pos).add(this._offset),this._pointerdownPos=p.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},f.prototype.setDraggable=function(p){return this._draggable=!!p,this._map&&(p?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},f.prototype.isDraggable=function(){return this._draggable},f.prototype.setRotation=function(p){return this._rotation=p||0,this._update(),this},f.prototype.getRotation=function(){return this._rotation},f.prototype.setRotationAlignment=function(p){return this._rotationAlignment=p||"auto",this._update(),this},f.prototype.getRotationAlignment=function(){return this._rotationAlignment},f.prototype.setPitchAlignment=function(p){return this._pitchAlignment=p&&"auto"!==p?p:this._rotationAlignment,this._update(),this},f.prototype.getPitchAlignment=function(){return this._pitchAlignment},f}(A.Evented),mf={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Ph=0,rc=!1,cm=function(h){function f(p){h.call(this),this.options=A.extend({},mf,p),A.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.onAdd=function(p){var _;return this._map=p,this._container=P.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),_=this._setupUI,void 0!==bs?_(bs):void 0!==A.window.navigator.permissions?A.window.navigator.permissions.query({name:"geolocation"}).then(function(C){_(bs="denied"!==C.state)}):_(bs=!!A.window.navigator.geolocation),this._container},f.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(A.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),P.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Ph=0,rc=!1},f.prototype._isOutOfMapMaxBounds=function(p){var _=this._map.getMaxBounds(),C=p.coords;return _&&(C.longitude<_.getWest()||C.longitude>_.getEast()||C.latitude<_.getSouth()||C.latitude>_.getNorth())},f.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},f.prototype._onSuccess=function(p){if(this._map){if(this._isOutOfMapMaxBounds(p))return this._setErrorState(),this.fire(new A.Event("outofmaxbounds",p)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=p,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(p),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(p),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new A.Event("geolocate",p)),this._finish()}},f.prototype._updateCamera=function(p){var _=new A.LngLat(p.coords.longitude,p.coords.latitude),C=p.coords.accuracy,D=this._map.getBearing(),M=A.extend({bearing:D},this.options.fitBoundsOptions);this._map.fitBounds(_.toBounds(C),M,{geolocateSource:!0})},f.prototype._updateMarker=function(p){if(p){var _=new A.LngLat(p.coords.longitude,p.coords.latitude);this._accuracyCircleMarker.setLngLat(_).addTo(this._map),this._userLocationDotMarker.setLngLat(_).addTo(this._map),this._accuracy=p.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},f.prototype._updateCircleRadius=function(){var p=this._map._container.clientHeight/2,_=this._map.unproject([0,p]),C=this._map.unproject([1,p]),D=_.distanceTo(C),M=Math.ceil(2*this._accuracy/D);this._circleElement.style.width=M+"px",this._circleElement.style.height=M+"px"},f.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},f.prototype._onError=function(p){if(this._map){if(this.options.trackUserLocation)if(1===p.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var _=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=_,this._geolocateButton.setAttribute("aria-label",_),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===p.code&&rc)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new A.Event("error",p)),this._finish()}},f.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},f.prototype._setupUI=function(p){var _=this;if(this._container.addEventListener("contextmenu",function(M){return M.preventDefault()}),this._geolocateButton=P.create("button","mapboxgl-ctrl-geolocate",this._container),P.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===p){A.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var C=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=C,this._geolocateButton.setAttribute("aria-label",C)}else{var D=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=D,this._geolocateButton.setAttribute("aria-label",D)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=P.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Af(this._dotElement),this._circleElement=P.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Af({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(M){M.geolocateSource||"ACTIVE_LOCK"!==_._watchState||M.originalEvent&&"resize"===M.originalEvent.type||(_._watchState="BACKGROUND",_._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),_._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),_.fire(new A.Event("trackuserlocationend")))})},f.prototype.trigger=function(){if(!this._setup)return A.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new A.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Ph--,rc=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new A.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new A.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var p;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Ph>1?(p={maximumAge:6e5,timeout:0},rc=!0):(p=this.options.positionOptions,rc=!1),this._geolocationWatchID=A.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,p)}}else A.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},f.prototype._clearWatch=function(){A.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},f}(A.Evented),Ll={maxWidth:100,unit:"metric"},Ed=function(h){this.options=A.extend({},Ll,h),A.bindAll(["_onMove","setUnit"],this)};function Ct(h,f,p){var _=p&&p.maxWidth||100,C=h._container.clientHeight/2,D=h.unproject([0,C]),M=h.unproject([_,C]),z=D.distanceTo(M);if(p&&"imperial"===p.unit){var ie=3.2808*z;ie>5280?Wc(f,_,ie/5280,h._getUIString("ScaleControl.Miles")):Wc(f,_,ie,h._getUIString("ScaleControl.Feet"))}else p&&"nautical"===p.unit?Wc(f,_,z/1852,h._getUIString("ScaleControl.NauticalMiles")):z>=1e3?Wc(f,_,z/1e3,h._getUIString("ScaleControl.Kilometers")):Wc(f,_,z,h._getUIString("ScaleControl.Meters"))}function Wc(h,f,p,_){var C,D,M,ie,ue,z=(C=p,(D=Math.pow(10,(""+Math.floor(C)).length-1))*(M=(M=C/D)>=10?10:M>=5?5:M>=3?3:M>=2?2:M>=1?1:(ie=M,ue=Math.pow(10,Math.ceil(-Math.log(ie)/Math.LN10)),Math.round(ie*ue)/ue)));h.style.width=f*(z/p)+"px",h.innerHTML=z+"&nbsp;"+_}Ed.prototype.getDefaultPosition=function(){return"bottom-left"},Ed.prototype._onMove=function(){Ct(this._map,this._container,this.options)},Ed.prototype.onAdd=function(h){return this._map=h,this._container=P.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",h.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Ed.prototype.onRemove=function(){P.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Ed.prototype.setUnit=function(h){this.options.unit=h,Ct(this._map,this._container,this.options)};var Ht=function(h){this._fullscreen=!1,h&&h.container&&(h.container instanceof A.window.HTMLElement?this._container=h.container:A.warnOnce("Full screen control 'container' must be a DOM element.")),A.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in A.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in A.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in A.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in A.window.document&&(this._fullscreenchange="MSFullscreenChange")};Ht.prototype.onAdd=function(h){return this._map=h,this._container||(this._container=this._map.getContainer()),this._controlContainer=P.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",A.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Ht.prototype.onRemove=function(){P.remove(this._controlContainer),this._map=null,A.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Ht.prototype._checkFullscreenSupport=function(){return!!(A.window.document.fullscreenEnabled||A.window.document.mozFullScreenEnabled||A.window.document.msFullscreenEnabled||A.window.document.webkitFullscreenEnabled)},Ht.prototype._setupUI=function(){var h=this._fullscreenButton=P.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);P.create("span","mapboxgl-ctrl-icon",h).setAttribute("aria-hidden",!0),h.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),A.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Ht.prototype._updateTitle=function(){var h=this._getTitle();this._fullscreenButton.setAttribute("aria-label",h),this._fullscreenButton.title=h},Ht.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Ht.prototype._isFullscreen=function(){return this._fullscreen},Ht.prototype._changeIcon=function(){(A.window.document.fullscreenElement||A.window.document.mozFullScreenElement||A.window.document.webkitFullscreenElement||A.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Ht.prototype._onClickFullscreen=function(){this._isFullscreen()?A.window.document.exitFullscreen?A.window.document.exitFullscreen():A.window.document.mozCancelFullScreen?A.window.document.mozCancelFullScreen():A.window.document.msExitFullscreen?A.window.document.msExitFullscreen():A.window.document.webkitCancelFullScreen&&A.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Ku={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Wu=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Oh=function(h){function f(p){h.call(this),this.options=A.extend(Object.create(Ku),p),A.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return h&&(f.__proto__=h),(f.prototype=Object.create(h&&h.prototype)).constructor=f,f.prototype.addTo=function(p){return this._map&&this.remove(),this._map=p,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new A.Event("open")),this},f.prototype.isOpen=function(){return!!this._map},f.prototype.remove=function(){return this._content&&P.remove(this._content),this._container&&(P.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new A.Event("close")),this},f.prototype.getLngLat=function(){return this._lngLat},f.prototype.setLngLat=function(p){return this._lngLat=A.LngLat.convert(p),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},f.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},f.prototype.getElement=function(){return this._container},f.prototype.setText=function(p){return this.setDOMContent(A.window.document.createTextNode(p))},f.prototype.setHTML=function(p){var _,C=A.window.document.createDocumentFragment(),D=A.window.document.createElement("body");for(D.innerHTML=p;_=D.firstChild;)C.appendChild(_);return this.setDOMContent(C)},f.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},f.prototype.setMaxWidth=function(p){return this.options.maxWidth=p,this._update(),this},f.prototype.setDOMContent=function(p){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=P.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(p),this._createCloseButton(),this._update(),this._focusFirstElement(),this},f.prototype.addClassName=function(p){this._container&&this._container.classList.add(p)},f.prototype.removeClassName=function(p){this._container&&this._container.classList.remove(p)},f.prototype.setOffset=function(p){return this.options.offset=p,this._update(),this},f.prototype.toggleClassName=function(p){if(this._container)return this._container.classList.toggle(p)},f.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=P.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},f.prototype._onMouseUp=function(p){this._update(p.point)},f.prototype._onMouseMove=function(p){this._update(p.point)},f.prototype._onDrag=function(p){this._update(p.point)},f.prototype._update=function(p){var _=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=P.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=P.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(Se){return _._container.classList.add(Se)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=qu(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||p)){var C=this._pos=this._trackPointer&&p?p:this._map.project(this._lngLat),D=this.options.anchor,M=function Se(ke){if(ke){if("number"==typeof ke){var qe=Math.round(Math.sqrt(.5*Math.pow(ke,2)));return{center:new A.Point(0,0),top:new A.Point(0,ke),"top-left":new A.Point(qe,qe),"top-right":new A.Point(-qe,qe),bottom:new A.Point(0,-ke),"bottom-left":new A.Point(qe,-qe),"bottom-right":new A.Point(-qe,-qe),left:new A.Point(ke,0),right:new A.Point(-ke,0)}}if(ke instanceof A.Point||Array.isArray(ke)){var je=A.Point.convert(ke);return{center:je,top:je,"top-left":je,"top-right":je,bottom:je,"bottom-left":je,"bottom-right":je,left:je,right:je}}return{center:A.Point.convert(ke.center||[0,0]),top:A.Point.convert(ke.top||[0,0]),"top-left":A.Point.convert(ke["top-left"]||[0,0]),"top-right":A.Point.convert(ke["top-right"]||[0,0]),bottom:A.Point.convert(ke.bottom||[0,0]),"bottom-left":A.Point.convert(ke["bottom-left"]||[0,0]),"bottom-right":A.Point.convert(ke["bottom-right"]||[0,0]),left:A.Point.convert(ke.left||[0,0]),right:A.Point.convert(ke.right||[0,0])}}return Se(new A.Point(0,0))}(this.options.offset);if(!D){var z,ie=this._container.offsetWidth,ue=this._container.offsetHeight;z=C.y+M.bottom.y<ue?["top"]:C.y>this._map.transform.height-ue?["bottom"]:[],C.x<ie/2?z.push("left"):C.x>this._map.transform.width-ie/2&&z.push("right"),D=0===z.length?"bottom":z.join("-")}var Ce=C.add(M[D]).round();P.setTransform(this._container,ml[D]+" translate("+Ce.x+"px,"+Ce.y+"px)"),Bh(this._container,D,"popup")}},f.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var p=this._container.querySelector(Wu);p&&p.focus()}},f.prototype._onClose=function(){this.remove()},f}(A.Evented),Ep={version:A.version,supported:L,setRTLTextPlugin:A.setRTLTextPlugin,getRTLTextPluginStatus:A.getRTLTextPluginStatus,Map:pg,NavigationControl:Fl,GeolocateControl:cm,AttributionControl:al,ScaleControl:Ed,FullscreenControl:Ht,Popup:Oh,Marker:Af,Style:rl,LngLat:A.LngLat,LngLatBounds:A.LngLatBounds,Point:A.Point,MercatorCoordinate:A.MercatorCoordinate,Evented:A.Evented,config:A.config,prewarm:function(){Xe().acquire(Ut)},clearPrewarmedResources:function(){var h=ri;h&&(h.isPreloaded()&&1===h.numActive()?(h.release(Ut),ri=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return A.config.ACCESS_TOKEN},set accessToken(h){A.config.ACCESS_TOKEN=h},get baseApiUrl(){return A.config.API_URL},set baseApiUrl(h){A.config.API_URL=h},get workerCount(){return En.workerCount},set workerCount(h){En.workerCount=h},get maxParallelImageRequests(){return A.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(h){A.config.MAX_PARALLEL_IMAGE_REQUESTS=h},clearStorage:function(h){A.clearTileCache(h)},workerUrl:""};return Ep}),O}()},function(j,Q,v){var O=v(293),V=v(299);j.exports=function(A){return!0===A||!1===A||V(A)&&"[object Boolean]"==O(A)}},function(j,Q,v){var O=v(294),V=v(297),A=v(298),L=O?O.toStringTag:void 0;j.exports=function(P){return null==P?void 0===P?"[object Undefined]":"[object Null]":L&&L in Object(P)?V(P):A(P)}},function(j,Q,v){var O=v(295).Symbol;j.exports=O},function(j,Q,v){var O=v(296),V="object"==typeof self&&self&&self.Object===Object&&self,A=O||V||Function("return this")();j.exports=A},function(j,Q,v){j.exports="object"==typeof v.g&&v.g&&v.g.Object===Object&&v.g},function(j,Q,v){var O=v(294),V=Object.prototype,A=V.hasOwnProperty,L=V.toString,P=O?O.toStringTag:void 0;j.exports=function(N){var W=A.call(N,P),Y=N[P];try{N[P]=void 0;var G=!0}catch{}var ne=L.call(N);return G&&(W?N[P]=Y:delete N[P]),ne}},function(j){var Q=Object.prototype.toString;j.exports=function(v){return Q.call(v)}},function(j){j.exports=function(Q){return null!=Q&&"object"==typeof Q}},function(j){j.exports=function(Q){var v=typeof Q;return null!=Q&&("object"==v||"function"==v)}},function(j){j.exports=function(Q){return null==Q}},function(j,Q,v){var O=v(293),V=v(300);j.exports=function(A){if(!V(A))return!1;var L=O(A);return"[object Function]"==L||"[object GeneratorFunction]"==L||"[object AsyncFunction]"==L||"[object Proxy]"==L}},function(j){const Q="api.tomtom.com";j.exports={"sdk.name":"MapsWebSDK","sdk.version":"6.25.0","sdk.examples.version":"SDK-${version}","analytics.header.name":"TomTom-User-Agent","analytics.header.sdkName":"MapsWebSDK","endpoints.copyrightsV2":"".concat(Q,"/map/2/copyrights"),"endpoints.captionV2":"".concat(Q,"/map/2/copyrights/caption.{contentType}"),"endpoints.geocode":"".concat(Q,"/search/2/geocode/{query}.{contentType}"),"endpoints.structuredGeocode":"".concat(Q,"/search/2/structuredGeocode.{contentType}"),"endpoints.search":"".concat(Q,"/search/2/{type}/{query}.{contentType}"),"endpoints.nearbySearch":"".concat(Q,"/search/2/nearbySearch/.{contentType}"),"endpoints.batchNearbySearchQuery":"/{type}/.{contentType}","endpoints.batchSearch":"".concat(Q,"/search/2/batch.{contentType}"),"endpoints.batchSyncSearch":"".concat(Q,"/search/2/batch/sync.{contentType}"),"endpoints.batchSearchQuery":"/{type}/{query}.{contentType}","endpoints.batchStructuredGeocodeQuery":"/structuredGeocode.{contentType}","endpoints.adp":"".concat(Q,"/search/2/additionalData.{contentType}"),"endpoints.batchAdpQuery":"/additionalData.{contentType}","endpoints.reverseGeocode":"".concat(Q,"/search/2/{type}/{position}.{contentType}"),"endpoints.batchReverseGeocodeQuery":"/{type}/{position}.{contentType}","endpoints.autocomplete":"".concat(Q,"/search/2/autocomplete/{query}.{contentType}"),"endpoints.poiCategories":"".concat(Q,"/search/2/poiCategories.{contentType}"),"endpoints.chargingAvailability":"".concat(Q,"/search/2/chargingAvailability.{contentType}"),"endpoints.batchChargingAvailabilityQuery":"/chargingAvailability.{contentType}","endpoints.placeById":"".concat(Q,"/search/2/place.{contentType}"),"endpoints.incidentDetailsV5":"".concat(Q,"/traffic/services/5/incidentDetails"),"endpoints.incidentViewport":"".concat(Q,"/traffic/services/4/incidentViewport/0,0,.1,.1/0/0,0,.1,.1/0/false/{contentType}"),"endpoints.flowSegmentData":"".concat(Q,"/traffic/services/4/flowSegmentData/{style}/{zoom}/{contentType}"),"endpoints.incidentRegions":"".concat(Q,"/traffic/services/4/incidentRegions/{contentType}"),"endpoints.rasterTrafficIncidentTilesLayer":"{s}.".concat(Q,"/traffic/map/4/tile/incidents/{style}/{z}/{x}/{y}.png?tileSize={tileSize}"),"endpoints.vectorTrafficIncidentTilesLayer":"{s}.".concat(Q,"/traffic/map/4/tile/incidents/{z}/{x}/{y}.pbf"),"endpoints.rasterTrafficFlowTilesLayer":"{s}.".concat(Q,"/traffic/map/4/tile/flow/{style}/{z}/{x}/{y}.png"),"endpoints.vectorTrafficFlowTilesLayer":"{s}.".concat(Q,"/traffic/map/4/tile/flow/{style}/{z}/{x}/{y}.pbf"),"endpoints.tileLayer":"{s}.".concat(Q,"/map/1/tile/{layer}/{style}/{z}/{x}/{y}.png?tileSize={tileSize}"),"endpoints.wmsLayer":"{s}.".concat(Q,"/map/1/wms/?service=WMS&version=1.1.1&request=GetMap&bbox={bbox-epsg-3857}&srs=EPSG:3857&width=512&height=512&layers=basic&styles=&format={format}"),"endpoints.vectorTileLayer":"{s}.".concat(Q,"/map/1/tile/{layer}/{style}/{z}/{x}/{y}.pbf"),"endpoints.vectorTileLayerV2":"{s}.".concat(Q,"/map/2/tile/{layer}/{z}/{x}/{y}.pbf"),"endpoints.routing":"".concat(Q,"/routing/1/calculateRoute/{locations}/{contentType}"),"endpoints.calculateReachableRange":"".concat(Q,"/routing/1/calculateReachableRange/{origin}/{contentType}"),"endpoints.batchRouting":"".concat(Q,"/routing/1/batch/{contentType}"),"endpoints.batchSyncRouting":"".concat(Q,"/routing/1/batch/sync/{contentType}"),"endpoints.batchRoutingQuery":"/calculateRoute/{locations}/{contentType}","endpoints.batchReachableRangeQuery":"/calculateReachableRange/{origin}/{contentType}","endpoints.matrixRouting":"".concat(Q,"/routing/1/matrix/{contentType}"),"endpoints.matrixSyncRouting":"".concat(Q,"/routing/1/matrix/sync/{contentType}"),"endpoints.longDistanceEVRouting":"".concat(Q,"/routing/1/calculateLongDistanceEVRoute/{locations}/{contentType}"),"endpoints.staticImage":"https://".concat(Q,"/map/1/staticimage"),"vector.glyphs":"https://"+Q+"/maps-sdk-js/6.25.0/glyphs/{fontstack}/{range}.pbf","vector.sprites":"https://"+Q+"/maps-sdk-js/6.25.0/sprites/sprite","endpoints.styles":"https://".concat(Q,"/style/1/style/{version}?map=2/basic_street-light&traffic_incidents=2/incidents_light&traffic_flow=2/flow_relative-light&poi=2/poi_light"),origin:Q,hostedStylesVersion:"22.2.1-*"}},function(j,Q,v){"use strict";Object.defineProperty(Q,"__esModule",{value:!0}),Q.default=void 0;var O=A(v(305)),V=A(v(306));function A(P){return P&&P.__esModule?P:{default:P}}Q.default=function(P,N,W){const Y=(P=P||{}).random||(P.rng||O.default)();if(Y[6]=15&Y[6]|64,Y[8]=63&Y[8]|128,N){W=W||0;for(let G=0;G<16;++G)N[W+G]=Y[G];return N}return(0,V.default)(Y)}},function(j,Q){"use strict";let v;Object.defineProperty(Q,"__esModule",{value:!0}),Q.default=function(){if(!v&&(v=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),!v))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return v(O)};const O=new Uint8Array(16)},function(j,Q,v){"use strict";Object.defineProperty(Q,"__esModule",{value:!0}),Q.default=void 0;var O,V=(O=v(307))&&O.__esModule?O:{default:O};const A=[];for(let P=0;P<256;++P)A.push((P+256).toString(16).substr(1));Q.default=function(P,N=0){const W=(A[P[N+0]]+A[P[N+1]]+A[P[N+2]]+A[P[N+3]]+"-"+A[P[N+4]]+A[P[N+5]]+"-"+A[P[N+6]]+A[P[N+7]]+"-"+A[P[N+8]]+A[P[N+9]]+"-"+A[P[N+10]]+A[P[N+11]]+A[P[N+12]]+A[P[N+13]]+A[P[N+14]]+A[P[N+15]]).toLowerCase();if(!(0,V.default)(W))throw TypeError("Stringified UUID is invalid");return W}},function(j,Q,v){"use strict";Object.defineProperty(Q,"__esModule",{value:!0}),Q.default=void 0;var O,V=(O=v(308))&&O.__esModule?O:{default:O};Q.default=function(L){return"string"==typeof L&&V.default.test(L)}},function(j,Q){"use strict";Object.defineProperty(Q,"__esModule",{value:!0}),Q.default=void 0,Q.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},function(j,Q,v){var O=v(310);j.exports=function(){if(!arguments.length)return[];var V=arguments[0];return O(V)?V:[V]}},function(j){j.exports=Array.isArray},function(j,Q,v){var O=v(293),V=v(310),A=v(299);j.exports=function(L){return"string"==typeof L||!V(L)&&A(L)&&"[object String]"==O(L)}},function(j,Q,v){var O=v(313);j.exports=function(V){return"number"==typeof V&&V==O(V)}},function(j,Q,v){var O=v(314);j.exports=function(V){var A=O(V),L=A%1;return A==A?L?A-L:A:0}},function(j,Q,v){var O=v(315),V=1/0;j.exports=function(A){return A?(A=O(A))===V||A===-1/0?17976931348623157e292*(A<0?-1:1):A==A?A:0:0===A?A:0}},function(j,Q,v){var O=v(316),V=v(300),A=v(318),L=/^[-+]0x[0-9a-f]+$/i,P=/^0b[01]+$/i,N=/^0o[0-7]+$/i,W=parseInt;j.exports=function(Y){if("number"==typeof Y)return Y;if(A(Y))return NaN;if(V(Y)){var G="function"==typeof Y.valueOf?Y.valueOf():Y;Y=V(G)?G+"":G}if("string"!=typeof Y)return 0===Y?Y:+Y;Y=O(Y);var ne=P.test(Y);return ne||N.test(Y)?W(Y.slice(2),ne?2:8):L.test(Y)?NaN:+Y}},function(j,Q,v){var O=v(317),V=/^\s+/;j.exports=function(A){return A&&A.slice(0,O(A)+1).replace(V,"")}},function(j){var Q=/\s/;j.exports=function(v){for(var O=v.length;O--&&Q.test(v.charAt(O)););return O}},function(j,Q,v){var O=v(293),V=v(299);j.exports=function(A){return"symbol"==typeof A||V(A)&&"[object Symbol]"==O(A)}},function(j,Q,v){var O=v(300),V=v(320),A=v(315),L=Math.max,P=Math.min;j.exports=function(N,W,Y){var G,ne,Z,se,fe,me,we=0,Ze=!1,ot=!1,wt=!0;if("function"!=typeof N)throw new TypeError("Expected a function");function ht(Fe){var ze=G,Dt=ne;return G=ne=void 0,we=Fe,se=N.apply(Dt,ze)}function mt(Fe){var ze=Fe-me;return void 0===me||ze>=W||ze<0||ot&&Fe-we>=Z}function vt(){var ze,Dt,Fe=V();if(mt(Fe))return Je(Fe);fe=setTimeout(vt,(Dt=W-((ze=Fe)-me),ot?P(Dt,Z-(ze-we)):Dt))}function Je(Fe){return fe=void 0,wt&&G?ht(Fe):(G=ne=void 0,se)}function st(){var Fe=V(),ze=mt(Fe);if(G=arguments,ne=this,me=Fe,ze){if(void 0===fe)return function pt(Fe){return we=Fe,fe=setTimeout(vt,W),Ze?ht(Fe):se}(me);if(ot)return clearTimeout(fe),fe=setTimeout(vt,W),ht(me)}return void 0===fe&&(fe=setTimeout(vt,W)),se}return W=A(W)||0,O(Y)&&(Ze=!!Y.leading,Z=(ot="maxWait"in Y)?L(A(Y.maxWait)||0,W):Z,wt="trailing"in Y?!!Y.trailing:wt),st.cancel=function(){void 0!==fe&&clearTimeout(fe),we=0,G=me=ne=fe=void 0},st.flush=function(){return void 0===fe?se:Je(V())},st}},function(j,Q,v){var O=v(295);j.exports=function(){return O.Date.now()}},function(j,Q,v){"use strict";Object.defineProperty(Q,"__esModule",{value:!0}),Object.defineProperty(Q,"v1",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(Q,"v3",{enumerable:!0,get:function(){return V.default}}),Object.defineProperty(Q,"v4",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(Q,"v5",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(Q,"NIL",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(Q,"version",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(Q,"validate",{enumerable:!0,get:function(){return W.default}}),Object.defineProperty(Q,"stringify",{enumerable:!0,get:function(){return Y.default}}),Object.defineProperty(Q,"parse",{enumerable:!0,get:function(){return G.default}});var O=ne(v(322)),V=ne(v(323)),A=ne(v(304)),L=ne(v(327)),P=ne(v(329)),N=ne(v(330)),W=ne(v(307)),Y=ne(v(306)),G=ne(v(325));function ne(Z){return Z&&Z.__esModule?Z:{default:Z}}},function(j,Q,v){"use strict";Object.defineProperty(Q,"__esModule",{value:!0}),Q.default=void 0;var O=A(v(305)),V=A(v(306));function A(G){return G&&G.__esModule?G:{default:G}}let L,P,N=0,W=0;Q.default=function(G,ne,Z){let se=ne&&Z||0;const fe=ne||new Array(16);let me=(G=G||{}).node||L,we=void 0!==G.clockseq?G.clockseq:P;if(null==me||null==we){const mt=G.random||(G.rng||O.default)();null==me&&(me=L=[1|mt[0],mt[1],mt[2],mt[3],mt[4],mt[5]]),null==we&&(we=P=16383&(mt[6]<<8|mt[7]))}let Ze=void 0!==G.msecs?G.msecs:Date.now(),ot=void 0!==G.nsecs?G.nsecs:W+1;const wt=Ze-N+(ot-W)/1e4;if(wt<0&&void 0===G.clockseq&&(we=we+1&16383),(wt<0||Ze>N)&&void 0===G.nsecs&&(ot=0),ot>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");N=Ze,W=ot,P=we,Ze+=122192928e5;const ht=(1e4*(268435455&Ze)+ot)%4294967296;fe[se++]=ht>>>24&255,fe[se++]=ht>>>16&255,fe[se++]=ht>>>8&255,fe[se++]=255&ht;const pt=Ze/4294967296*1e4&268435455;fe[se++]=pt>>>8&255,fe[se++]=255&pt,fe[se++]=pt>>>24&15|16,fe[se++]=pt>>>16&255,fe[se++]=we>>>8|128,fe[se++]=255&we;for(let mt=0;mt<6;++mt)fe[se+mt]=me[mt];return ne||(0,V.default)(fe)}},function(j,Q,v){"use strict";Object.defineProperty(Q,"__esModule",{value:!0}),Q.default=void 0;var O=A(v(324)),V=A(v(326));function A(P){return P&&P.__esModule?P:{default:P}}var L=(0,O.default)("v3",48,V.default);Q.default=L},function(j,Q,v){"use strict";Object.defineProperty(Q,"__esModule",{value:!0}),Q.default=function(N,W,Y){function G(ne,Z,se,fe){if("string"==typeof ne&&(ne=function(we){we=unescape(encodeURIComponent(we));const Ze=[];for(let ot=0;ot<we.length;++ot)Ze.push(we.charCodeAt(ot));return Ze}(ne)),"string"==typeof Z&&(Z=(0,V.default)(Z)),16!==Z.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let me=new Uint8Array(16+ne.length);if(me.set(Z),me.set(ne,Z.length),me=Y(me),me[6]=15&me[6]|W,me[8]=63&me[8]|128,se){fe=fe||0;for(let we=0;we<16;++we)se[fe+we]=me[we];return se}return(0,O.default)(me)}try{G.name=N}catch{}return G.DNS=L,G.URL=P,G},Q.URL=Q.DNS=void 0;var O=A(v(306)),V=A(v(325));function A(N){return N&&N.__esModule?N:{default:N}}const L="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Q.DNS=L;const P="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Q.URL=P},function(j,Q,v){"use strict";Object.defineProperty(Q,"__esModule",{value:!0}),Q.default=void 0;var O,V=(O=v(307))&&O.__esModule?O:{default:O};Q.default=function(L){if(!(0,V.default)(L))throw TypeError("Invalid UUID");let P;const N=new Uint8Array(16);return N[0]=(P=parseInt(L.slice(0,8),16))>>>24,N[1]=P>>>16&255,N[2]=P>>>8&255,N[3]=255&P,N[4]=(P=parseInt(L.slice(9,13),16))>>>8,N[5]=255&P,N[6]=(P=parseInt(L.slice(14,18),16))>>>8,N[7]=255&P,N[8]=(P=parseInt(L.slice(19,23),16))>>>8,N[9]=255&P,N[10]=(P=parseInt(L.slice(24,36),16))/1099511627776&255,N[11]=P/4294967296&255,N[12]=P>>>24&255,N[13]=P>>>16&255,N[14]=P>>>8&255,N[15]=255&P,N}},function(j,Q){"use strict";function v(Y){return 14+(Y+64>>>9<<4)+1}function O(Y,G){const ne=(65535&Y)+(65535&G);return(Y>>16)+(G>>16)+(ne>>16)<<16|65535&ne}function V(Y,G,ne,Z,se,fe){return O((me=O(O(G,Y),O(Z,fe)))<<(we=se)|me>>>32-we,ne);var me,we}function A(Y,G,ne,Z,se,fe,me){return V(G&ne|~G&Z,Y,G,se,fe,me)}function L(Y,G,ne,Z,se,fe,me){return V(G&Z|ne&~Z,Y,G,se,fe,me)}function P(Y,G,ne,Z,se,fe,me){return V(G^ne^Z,Y,G,se,fe,me)}function N(Y,G,ne,Z,se,fe,me){return V(ne^(G|~Z),Y,G,se,fe,me)}Object.defineProperty(Q,"__esModule",{value:!0}),Q.default=void 0,Q.default=function(Y){if("string"==typeof Y){const G=unescape(encodeURIComponent(Y));Y=new Uint8Array(G.length);for(let ne=0;ne<G.length;++ne)Y[ne]=G.charCodeAt(ne)}return function(G){const ne=[],Z=32*G.length,se="0123456789abcdef";for(let fe=0;fe<Z;fe+=8){const me=G[fe>>5]>>>fe%32&255,we=parseInt(se.charAt(me>>>4&15)+se.charAt(15&me),16);ne.push(we)}return ne}(function(G,ne){G[ne>>5]|=128<<ne%32,G[v(ne)-1]=ne;let Z=1732584193,se=-271733879,fe=-1732584194,me=271733878;for(let we=0;we<G.length;we+=16){const Ze=Z,ot=se,wt=fe,ht=me;Z=A(Z,se,fe,me,G[we],7,-680876936),me=A(me,Z,se,fe,G[we+1],12,-389564586),fe=A(fe,me,Z,se,G[we+2],17,606105819),se=A(se,fe,me,Z,G[we+3],22,-1044525330),Z=A(Z,se,fe,me,G[we+4],7,-176418897),me=A(me,Z,se,fe,G[we+5],12,1200080426),fe=A(fe,me,Z,se,G[we+6],17,-1473231341),se=A(se,fe,me,Z,G[we+7],22,-45705983),Z=A(Z,se,fe,me,G[we+8],7,1770035416),me=A(me,Z,se,fe,G[we+9],12,-1958414417),fe=A(fe,me,Z,se,G[we+10],17,-42063),se=A(se,fe,me,Z,G[we+11],22,-1990404162),Z=A(Z,se,fe,me,G[we+12],7,1804603682),me=A(me,Z,se,fe,G[we+13],12,-40341101),fe=A(fe,me,Z,se,G[we+14],17,-1502002290),se=A(se,fe,me,Z,G[we+15],22,1236535329),Z=L(Z,se,fe,me,G[we+1],5,-165796510),me=L(me,Z,se,fe,G[we+6],9,-1069501632),fe=L(fe,me,Z,se,G[we+11],14,643717713),se=L(se,fe,me,Z,G[we],20,-373897302),Z=L(Z,se,fe,me,G[we+5],5,-701558691),me=L(me,Z,se,fe,G[we+10],9,38016083),fe=L(fe,me,Z,se,G[we+15],14,-660478335),se=L(se,fe,me,Z,G[we+4],20,-405537848),Z=L(Z,se,fe,me,G[we+9],5,568446438),me=L(me,Z,se,fe,G[we+14],9,-1019803690),fe=L(fe,me,Z,se,G[we+3],14,-187363961),se=L(se,fe,me,Z,G[we+8],20,1163531501),Z=L(Z,se,fe,me,G[we+13],5,-1444681467),me=L(me,Z,se,fe,G[we+2],9,-51403784),fe=L(fe,me,Z,se,G[we+7],14,1735328473),se=L(se,fe,me,Z,G[we+12],20,-1926607734),Z=P(Z,se,fe,me,G[we+5],4,-378558),me=P(me,Z,se,fe,G[we+8],11,-2022574463),fe=P(fe,me,Z,se,G[we+11],16,1839030562),se=P(se,fe,me,Z,G[we+14],23,-35309556),Z=P(Z,se,fe,me,G[we+1],4,-1530992060),me=P(me,Z,se,fe,G[we+4],11,1272893353),fe=P(fe,me,Z,se,G[we+7],16,-155497632),se=P(se,fe,me,Z,G[we+10],23,-1094730640),Z=P(Z,se,fe,me,G[we+13],4,681279174),me=P(me,Z,se,fe,G[we],11,-358537222),fe=P(fe,me,Z,se,G[we+3],16,-722521979),se=P(se,fe,me,Z,G[we+6],23,76029189),Z=P(Z,se,fe,me,G[we+9],4,-640364487),me=P(me,Z,se,fe,G[we+12],11,-421815835),fe=P(fe,me,Z,se,G[we+15],16,530742520),se=P(se,fe,me,Z,G[we+2],23,-995338651),Z=N(Z,se,fe,me,G[we],6,-198630844),me=N(me,Z,se,fe,G[we+7],10,1126891415),fe=N(fe,me,Z,se,G[we+14],15,-1416354905),se=N(se,fe,me,Z,G[we+5],21,-57434055),Z=N(Z,se,fe,me,G[we+12],6,1700485571),me=N(me,Z,se,fe,G[we+3],10,-1894986606),fe=N(fe,me,Z,se,G[we+10],15,-1051523),se=N(se,fe,me,Z,G[we+1],21,-2054922799),Z=N(Z,se,fe,me,G[we+8],6,1873313359),me=N(me,Z,se,fe,G[we+15],10,-30611744),fe=N(fe,me,Z,se,G[we+6],15,-1560198380),se=N(se,fe,me,Z,G[we+13],21,1309151649),Z=N(Z,se,fe,me,G[we+4],6,-145523070),me=N(me,Z,se,fe,G[we+11],10,-1120210379),fe=N(fe,me,Z,se,G[we+2],15,718787259),se=N(se,fe,me,Z,G[we+9],21,-343485551),Z=O(Z,Ze),se=O(se,ot),fe=O(fe,wt),me=O(me,ht)}return[Z,se,fe,me]}(function(G){if(0===G.length)return[];const ne=8*G.length,Z=new Uint32Array(v(ne));for(let se=0;se<ne;se+=8)Z[se>>5]|=(255&G[se/8])<<se%32;return Z}(Y),8*Y.length))}},function(j,Q,v){"use strict";Object.defineProperty(Q,"__esModule",{value:!0}),Q.default=void 0;var O=A(v(324)),V=A(v(328));function A(P){return P&&P.__esModule?P:{default:P}}var L=(0,O.default)("v5",80,V.default);Q.default=L},function(j,Q){"use strict";function v(A,L,P,N){switch(A){case 0:return L&P^~L&N;case 1:case 3:return L^P^N;case 2:return L&P^L&N^P&N}}function O(A,L){return A<<L|A>>>32-L}Object.defineProperty(Q,"__esModule",{value:!0}),Q.default=void 0,Q.default=function(A){const L=[1518500249,1859775393,2400959708,3395469782],P=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof A){const G=unescape(encodeURIComponent(A));A=[];for(let ne=0;ne<G.length;++ne)A.push(G.charCodeAt(ne))}else Array.isArray(A)||(A=Array.prototype.slice.call(A));A.push(128);const W=Math.ceil((A.length/4+2)/16),Y=new Array(W);for(let G=0;G<W;++G){const ne=new Uint32Array(16);for(let Z=0;Z<16;++Z)ne[Z]=A[64*G+4*Z]<<24|A[64*G+4*Z+1]<<16|A[64*G+4*Z+2]<<8|A[64*G+4*Z+3];Y[G]=ne}Y[W-1][14]=8*(A.length-1)/Math.pow(2,32),Y[W-1][14]=Math.floor(Y[W-1][14]),Y[W-1][15]=8*(A.length-1)&4294967295;for(let G=0;G<W;++G){const ne=new Uint32Array(80);for(let Ze=0;Ze<16;++Ze)ne[Ze]=Y[G][Ze];for(let Ze=16;Ze<80;++Ze)ne[Ze]=O(ne[Ze-3]^ne[Ze-8]^ne[Ze-14]^ne[Ze-16],1);let Z=P[0],se=P[1],fe=P[2],me=P[3],we=P[4];for(let Ze=0;Ze<80;++Ze){const ot=Math.floor(Ze/20),wt=O(Z,5)+v(ot,se,fe,me)+we+L[ot]+ne[Ze]>>>0;we=me,me=fe,fe=O(se,30)>>>0,se=Z,Z=wt}P[0]=P[0]+Z>>>0,P[1]=P[1]+se>>>0,P[2]=P[2]+fe>>>0,P[3]=P[3]+me>>>0,P[4]=P[4]+we>>>0}return[P[0]>>24&255,P[0]>>16&255,P[0]>>8&255,255&P[0],P[1]>>24&255,P[1]>>16&255,P[1]>>8&255,255&P[1],P[2]>>24&255,P[2]>>16&255,P[2]>>8&255,255&P[2],P[3]>>24&255,P[3]>>16&255,P[3]>>8&255,255&P[3],P[4]>>24&255,P[4]>>16&255,P[4]>>8&255,255&P[4]]}},function(j,Q){"use strict";Object.defineProperty(Q,"__esModule",{value:!0}),Q.default=void 0,Q.default="00000000-0000-0000-0000-000000000000"},function(j,Q,v){"use strict";Object.defineProperty(Q,"__esModule",{value:!0}),Q.default=void 0;var O,V=(O=v(307))&&O.__esModule?O:{default:O};Q.default=function(L){if(!(0,V.default)(L))throw TypeError("Invalid UUID");return parseInt(L.substr(14,1),16)}},function(j){j.exports=function(Q){return void 0===Q}},function(j,Q,v){var O=v(333),V=v(337),A=v(349),L=v(310),P=v(351),N=v(353),W=v(334),Y=v(355),G=Object.prototype.hasOwnProperty;j.exports=function(ne){if(null==ne)return!0;if(P(ne)&&(L(ne)||"string"==typeof ne||"function"==typeof ne.splice||N(ne)||Y(ne)||A(ne)))return!ne.length;var Z=V(ne);if("[object Map]"==Z||"[object Set]"==Z)return!ne.size;if(W(ne))return!O(ne).length;for(var se in ne)if(G.call(ne,se))return!1;return!0}},function(j,Q,v){var O=v(334),V=v(335),A=Object.prototype.hasOwnProperty;j.exports=function(L){if(!O(L))return V(L);var P=[];for(var N in Object(L))A.call(L,N)&&"constructor"!=N&&P.push(N);return P}},function(j){var Q=Object.prototype;j.exports=function(v){var O=v&&v.constructor;return v===("function"==typeof O&&O.prototype||Q)}},function(j,Q,v){var O=v(336)(Object.keys,Object);j.exports=O},function(j){j.exports=function(Q,v){return function(O){return Q(v(O))}}},function(j,Q,v){var O=v(338),V=v(345),A=v(346),L=v(347),P=v(348),N=v(293),W=v(343),Y="[object Map]",G="[object Promise]",ne="[object Set]",Z="[object WeakMap]",se="[object DataView]",fe=W(O),me=W(V),we=W(A),Ze=W(L),ot=W(P),wt=N;(O&&wt(new O(new ArrayBuffer(1)))!=se||V&&wt(new V)!=Y||A&&wt(A.resolve())!=G||L&&wt(new L)!=ne||P&&wt(new P)!=Z)&&(wt=function(ht){var pt=N(ht),mt="[object Object]"==pt?ht.constructor:void 0,vt=mt?W(mt):"";if(vt)switch(vt){case fe:return se;case me:return Y;case we:return G;case Ze:return ne;case ot:return Z}return pt}),j.exports=wt},function(j,Q,v){var O=v(339)(v(295),"DataView");j.exports=O},function(j,Q,v){var O=v(340),V=v(344);j.exports=function(A,L){var P=V(A,L);return O(P)?P:void 0}},function(j,Q,v){var O=v(302),V=v(341),A=v(300),L=v(343),P=/^\[object .+?Constructor\]$/,ne=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");j.exports=function(Z){return!(!A(Z)||V(Z))&&(O(Z)?ne:P).test(L(Z))}},function(j,Q,v){var O,V=v(342),A=(O=/[^.]+$/.exec(V&&V.keys&&V.keys.IE_PROTO||""))?"Symbol(src)_1."+O:"";j.exports=function(L){return!!A&&A in L}},function(j,Q,v){var O=v(295)["__core-js_shared__"];j.exports=O},function(j){var Q=Function.prototype.toString;j.exports=function(v){if(null!=v){try{return Q.call(v)}catch{}try{return v+""}catch{}}return""}},function(j){j.exports=function(Q,v){return Q?.[v]}},function(j,Q,v){var O=v(339)(v(295),"Map");j.exports=O},function(j,Q,v){var O=v(339)(v(295),"Promise");j.exports=O},function(j,Q,v){var O=v(339)(v(295),"Set");j.exports=O},function(j,Q,v){var O=v(339)(v(295),"WeakMap");j.exports=O},function(j,Q,v){var O=v(350),V=v(299),A=Object.prototype,L=A.hasOwnProperty,P=A.propertyIsEnumerable,N=O(function(){return arguments}())?O:function(W){return V(W)&&L.call(W,"callee")&&!P.call(W,"callee")};j.exports=N},function(j,Q,v){var O=v(293),V=v(299);j.exports=function(A){return V(A)&&"[object Arguments]"==O(A)}},function(j,Q,v){var O=v(302),V=v(352);j.exports=function(A){return null!=A&&V(A.length)&&!O(A)}},function(j){j.exports=function(Q){return"number"==typeof Q&&Q>-1&&Q%1==0&&Q<=9007199254740991}},function(j,Q,v){j=v.nmd(j);var O=v(295),V=v(354),A=Q&&!Q.nodeType&&Q,L=A&&j&&!j.nodeType&&j,P=L&&L.exports===A?O.Buffer:void 0;j.exports=(P?P.isBuffer:void 0)||V},function(j){j.exports=function(){return!1}},function(j,Q,v){var O=v(356),V=v(357),A=v(358),L=A&&A.isTypedArray,P=L?V(L):O;j.exports=P},function(j,Q,v){var O=v(293),V=v(352),A=v(299),L={};L["[object Float32Array]"]=L["[object Float64Array]"]=L["[object Int8Array]"]=L["[object Int16Array]"]=L["[object Int32Array]"]=L["[object Uint8Array]"]=L["[object Uint8ClampedArray]"]=L["[object Uint16Array]"]=L["[object Uint32Array]"]=!0,L["[object Arguments]"]=L["[object Array]"]=L["[object ArrayBuffer]"]=L["[object Boolean]"]=L["[object DataView]"]=L["[object Date]"]=L["[object Error]"]=L["[object Function]"]=L["[object Map]"]=L["[object Number]"]=L["[object Object]"]=L["[object RegExp]"]=L["[object Set]"]=L["[object String]"]=L["[object WeakMap]"]=!1,j.exports=function(P){return A(P)&&V(P.length)&&!!L[O(P)]}},function(j){j.exports=function(Q){return function(v){return Q(v)}}},function(j,Q,v){j=v.nmd(j);var O=v(296),V=Q&&!Q.nodeType&&Q,A=V&&j&&!j.nodeType&&j,L=A&&A.exports===V&&O.process,P=function(){try{return A&&A.require&&A.require("util").types||L&&L.binding&&L.binding("util")}catch{}}();j.exports=P},function(j){j.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" viewBox="0, 0, 30, 36" preserveAspectRatio="none"><ellipse cx="15" cy="34" rx="7.661" ry="2" fill="#000000" opacity=".2"></ellipse><path d="M25.6 4.4C22.9 1.7 19.1 0 15 0S7.1 1.7 4.4 4.4C1.7 7.1 0 10.9 0 15s1.7 7.9 4.4 10.6C7.1 28.3 15 34.5 15 34.5s7.9-6.2 10.6-8.9C28.3 22.9 30 19.1 30 15s-1.7-7.9-4.4-10.6z"></path><path d="M25.6 4.4C22.9 1.7 19.1 0 15 0S7.1 1.7 4.4 4.4C1.7 7.1 0 10.9 0 15s1.7 7.9 4.4 10.6C7.1 28.3 15 34.5 15 34.5s7.9-6.2 10.6-8.9C28.3 22.9 30 19.1 30 15s-1.7-7.9-4.4-10.6z"></path><circle class="innerCircle" cx="15" cy="15" r="12" fill="none"></circle></svg>'},function(j){j.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" preserveAspectRatio="none"><path d="M285.81 179.765a11.96 11.96 0 0 0-8.483-3.513 11.97 11.97 0 0 0-8.486 3.514 11.962 11.962 0 0 0-3.51 8.486c0 3.315 1.344 6.316 3.517 8.488 2.17 2.17 8.482 7.112 8.482 7.112s6.312-4.943 8.484-7.115a11.962 11.962 0 0 0 3.515-8.485 11.97 11.97 0 0 0-3.518-8.487zM22.957 13.3L13.03 8.53v9.535zM11.71 7.674c.01-1.144-1.99-1.202-1.99-.096v16.207h1.986"></path></svg>'},function(j){j.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><path d="M7.86448004,5 L16.13552,5 C16.3527157,5 16.5450704,5.14021887 16.6115342,5.34699541 L20.7901057,18.3469954 C20.8746078,18.6098908 20.7299914,18.8915122 20.467096,18.9760143 C20.4176498,18.9919077 20.3660291,19 20.3140914,19 L3.68590861,19 C3.40976624,19 3.18590861,18.7761424 3.18590861,18.5 C3.18590861,18.4480623 3.19400091,18.3964416 3.20989433,18.3469954 L7.38846576,5.34699541 C7.45492965,5.14021887 7.64728431,5 7.86448004,5 Z" id="Rectangle" fill="#333333"></path></g></svg>'},function(j){j.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group" transform="translate(1.000000, 2.000000)"><path d="M9.42180132,7.82352941 L20.0370222,7.82352941 C20.589307,7.82352941 21.0370222,8.27124466 21.0370222,8.82352941 C21.0370222,9.05060091 20.9597415,9.27091141 20.817891,9.44822446 L13.1764706,19 L2.08062485,19 C1.5283401,19 1.08062485,18.5522847 1.08062485,18 C1.08062485,17.7729285 1.1579056,17.552618 1.29975604,17.375305 L8.64093251,8.19883436 C8.8307047,7.96161913 9.1180176,7.82352941 9.42180132,7.82352941 Z" id="Rectangle" fill="#D8D8D8" transform="translate(11.058824, 13.411765) scale(-1, 1) translate(-11.058824, -13.411765) "></path><g id="Group-2" transform="translate(13.294118, 6.705882) scale(1, -1) translate(-13.294118, -6.705882) translate(8.823529, 0.000000)" fill="#333333"><path d="M5.58823529,7.82352941 L7.26572047,7.82352941 C7.72621639,7.82352941 7.98907684,8.34925033 7.7127793,8.71764706 L4.35983812,13.1882353 C4.13630871,13.4862745 3.68924988,13.4862745 3.46572047,13.1882353 L0.112779296,8.71764706 C-0.163518252,8.34925033 0.099342206,7.82352941 0.559838119,7.82352941 L2.23529412,7.82352941 L2.23529412,1.5 C2.23529412,0.671572875 2.90686699,1.52179594e-16 3.73529412,0 L4.08823529,0 C4.91666242,-1.52179594e-16 5.58823529,0.671572875 5.58823529,1.5 L5.58823529,7.82352941 Z" id="Combined-Shape"></path></g></g></g></svg>'},function(j){j.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group" transform="translate(1.000000, 2.000000)"><path d="M8.94117647,7.82352941 L20.0370222,7.82352941 C20.589307,7.82352941 21.0370222,8.27124466 21.0370222,8.82352941 C21.0370222,9.05060091 20.9597415,9.27091141 20.817891,9.44822446 L13.1764706,19 L2.08062485,19 C1.5283401,19 1.08062485,18.5522847 1.08062485,18 C1.08062485,17.7729285 1.1579056,17.552618 1.29975604,17.375305 L8.94117647,7.82352941 Z" id="Rectangle" fill="#D8D8D8"></path><path d="M9.94117647,7.82352941 L11.6186616,7.82352941 C12.0791576,7.82352941 12.342018,8.34925033 12.0657205,8.71764706 L8.7127793,13.1882353 C8.48924988,13.4862745 8.04219106,13.4862745 7.81866165,13.1882353 L4.46572047,8.71764706 C4.18942292,8.34925033 4.45228338,7.82352941 4.9127793,7.82352941 L6.58823529,7.82352941 L6.58823529,1.5 C6.58823529,0.671572875 7.25980817,1.52179594e-16 8.08823529,0 L8.44117647,0 C9.2696036,-3.74224199e-16 9.94117647,0.671572875 9.94117647,1.5 L9.94117647,7.82352941 Z" id="Combined-Shape" fill="#333333"></path></g></g></svg>'},function(j){j.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linejoin="round"><g id="Group-11" transform="translate(12.642489, 12.433332) scale(-1, 1) rotate(-330.000000) translate(-12.642489, -12.433332) translate(4.642489, 5.004760)" stroke="#333333"><path d="M10.9918611,-1.72905482 C9.33732937,-0.0745231022 8.31398022,2.21119118 8.31398022,4.73592147 C8.31398022,7.26065175 9.33732937,9.54636604 10.9918611,11.2008978" id="Oval-Copy-5" stroke-width="3" stroke-linecap="round" transform="translate(9.652921, 4.735921) rotate(-300.000000) translate(-9.652921, -4.735921) "></path><polygon id="Triangle-Copy-3" fill="#333333" transform="translate(4.986815, 11.798597) rotate(-180.000000) translate(-4.986815, -11.798597) " points="4.98681536 9.51288222 8.98681536 14.0843108 0.986815356 14.0843108"></polygon></g></g></svg>'},function(j){j.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linejoin="round"><g id="Group-11" transform="translate(10.642489, 12.433332) rotate(-330.000000) translate(-10.642489, -12.433332) translate(2.642489, 5.004760)" stroke="#333333"><path d="M10.9918611,-1.72905482 C9.33732937,-0.0745231022 8.31398022,2.21119118 8.31398022,4.73592147 C8.31398022,7.26065175 9.33732937,9.54636604 10.9918611,11.2008978" id="Oval-Copy-5" stroke-width="3" stroke-linecap="round" transform="translate(9.652921, 4.735921) rotate(-300.000000) translate(-9.652921, -4.735921) "></path><polygon id="Triangle-Copy-3" fill="#333333" transform="translate(4.986815, 11.798597) rotate(-180.000000) translate(-4.986815, -11.798597) " points="4.98681536 9.51288222 8.98681536 14.0843108 0.986815356 14.0843108"></polygon></g></g></svg>'},function(j){j.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group-12" transform="translate(1.000000, 2.000000)" fill="#333333" fill-rule="nonzero"><path d="M2.26675079,6.99128099 C2.26766357,6.98777505 2.26858954,6.98426949 2.26952874,6.98076436 C2.83913027,4.8549825 4.21884757,3.02890582 6.16333743,1.90625408 C8.10782729,0.783602333 10.3791147,0.501770441 12.5048966,1.07137197 C13.6158662,1.36905538 14.6560611,1.89220565 15.5569667,2.61108605 C16.2045056,3.12779177 16.3105669,4.07159856 15.7938612,4.71913752 C15.2771555,5.36667647 14.3333487,5.47273775 13.6858097,4.95603202 C13.1091738,4.49590358 12.4419523,4.16033464 11.7284395,3.96914945 C10.3635773,3.60343573 8.9116921,3.78359238 7.66333743,4.50433029 C6.65576989,5.08604968 5.88688352,5.9586703 5.43547108,6.99128099 L7,6.99128099 C7.4295794,6.99128099 7.65916836,7.49724184 7.37628835,7.82053329 L4.37628835,11.2491047 C4.1770827,11.4767683 3.8229173,11.4767683 3.62371165,11.2491047 L0.623711653,7.82053329 C0.340831635,7.49724184 0.570420595,6.99128099 1,6.99128099 L2.26675079,6.99128099 Z M18.7332492,13.008719 C18.7323364,13.0122249 18.7314105,13.0157305 18.7304713,13.0192356 C18.1608697,15.1450175 16.7811524,16.9710942 14.8366626,18.0937459 C12.8921727,19.2163977 10.6208853,19.4982296 8.49510341,18.928628 C7.38413381,18.6309446 6.34393886,18.1077943 5.44303331,17.388914 C4.79549436,16.8722082 4.68943307,15.9284014 5.2061388,15.2808625 C5.72284453,14.6333235 6.66665132,14.5272622 7.31419027,15.043968 C7.89082621,15.5040964 8.55804772,15.8396654 9.27156054,16.0308505 C10.6364227,16.3965643 12.0883079,16.2164076 13.3366626,15.4956697 C14.3442301,14.9139503 15.1131165,14.0413297 15.5645289,13.008719 L14,13.008719 C13.5704206,13.008719 13.3408316,12.5027582 13.6237117,12.1794667 L16.6237117,8.75089528 C16.8229173,8.52323168 17.1770827,8.52323168 17.3762883,8.75089528 L20.3762883,12.1794667 C20.6591684,12.5027582 20.4295794,13.008719 20,13.008719 L18.7332492,13.008719 Z" id="Combined-Shape"></path></g><g id="Group-12-Copy" transform="translate(13.500000, 16.000000) scale(-1, -1) translate(-13.500000, -16.000000) translate(5.000000, 10.000000)"></g></g></svg>'}],hr={};function ae(j){if(hr[j])return hr[j].exports;var Q=hr[j]={id:j,loaded:!1,exports:{}};return ea[j].call(Q.exports,Q,Q.exports,ae),Q.loaded=!0,Q.exports}ae.n=function(j){var Q=j&&j.__esModule?function(){return j.default}:function(){return j};return ae.d(Q,{a:Q}),Q},ae.d=function(j,Q){for(var v in Q)ae.o(Q,v)&&!ae.o(j,v)&&Object.defineProperty(j,v,{enumerable:!0,get:Q[v]})},ae.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),ae.o=function(j,Q){return Object.prototype.hasOwnProperty.call(j,Q)},ae.r=function(j){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(j,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(j,"__esModule",{value:!0})},ae.nmd=function(j){return j.paths=[],j.children||(j.children=[]),j};var ui={};return function(){"use strict";ae.r(ui),ae.d(ui,{default:function(){return eo}});var j={};ae.r(j),ae.d(j,{adpEndpoint:function(){return cp},autocompleteEndpoint:function(){return mc},batchAdpQueryEndpoint:function(){return sf},batchChargingAvailabilityQueryEndpoint:function(){return hu},batchNearbySearchQueryEndpoint:function(){return _a},batchReachableRangeQueryEndpoint:function(){return pp},batchReverseGeocodeQueryEndpoint:function(){return ap},batchRoutingEndpoint:function(){return up},batchRoutingQueryEndpoint:function(){return Wd},batchSearchEndpoint:function(){return Ds},batchSearchQueryEndpoint:function(){return il},batchStructuredGeocodeQueryEndpoint:function(){return lp},batchSyncRoutingEndpoint:function(){return dp},batchSyncSearchEndpoint:function(){return ys},calculateReachableRangeEndpoint:function(){return ds},captionV2Endpoint:function(){return Us},chargingAvailabilityEndpoint:function(){return gc},copyrightsV2Endpoint:function(){return Xr},flowSegmentDataEndpoint:function(){return nm},geocodeEndpoint:function(){return rf},incidentDetailsV5Endpoint:function(){return _c},incidentRegionsEndpoint:function(){return pu},incidentViewportEndpoint:function(){return fp},longDistanceEVRoutingEndpoint:function(){return Qc},matrixRoutingEndpoint:function(){return hp},matrixSyncRoutingEndpoint:function(){return Ch},nearbySearchEndpoint:function(){return Al},origin:function(){return Rl},placeByIdEndpoint:function(){return gd},poiCategoriesEndpoint:function(){return Vc},rasterTrafficFlowTilesLayerEndpoint:function(){return Nu},reverseGeocodeEndpoint:function(){return sA},routingEndpoint:function(){return rl},searchEndpoint:function(){return Eh},staticMapImageEndpoint:function(){return lA},structuredGeocodeEndpoint:function(){return Kd},tileLayerEndpoint:function(){return qs},trafficLayerEndpoint:function(){return $d},vectorTrafficFlowTilesLayerEndpoint:function(){return aA}}),ae(1),ae(45),ae(51),ae(52),ae(53),ae(54),ae(55),ae(62),ae(63),ae(67),ae(68),ae(69),ae(75),ae(76),ae(90),ae(91),ae(94),ae(96),ae(105),ae(118),ae(119),ae(120),ae(125),ae(126),ae(127),ae(130),ae(131),ae(138),ae(139),ae(141),ae(142),ae(143),ae(147),ae(148),ae(149),ae(157),ae(158),ae(159),ae(160),ae(161),ae(162),ae(163),ae(164),ae(165),ae(166),ae(167),ae(168),ae(169),ae(170),ae(171),ae(183),ae(184),ae(186),ae(188),ae(191),ae(192),ae(193),ae(194),ae(196),ae(197),ae(199),ae(200),ae(201),ae(202),ae(203),ae(204),ae(206),ae(207),ae(208),ae(209),ae(210),ae(211),ae(212),ae(216),ae(217),ae(218),ae(219),ae(220),ae(221),ae(222),ae(224),ae(225),ae(226),ae(228),ae(229),ae(231),ae(232),ae(233),ae(235),ae(236),ae(237),ae(239),ae(240),ae(241),ae(242),ae(243),ae(244),ae(246),ae(247),ae(248),ae(250),ae(251),ae(252),ae(253),ae(254),ae(255),ae(256),ae(257),ae(258),ae(259),ae(260),ae(261),ae(262),ae(263),ae(264),ae(265),ae(266),ae(268),ae(269),ae(270),ae(271),ae(272),ae(273),ae(274),ae(275),ae(276),ae(277),ae(278),ae(279),ae(282),ae(283),ae(284),ae(290),ae(289);var Q=ae(291),v=ae.n(Q),O=ae(292),V=ae.n(O),A=ae(300),L=ae.n(A),P=ae(301),N=ae.n(P),W=ae(302),Y=ae.n(W),G=ae(304),ne=ae(303),Z=ae.n(ne);const se=Z()["analytics.header.sdkName"]+"/"+Z()["sdk.version"],fe=Z()["analytics.header.name"],me=()=>ae.g.__tomtomAnalyticsInfo_=ae.g.__tomtomAnalyticsInfo_?ae.g.__tomtomAnalyticsInfo_:{},we=()=>{const oe=void 0!==me().productInfo?" "+me().productInfo:"";return se+oe},Ze=()=>{const oe={};return oe[fe]=we(),oe};var ot=oe=>oe.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&").replace(/\\\{.+?\\\}/g,".+");const wt=Z().origin,ht=(Z(),Z(),Z()["endpoints.vectorTileLayer"]),pt=Z()["endpoints.vectorTileLayerV2"],mt=(Z(),Z(),Z(),Z(),Z()["endpoints.styles"]);Z();var vt=(oe,pe,ve)=>{const Ne=new RegExp("([?&])"+pe+"=.*?(&|$)","i");return oe.match(Ne)?ve?oe.replace(Ne,"$1"+pe+"="+ve+"$2"):oe.replace(Ne,"$1$2").replace("&&","&"):ve?oe+function(ln){const dn=ln.indexOf("?");return-1===dn?"?":dn===ln.length-1?"":"&"}(oe)+pe+"="+ve:oe};function Je(oe,pe){var ve=Object.keys(oe);if(Object.getOwnPropertySymbols){var Ne=Object.getOwnPropertySymbols(oe);pe&&(Ne=Ne.filter(function(Mt){return Object.getOwnPropertyDescriptor(oe,Mt).enumerable})),ve.push.apply(ve,Ne)}return ve}function st(oe){for(var pe=1;pe<arguments.length;pe++){var ve=null!=arguments[pe]?arguments[pe]:{};pe%2?Je(Object(ve),!0).forEach(function(Ne){Fe(oe,Ne,ve[Ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(ve)):Je(Object(ve)).forEach(function(Ne){Object.defineProperty(oe,Ne,Object.getOwnPropertyDescriptor(ve,Ne))})}return oe}function Fe(oe,pe,ve){return pe in oe?Object.defineProperty(oe,pe,{value:ve,enumerable:!0,configurable:!0,writable:!0}):oe[pe]=ve,oe}const ze=new RegExp(ot(wt)),Dt=new RegExp(ot(ht)),jt=new RegExp(ot(pt)),Tt="view";ae(309);var Le=ae(311),gt=ae.n(Le);const Et={"af-ZA":{synonyms:{af:null,afr:null,"af-za":null,af_za:null,afrikaans:null},label:"Afrikaans"},ar:{synonyms:{ar:null,ara:null,"ar-ar":null,ar_ar:null,arabic:null},label:"Arabic"},"bg-BG":{synonyms:{bg:null,bul:null,"bg-bg":null,bg_bg:null,bulgarian:null},label:"Bulgarian"},"ca-ES":{synonyms:{ca:null,cat:null,"ca-fr":null,ca_fr:null,"ca-es":null,ca_es:null,catalan:null},label:"Catalan"},"zh-CN":{synonyms:{"zh-cn":null,zh_cn:null},label:"Chinese (PRC)"},"zh-TW":{synonyms:{zh:null,chi:null,"zh-tw":null,zh_tw:null,chinese:null},label:"Chinese (Taiwan)"},"cs-CZ":{synonyms:{cs:null,cz:null,cze:null,"cs-cz":null,cs_cz:null,czech:null},label:"Czech"},"da-DK":{synonyms:{da:null,dan:null,"da-dk":null,da_dk:null,danish:null},label:"Danish"},"nl-BE":{synonyms:{"nl-be":null,nl_be:null,"dutch belgium":null},label:"Dutch (Belgium)"},"nl-NL":{synonyms:{nl:null,dut:null,"nl-nl":null,nl_nl:null,dutch:null},label:"Dutch"},"en-AU":{synonyms:{aue:null,aus:null,"en-au":null,en_au:null,"english au":null},label:"English (Australia)"},"en-GB":{synonyms:{en:null,eng:null,"en-gb":null,en_gb:null,english:null,default:null},label:"English (Great Britain)"},"en-NZ":{synonyms:{"en-nz":null,en_nz:null,"english new zealand":null},label:"English (New Zealand)"},"en-US":{synonyms:{us:null,ame:null,"en-us":null,en_us:null,"english us":null},label:"English (US)"},"et-EE":{synonyms:{"et-ee":null,et_ee:null,estonian:null},label:"Estonian"},"eu-ES":{synonyms:{"eu-es":null,eu_es:null,basque:null},label:"Basque (Spain)"},"fi-FI":{synonyms:{fi:null,fin:null,"fi-fi":null,fi_fi:null,finnish:null},label:"Finnish"},"fr-CA":{synonyms:{"fr-ca":null,fr_ca:null,"french canadian":null},label:"French (Canadian)"},"fr-FR":{synonyms:{fr:null,fre:null,"fr-fr":null,fr_fr:null,french:null},label:"French"},"de-DE":{synonyms:{de:null,ger:null,"de-de":null,de_de:null,german:null},label:"German"},"el-GR":{synonyms:{el:null,gre:null,"el-gr":null,el_gr:null,greek:null},label:"Greek"},"gl-ES":{synonyms:{"gl-es":null,gl_es:null,galician:null},label:"Galician (Spain)"},"he-IL":{synonyms:{"he-il":null,he_il:null,hebrew:null},label:"Hebrew (Israel)"},"hr-HR":{synonyms:{hr:null,"hr-hr":null,hr_hr:null,croatian:null},label:"Croatian"},"hu-HU":{synonyms:{hu:null,hun:null,"hu-hu":null,hu_hu:null,hungarian:null},label:"Hungarian"},"id-ID":{synonyms:{id:null,ind:null,"id-id":null,id_id:null,indonesian:null},label:"Indonesian"},"it-IT":{synonyms:{it:null,ita:null,"it-it":null,it_it:null,italian:null},label:"Italian"},"ja-JP":{synonyms:{ja:null,jap:null,"ja-jp":null,ja_jp:null,japanese:null},label:"Japanese"},"kk-KZ":{synonyms:{"kk-kz":null,kk_kz:null,kazakh:null},label:"Kazakh (Kazakhstan)"},"lv-LV":{synonyms:{lt:null,"lv-lv":null,lv_lv:null,latvian:null},label:"Latvian"},"lt-LT":{synonyms:{lt:null,lit:null,"lt-lt":null,lt_lt:null,lithuanian:null},label:"Lithuanian"},"ms-MY":{synonyms:{ms:null,mal:null,"ms-my":null,ms_my:null,malay:null},label:"Malay"},"no-NO":{synonyms:{no:null,nb:null,nor:null,"nb-no":null,nb_no:null,"no-no":null,no_no:null,norwegian:null},label:"Norwegian"},"pl-PL":{synonyms:{pl:null,pol:null,"pl-pl":null,pl_pl:null,polish:null},label:"Polish"},"ro-RO":{synonyms:{"ro-ro":null,ro_ro:null,romanian:null},label:"Romanian"},"ru-RU":{synonyms:{ru:null,rus:null,"ru-ru":null,ru_ru:null,russian:null},label:"Russian"},"sr-RS":{synonyms:{"sr-rs":null,sr_rs:null,serbian:null},label:"Serbian"},"sk-SK":{synonyms:{sk:null,slo:null,"sk-sk":null,sk_sk:null,slovak:null},label:"Slovak"},"sl-SI":{synonyms:{sl:null,slv:null,"sl-si":null,sl_si:null,slovenian:null},label:"Slovenian"},"es-ES":{synonyms:{es:null,spa:null,"es-es":null,es_es:null,spanish:null},label:"Spanish"},"es-419":{synonyms:{"es-419":null,es_419:null,"latin america spanish":null},label:"Latin American Spanish"},"sv-SE":{synonyms:{sv:null,swe:null,"sv-se":null,sv_se:null,swedish:null},label:"Swedish"},"th-TH":{synonyms:{th:null,tha:null,"th-th":null,th_th:null,thai:null},label:"Thai"},"tr-TR":{synonyms:{tr:null,tur:null,"tr-tr":null,tr_tr:null,turkish:null},label:"Turkish"},"uk-UA":{synonyms:{"uk-ua":null,uk_ua:null,ukrainian:null},label:"Ukrainian"},"vi-VN":{synonyms:{"vi-vn":null,vi_vn:null,vietnamese:null},label:"Vietnamese (Viet Nam)"},NGT:{synonyms:{ngt:null},label:"Neutral Ground Truth"},"NGT-Latn":{synonyms:{"ngt-latn":null},label:"Neutral Ground Truth - Latin exonyms"},"en-CA":{synonyms:{"en-ca":null,en_ca:null,"english canadian":null},label:"English (Canada)"},"ko-KR":{synonyms:{ko:null,kor:null,"ko-kr":null,ko_kr:null,korean:null},label:"Korean"},"nb-NO":{synonyms:{nb:null,nor:null,"nb-no":null,nb_no:null,norwegian:null},label:"Norwegian"},"pt-BR":{synonyms:{br:null,pob:null,"pt-br":null,pt_br:null,"portuguese br":null},label:"Portuguese (BR)"},"pt-PT":{synonyms:{pt:null,por:null,"pt-pt":null,pt_pt:null,portuguese:null},label:"Portuguese"},"ru-Latn-RU":{synonyms:{"ru-latn-ru":null,ru_latn_ru:null},label:"Russian (Latin)"},"ru-Cyrl-RU":{synonyms:{"ru-cyrl-ru":null,ru_cyrl_ru:null},label:"Russian (Cyrlic)"},"es-MX":{synonyms:{mx:null,spm:null,"es-mx":null,es_mx:null,"spanish mx":null},label:"Spanish (Mexico)"},defaultValue:{value:"en-GB",label:"English (Great Britain)"}},bn={NGT:Et.NGT,"NGT-Latn":Et["NGT-Latn"],ar:Et.ar,"bg-BG":Et["bg-BG"],"zh-TW":Et["zh-TW"],"cs-CZ":Et["cs-CZ"],"da-DK":Et["da-DK"],"nl-NL":Et["nl-NL"],"en-AU":Et["en-AU"],"en-CA":Et["en-CA"],"en-GB":Et["en-GB"],"en-NZ":Et["en-NZ"],"en-US":Et["en-US"],"fi-FI":Et["fi-FI"],"fr-FR":Et["fr-FR"],"de-DE":Et["de-DE"],"el-GR":Et["el-GR"],"hu-HU":Et["hu-HU"],"id-ID":Et["id-ID"],"it-IT":Et["it-IT"],"ja-JP":Et["ja-JP"],"ko-KR":Et["ko-KR"],"lt-LT":Et["lt-LT"],"ms-MY":Et["ms-MY"],"nb-NO":Et["nb-NO"],"pl-PL":Et["pl-PL"],"pt-BR":Et["pt-BR"],"pt-PT":Et["pt-PT"],"ru-RU":Et["ru-RU"],"ru-Latn-RU":Et["ru-Latn-RU"],"ru-Cyrl-RU":Et["ru-Cyrl-RU"],"sk-SK":Et["sk-SK"],"sl-SI":Et["sl-SI"],"es-ES":Et["es-ES"],"es-MX":Et["es-MX"],"sv-SE":Et["sv-SE"],"th-TH":Et["th-TH"],"tr-TR":Et["tr-TR"],defaultValue:Et.defaultValue};var on={Unified:{label:"Unified"},IN:{label:"India"},IL:{label:"Israel"},MA:{label:"Morocco"},PK:{label:"Pakistan"},AR:{label:"Argentina",search:{fallback:"Unified"}},Arabic:{label:"Arabic",search:{fallback:"Unified"},reverseGeocoder:{fallback:"Unified"}},RU:{label:"Russia"},TR:{label:"Turkey"},CN:{label:"China"}};function ki(oe){return function On(oe,pe){if(N()(oe)||""===oe)return"";if(pe[oe])return oe;oe=oe.toLowerCase();for(const ve in pe)if(Object.prototype.hasOwnProperty.call(pe,ve)&&"defaultValue"!==ve&&Object.prototype.hasOwnProperty.call(pe[ve].synonyms,oe))return ve;return console.warn("Value provided is invalid ("+oe+"). Default value ("+pe.defaultValue.value+") will be used instead."),pe.defaultValue.value}(oe,bn)}function Wn(oe){if(!gt()(oe)&&!Y()(oe))throw new TypeError("Unsupported key type",oe);return oe}function ei(oe,pe){return ve=>function St(oe,pe,ve){if(-1===pe.indexOf(oe))throw new TypeError(ve);return oe}(ve,oe,"Supported "+pe+" is expected (one of: "+oe+"), but "+ve+" ["+typeof ve+"] was given.")}function Xn(oe){if(gt()(oe)&&/^[a-zA-Z0-9-]{1,100}$/.test(oe))return oe;throw new TypeError("a string matching regular expression ^[a-zA-Z0-9-]{1,100}$ is expected, but "+oe+" ["+typeof oe+"] given")}ae(312);const qn=["adpEndpoint","autocompleteEndpoint","batchRoutingEndpoint","batchSearchEndpoint","batchSyncRoutingEndpoint","batchSyncSearchEndpoint","calculateReachableRangeEndpoint","captionV2Endpoint","chargingAvailabilityEndpoint","copyrightsV2Endpoint","flowSegmentDataEndpoint","geocodeEndpoint","incidentDetailsV5Endpoint","incidentRegionsEndpoint","incidentViewportEndpoint","longDistanceEVRoutingEndpoint","matrixRoutingEndpoint","matrixSyncRoutingEndpoint","nearbySearchEndpoint","placeByIdEndpoint","poiCategoriesEndpoint","reverseGeocodeEndpoint","routingEndpoint","searchEndpoint","staticMapImageEndpoint","structuredGeocodeEndpoint"],An=["batchAdpQueryEndpoint","batchChargingAvailabilityQueryEndpoint","batchNearbySearchQueryEndpoint","batchReachableRangeQueryEndpoint","batchReverseGeocodeQueryEndpoint","batchRoutingQueryEndpoint","batchSearchQueryEndpoint","batchStructuredGeocodeQueryEndpoint"];function kn(oe){if(!gt()(oe))throw new TypeError("Invalid custom URL. A string URL is expected, ".concat(oe," [").concat(typeof oe,"] given"));if(new RegExp(/(https:\/\/|http:\/\/).*/).test(oe))throw new TypeError("Invalid custom URL. URL without protocol (http/https) is expected, ".concat(oe," given"));if(!new RegExp(/^[0-9a-zA-Z-.]+(\.tomtom\.com)(\/.*)?$/).test(oe))throw new TypeError("Invalid custom URL. URL in TomTom domain (*.tomtom.com) is expected, ".concat(oe," given"));return oe}function Gt(oe){if(!gt()(oe))throw new TypeError("Invalid custom query. A string URL is expected, ".concat(oe," [").concat(typeof oe,"] given"));if(!new RegExp(/^\//).test(oe))throw new TypeError("Invalid custom query. A string starting with / is expected, ".concat(oe," given"));return oe}function Zt(oe){return N()(oe)?mt.replace("{version}",Z().hostedStylesVersion):(pe=oe,L()(pe)&&pe.version&&pe.layers&&pe.sources?oe:L()(oe)?function(pe){let ve="https://"+Z().origin+"/style/1/style/"+Z().hostedStylesVersion;return pe.map&&(ve=vt(ve,"map",pe.map)),pe.trafficIncidents&&(ve=vt(ve,"traffic_incidents",pe.trafficIncidents)),pe.trafficFlow&&(ve=vt(ve,"traffic_flow",pe.trafficFlow)),pe.poi&&(ve=vt(ve,"poi",pe.poi)),ve}(oe):oe);var pe}function fi(oe,pe){var ve=Object.keys(oe);if(Object.getOwnPropertySymbols){var Ne=Object.getOwnPropertySymbols(oe);pe&&(Ne=Ne.filter(function(Mt){return Object.getOwnPropertyDescriptor(oe,Mt).enumerable})),ve.push.apply(ve,Ne)}return ve}function Bi(oe){for(var pe=1;pe<arguments.length;pe++){var ve=null!=arguments[pe]?arguments[pe]:{};pe%2?fi(Object(ve),!0).forEach(function(Ne){gi(oe,Ne,ve[Ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(ve)):fi(Object(ve)).forEach(function(Ne){Object.defineProperty(oe,Ne,Object.getOwnPropertyDescriptor(ve,Ne))})}return oe}function gi(oe,pe,ve){return pe in oe?Object.defineProperty(oe,pe,{value:ve,enumerable:!0,configurable:!0,writable:!0}):oe[pe]=ve,oe}const Di=ei(["Unified","IL","IN","MA","PK","AR","Arabic","RU","TR","CN"],"geopoliticalView");function nr(oe){const pe=Bi({},oe);if(N()(pe.container))throw new Error('"container" option is required.');if(N()(pe.key))throw new Error('"key" option is required.');var ve;return pe._stylesVisibility=function(Ne){const Mt={map:!0,poi:!0,trafficFlow:!1,trafficIncidents:!1};if(L()(Ne)){for(const ln in Ne){if(!ln.match(/map|trafficFlow|trafficIncidents|poi/))throw new Error('Allowed properties of "stylesVisibility" are "map", "trafficFlow", "trafficIncidents", "poi".');if(!V()(Ne[ln]))throw new Error('"stylesVisibility.'.concat(ln,'" must be boolean.'))}return Bi(Bi({},Mt),Ne)}return Mt}(pe.stylesVisibility),pe._deferredStyle=Zt(pe.style),pe.style={version:8,sources:{},layers:[]},pe.attributionControl=!1,pe.language=ki(pe.language),pe.geopoliticalView=(ve=pe.geopoliticalView,N()(ve)||""===ve||Di(ve),ve),pe.transformRequest=function yn(oe,pe,ve){return(Ne,Mt)=>{const ln={};let dn={url:Ne,headers:ln};if(dn.url=function(Ln,Gn,Mn){let qr=Ln;return Dt.test(qr)&&(qr=vt(qr,"language",Gn()),qr=vt(qr,Tt,Mn())),jt.test(qr)&&(qr=vt(qr,Tt,Mn())),qr}(dn.url,oe,pe),ze.test(dn.url)&&(ln[fe]=we(),ln["Tracking-ID"]=(0,G.default)()),Y()(ve)){const Ln=ve(dn.url,Mt);Ln&&(dn=st(st({},dn),Ln),Ln.headers&&(dn.headers=st(st({},ln),Ln.headers)))}return dn}}(()=>this._extendedMap&&this._extendedMap.getLanguage()||pe.language,()=>this._extendedMap&&this._extendedMap.getGeopoliticalView()||pe.geopoliticalView,oe.transformRequest),pe}var Ao=ae(319),Pr=ae.n(Ao);function Qr(oe,pe){var ve=Object.keys(oe);if(Object.getOwnPropertySymbols){var Ne=Object.getOwnPropertySymbols(oe);pe&&(Ne=Ne.filter(function(Mt){return Object.getOwnPropertyDescriptor(oe,Mt).enumerable})),ve.push.apply(ve,Ne)}return ve}function zi(oe){for(var pe=1;pe<arguments.length;pe++){var ve=null!=arguments[pe]?arguments[pe]:{};pe%2?Qr(Object(ve),!0).forEach(function(Ne){Qn(oe,Ne,ve[Ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(ve)):Qr(Object(ve)).forEach(function(Ne){Object.defineProperty(oe,Ne,Object.getOwnPropertyDescriptor(ve,Ne))})}return oe}function Qn(oe,pe,ve){return pe in oe?Object.defineProperty(oe,pe,{value:ve,enumerable:!0,configurable:!0,writable:!0}):oe[pe]=ve,oe}class wi{constructor(){let pe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Qn(this,"defaultOptions",{closeAfter:0,closeable:!0}),Qn(this,"getDefaultPosition",()=>"top-left"),Qn(this,"_setMessageBoxSize",()=>{const Ne=this._mapContainer.offsetWidth/2,Mt=this._mapContainer.offsetHeight-340,ln=.7*this._mapContainer.offsetWidth;this._container.style.top="".concat(this._mapContainer.offsetHeight/2,"px"),this._container.style.left="".concat(Ne,"px"),this._container.style.height="".concat(Mt,"px"),this._container.style.width="".concat(ln,"px")}),Qn(this,"_registerEvents",()=>{this._map.on("resize",this._resizeHandler)}),Qn(this,"_deregisterEvents",()=>{this._map.off("resize",this._resizeHandler)}),Qn(this,"onAdd",ve=>{this._map=ve,this._mapContainer=ve.getContainer();const Ne=this._mapContainer.querySelector(".message-box");return Ne?(this._container=Ne,this._closeButton=Ne.querySelector(".message-box__close-button"),this.options.closeable&&!this._closeButton?this._createCloseButton():!this.options.closeable&&this._closeButton&&this._container.removeChild(this._closeButton),this._content=Ne.querySelector(".message-box__content")):(this._container=document.createElement("div"),this._container.setAttribute("style","\n        background: white;\n        border-radius: 2px;\n        box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.4);\n        margin: 0;\n        overflow: hidden;\n        padding: 40px 20px 20px;\n        position: absolute;\n        transform: translate(-50%, -50%);\n        width: 70%;\n        z-index: 9999;\n        max-width: 700px;"),this._container.classList.add("message-box","mapboxgl-ctrl"),this.options.closeable&&this._createCloseButton(),this._content=document.createElement("div"),this._content.setAttribute("style","\n        overflow-y: auto;\n        max-height: 100%;\n        pointer-events: all;\n        word-break: break-word"),this._content.classList.add("message-box__content"),this._container.appendChild(this._content)),this.options.html?this._content.innerHTML=this.options.html:this.options.text&&(this._content.innerText=this.options.text),this.options.closeAfter>0&&(this._closeTimeout=setTimeout(this.onRemove.bind(this),this.options.closeAfter)),this._setMessageBoxSize(),this._registerEvents(),this._container}),Qn(this,"onRemove",()=>{this._closeTimeout&&(this._closeTimeout=clearTimeout(this._closeTimeout)),this._closeButton&&this._closeButton.removeEventListener("click",this.onRemove),this._deregisterEvents(),this._container.parentElement.removeChild(this._container),this._map=null}),Qn(this,"_createCloseButton",()=>{this._closeButton=document.createElement("button"),this._closeButton.setAttribute("style","\n        position: fixed;\n        top: 15px;\n        right: 15px;\n        border: 0;\n        background: none;\n        color: #c3c3c3;\n        font-weight: bold;\n        font: 16px/14px Tahoma, Verdana, sans-serif;\n        cursor: pointer;\n        outline: none;"),this._closeButton.classList.add("message-box__close-button"),this._closeButton.innerText="\xd7",this._closeButton.addEventListener("click",this._removeCallback),this._container.appendChild(this._closeButton)}),this.options=zi(zi({},this.defaultOptions),pe),this._resizeHandler=Pr()(this._setMessageBoxSize,50),this._removeCallback=pe.removeCallback}}function sr(oe){const[pe,ve,Ne]=oe.split(/\n/).filter(Mt=>Mt.length);return'<div id="copyrightMessage">\n        <h4>General Copyrights:</h4>\n        <p>'.concat(pe,"</p>\n        <p>").concat(ve,"</p>\n        <p>").concat(Ne,"<p>\n        </div>")}var _r="POST",Lr="PATH",Tr="QUERY",mo="OTHER",Jr="HEADER",Io=ae(321);class Wo extends Error{constructor(pe){for(var ve=arguments.length,Ne=new Array(ve>1?ve-1:0),Mt=1;Mt<ve;Mt++)Ne[Mt-1]=arguments[Mt];super(...Ne),Error.captureStackTrace&&Error.captureStackTrace(this,Wo);let ln="\n";pe.forEach(dn=>{ln+=dn.message+"\n"}),this.errors=pe,this.message="Validation errors occured: "+ln}}const oo=/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/;class To{constructor(pe){let{validators:ve,converters:Ne,required:Mt,defaultValue:ln,deprecationDate:dn}=pe;Object.assign(this,{validators:ve,converters:Ne,required:Mt,defaultValue:ln,deprecationDate:dn}),this._validateFields()}_isArrayOfFunctions(pe){if(!Array.isArray(pe))return!1;for(let ve=0;ve<pe.length;ve++)if(!Y()(pe[ve]))return!1;return!0}_validateFields(){if(null===this.validators||this.validators&&!this._isArrayOfFunctions(this.validators))throw new Error("Validators are not an array of functions.");if(null===this.converters||this.converters&&!this._isArrayOfFunctions(this.converters))throw new Error("Converters are not an array of functions.");if(void 0!==this.required&&"boolean"!=typeof this.required)throw new Error("Required must be a Boolean.");if(this.deprecationDate&&(Number.isNaN(Date.parse(this.deprecationDate))||!oo.test(this.deprecationDate)))throw new Error("deprecationDate must contain a valid date")}getDefaultValue(){return Y()(this.defaultValue)?this.defaultValue():this.defaultValue}getConverters(){return this.converters?this.converters:[]}getValidators(){return this.validators?this.validators:[]}getDeprecationDate(){return this.deprecationDate}isRequired(){return!0===this.required}}var Ts=new class{constructor(){this.log={}}_isLogPrinted(oe,pe){const ve=this.log[oe];return!!ve&&ve[pe]}_setLog(oe,pe){this.log[oe]=this.log[oe]||{},this.log[oe][pe]=!0}_displayWarning(oe,pe,ve){const Ne=Date.now()>Date.parse(pe),Mt="default"!==ve?"(used in ".concat(ve,") "):"";Ne?console.error("[DEPRECATION WARNING] The parameter '".concat(oe,"' ").concat(Mt," deprecation period ")+"has ended. It is recommended to stop using it as it may stop working. Please refer to https://developer.tomtom.com/maps-sdk-web-js/documentation for more information"):console.warn("[DEPRECATION NOTICE] The parameter '".concat(oe,"' ").concat(Mt,"is deprecated. ")+"By ".concat(pe," we can not guarantee that it will continue to work. ")+"Please refer to https://developer.tomtom.com/maps-sdk-web-js/documentation for more information")}checkDeprecation(oe,pe){let ve=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";N()(oe)||N()(pe)||this._isLogPrinted(ve,oe)||(this._displayWarning(oe,pe,ve),this._setLog(ve,oe))}};function $o(oe,pe){var ve=Object.keys(oe);if(Object.getOwnPropertySymbols){var Ne=Object.getOwnPropertySymbols(oe);pe&&(Ne=Ne.filter(function(Mt){return Object.getOwnPropertyDescriptor(oe,Mt).enumerable})),ve.push.apply(ve,Ne)}return ve}function pr(oe){for(var pe=1;pe<arguments.length;pe++){var ve=null!=arguments[pe]?arguments[pe]:{};pe%2?$o(Object(ve),!0).forEach(function(Ne){Ss(oe,Ne,ve[Ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(ve)):$o(Object(ve)).forEach(function(Ne){Object.defineProperty(oe,Ne,Object.getOwnPropertyDescriptor(ve,Ne))})}return oe}function Ss(oe,pe,ve){return pe in oe?Object.defineProperty(oe,pe,{value:ve,enumerable:!0,configurable:!0,writable:!0}):oe[pe]=ve,oe}function so(oe,pe,ve,Ne,Mt,ln,dn){try{var Ln=oe[ln](dn),Gn=Ln.value}catch(Mn){return void ve(Mn)}Ln.done?pe(Gn):Promise.resolve(Gn).then(Ne,Mt)}const K=(oe,pe,ve,Ne)=>{const Mt=[];for(const ln of pe)try{ln(oe,ve,Ne)}catch(dn){Mt.push(dn)}return Mt},$=oe=>{const pe={};for(const[ve,Ne]of Object.entries(oe))pe[ve]=new To(Ne);return pe},he=function(oe){let pe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ve=arguments.length>2?arguments[2]:void 0;const Ne=$(oe);let Mt=[];for(const[ln,dn]of Object.entries(Ne)){const Ln=pe[ln],Gn="__all"===ln;if(N()(Ln)&&dn.isRequired())Mt.push(new Error("".concat(ln," is a required field.")));else if(!N()(Ln)||Gn){Ts.checkDeprecation(ln,dn.getDeprecationDate(),ve);const Mn=K(Ln,dn.getValidators(),pe,ln);Mt=[...Mt,...Mn]}}return Mt},de=function(oe){let pe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ve=arguments.length>2?arguments[2]:void 0;const Ne=$(oe),Mt={};for(const[ln,dn]of Object.entries(Ne)){const Ln=dn.getDefaultValue();let Gn=pe[ln];if(N()(Gn)||""===Gn){if(N()(Ln))continue;Gn=Ln}const Mn=dn.getConverters();Mt[ln]=Mn.reduce((qr,nc)=>nc(qr,ve),Gn)}return Mt};function ge(){return(ge=function U(oe){return function(){var pe=this,ve=arguments;return new Promise(function(Ne,Mt){var ln=oe.apply(pe,ve);function dn(Gn){so(ln,Ne,Mt,dn,Ln,"next",Gn)}function Ln(Gn){so(ln,Ne,Mt,dn,Ln,"throw",Gn)}dn(void 0)})}}(function*(oe){let pe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ve=arguments.length>2?arguments[2]:void 0,Ne=arguments.length>3?arguments[3]:void 0,Mt=arguments.length>4?arguments[4]:void 0,ln=arguments.length>5?arguments[5]:void 0,dn=de(oe,pe,ve),Ln=he(oe,dn,Ne);if(oe.batchItems&&pe.batchItems){const{batchProperties:Gn,batchErrors:Mn}=function Pe(oe,pe,ve,Ne){const Mt={};let ln=[];if(oe.batchItems&&pe.batchItems&&(Mt.batchItems=pe.batchItems.map(dn=>{const Ln=de(oe.batchItems,dn,ve);return ln=ln.concat(he(oe.batchItems,Ln,Ne)),Ln}),pe.batchMode&&(Mt.batchMode=ei(["sync","async","redirect"],"batchMode")(pe.batchMode)),pe.key&&(Mt.key=Wn(pe.key)),Mt.trackingId=pe.trackingId?Xn(pe.trackingId):(0,Io.v4)(),pe.waitTimeSeconds)){if(function(dn){const Ln=parseFloat(dn);if(!isFinite(Ln))throw new TypeError("a number is expected, but "+dn+" ["+typeof dn+"] given")}(pe.waitTimeSeconds),!(120===pe.waitTimeSeconds||pe.waitTimeSeconds>=5&&pe.waitTimeSeconds<=60))throw new Error("Invalid `waitTimeSeconds` parameter value. Must be 120 or an integer between 5 and 60.");Mt.waitTimeSeconds=pe.waitTimeSeconds}return{batchProperties:Mt,batchErrors:ln}}(oe,pe,ve,Ne);dn=pr(pr({},dn),Gn),Ln=Ln.concat(Mn)}if(Ln.length)throw new Wo(Ln);return Mt(dn,ln)})).apply(this,arguments)}function Ve(oe,pe,ve,Ne,Mt){const ln={batchItems:oe};return function(){let dn=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Ln=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Gn=Ne,Mn=dn,qr=oe;return dn.batchItems&&Y()(Mt)&&(Mn={trackingId:dn.trackingId,batchMode:dn.batchMode,waitTimeSeconds:dn.waitTimeSeconds,batchItems:dn.batchItems,key:dn.key},Gn=Mt,qr=ln),function Qe(oe){return ge.apply(this,arguments)}(qr,Mn,pe,ve,Gn,Ln.abortSignal)}}var We=ae(331),hn=ae.n(We);function Jt(oe,pe){return oe.replace(/\{ *([\w_]+) *\}/g,(ve,Ne)=>{let Mt=pe[Ne];return hn()(Mt)?"{"+Ne+"}":(Y()(Mt)&&(Mt=Mt(Ne)),"query"===Ne?encodeURIComponent(Mt):Mt)})}var Ut=window.fetch;function En(oe,pe,ve,Ne,Mt,ln,dn){try{var Ln=oe[ln](dn),Gn=Ln.value}catch(Mn){return void ve(Mn)}Ln.done?pe(Gn):Promise.resolve(Gn).then(Ne,Mt)}function De(oe,pe){var ve=Object.keys(oe);if(Object.getOwnPropertySymbols){var Ne=Object.getOwnPropertySymbols(oe);pe&&(Ne=Ne.filter(function(Mt){return Object.getOwnPropertyDescriptor(oe,Mt).enumerable})),ve.push.apply(ve,Ne)}return ve}function Xe(oe){for(var pe=1;pe<arguments.length;pe++){var ve=null!=arguments[pe]?arguments[pe]:{};pe%2?De(Object(ve),!0).forEach(function(Ne){Lt(oe,Ne,ve[Ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(ve)):De(Object(ve)).forEach(function(Ne){Object.defineProperty(oe,Ne,Object.getOwnPropertyDescriptor(ve,Ne))})}return oe}function Lt(oe,pe,ve){return pe in oe?Object.defineProperty(oe,pe,{value:ve,enumerable:!0,configurable:!0,writable:!0}):oe[pe]=ve,oe}function _t(oe,pe,ve){oe.pathParameters=oe.pathParameters||{},oe.pathParameters.contentType=ve,oe.pathParameters.protocol=oe.pathParameters.protocol||"https";const Ne=Jt(oe.url,oe.pathParameters),Mt=Ze();Mt.Accept="application/json",oe.headers&&oe.headers.trackingId&&(Mt["Tracking-ID"]=oe.headers.trackingId);let ln=Xe({method:"GET",headers:Mt,mode:"cors"},oe.abortSignal&&{signal:oe.abortSignal});return pe&&(ln=Xe(Xe({},ln),{},{transformResponse:pe})),{options:oe,url:Ne,requestOptions:ln}}function Rt(oe,pe){let ve=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Ne=arguments.length>3?arguments[3]:void 0;return Ut(function Pt(oe,pe){return oe.queryParameters?pe+"?"+Object.keys(oe.queryParameters).map(function(ve){return function(Ne,Mt){const ln=Ne.queryParameters[Mt];let dn="";return dn=Array.isArray(ln)?ln.map(function(Ln){return kt(Mt,Ln)}).join("&"):kt(Mt,Ne.queryParameters[Mt]),dn}(oe,ve)}).join("&"):pe}(oe,pe),ve).then((Mt=function ri(oe){return function(){var pe=this,ve=arguments;return new Promise(function(Ne,Mt){var ln=oe.apply(pe,ve);function dn(Gn){En(ln,Ne,Mt,dn,Ln,"next",Gn)}function Ln(Gn){En(ln,Ne,Mt,dn,Ln,"throw",Gn)}dn(void 0)})}}(function*(ln){const dn=yield Ne(ln);if(!ln.ok)return Promise.reject({response:ln,data:dn});if(oe._getOriginalResponse)return ln;if("batch"===oe.requestType&&202===ln.status)return ln.headers.location;const Ln=ln.headers&&(ln.headers.get("tracking-id")||ln.headers.get("Tracking-ID"));return Xe({data:dn},Ln&&{trackingId:Ln})}),function(ln){return Mt.apply(this,arguments)})).catch(function(){let Mt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(ve.signal&&!0===ve.signal.aborted)return Promise.reject(Mt);const{response:ln,data:dn}=Mt,Ln=oe._getOriginalResponse?ln||Mt:ct(dn,ln&&ln.status)||Mt;return Promise.reject(Ln)});var Mt}function zt(oe){return oe.text()}function tt(oe){return oe.json()}const ct=(oe,pe)=>{if(!oe)return;const{error:ve,detailedError:Ne}=oe;return ve&&Ne?{message:ve.description,data:Ne,status:pe}:oe};function kt(oe,pe){return encodeURIComponent(oe)+"="+encodeURIComponent(pe)}function Rn(oe,pe){var ve=Object.keys(oe);if(Object.getOwnPropertySymbols){var Ne=Object.getOwnPropertySymbols(oe);pe&&(Ne=Ne.filter(function(Mt){return Object.getOwnPropertyDescriptor(oe,Mt).enumerable})),ve.push.apply(ve,Ne)}return ve}function fn(oe,pe,ve){return pe in oe?Object.defineProperty(oe,pe,{value:ve,enumerable:!0,configurable:!0,writable:!0}):oe[pe]=ve,oe}const vi=function(oe){oe.pathParameters=oe.pathParameters||{},oe.pathParameters.contentType="json",oe.pathParameters.protocol=oe.pathParameters.protocol||"https";const pe=Jt(oe.url,oe.pathParameters),ve=Ze();ve.Accept="application/json",oe.headers&&oe.headers.trackingId&&(ve["Tracking-ID"]=oe.headers.trackingId);const Ne=function(Mt){for(var ln=1;ln<arguments.length;ln++){var dn=null!=arguments[ln]?arguments[ln]:{};ln%2?Rn(Object(dn),!0).forEach(function(Ln){fn(Mt,Ln,dn[Ln])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Mt,Object.getOwnPropertyDescriptors(dn)):Rn(Object(dn)).forEach(function(Ln){Object.defineProperty(Mt,Ln,Object.getOwnPropertyDescriptor(dn,Ln))})}return Mt}({method:"POST",headers:ve,mode:"cors",redirect:"follow"},oe.abortSignal&&{signal:oe.abortSignal});return function(Mt,ln){const dn=Mt.bodyParameters;let Ln;dn&&(L()(dn)?Ln=function Ai(oe,pe){const ve=function(Ne){try{return JSON.stringify(Ne)}catch{return null}}(oe);if(!ve)throw new Error("Unsupported request body type: "+oe);return Mt="Content-Type",(Ne=pe).headers||(Ne.headers={}),Ne.headers[Mt]||Ne.headers[Mt.toLowerCase()]||(Ne.headers[Mt]="application/json"),ve;var Ne,Mt}(dn,ln):gt()(dn)&&(Ln=dn),ln.body=Ln)}(oe,Ne),Rt(oe,pe,Ne,tt)};var Br=(oe,pe)=>{oe.protocol=oe&&oe.protocol||"https";const ve=oe.pathParameters;return ve&&"text"===ve.contentType?function(oe,pe){const ve=_t(oe,pe,"text");return Rt(ve.options,ve.url,ve.requestOptions,zt)}(oe,pe):function(oe,pe){const ve=_t(oe,pe,"json");return Rt(ve.options,ve.url,ve.requestOptions,tt)}(oe,pe)};function no(oe){const pe=oe[1];return!pe.application||pe.application===Tr}function ks(oe){return oe[1].application===Lr}function uu(oe){return oe[1].application===_r}function du(oe){return oe[1].application===mo}function es(oe){return oe[1].application===Jr}function Lu(oe){return{name:oe[0],fieldName:oe[2]}}function ls(oe,pe){let ve=Object.keys(oe).map((Ne=oe,Mt=>[Ne[Mt]&&Ne[Mt].name||Mt,Ne[Mt],Mt]));var Ne;return ve=ve.filter(pe),ve=ve.map(Lu),ve}function ts(oe){return ls(oe,no)}function fl(oe){return ls(oe,ks)}function No(oe){return ls(oe,uu)}function nl(oe){return ls(oe,du)}function ga(oe){return ls(oe,es)}function Yl(oe,pe,ve){const Ne={};return pe(oe).forEach(Mt=>{if(Mt.fieldName in ve){const ln=oe[Mt.fieldName],dn=ve[Mt.fieldName];ln.cast?ln.cast(dn,Ne):Ne[Mt.name]=dn}}),Ne}var Te=ae(332),Me=ae.n(Te);const at="contentType";const _i=oe=>(pe,ve,Ne)=>{const{pathParams:Mt,queryParams:ln,postParams:dn,headerParams:Ln}=function ja(oe,pe){return{pathParams:Yl(oe,fl,pe),queryParams:Yl(oe,ts,pe),postParams:Yl(oe,No,pe),otherParams:Yl(oe,nl,pe),headerParams:Yl(oe,ga,pe)}}(function en(oe){const pe=Object.assign({},oe);return pe[at]={application:Lr},pe}(pe),function Fn(oe){return oe[at]=oe[at]||"json",oe}(ve)),Gn={headers:Ln,url:"{protocol}://"+oe,pathParameters:Mt,queryParameters:ln,abortSignal:Ne};return Me()(dn)?Br(Gn):(Gn.bodyParameters=dn,(oe=>(oe.protocol=oe.protocol||"https",vi(oe)))(Gn))},Xr=Z()["endpoints.copyrightsV2"],Us=Z()["endpoints.captionV2"],Ds=Z()["endpoints.batchSearch"],ys=Z()["endpoints.batchSyncSearch"],il=Z()["endpoints.batchSearchQuery"],rf=Z()["endpoints.geocode"],sA=Z()["endpoints.reverseGeocode"],ap=Z()["endpoints.batchReverseGeocodeQuery"],Kd=Z()["endpoints.structuredGeocode"],Eh=Z()["endpoints.search"],lp=Z()["endpoints.batchStructuredGeocodeQuery"],cp=Z()["endpoints.adp"],sf=Z()["endpoints.batchAdpQuery"],Al=Z()["endpoints.nearbySearch"],_a=Z()["endpoints.batchNearbySearchQuery"],mc=Z()["endpoints.autocomplete"],Vc=Z()["endpoints.poiCategories"],gc=Z()["endpoints.chargingAvailability"],hu=Z()["endpoints.batchChargingAvailabilityQuery"],gd=Z()["endpoints.placeById"],rl=Z()["endpoints.routing"],ds=Z()["endpoints.calculateReachableRange"],Wd=Z()["endpoints.batchRoutingQuery"],up=Z()["endpoints.batchRouting"],dp=Z()["endpoints.batchSyncRouting"],hp=Z()["endpoints.matrixRouting"],Ch=Z()["endpoints.matrixSyncRouting"],pp=Z()["endpoints.batchReachableRangeQuery"],Qc=Z()["endpoints.longDistanceEVRouting"],_c=Z()["endpoints.incidentDetailsV5"],fp=Z()["endpoints.incidentViewport"],nm=Z()["endpoints.flowSegmentData"],pu=Z()["endpoints.incidentRegions"],$d=Z()["endpoints.trafficLayer"],Nu=Z()["endpoints.rasterTrafficFlowTilesLayer"],aA=Z()["endpoints.vectorTrafficFlowTilesLayer"],qs=Z()["endpoints.tileLayer"],lA=Z()["endpoints.staticImage"],Rl=Z().origin;class fu{constructor(pe){void 0!==pe?.customEndpoints&&(this._customEndpoints=function Jn(oe){try{!function(pe){if("object"!=typeof pe||pe.constructor!==Object)throw new TypeError("an object is expected, but "+pe+"  ["+typeof pe+"] given")}(oe);for(const pe in oe)if(qn.includes(pe))kn(oe[pe]);else{if(!An.includes(pe))throw new TypeError("Endpoint name is expected to be one of supported values, but "+oe+"given");Gt(oe[pe])}}catch(pe){throw new TypeError("Invalid custom endpoints object. ".concat(pe.message))}return oe}(pe.customEndpoints)),void 0!==pe?.customDomain&&(this._customDomain=kn(pe.customDomain),this._customDomain=this._customDomain.replace(new RegExp(/\/$/),""))}resolve(pe){var ve;if(void 0!==(null===(ve=this._customEndpoints)||void 0===ve?void 0:ve[pe]))return this._customEndpoints[pe];const Ne=j[pe];return void 0!==this._customDomain?this._changeDomain(Ne,this._customDomain):Ne}_changeDomain(pe,ve){return pe.replace(Rl,ve)}}function Uu(oe,pe){var ve=Object.keys(oe);if(Object.getOwnPropertySymbols){var Ne=Object.getOwnPropertySymbols(oe);pe&&(Ne=Ne.filter(function(Mt){return Object.getOwnPropertyDescriptor(oe,Mt).enumerable})),ve.push.apply(ve,Ne)}return ve}function Au(oe,pe,ve){return pe in oe?Object.defineProperty(oe,pe,{value:ve,enumerable:!0,configurable:!0,writable:!0}):oe[pe]=ve,oe}function ol(oe,pe){let{data:ve,trackingId:Ne}=oe;const Mt="string"==typeof ve?{data:ve}:function(dn){for(var Ln=1;Ln<arguments.length;Ln++){var Gn=null!=arguments[Ln]?arguments[Ln]:{};Ln%2?Uu(Object(Gn),!0).forEach(function(Mn){Au(dn,Mn,Gn[Mn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(dn,Object.getOwnPropertyDescriptors(Gn)):Uu(Object(Gn)).forEach(function(Mn){Object.defineProperty(dn,Mn,Object.getOwnPropertyDescriptor(Gn,Mn))})}return dn}({},ve),ln=pe?pe(ve):Mt;return ln.getTrackingId=()=>Ne||null,ln}const jc={key:{validators:[function(oe){if(!gt()(oe))throw new TypeError("a string is expected, but "+oe+" ["+typeof oe+"] given");return oe}]},trackingId:{validators:[Xn],application:Jr,defaultValue:Io.v4}},Vu={key:{validators:[Wn]},trackingId:{validators:[Xn],application:Jr,defaultValue:Io.v4}};function Zl(oe,pe,ve){return pe in oe?Object.defineProperty(oe,pe,{value:ve,enumerable:!0,configurable:!0,writable:!0}):oe[pe]=ve,oe}class im extends Q.AttributionControl{constructor(pe){super({compact:!1}),Zl(this,"_removeMessageBox",()=>{this._map.removeControl(this._messageBox)}),Zl(this,"_attributionElementCallback",()=>function(ve,Ne){const Mt=new fu(undefined),ln=_i(Mt.resolve("copyrightsV2Endpoint"));return Ve(jc,"MAP","copyrights",function(dn,Ln){return dn.contentType="text",ln(jc,dn,Ln).then(ol)})(ve,undefined)}({key:this.apiKey}).then(ve=>ve.data).then(sr).then(ve=>{this._messageBox=new wi({html:ve,removeCallback:this._removeMessageBox}),this._map.addControl(this._messageBox)}).catch(ve=>console.log(ve))),this.apiKey=pe,this.attributions=[],this.tomtomCopyrightsCaption='<a class="tomtomAttribution">&copy; 1992 - '.concat((new Date).getFullYear()," TomTom.</a>"),this.sourceDataListener=this.__ttUpdateAttributions.bind(this),this.separator=" | ",this.retryCount=0,this._getCopyrightsCaption()}onAdd(pe){const ve=super.onAdd(pe);return this._map.on("sourcedata",this.sourceDataListener),ve}onRemove(){this._map.off("sourcedata",this.sourceDataListener),clearTimeout(this.timeoutId),super.onRemove()}addAttribution(pe){this._updateAttributions(),this.attributions=this.attributions.concat(pe),this.__ttUpdateAttributions()}removeAttribution(pe){this.attributions=this.attributions.filter(ve=>ve!==pe),this.__ttUpdateAttributions()}getSeparator(){return this.separator}setSeparator(pe){this.separator=pe}_getCopyrightsCaption(){(function(pe,ve){const Ne=new fu(undefined),Mt=_i(Ne.resolve("captionV2Endpoint"));return Ve(Vu,"MAP","copyrightsCaptionV2",function(ln,dn){return Mt(Vu,ln,dn).then(ol)})(pe,undefined)})({key:this.apiKey}).then(pe=>{this.tomtomCopyrightsCaption='<a class="tomtomAttribution">'.concat(pe.copyrightsCaption,"</a>"),this.__ttUpdateAttributions()}).catch(()=>{this.retryCount=this.retryCount+1;const pe=this.retryCount>5?15e3:1e3;this.timeoutId=setTimeout(this._getCopyrightsCaption.bind(this),pe)})}_mergeAttributions(){let pe=this.tomtomCopyrightsCaption;return this.attributions.length>0&&(pe+=this.separator+this.attributions.join(this.separator)),pe}__ttUpdateAttributions(){this.attributions.length||this.tomtomCopyrightsCaption?(this._attributionElement&&this._attributionElement.removeEventListener("click",this._attributionElementCallback),this._container.innerHTML=this._mergeAttributions(),this._container.classList.remove("mapboxgl-attrib-empty"),this._setAttributionElement(this._container.querySelector(".tomtomAttribution"))):this._container.classList.add("mapboxgl-attrib-empty")}_setAttributionElement(pe){pe&&pe.addEventListener("click",this._attributionElementCallback),this._attributionElement=pe}}function Ap(oe,pe,ve,Ne,Mt,ln,dn){try{var Ln=oe[ln](dn),Gn=Ln.value}catch(Mn){return void ve(Mn)}Ln.done?pe(Gn):Promise.resolve(Gn).then(Ne,Mt)}var oe,pe,Gr=(oe=function*(ve){let Ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bottom-right",Mt=arguments.length>2?arguments[2]:void 0;const ln=new im(ve);Mt.addControl(ln,Ne),Mt._attributionControl=ln},pe=function(){var ve=this,Ne=arguments;return new Promise(function(Mt,ln){var dn=oe.apply(ve,Ne);function Ln(Mn){Ap(dn,Mt,ln,Ln,Gn,"next",Mn)}function Gn(Mn){Ap(dn,Mt,ln,Ln,Gn,"throw",Mn)}Ln(void 0)})},function(ve){return pe.apply(this,arguments)}),_d=()=>Q.Map;const Qu=["boxZoom","scrollZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];var mp="tomtom.map.load";const gp=oe=>"load"===oe?mp:oe,Ih={setStyle(oe){const pe=Zt(oe);return this._initializeStyle(pe),this},addLayer:function(oe,pe){return oe&&"symbol"===oe.type&&oe.layout&&void 0===oe.layout["text-font"]&&(oe.layout["text-font"]=["Noto-Bold"]),this.__om.addLayer(oe,pe),this.__om},once(oe){for(var pe=arguments.length,ve=new Array(pe>1?pe-1:0),Ne=1;Ne<pe;Ne++)ve[Ne-1]=arguments[Ne];return this.__om.once(gp(oe),...ve),this},on(oe){for(var pe=arguments.length,ve=new Array(pe>1?pe-1:0),Ne=1;Ne<pe;Ne++)ve[Ne-1]=arguments[Ne];return this.__om.on(gp(oe),...ve),this},off(oe){for(var pe=arguments.length,ve=new Array(pe>1?pe-1:0),Ne=1;Ne<pe;Ne++)ve[Ne-1]=arguments[Ne];return this.__om.off(gp(oe),...ve),this},fitBounds:function(oe,pe){const ve=(oe=Q.LngLatBounds.convert(oe)).getSouth(),Ne=oe.getWest(),Mt=oe.getNorth(),ln=Ne+(dn=oe.getEast(),180-Math.abs(Math.abs(dn-Ne)-180));var dn;this.__om.fitBounds(new Q.LngLatBounds([[Ne,ve],[ln,Mt]]),pe)}},rm=["isMoving","isZooming","isRotating","getCenter","setCenter","panTo","getZoom","setZoom","zoomTo","getBearing","setBearing","rotateTo","getPitch","setPitch","fitBounds","jumpTo","easeTo","flyTo","stop","resize","getBounds","getMaxBounds","setMaxBounds","setMinZoom","getMinZoom","setMaxZoom","getMaxZoom","on","on","off","off","once","once","addControl","removeControl","hasControl","addLayer","isStyleLoaded","addSource","isSourceLoaded","areTilesLoaded","removeSource","getSource","moveLayer","removeLayer","getLayer","setLayerZoomRange","setFilter","getFilter","setPaintProperty","setFeatureState","removeFeatureState","getFeatureState","getPaintProperty","setLayoutProperty","getLayoutProperty","getStyle","getContainer","getCanvasContainer","getCanvas","loaded","remove","triggerRepaint","project","unproject","loadImage","listImages","hasImage","removeImage","addImage","updateImage","resetNorthPitch","queryRenderedFeatures","querySourceFeatures","cameraForBounds"];function vc(oe,pe){var ve=Object.keys(oe);if(Object.getOwnPropertySymbols){var Ne=Object.getOwnPropertySymbols(oe);pe&&(Ne=Ne.filter(function(Mt){return Object.getOwnPropertyDescriptor(oe,Mt).enumerable})),ve.push.apply(ve,Ne)}return ve}function af(oe){for(var pe=1;pe<arguments.length;pe++){var ve=null!=arguments[pe]?arguments[pe]:{};pe%2?vc(Object(ve),!0).forEach(function(Ne){mu(oe,Ne,ve[Ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(ve)):vc(Object(ve)).forEach(function(Ne){Object.defineProperty(oe,Ne,Object.getOwnPropertyDescriptor(ve,Ne))})}return oe}function mu(oe,pe,ve){return pe in oe?Object.defineProperty(oe,pe,{value:ve,enumerable:!0,configurable:!0,writable:!0}):oe[pe]=ve,oe}function Th(oe,pe,ve,Ne,Mt,ln,dn){try{var Ln=oe[ln](dn),Gn=Ln.value}catch(Mn){return void ve(Mn)}Ln.done?pe(Gn):Promise.resolve(Gn).then(Ne,Mt)}function va(oe,pe,ve){return pe in oe?Object.defineProperty(oe,pe,{value:ve,enumerable:!0,configurable:!0,writable:!0}):oe[pe]=ve,oe}class _p{constructor(pe){var Ne,Mt,ve=this;va(this,"_download",Ne=>{let Mt=Ne;return Ne.match(/key=/)||(Mt=vt(Mt,"key",this._key)),Br({url:Mt}).then(ln=>ln.data)}),va(this,"fetch",(Ne=function*(ln){return gt()(ln)?(ve._cache[ln]||(ve._cache[ln]=yield ve._download(ln)),ve._cache[ln]):function(dn){const Ln={version:8,sources:af({},dn.sources),layers:dn.layers.slice()};return dn.glyphs&&(Ln.glyphs=dn.glyphs),dn.sprite&&(Ln.sprite=dn.sprite),Ln}(ln)},Mt=function(){var ln=this,dn=arguments;return new Promise(function(Ln,Gn){var Mn=Ne.apply(ln,dn);function qr(Mo){Th(Mn,Ln,Gn,qr,nc,"next",Mo)}function nc(Mo){Th(Mn,Ln,Gn,qr,nc,"throw",Mo)}qr(void 0)})},function(ln){return Mt.apply(this,arguments)})),this._key=pe,this._cache={}}}const zc={map:"vectorTiles",trafficFlow:"vectorTilesFlow",trafficIncidents:"vectorTilesIncidents",poi:"poiTiles"};var sl={setInitialLayersVisibility:function(oe,pe){for(const ve in pe)!0!==pe[ve]&&this._updateLayersWithSource(oe,zc[ve],Mt=>{Mt.layout=Mt.layout||{},Mt.layout.visibility="none"})},hide:function(oe,pe){this._updateLayerSetVisibility(oe,pe,"none")},show:function(oe,pe){this._updateLayerSetVisibility(oe,pe,"visible")},_updateLayerSetVisibility:function(oe,pe,ve){const Ne=oe.getStyle();this._updateLayersWithSource(Ne,zc[pe],ln=>{oe.setLayoutProperty(ln.id,"visibility",ve,{validate:!1})}),oe.__om._update(!0)},_updateLayersWithSource:function(oe,pe,ve){oe.layers.forEach(Ne=>{Ne.source===pe&&ve(Ne)})}};function Xd(oe,pe,ve,Ne,Mt,ln,dn){try{var Ln=oe[ln](dn),Gn=Ln.value}catch(Mn){return void ve(Mn)}Ln.done?pe(Gn):Promise.resolve(Gn).then(Ne,Mt)}function Ks(oe,pe,ve){return pe in oe?Object.defineProperty(oe,pe,{value:ve,enumerable:!0,configurable:!0,writable:!0}):oe[pe]=ve,oe}class Ro{constructor(){var pe=this;let ve=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var Mt,ln;Ks(this,"_repaintMap",()=>{const ln=this.__om.style.sourceCaches.vectorTiles;ln&&(ln.clearTiles(),this.__om.getSource("vectorTiles").load())}),Ks(this,"_initializeStyle",(Mt=function*(dn){const Ln=yield pe._styleRetriever.fetch(dn);sl.setInitialLayersVisibility(Ln,pe.options._stylesVisibility),pe._translateStyleTextFields(Ln,pe._language),pe.options.sprite&&(Ln.sprite=pe.options.sprite),pe.options.glyphs&&(Ln.glyphs=pe.options.glyphs);const Gn=new Promise(Mn=>{pe.__om.once("style.load",()=>{Mn()})});return pe.__om.setStyle(Ln,{diff:!1}),Gn},ln=function(){var dn=this,Ln=arguments;return new Promise(function(Gn,Mn){var qr=Mt.apply(dn,Ln);function nc(li){Xd(qr,Gn,Mn,nc,Mo,"next",li)}function Mo(li){Xd(qr,Gn,Mn,nc,Mo,"throw",li)}nc(void 0)})},function(dn){return ln.apply(this,arguments)})),Ks(this,"_getTranslatedTextField",(Mt,ln,dn)=>{const Ln="name",Gn={fieldName:Ln,fieldPattern:new RegExp("".concat(Ln,"_").concat(dn),"g"),legacyFieldPattern:new RegExp("\\{".concat(Ln,"\\}"),"g"),searchPattern:new RegExp('\\["get", *"'.concat(Ln,'"\\]'),"g")};let Mn;if(Array.isArray(Mt)){const qr=JSON.stringify(Mt);if(qr.match(Gn.fieldPattern))Mn=qr.replaceAll(Gn.fieldPattern,"".concat(Gn.fieldName,"_").concat(ln));else try{Mn=qr.replaceAll(Gn.searchPattern,JSON.stringify(["coalesce",["get","".concat(Gn.fieldName,"_").concat(ln)],["get",Gn.fieldName]]))}catch{return}try{return JSON.parse(Mn)}catch{return}}else if("string"==typeof Mt&&Mt.match(Gn.legacyFieldPattern))try{const qr=Mt.replaceAll(Gn.legacyFieldPattern,JSON.stringify(["coalesce",["get","".concat(Gn.fieldName,"_").concat(ln)],["get",Gn.fieldName]]));return JSON.parse(qr)}catch{return}}),Ks(this,"_translateStyleTextFields",(Mt,ln)=>{for(const Ln in Mt.layers){const Gn=Mt.layers[Ln];if("vectorTiles"===Gn.source&&"symbol"===Gn.type){var dn;const Mn=null===(dn=Gn.layout)||void 0===dn?void 0:dn["text-field"],qr=this._getTranslatedTextField(Mn,ln,this._language);qr&&(Gn.layout["text-field"]=qr)}}}),Ks(this,"setLanguage",Mt=>{Mt=ki(Mt);for(const ln in this.__om.style._layers){const dn=this.__om.style._layers[ln];if("vectorTiles"===dn.source&&"symbol"===dn.type){const Ln=this.getLayoutProperty(ln,"text-field"),Gn=this._getTranslatedTextField(Ln,Mt,this._language);Gn&&this.setLayoutProperty(ln,"text-field",Gn)}}this._language=Mt,this._repaintMap()}),Ks(this,"getLanguage",()=>this._language),Ks(this,"setGeopoliticalView",Mt=>{Mt=function Ui(oe){return pe=oe,N()(pe)||""===pe?"":on[pe]?pe:(console.warn("Value provided is invalid ("+pe+"). Default value ("+on.defaultValue+") will be used instead."),on.defaultValue);var pe}(Mt),this._geopoliticalView=Mt,this._repaintMap()}),Ks(this,"getGeopoliticalView",()=>this._geopoliticalView),Ks(this,"getAttributionControl",()=>this.__om._attributionControl||this._attributionControl),Ks(this,"showTrafficFlow",()=>{sl.show(this,"trafficFlow")}),Ks(this,"hideTrafficFlow",()=>{sl.hide(this,"trafficFlow")}),Ks(this,"showTrafficIncidents",()=>{sl.show(this,"trafficIncidents")}),Ks(this,"hideTrafficIncidents",()=>{sl.hide(this,"trafficIncidents")}),Ks(this,"showPOI",()=>{sl.show(this,"poi")}),Ks(this,"hidePOI",()=>{sl.hide(this,"poi")}),this.options=ve,this._styleRetriever=new _p(ve.key),this._language=ve.language,this._geopoliticalView=ve.geopoliticalView}}function vp(oe,pe){var ve=Object.keys(oe);if(Object.getOwnPropertySymbols){var Ne=Object.getOwnPropertySymbols(oe);pe&&(Ne=Ne.filter(function(Mt){return Object.getOwnPropertyDescriptor(oe,Mt).enumerable})),ve.push.apply(ve,Ne)}return ve}function lf(oe){for(var pe=1;pe<arguments.length;pe++){var ve=null!=arguments[pe]?arguments[pe]:{};pe%2?vp(Object(ve),!0).forEach(function(Ne){zu(oe,Ne,ve[Ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(ve)):vp(Object(ve)).forEach(function(Ne){Object.defineProperty(oe,Ne,Object.getOwnPropertyDescriptor(ve,Ne))})}return oe}function zu(oe,pe,ve){return pe in oe?Object.defineProperty(oe,pe,{value:ve,enumerable:!0,configurable:!0,writable:!0}):oe[pe]=ve,oe}class cf{constructor(pe,ve){let{mapbox:Ne}=ve;zu(this,"createMap",()=>{const Mt=function ju(oe){const pe=_d();return pe.prototype._detectMissingCSS=function(){const ve=this._missingCSSCanary||document.getElementsByClassName("mapboxgl-canary")[0];"rgb(250, 128, 114)"!==window.getComputedStyle(ve).getPropertyValue("background-color")&&console.warn("This page appears to be missing CSS declarations for Maps SDK for Web, which may cause the map to display incorrectly. Please ensure your page includes maps.css, as described in https://developer.tomtom.com/maps-sdk-web-js/documentation")},new pe(oe)}(lf({},this.options)),ln=(dn=>new Ro(this.options))();return function Jl(oe,pe){var ve,Ne;ve=oe,Ne=pe,rm.forEach(Mt=>{ve[Mt]=function(){const ln=Ne[Mt](...arguments);return ln instanceof _d()?ve:ln}}),Object.defineProperty(ve,"__om",{value:Ne}),function(ve,Ne){Qu.forEach(Mt=>{ve[Mt]=Ne[Mt]})}(oe,pe),function(ve){for(const Ne in Ih)Object.prototype.hasOwnProperty.call(Ih,Ne)&&(ve[Ne]=Ih[Ne].bind(ve))}(oe)}(ln,Mt),Gr(this.options.key,this.options.attributionControlPosition,ln),function(dn){const Ln=new Blob(['(function(){(function(global,factory){if(typeof exports==="object"&&typeof module!=="undefined"){factory(module.exports)}else if(typeof define==="function"&&define.amd){define(factory)}else{factory(global)}})(this,function(exports){var Module={TOTAL_MEMORY:8*1024*1024,TOTAL_STACK:2*1024*1024,preRun:[],postRun:[],print:function(text){console.log(text)},printErr:function(text){text=Array.prototype.slice.call(arguments).join(" ");if(text.indexOf("pre-main prep time")>=0){return}console.error(text)}};var Module=typeof Module!=="undefined"?Module:{};var moduleOverrides={};var key;for(key in Module){if(Module.hasOwnProperty(key)){moduleOverrides[key]=Module[key]}}Module["arguments"]=[];Module["thisProgram"]="./this.program";Module["quit"]=function(status,toThrow){throw toThrow};Module["preRun"]=[];Module["postRun"]=[];var ENVIRONMENT_IS_WEB=false;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;ENVIRONMENT_IS_WEB=typeof window==="object";ENVIRONMENT_IS_WORKER=typeof importScripts==="function";ENVIRONMENT_IS_NODE=typeof process==="object"&&typeof require==="function"&&!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER;ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;var scriptDirectory="";function locateFile(path){if(Module["locateFile"]){return Module["locateFile"](path,scriptDirectory)}else{return scriptDirectory+path}}if(ENVIRONMENT_IS_NODE){scriptDirectory=__dirname+"/";var nodeFS;var nodePath;Module["read"]=function shell_read(filename,binary){var ret;ret=tryParseAsDataURI(filename);if(!ret){if(!nodeFS)nodeFS=require("fs");if(!nodePath)nodePath=require("path");filename=nodePath["normalize"](filename);ret=nodeFS["readFileSync"](filename)}return binary?ret:ret.toString()};Module["readBinary"]=function readBinary(filename){var ret=Module["read"](filename,true);if(!ret.buffer){ret=new Uint8Array(ret)}return ret};if(process["argv"].length>1){Module["thisProgram"]=process["argv"][1].replace(/\\\\/g,"/")}Module["arguments"]=process["argv"].slice(2);if(typeof module!=="undefined"){module["exports"]=Module}process["on"]("uncaughtException",function(ex){if(!(ex instanceof ExitStatus)){throw ex}});process["on"]("unhandledRejection",abort);Module["quit"]=function(status){process["exit"](status)};Module["inspect"]=function(){return"[Emscripten Module object]"}}else if(ENVIRONMENT_IS_SHELL){if(typeof read!="undefined"){Module["read"]=function shell_read(f){var data=tryParseAsDataURI(f);if(data){return intArrayToString(data)}return read(f)}}Module["readBinary"]=function readBinary(f){var data;data=tryParseAsDataURI(f);if(data){return data}if(typeof readbuffer==="function"){return new Uint8Array(readbuffer(f))}data=read(f,"binary");return data};if(typeof scriptArgs!="undefined"){Module["arguments"]=scriptArgs}else if(typeof arguments!="undefined"){Module["arguments"]=arguments}if(typeof quit==="function"){Module["quit"]=function(status){quit(status)}}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href}else if(document.currentScript){scriptDirectory=document.currentScript.src}if(scriptDirectory.indexOf("blob:")!==0){scriptDirectory=scriptDirectory.substr(0,scriptDirectory.lastIndexOf("/")+1)}else{scriptDirectory=""}Module["read"]=function shell_read(url){try{var xhr=new XMLHttpRequest;xhr.open("GET",url,false);xhr.send(null);return xhr.responseText}catch(err){var data=tryParseAsDataURI(url);if(data){return intArrayToString(data)}throw err}};if(ENVIRONMENT_IS_WORKER){Module["readBinary"]=function readBinary(url){try{var xhr=new XMLHttpRequest;xhr.open("GET",url,false);xhr.responseType="arraybuffer";xhr.send(null);return new Uint8Array(xhr.response)}catch(err){var data=tryParseAsDataURI(url);if(data){return data}throw err}}}Module["readAsync"]=function readAsync(url,onload,onerror){var xhr=new XMLHttpRequest;xhr.open("GET",url,true);xhr.responseType="arraybuffer";xhr.onload=function xhr_onload(){if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response);return}var data=tryParseAsDataURI(url);if(data){onload(data.buffer);return}onerror()};xhr.onerror=onerror;xhr.send(null)};Module["setWindowTitle"]=function(title){document.title=title}}else{}var out=Module["print"]||(typeof console!=="undefined"?console.log.bind(console):typeof print!=="undefined"?print:null);var err=Module["printErr"]||(typeof printErr!=="undefined"?printErr:typeof console!=="undefined"&&console.warn.bind(console)||out);for(key in moduleOverrides){if(moduleOverrides.hasOwnProperty(key)){Module[key]=moduleOverrides[key]}}moduleOverrides=undefined;var STACK_ALIGN=16;function dynamicAlloc(size){var ret=HEAP32[DYNAMICTOP_PTR>>2];var end=ret+size+15&-16;if(end<=_emscripten_get_heap_size()){HEAP32[DYNAMICTOP_PTR>>2]=end}else{var success=_emscripten_resize_heap(end);if(!success)return 0}return ret}function getNativeTypeSize(type){switch(type){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:{if(type[type.length-1]==="*"){return 4}else if(type[0]==="i"){var bits=parseInt(type.substr(1));return bits/8}else{return 0}}}}function warnOnce(text){if(!warnOnce.shown)warnOnce.shown={};if(!warnOnce.shown[text]){warnOnce.shown[text]=1;err(text)}}var jsCallStartIndex=1;var functionPointers=new Array(0);var funcWrappers={};function dynCall(sig,ptr,args){if(args&&args.length){return Module["dynCall_"+sig].apply(null,[ptr].concat(args))}else{return Module["dynCall_"+sig].call(null,ptr)}}var tempRet0=0;var setTempRet0=function(value){tempRet0=value};var getTempRet0=function(){return tempRet0};var GLOBAL_BASE=8;var ABORT=false;var EXITSTATUS=0;function assert_em(condition,text){if(!condition){abort("Assertion failed: "+text)}}function getCFunc(ident){var func=Module["_"+ident];return func}function ccall(ident,returnType,argTypes,args,opts){var toC={string:function(str){var ret=0;if(str!==null&&str!==undefined&&str!==0){var len=(str.length<<2)+1;ret=stackAlloc(len);stringToUTF8(str,ret,len)}return ret},array:function(arr){var ret=stackAlloc(arr.length);writeArrayToMemory(arr,ret);return ret}};function convertReturnValue(ret){if(returnType==="string")return UTF8ToString(ret);if(returnType==="boolean")return Boolean(ret);return ret}var func=getCFunc(ident);var cArgs=[];var stack=0;if(args){for(var i=0;i<args.length;i++){var converter=toC[argTypes[i]];if(converter){if(stack===0)stack=stackSave();cArgs[i]=converter(args[i])}else{cArgs[i]=args[i]}}}var ret=func.apply(null,cArgs);ret=convertReturnValue(ret);if(stack!==0)stackRestore(stack);return ret}function setValue(ptr,value,type,noSafe){type=type||"i8";if(type.charAt(type.length-1)==="*")type="i32";switch(type){case"i1":HEAP8[ptr>>0]=value;break;case"i8":HEAP8[ptr>>0]=value;break;case"i16":HEAP16[ptr>>1]=value;break;case"i32":HEAP32[ptr>>2]=value;break;case"i64":tempI64=[value>>>0,(tempDouble=value,+Math_abs(tempDouble)>=+1?tempDouble>+0?(Math_min(+Math_floor(tempDouble/+4294967296),+4294967295)|0)>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/+4294967296)>>>0:0)],HEAP32[ptr>>2]=tempI64[0],HEAP32[ptr+4>>2]=tempI64[1];break;case"float":HEAPF32[ptr>>2]=value;break;case"double":HEAPF64[ptr>>3]=value;break;default:abort("invalid type for setValue: "+type)}}var ALLOC_NONE=3;function getMemory(size){if(!runtimeInitialized)return dynamicAlloc(size);return _malloc(size)}var UTF8Decoder=typeof TextDecoder!=="undefined"?new TextDecoder("utf8"):undefined;function UTF8ArrayToString(u8Array,idx,maxBytesToRead){var endIdx=idx+maxBytesToRead;var endPtr=idx;while(u8Array[endPtr]&&!(endPtr>=endIdx))++endPtr;if(endPtr-idx>16&&u8Array.subarray&&UTF8Decoder){return UTF8Decoder.decode(u8Array.subarray(idx,endPtr))}else{var str="";while(idx<endPtr){var u0=u8Array[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue}var u1=u8Array[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue}var u2=u8Array[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2}else{u0=(u0&7)<<18|u1<<12|u2<<6|u8Array[idx++]&63}if(u0<65536){str+=String.fromCharCode(u0)}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}}}return str}function UTF8ToString(ptr,maxBytesToRead){return ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):""}function stringToUTF8Array(str,outU8Array,outIdx,maxBytesToWrite){if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023}if(u<=127){if(outIdx>=endIdx)break;outU8Array[outIdx++]=u}else if(u<=2047){if(outIdx+1>=endIdx)break;outU8Array[outIdx++]=192|u>>6;outU8Array[outIdx++]=128|u&63}else if(u<=65535){if(outIdx+2>=endIdx)break;outU8Array[outIdx++]=224|u>>12;outU8Array[outIdx++]=128|u>>6&63;outU8Array[outIdx++]=128|u&63}else{if(outIdx+3>=endIdx)break;outU8Array[outIdx++]=240|u>>18;outU8Array[outIdx++]=128|u>>12&63;outU8Array[outIdx++]=128|u>>6&63;outU8Array[outIdx++]=128|u&63}}outU8Array[outIdx]=0;return outIdx-startIdx}function stringToUTF8(str,outPtr,maxBytesToWrite){return stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite)}function lengthBytesUTF8(str){var len=0;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343)u=65536+((u&1023)<<10)|str.charCodeAt(++i)&1023;if(u<=127)++len;else if(u<=2047)len+=2;else if(u<=65535)len+=3;else len+=4}return len}var UTF16Decoder=typeof TextDecoder!=="undefined"?new TextDecoder("utf-16le"):undefined;function UTF16ToString(ptr){var endPtr=ptr;var idx=endPtr>>1;while(HEAP16[idx])++idx;endPtr=idx<<1;if(endPtr-ptr>32&&UTF16Decoder){return UTF16Decoder.decode(HEAPU8.subarray(ptr,endPtr))}else{var i=0;var str="";while(1){var codeUnit=HEAP16[ptr+i*2>>1];if(codeUnit==0)return str;++i;str+=String.fromCharCode(codeUnit)}}}function stringToUTF16(str,outPtr,maxBytesToWrite){if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647}if(maxBytesToWrite<2)return 0;maxBytesToWrite-=2;var startPtr=outPtr;var numCharsToWrite=maxBytesToWrite<str.length*2?maxBytesToWrite/2:str.length;for(var i=0;i<numCharsToWrite;++i){var codeUnit=str.charCodeAt(i);HEAP16[outPtr>>1]=codeUnit;outPtr+=2}HEAP16[outPtr>>1]=0;return outPtr-startPtr}function writeArrayToMemory(array,buffer){HEAP8.set(array,buffer)}function writeAsciiToMemory(str,buffer,dontAddNull){for(var i=0;i<str.length;++i){HEAP8[buffer++>>0]=str.charCodeAt(i)}if(!dontAddNull)HEAP8[buffer>>0]=0}function demangle(func){return func}function demangleAll(text){var regex=/__Z[\\w\\d_]+/g;return text.replace(regex,function(x){var y=demangle(x);return x===y?x:y+" ["+x+"]"})}function jsStackTrace(){var err=new Error;if(!err.stack){try{throw new Error(0)}catch(e){err=e}if(!err.stack){return"(no stack trace available)"}}return err.stack.toString()}function alignUp(x,multiple){if(x%multiple>0){x+=multiple-x%multiple}return x}var buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateGlobalBufferViews(){Module["HEAP8"]=HEAP8=new Int8Array(buffer);Module["HEAP16"]=HEAP16=new Int16Array(buffer);Module["HEAP32"]=HEAP32=new Int32Array(buffer);Module["HEAPU8"]=HEAPU8=new Uint8Array(buffer);Module["HEAPU16"]=HEAPU16=new Uint16Array(buffer);Module["HEAPU32"]=HEAPU32=new Uint32Array(buffer);Module["HEAPF32"]=HEAPF32=new Float32Array(buffer);Module["HEAPF64"]=HEAPF64=new Float64Array(buffer)}var STACK_BASE=71120,DYNAMIC_BASE=5314e3,DYNAMICTOP_PTR=71088;var TOTAL_STACK=5242880;var INITIAL_TOTAL_MEMORY=Module["TOTAL_MEMORY"]||16777216;if(INITIAL_TOTAL_MEMORY<TOTAL_STACK)err("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+INITIAL_TOTAL_MEMORY+"! (TOTAL_STACK="+TOTAL_STACK+")");if(Module["buffer"]){buffer=Module["buffer"]}else{{buffer=new ArrayBuffer(INITIAL_TOTAL_MEMORY)}}updateGlobalBufferViews();HEAP32[DYNAMICTOP_PTR>>2]=DYNAMIC_BASE;function callRuntimeCallbacks(callbacks){while(callbacks.length>0){var callback=callbacks.shift();if(typeof callback=="function"){callback();continue}var func=callback.func;if(typeof func==="number"){if(callback.arg===undefined){Module["dynCall_v"](func)}else{Module["dynCall_vi"](func,callback.arg)}}else{func(callback.arg===undefined?null:callback.arg)}}}var __ATPRERUN__=[];var __ATINIT__=[];var __ATMAIN__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;var runtimeExited=false;function preRun(){if(Module["preRun"]){if(typeof Module["preRun"]=="function")Module["preRun"]=[Module["preRun"]];while(Module["preRun"].length){addOnPreRun(Module["preRun"].shift())}}callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){if(runtimeInitialized)return;runtimeInitialized=true;callRuntimeCallbacks(__ATINIT__)}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){runtimeExited=true}function postRun(){if(Module["postRun"]){if(typeof Module["postRun"]=="function")Module["postRun"]=[Module["postRun"]];while(Module["postRun"].length){addOnPostRun(Module["postRun"].shift())}}callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(cb){__ATPRERUN__.unshift(cb)}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb)}var Math_abs=Math.abs;var Math_ceil=Math.ceil;var Math_floor=Math.floor;var Math_min=Math.min;var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;function addRunDependency(id){runDependencies++;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}}function removeRunDependency(id){runDependencies--;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback()}}}Module["preloadedImages"]={};Module["preloadedAudios"]={};var memoryInitializer=null;var dataURIPrefix="data:application/octet-stream;base64,";function isDataURI(filename){return String.prototype.startsWith?filename.startsWith(dataURIPrefix):filename.indexOf(dataURIPrefix)===0}__ATINIT__.push({func:function(){___emscripten_environ_constructor()}})\n;memoryInitializer="data:application/octet-stream;base64,AAAAAAAAAAAAAQIHCAMJBgUEBAoKDAoKCgsKBAQEBA0OAAAAAAAAAAECBAUHDxEHCQcABwMSFQQBIiQlJy8xJyknAQEjMjUAIQIkJScvMScpJwICIzI1ASEiJiYoMDEoKCgDAwMyNQEhIgQlJy8xSgtKBAQjEhUCISIkBScvMScpTAUFIzI1AyEiBgYoMDEoKE0GBiMSFQMhIiQlBy8xB04HBwcjMjUEISImJggwMQgICAgIIzI1BCEiBCUHLzEHCQcJCSMSFQRhYgRlh29xh46HCodjEhUCISIEJScvMScLJwsLIxIVAmFiZAWHb3GHjocMh2NydQNhYgYGiHBxiIiIDYhjEhUDISKEJQcvMQcOBw4OI5KVBCEiJCUnDzEnKScPJyMyNQUhIiYmKBAxKCgoECgjMjUFISIkJScvEScpJxEnIzI1BiEiEiUnLzFTFFMSEiMSFQBhYhJlh29xh46HE4djEhUAISISJScvMScUJxQUIxIVACEiFSUnLzFWF1YVFSMSFQNhYhVlh29xh46HFodjEhUDISIVJScvMScXJxcXIxIVAwACEREAAAAAAEIBAQAAAAAAAgQEExMAAQAiNDQDAwAAAAIEBBMTAAIAAAAAAAAAAAEAAgIAAAAAAQABAhMTAAEBAAICAAAAASEwBgQDAzAAITAGBAUFMAMhMAYEBQUwAiEwBgQDAzABAAAAAAAAAAAAYgEBAAAAAABiAQEAMAAEAGJUVBMwAAMwQlRUAzAwAzBCBAQTMDAEAAAAAAAAAAATAAEBAAAAACMAAQECQAABIwABAQJAAAADAAM2FEAAAVNABTYEQEAAU0AFNgRAQAFTQAYGBEBAAwAAAAAAAAAAAAEAAgAAAAAAAQMDFBQAAQABAAIVFQACAAEDAxQUAAIAITMzBAQAAAAhADIFBQAAAGMAAQAAAAAAYwABEjAABCBjIAECMCADAGNVVhQwAAMwQ1VWBDAwAzBDBVYUMDAEMENVBhQwMAQAAAAAAAAAAAABAAAAAAAAAAEAABQUAAEAAQAAFRUAAgABAAAUFAACIAEgIAQEIAEgASAgBQUgAQEAAQEAAAAAAQABARQUAAEBAAEBAAAAAQEAAQEFBQABIQAhIQQEAAABAAEBBQUAAAADEREAAAAAIAMBAQIgIAIgAwEBAiAgAQADBQUUAAABIAMFBQQgIAEAAwUFFAAAAgIAAQEAAAAAAgABAQAAAAECABQUEwAAASIABAQDAAAAIgAEBAMAAAEAAAAAAAAAAAEAAgIAAAAAAQABAxQUAAEBAAICAAAAAQEAAQMFBQABIQAhAwQEAAABAAEDBQUAAHEGcQZ7BnsGewZ7Bn4GfgZ+Bn4GAAAAAAAAAAB6BnoGegZ6BgAAAAAAAAAAeQZ5BnkGeQYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIYGhgaGBoYGAAAAAAAAAACNBo0GjAaMBo4GjgaIBogGmAaYBpEGkQapBqkGqQapBq8GrwavBq8GAAAAAAAAAAAAAAAAAAAAALoGuga7BrsGuwa7BsAGwAbBBsEGwQbBBr4Gvga+Br4G0gbSBtMG0wYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMcGxwbGBsYGyAbIBgAAywbLBsUGxQbJBskG0AbQBtAG0AYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAzAbMBswGzAZLBksGTAZMBk0GTQZOBk4GTwZPBlAGUAZRBlEGUgZSBiEGIgYiBiMGIwYkBiQGJQYlBiYGJgYmBiYGJwYnBigGKAYoBigGKQYpBioGKgYqBioGKwYrBisGKwYsBiwGLAYsBi0GLQYtBi0GLgYuBi4GLgYvBi8GMAYwBjEGMQYyBjIGMwYzBjMGMwY0BjQGNAY0BjUGNQY1BjUGNgY2BjYGNgY3BjcGNwY3BjgGOAY4BjgGOQY5BjkGOQY6BjoGOgY6BkEGQQZBBkEGQgZCBkIGQgZDBkMGQwZDBkQGRAZEBkQGRQZFBkUGRQZGBkYGRgZGBkcGRwZHBkcGSAZIBkkGSQZKBkoGSgZKBlwGXAZdBl0GXgZeBl8GXwYAAAAAAAAAAAAAAAAAAAABAAMAAQABAAACAgAAAQIAAQECAAEBAwAAAAAAAAAAAAEAAwABAAMAAAECAAABAgABAQIAAQEDIREhEwEVIRcDGSEdAx8BIwMlAykDLQMxAzUBOQE7AT0BPwNBA0UDSQNNA1EDVQNZA10AAAAAAAAAAAAAAwADYQNlA2kTbQNxA3UDeQF9AX8DgQQBhAGEAYQBhAGEAUQDBAEEBwQIBAgEAQAAAAAAAAAAAAABhQGHAYkBiwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAYJACEAIQAAACEAAQABAAMACxYLDgsCAwADAAsGAwADAAMAAwADAAMAAwALKgMACTgBAAEAAQAJNAkyCTYBAAEACTwBAAEAAQABAAEAAQAJOgEAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACz4DAAMAAwADAAMAC0IDAAMAAwADAAMAAwADAAMAAwADAAlOC1ADAAMAC1oDAAlUC1YBAAEAAQAJkAmJCYcJiwmSAQAJjgusAQADAAMAC5QDAAleCWAAAAAAAAAAAAAAAAAAAQAAAAAAAQIDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQIDAAAAAAAAAAAAAAAAAAEAAAABAgMAAQIDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAECAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAQEBAAAAAAAAAAAAAAAAAADAwMAAwADAwMDAwMDAwMDAAABAAEAAQABAAECAwABAAECAwABAAECAwABAgMAAQIDAAECAwABAgMAAQABAAEAAQABAgMAAQIDAAECAwABAgMAAQIDAAECAwABAgMAAQIDAAECAwABAgMAAQIDAAECAwABAgMAAQIDAAECAwABAAEAAQIDAAEAAQABAAEAAABdBGUEbQR1BI0ElQSdBKUErQS1BLsEwwTLBNME2wTjBOkE8QT5BAEFBAUMBRQFHAUkBSwFKAUwBTgFQAVFBU0FVQVdBWEFaQVxBXkFgQWJBYUFjQWSBZoFoAWoBbAFuAXABcgF0AXYBd0F5QXoBfAF+AUABgYGDgYNBhUGHQYlBjUGLQY9BkUGfQRVBl0GTQZtBm8GdwZlBocGjQaVBn8GpQarBrMGnQbDBskG0Qa7BuEG5wbvBtkG/wYHBw8H9wYfByUHLQcXBz0HQwdLBzUHWwdgB2gHUwd4B38HhwdwBwkGjweXB30EnwenB68HfQS3B78HxwfMB9QH2wfjB30EyAXrB/MH+wcDCFUFEwgLCMgFyAXIBcgFyAXIBcgFyAXIBcgFGwjIBSMIJwgvCMgFNQjIBTsIQwhLCFUFVQVTCFsIyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFYAhoCMgFyAVwCHgIgAiICJAIyAWYCKAIqAi4CMgFwAjCCMoIsAjIBc0I4QjVCN0I6QjIBfEI9wj/CAcJyAUXCR8JJwkPCX0EfQQ3CToJQgkvCVIJSgnIBVkJyAVoCWEJcAl4CXwJhAmMCf0ElAmXCZ0JpAmXCSQFrAmtBK0ErQStBLQJrQStBK0ExAnMCdQJ3AnkCegJ8Am8CQgKEAr4CQAKGAogCigKMApICjgKQApQClgKZwpsCl8KdAp0CnQKdAp0CnQKdAp0CnwKhAr/CIcKjwqWCpsKowr/CKoKqQq6Cr0K/wj/CLIK/wj/CP8I/wj/CMwK1ArECv8I/wj/CNkK/wj/CP8I/wj/CP8I/wjfCucK/wjvCvYK/wj/CP8I/wj/CP8I/wj/CHQKdAp0CnQK/gp0CgULDAt0CnQKdAp0CnQKdAp0CnQK/wgUCxsLHwslC/8IKwukClUFOwszC0MLrQStBK0ESwv9BFMLyAVZC2kLYQthCyQFcQt5C4ELfQSJC/8I/wiQC/8I/wj/CP8I/wj/CJgLnguuC6YLCQbIBbYLWwjIBb4LxgvKC8gFyAXPC9cL/wjfC6QK5wvtC/8I5wv1C/8IpAr/CP8I/wj/CP8I/wj/CP8I/QvIBcgFyAUFDMgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFCwzIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAUQDMgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXNCP8I/wgYDMgFGwzIBSMMKQwxDDkMPgzIBcgFQgzIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAVJDMgFUAxWDMgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAVeDMgFyAXIBWYMyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBWgMyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAVvDMgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFdgzIBcgFyAV9DIUMyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFigzIBcgFkgzIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFlgzIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAWZDMgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAWcDMgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFogzIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFqgzIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBa8MyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAW0DMgFyAXIBbkMyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcEMyAzMDMgFyAXIBdMMyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBdkM6QzIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgF4Qz/CPEMcAnIBcgFyAXIBcgFyAXIBcgF9gz+DK0EDg0GDcgFyAUWDR4NLg2tBDMNOw1BDX0EJg1JDVENyAVZDWkNbA1hDXQNHQZ8DYMNwQhtBpMNiw2bDcgFow2rDbMNyAW7DcMNyw3TDdsN3w3nDf0E/QTIBe8NyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAX3DQMO+w19BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0ECw4LDgsOCw4LDgsOCw4LDgsOCw4LDgsOCw4LDgsOCw4LDgsOCw4LDgsOCw4LDgsOCw4LDgsOCw4LDgsOCw4LDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw7IBcgFyAUbDsgF1AwiDicOyAXIBcgFLw7IBcgFzAh9BEUONQ49DsgFyAVNDlUOyAXIBcgFyAXIBcgFyAXIBcgFyAVaDmIOyAVmDsgFbA5wDngOgA6HDo8OyAXIBcgFlQ6tDm0EtQ69DsIO4QidDqUOCw4LDgsOCw4LDgsOCw4LDgsOCw4LDgsOCw4LDgsOCw4LDgsOCw4LDgsOCw4LDgsOCw4LDgsOCw4LDgsOCw4LDvQR9BE0EnQStBLsEiwTbBOkE+QTEBRQFJAUoBTgFBQVVBWEFcQVBBYUFkgWgBbAFgAXQBd0F6AX4BcYGDQYdBiACsAKAAtAC4ALQArAC0AK4gtACkAKQApACiIM2wHbAWIMogxACkAKQApACuIMAg1ACkAKQg2CDcINAg5CDoIOwg75DtsB2wEdD1EP2wF5D9sB2wHbAdsBpg/bAdsB2wHbAdsB2wHbAboP2wHyDzIQ2wE9ENsB2wHbAXMQQAqzEEAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAK8xBACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACgAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHMxEABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABzMRfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQTKDtEO2Q59BMgFyAXIBdcL6Q7hDgAP8Q74DggPhQsQD30EfQR9BH0EwQjIBRgPIA/IBSgPMA80DzwPyAVED30EVQVfBUwPyAVQD1gPaA9gD8gFcA/IBXcPfQR9BH0EfQTIBcgFyAXIBcgFyAXIBcgFyAVpC80IbA59BH0EfQR9BIcPfw+KD5IP4QiaD30Eog+qD7IPfQR9BMgFwg/KD7oP2g/hD9IP6Q/xD30EARD5D8gFBBAMEBQQHBAkEH0EfQTIBcgFLBB9BFUFNBD9BDwQyAVEEH0EfQR9BH0EfQR9BH0EfQR9BEwQfQR9BH0EfQRUEFwQYxB9BH0EfQR9BH0EcxD+BXsQaxBSCYMQixCREKkQmRChEK0QUgm9ELUQxRDVEM0QfQR9BNwQ5BAgBuwQ/BACEQoR9BB9BH0EfQR9BMgFEhEaEX0EyAUiESoRfQR9BH0EfQR9BMgFMhE6EX0EyAVCEUoRUhHIBWIRWhF9BDsIahF9BH0EfQR9BH0EfQTIBXIRfQR9BH0EVQX9BHoRfQR9BH0EfQR9BH0EfQR9BJIRghGKEcgFohGaEcgFwgh9BH0EfQR9BH0EfQR9BH0EuBG9EaoRshHNEcURfQR9BNwR4BHUEfAR6BFaEX0EfQR9BH0EfQR9BH0EfQR9BPQRfQR9BH0EfQR9BH0EfQR9BMgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFzAh9BH0EfQQEEgwSFBL8EcgFyAXIBcgFyAXIBRwSfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFJBJ9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFJhJ9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BMgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXCCOEILhJ9BH0EYg42EsgFPhJGEk4S2Qx9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQRVBf0EVhJ9BH0EfQTIBcgFXhJjEmsSfQR9BHMSyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFexLIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFgxJ9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BMgFyAXIBcgFyAXIBcgFyAXhCH0EfQRiDsgFyAXIBcgFyAXIBcgFyAXIBcgFyAX7DX0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EyAXIBcgFixKQEpgSfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BP8I/wj/CP8I/wj/CP8ImAv/CKAS/winEq8StRL/CLsS/wj/CMMSfQR9BH0EfQTLEv8I/wimCtMSfQR9BH0EfQTjEuoS7xL1Ev0SBRMNE+cSFRMdEyUTKhP8EuMS6hLmEvUSMhPkEjUT5xI9E0UTTRNUE0ATSBNQE1cTQxNfE9sS/wj/CP8I/wj/CP8I/wj/CP8I/wj/CP8I/wj/CP8I/wgkBW8TJAV2E30TZxN9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQSEE4wTfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BMgFyAXIBcgFyAXIBZQTfQRVBaQTnBN9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQSsE7wTtBN9BH0EfQR9BH0EfQR9BH0EfQR9BMwT1BPcE+QT7BP0E30ExBN9BH0EfQR9BH0EfQR9BH0E/wj8E/8I/wiQCwEUBRSYCw0U/wj/CPwT/wi6En0EFRQdFCEUKRQxFH0EfQR9BH0E/wj/CP8I/wj/CP8I/wg5FP8I/wj/CP8I/wj/CP8I/wj/CP8I/wj/CP8I/wj/CP8I/wj/CP8I/wj/CP8IQRRJFP8I/wj/CJAL/wj/CFEUfQT8E/8IWRT/CGEUmgt9BH0E/BOkCv8IZRT/CG0UHRT/CH0EfQR9BJoLfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BHUUyAXIBXwUyAXIBcgFhBTIBYwUyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFegzIBcgFlBTIBcgFyAXIBcgFyAXIBcgFyAXIBZwUpBTIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAW5DMgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAWrFMgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBbIUyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFuRTIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAVpC30EyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFvRTIBcgFyAXIBcgFyAVQD8gFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBX8SyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXIBcgFyAXCFH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQTIBcgFyAXIBcoUyAXIBcgFyAXIBcgFyAXIBcgFyAXIBVAPfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BNoU0hTSFNIUfQR9BH0EfQQkBSQFJAUkBSQFJAUkBeIUfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EfQR9BH0EEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMOEw4TDhMO6hRcBA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAMABcAFwAXABkAFwAXABcAFAAVABcAGAAXABMAFwAXAEkAiQDJAAkBSQGJAckBCQJJAokCFwAXABgAGAAYABcAFwABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAXABUAGgAWABoAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABQAGAAVABgADwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAMABcAGQAZABkAGQAbABcAGgAbAAUAHAAYABAAGwAaABsAGABLA4sDGgACABcAFwAaAAsDBQAdAMs0SzTLPBcAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABgAAQABAAEAAQABAAEAAQACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAYAAIAAgACAAIAAgACAAIAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAgABAAIAAQACAAEAAgABAAIAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAQACAAEAAgABAAIAAgACAAEAAQACAAEAAgABAAEAAgABAAEAAQACAAIAAQABAAEAAQACAAEAAQACAAEAAQABAAIAAgACAAEAAQACAAEAAQACAAEAAgABAAIAAQABAAIAAQACAAIAAQACAAEAAQACAAEAAQABAAIAAQACAAEAAQACAAIABQABAAIAAgACAAUABQAFAAUAAQADAAIAAQADAAIAAQADAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAIAAQADAAIAAQACAAEAAQABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAIAAgACAAIAAgACAAEAAQACAAEAAQACAAIAAQACAAEAAQABAAEAAgABAAIAAQACAAEAAgABAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIABQACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAaABoAGgAaAAQABAAEAAQABAAEAAQABAAEAAQABAAEABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAEAAQABAAEAAQAGgAaABoAGgAaABoAGgAEABoABAAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgABAAIAAQACAAQAGgABAAIAAAAAAAQAAgACAAIAFwABAAAAAAAAAAAAGgAaAAEAFwABAAEAAQAAAAEAAAABAAEAAgABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAAABAAEAAQABAAEAAQABAAEAAQACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAQACAAIAAQABAAEAAgACAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAgACAAIAAgABAAIAGAABAAIAAQABAAIAAgABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgAbAAYABgAGAAYABgAHAAcAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgAAAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAABAAXABcAFwAXABcAFwACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAXABMAAAAAABsAGwAZAAAABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAEwAGABcABgAGABcABgAGABcABgAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAFAAUABQAFABcAFwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAGAAYABgAFwAXABkAFwAXABsAGwAGAAYABgAGAAYABgAGAAYABgAGAAYAFwAQAAAAFwAXAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEAAUABQAFAAUABQAFAAUABQAFAAUABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYASQCJAMkACQFJAYkByQEJAkkCiQIXABcAFwAXAAUABQAGAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAFwAFAAYABgAGAAYABgAGAAYAEAAbAAYABgAGAAYABgAGAAQABAAGAAYAGwAGAAYABgAGAAUABQBJAIkAyQAJAUkBiQHJAQkCSQKJAgUABQAFABsAGwAFABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAAABAABQAGAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAGAAYABgAGAAYABgAGAAYABgAGAAYABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASQCJAMkACQFJAYkByQEJAkkCiQIFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAGAAYABgAGAAYABgAGAAYABgAEAAQAGwAXABcAFwAEAAAAAAAGABkAGQAGAAYABgAGAAQABgAGAAYABAAGAAYABgAGAAYAAAAAABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAGAAYABgAGAAQABgAGAAYABgAGAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABgAGAAYAAAAAABcAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgAGABAABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABQAFAAYABgAXABcASQCJAMkACQFJAYkByQEJAkkCiQIXAAQABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAYABgAGAAgABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABgAIAAYABQAIAAgACAAGAAYABgAGAAYABgAGAAYACAAIAAgACAAGAAgACAAFAAYABgAGAAYABgAGAAYABQAFAAUABQAFAAUABQAFAAUABQAGAAYAAAAAAEkAiQDJAAkBSQGJAckBCQJJAokCBQAFABkAGQDLN8s1yz/LNMs8SwkbABkABQAXAAYAAAAFAAYACAAIAAAABQAFAAUABQAFAAUABQAFAAAAAAAFAAUAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUAAAAFAAAAAAAAAAUABQAFAAUAAAAAAAYABQAIAAgACAAGAAYABgAGAAAAAAAIAAgAAAAAAAgACAAGAAUAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAEkAiQDJAAkBSQGJAckBCQJJAokCBgAGAAUABQAFAAYAFwAAAAAAAAAAAAAAAAAAAAAAAAAAAAYABgAIAAAABQAFAAUABQAFAAUAAAAAAAAAAAAFAAUAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUAAAAFAAUAAAAFAAUAAAAFAAUAAAAAAAYAAAAIAAgACAAGAAYAAAAAAAAAAAAGAAYAAAAAAAYABgAGAAAAAAAAAAYAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAABQAAAAUABQAGAAYAAAAAAEkAiQDJAAkBSQGJAckBCQJJAokCFwAZAAAAAAAAAAAAAAAAAAAABQAGAAYABgAGAAYABgAAAAYABgAIAAAABQAFAAUABQAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUAAAAFAAUAAAAFAAUABQAFAAUAAAAAAAYABQAIAAgACAAGAAYABgAGAAYAAAAGAAYACAAAAAgACAAGAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAGAAYAAAAAAEkAiQDJAAkBSQGJAckBCQJJAokCGwAFAMs0SzTLPMs3yzXLPwAAAAAAAAAAAAAAAAAAAAAAAAYACAAIAAAABQAFAAUABQAFAAUABQAFAAAAAAAFAAUAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUAAAAFAAUAAAAFAAUABQAFAAUAAAAAAAYABQAIAAYACAAGAAYABgAGAAAAAAAIAAgAAAAAAAgACAAGAAAAAAAAAAAAAAAAAAAAAAAGAAgAAAAAAAAAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAEkAiQDJAAkBSQGJAckBCQJJAokCywdLHkt4GwAbABsAGwAbABsAGQAbAAAAAAAAAAAAAAAAAAAABgAFAAAABQAFAAUABQAFAAUAAAAAAAAABQAFAAUAAAAFAAUABQAFAAAAAAAAAAUABQAAAAUAAAAFAAUAAAAAAAAABQAFAAAAAAAAAAUABQAFAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAACAAIAAYACAAIAAAAAAAAAAgACAAIAAAACAAIAAgABgAAAAAABQAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAFAAUABgAGAAAAAABJAIkAyQAJAUkBiQHJAQkCSQKJAgAAAAAAAAAAAAAAAAAAAABLBYsFywULBosFywULBhsABgAIAAgACAAGAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAUABgAGAAYACAAIAAgACAAAAAYABgAGAAAABgAGAAYABgAAAAAAAAAAAAAAAAAAAAYABgAAAAUABQAFAAAAAAAAAAAAAAAFAAUABgAGAAAAAABJAIkAyQAJAUkBiQHJAQkCSQKJAgAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAGAAgACAAXAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAGAAUACAAGAAgACAAIAAgACAAAAAYACAAIAAAACAAIAAYABgAAAAAAAAAAAAAAAAAAAAgACAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABgAGAAAAAABJAIkAyQAJAUkBiQHJAQkCSQKJAssHSx5LeMs0SzTLPMs3yzXLPxsABQAFAAUABQAFAAUABgAGAAgACAAAAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAYABgAFAAgACAAIAAYABgAGAAYAAAAIAAgACAAAAAgACAAIAAYABQAbAAAAAAAAAAAABQAFAAUACAALzAvKS8sLyUs2S8kLNQUAAAAAAAAAAAAAAAAASQCJAMkACQFJAYkByQEJAkkCiQIAAAAACAAIABcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAgAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAABgAAAAAAAAAAAAgACAAIAAYABgAGAAAABgAAAAgACAAIAAgACAAIAAgACAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABgAFAAUABgAGAAYABgAGAAYABgAAAAAAAAAAABkABQAFAAUABQAFAAUABAAGAAYABgAGAAYABgAGAAYAFwBJAIkAyQAJAUkBiQHJAQkCSQKJAhcAFwAAAAAAAAAAAAAABQAFAAAABQAAAAAABQAFAAAABQAAAAAABQAAAAAAAAAAAAAAAAAFAAUABQAFAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAAABQAAAAUAAAAAAAUABQAAAAUABQAFAAUABgAFAAUABgAGAAYABgAGAAYAAAAGAAYABQAAAAAABQAFAAUABQAFAAAABAAAAAYABgAGAAYABgAGAAAAAABJAIkAyQAJAUkBiQHJAQkCSQKJAgAAAAAFAAUABQAFAAUAGwAbABsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAGwAXABsAGwAbAAYABgAbABsAGwAbABsAGwBJAIkAyQAJAUkBiQHJAQkCSQKJAks0SzxLREtMS1RLXEtkS2xLdEssGwAGABsABgAbAAYAFAAVABQAFQAIAAgABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYACAAGAAYABgAGAAYAFwAGAAYABQAFAAUABQAFAAYABgAGAAYABgAGAAYABgAGAAYABgAAAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAAABsAGwAbABsAGwAbABsAGwAGABsAGwAbABsAGwAbAAAAGwAbABcAFwAXABcAFwAbABsAGwAbABcAFwAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAgACAAGAAYABgAGAAgABgAGAAYABgAGAAYACAAGAAYACAAIAAYABgAFAEkAiQDJAAkBSQGJAckBCQJJAokCFwAXABcAFwAXABcABQAFAAUABQAFAAUACAAIAAYABgAFAAUABQAFAAYABgAGAAUACAAIAAgABQAFAAgACAAIAAgACAAIAAgABQAFAAUABgAGAAYABgAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAYACAAIAAYABgAIAAgACAAIAAgACAAGAAUACABJAIkAyQAJAUkBiQHJAQkCSQKJAggACAAIAAYAGwAbAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABcABAACAAIAAgABAAEAAQABAAEAAQAAAAEAAAAAAAAAAAAAAAEAAAAAAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIABQAFAAUABQAFAAUABQAFAAUAAAAFAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAABQAAAAUABQAFAAUAAAAAAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUAAAAFAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAGAAYABgAXABcAFwAXABcAFwAXABcAFwALA0sDiwPLAwsESwSLBMsECwXLB0sKywxLD8sRSxTLFksZyxtLHot4AAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAbABsAGwAbABsAGwAbABsAGwAbAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAAAAAAIAAgACAAIAAgACAAAAAAATAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAXABcABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAwABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFABQAFQAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAFwAXABcAignKCQoKBQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABgAGAAYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAYABgAGABcAFwAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAGAAYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAAABgAGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAGAAYACAAGAAYABgAGAAYABgAGAAgACAAIAAgACAAIAAgACAAGAAgACAAGAAYABgAGAAYABgAGAAYABgAGAAYAFwAXABcABAAXABcAFwAZAAUABgAAAAAASQCJAMkACQFJAYkByQEJAkkCiQIAAAAAAAAAAAAAAABLBYsFywULBksGiwbLBgsHSweLBwAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAYABQAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAXABcAFwAXABcAFwATABcAFwAXABcABgAGAAYAEAAAAEkAiQDJAAkBSQGJAckBCQJJAokCAAAAAAAAAAAAAAAABQAFAAUABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABgAGAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABgAGAAYACAAIAAgACAAGAAYACAAIAAgAAAAAAAAAAAAIAAgABgAIAAgACAAIAAgACAAGAAYABgAAAAAAAAAAABsAAAAAAAAAFwAXAEkAiQDJAAkBSQGJAckBCQJJAokCBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAEkAiQDJAAkBSQGJAckBCQJJAokCCwMAAAAAAAAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAGAAYACAAIAAYAAAAAABcAFwAXABcAFwAXABcAFwAXAAQAFwAXABcAFwAXABcAAAAAAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAHAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUACAAGAAgABgAGAAYABgAGAAYABgAAAAYACAAGAAgACAAGAAYABgAGAAYABgAGAAYACAAIAAgACAAIAAgABgAGAAYABgAGAAYABgAGAAYABgAAAAAABgBJAIkAyQAJAUkBiQHJAQkCSQKJAgAAAAAAAAAAAAAAAEkAiQDJAAkBSQGJAckBCQJJAokCAAAAAAAAAAAAAAAAFwAbABsAGwAbABsAGwAbABsAGwAbAAYABgAGAAYABgAGAAYABgAGABsAGwAbABsAGwAbABsAGwAbAAAAAAAAAAYABgAGAAYACAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAGAAgABgAGAAYABgAGAAgABgAIAAgACAAIAAgABgAIAAgABQAFAAUABQAFAAUABQAAAAAAAAAAAEkAiQDJAAkBSQGJAckBCQJJAokCFwAXABcAFwAXABcABQAIAAYABgAGAAYACAAIAAYABgAIAAYABgAGAAUABQBJAIkAyQAJAUkBiQHJAQkCSQKJAgUABQAFAAUABQAFAAYABgAIAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABgAIAAYABgAIAAgACAAGAAgABgAGAAYACAAIAAAAAAAAAAAAAAAAAAAAAAAXABcAFwAXAEkAiQDJAAkBSQGJAckBCQJJAokCAAAAAAAABQAFAAUASQCJAMkACQFJAYkByQEJAkkCiQIFAAUABQAFAAUABQAIAAgACAAIAAgACAAIAAgABgAGAAYABgAGAAYABgAGAAgACAAGAAYAAAAAAAAAFwAXABcAFwAXAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAQABAAEAAQABAAEABcAFwACAAIAAgACAAIAAgACAAIAAgAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAABAAEAAQAXABcAFwAXABcAFwAXABcAAAAAAAAAAAAAAAAAAAAAAAYABgAGABcABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAIAAYABgAGAAYABgAGAAYABQAFAAUABQAGAAUABQAFAAUACAAIAAYABQAFAAgABgAGAAAAAAAAAAAAAAAAAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAQAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIABAAEAAQABAAEAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAAAAYABgAGAAYABgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAIAAgACAAIAAgACAAIAAgABAAIAAgACAAIAAgACAAIAAgACAAEAAQABAAEAAQAaABoAGgAAAAAAAgACAAIAAAACAAIAAQABAAEAAQADABoAGgAAAAIAAgACAAIAAgACAAIAAgABAAEAAQABAAEAAQABAAEAAgACAAIAAgACAAIAAAAAAAEAAQABAAEAAQABAAAAAAACAAIAAgACAAIAAgACAAIAAQABAAEAAQABAAEAAQABAAIAAgACAAIAAgACAAIAAgABAAEAAQABAAEAAQABAAEAAgACAAIAAgACAAIAAAAAAAEAAQABAAEAAQABAAAAAAACAAIAAgACAAIAAgACAAIAAAABAAAAAQAAAAEAAAABAAIAAgACAAIAAgACAAIAAgABAAEAAQABAAEAAQABAAEAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAAAAAACAAIAAgACAAIAAgACAAIAAwADAAMAAwADAAMAAwADAAIAAgACAAIAAgACAAIAAgADAAMAAwADAAMAAwADAAMAAgACAAIAAgACAAAAAgACAAEAAQABAAEAAwAaAAIAGgAaABoAAgACAAIAAAACAAIAAQABAAEAAQADABoAGgAaAAIAAgACAAIAAAAAAAIAAgABAAEAAQABAAAAGgAaABoAFgAXABcAFwAYABQAFQAXABcAFwAXABcAFwAXABcAFwAXABcAGAAXABYAFwAXABcAFwAXABcAFwAXABcAFwAMABAAEAAQABAAEAAAABAAEAAQABAAEAAQABAAEAAQABAAywIEAAAAAADLAwsESwSLBMsECwUYABgAGAAUABUABAAMAAwADAAMAAwADAAMAAwADAAMAAwAEAAQABAAEAAQABMAEwATABMAEwATABcAFwAcAB0AFAAcABwAHQAUABwAFwAXABcAFwAXABcAFwAXAA0ADgAQABAAEAAQABAADAAXABcAFwAXABcAFwAXABcAFwAcAB0AFwAXABcAFwAWAMsCCwNLA4sDywMLBEsEiwTLBAsFGAAYABgAFAAVAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAZABkAGQAZABkAGQAZABkAGQAZABkAGQAZABkAGQAZABkAGQAZABkAGQAZABkAGQAZABkAGQAZABkAGQAZABkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAcABwAHAAcABgAHAAcABwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbABsAGwAbAAEAGwABABsAAQAbAAEAAQABAAEAGwACAAEAAQABAAEAAgAFAAUABQAFAAIAGwAbAAIAAgABAAEAGAAYABgAGAAYAAEAAgACAAIAAgAbABgAGwAbAAIAGwCLNQs2SzaLNIs4CzULOQs9C0FLNUtFyzXLPctFy02LBRsAGwABABsAGwAbABsAAQAbABsAAgABAAEAAQACAAIAAQABAAEAAgAbAAEAGwAbABgAAQABAAEAAQABABsAGwCKBcoFCgZKBooGygYKB0oHigfKBwoISgjKEUoeCphKeIoFygUKBkoGigbKBgoHSgeKB8oHCghKCMoRSh4KmEp4SnhKmIp4AQACAMoGyhGKmMp4SwUbABsAAAAAAAAAAAAYABgAGAAYABgAGwAbABsAGwAbABgAGAAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAbABsAGAAbABsAGAAbABsAGwAbABsAGwAbABgAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAYABgAGwAbABgAGwAYABsAGwAbABsAGwAbABsAGwAbABsAGwAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGwAbABsAGwAbABsAGwAbABQAFQAUABUAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABgAGAAbABsAGwAbABsAGwAbABQAFQAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGAAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABgAGAAYABgAGAAYABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGwAbABsAGwAbABsAGwAbABsAGwDLAgsISwiLCMsICwlLCYsJywkLCksKCwNLA4sDywMLBEsEiwTLBAsFywfLAgsDSwOLA8sDCwRLBIsEywQLBcsHCwhLCIsIywgLCUsJiwnLCQsKSwoLA0sDiwPLAwsESwSLBMsECwXLBwsISwiLCMsICwlLCYsJywkLCksKGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGAAYABgAGAAYABgAGAAYABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAYABsAGwAbABsAGwAbABsAGwAbABgAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGAAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABQAFQAUABUAFAAVABQAFQAUABUAFAAVABQAFQALA0sDiwPLAwsESwSLBMsECwXLBwsDSwOLA8sDCwRLBIsEywQLBcsHCwNLA4sDywMLBEsEiwTLBAsFywcbABsAGwAbABsAGwAbABsAGwAbABsAGwAYABgAGAAYABgAFAAVABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABQAFQAUABUAFAAVABQAFQAUABUAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAUABUAFAAVABQAFQAUABUAFAAVABQAFQAUABUAFAAVABQAFQAUABUAFAAVABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABQAFQAUABUAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAUABUAGAAYABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABsAGwAYABgAGAAYABgAGAAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAAAAAABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAAAAAAbABsAGwAbABsAGwAbABsAGwAAABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAAAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgABAAIAAQABAAEAAgACAAEAAgABAAIAAQACAAEAAQABAAEAAgABAAIAAgABAAIAAgACAAIAAgACAAQABAABAAEAAQACAAEAAgACABsAGwAbABsAGwAbAAEAAgABAAIABgAGAAYAAQACAAAAAAAAAAAAAAAXABcAFwAXAEs0FwAXAAIAAgACAAIAAgACAAAAAgAAAAAAAAAAAAAAAgAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAQAFwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAABcAFwAcAB0AHAAdABcAFwAXABwAHQAXABwAHQAXABcAFwAXABcAFwAXABcAFwATABcAFwATABcAHAAdABcAFwAcAB0AFAAVABQAFQAUABUAFAAVABcAFwAXABcAFwAEABcAFwAXABcAFwAXABcAFwAXABcAEwATABcAFwAXABcAEwAXABQAFwAXABcAFwAXABcAFwAXABcAFwAXABcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAAABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGwAbABsAGwAbABsAGwAbABsAGwAbABsAAAAAAAAAAAAbAIoFygUKBkoGigbKBgoHSgeKBwYABgAGAAYACAAIABMABAAEAAQABAAEABsAGwDKB0oKygwEAAUAFwAbABsADAAXABcAFwAbAAQABQBKBRQAFQAUABUAFAAVABQAFQAUABUAGwAbABQAFQAUABUAFAAVABQAFQATABQAFQAVAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABgAGABoAGgAEAAQABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAXAAQABAAEAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAbABsAiwXLBQsGSwYbABsAGwAbABsAGwAbABsAGwAbAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAbABsAGwAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAiwXLBQsGSwaLBssGCwdLB4sHywcbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAMsHSwrLDEsPyxFLFMsWSxkbAIsKywoLC0sLiwvLCwsMSwyLDMsMCw1LDYsNyw0LDhsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwBLDosOyw4LD0sPiw/LDwsQSxCLEMsQCxFLEYsRyxEFAAUABQAFAAUAhQYFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAxQUFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQCFBgUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQcFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQCFBQUABQAFBwUABQAFAIV4BQAFBgUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAhQcFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAxQUFAAUABQAFAAUABQAFAIUGBQBFBgUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQCFecUHBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUARXgFAAUABQAFAAUABQAFAAUABQYFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQCFBgUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAEUeBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAhXkFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAhXoFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAxQUFAEUHBQDFBgUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAxQcFAEV4RQrFDAUABQAFAAUABQAFAEUPBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUGBQYFBgUGBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUARQYFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAhQUFAAUABQAFAAUABQAFAIUFBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQCFBQUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAhQdFCgUABQAFAAUABQAFAAUABQAFAAUABQAFAIUFxQUFBgUAxQUFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQDFBwUABQAFAAUABQAFAAUABQAFAAUABQAFAAUARQcFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFBwUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAIUHBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQBFHgUABQAFAAUABQAFAAUARQYFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAIV4BQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAxQUFAAUABQAFAMUFBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQDFBQUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUARXgFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAxQYFAAUABQAFAAUARR4FAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQDFBgUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUARQUFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAFAAUABQAFAAUABQAFAAUABQAFABsAGwAbABsAGwAbABsAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEABcAFwAXAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUASQCJAMkACQFJAYkByQEJAkkCiQIFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIABAAEAAYABgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIABQAGAAcABwAHABcABgAGAAYABgAGAAYABgAGAAYABgAXAAQABQAFAAUABQAFAAUAigXKBQoGSgaKBsoGCgdKB4oHSgUGAAYAFwAXABcAFwAXABcAAAAAAAAAAAAAAAAAAAAAABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAEAAQAAgAFAAUABQAFAAUAGgAaAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgACAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAgABAAIABAACAAIAAgACAAIAAgACAAIAAQACAAEAAgABAAEAAgABAAIAAQACAAEAAgABAAIABAAaABoAAQACAAEAAgAFAAEAAgABAAIAAgACAAEAAgABAAIAAQACAAEAAgABAAIAAQACAAEAAQABAAEAAQACAAEAAQABAAEAAQACAAEAAgABAAIAAAAAAAAAAAAAAAAABQAFAAYABQAFAAUABgAFAAUABQAFAAYABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAgACAAGAAYACAAbABsAGwAbAAAAAAAAAAAAyzRLNMs8yzfLNcs/GwAbABkAGwAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAFwAXABcAFwAAAAAAAAAAAAAAAAAAAAAACAAIAAgACAAGAAYAAAAAAAAAAAAAAAAAAAAAABcAFwBJAIkAyQAJAUkBiQHJAQkCSQKJAgAAAAAAAAAAAAAAAAgACAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAIAAgACAAIAAgACAAIAAgACAAIAAgACAAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAFAAUABQAFAAUABQAXABcAFwAFABcABQAFAAYABQAFAAUABQAFAAUABgAGAAYABgAGAAYABgAGABcAFwAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAYABgAGAAYABgAGAAYABgAGAAYABgAIAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABcACAAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAAABABJAIkAyQAJAUkBiQHJAQkCSQKJAgAAAAAAAAAAFwAXAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABgAIAAgABgAGAAYABgAIAAgABgAIAAgACAAFAAUABQAFAAUABgAEAAUABQAFAAUABQAFAAUABQAFAEkAiQDJAAkBSQGJAckBCQJJAokCBQAFAAUABQAFAAAABQAFAAUABQAFAAUABQAFAAUABgAGAAYABgAGAAYACAAIAAYABgAIAAgABgAGAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAYABQAFAAUABQAFAAUABQAFAAYACAAAAAAASQCJAMkACQFJAYkByQEJAkkCiQIAAAAAFwAXABcAFwAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAQABQAFAAUABQAFAAUAGwAbABsABQAIAAYACAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAGAAUABgAGAAYABQAFAAYABgAFAAUABQAFAAUABgAGAAUABgAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAEABcAFwAFAAUABQAFAAUABQAFAAUABQAFAAUACAAGAAYACAAIABcAFwAFAAQABAAIAAYAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGgAEAAQABAAEAAIAAgACAAIAAgACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAFAAUABQAIAAgABgAIAAgABgAIAAgAFwAIAAYAAAAAAEkAiQDJAAkBSQGJAckBCQJJAokCAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFABIAEgASABIAEgASABIAEgASABIAEgASABIAEgASABIAEgASABIAEgASABIAEgASABIAEgASABIAEgASABIAEgARABEAEQARABEAEQARABEAEQARABEAEQARABEAEQARABEAEQARABEAEQARABEAEQARABEAEQARABEAEQARABEABQAFAAUABQAFAAUABQAFAAUABQAFAAUGBQAFAAUABQAFAAUABQDFBwUABQAFAAUAxQUFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAxQYFAMUGBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAMUHBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFABgABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAgACAAIAAgACAAIAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAIAAgACAAIAAAAAAAAAAAAAAAUABgAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAFQAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFABkAGwAAAAAABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAXABcAFwAXABcAFwAXABQAFQAXAAAAAAAAAAAAAAAAAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAFwATABMAFgAWABQAFQAUABUAFAAVABQAFQAUABUAFAAVABcAFwAUABUAFwAXABcAFwAWABYAFgAXABcAFwAAABcAFwAXABcAEwAUABUAFAAVABQAFQAXABcAFwAYABMAGAAYABgAAAAXABkAFwAXAAAAAAAAAAAABQAFAAUABQAFAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAEAAAAAAABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAFAAAAAAAFAAUABQAFAAUABQAAAAAABQAFAAUAAAAAAAAAGQAZABgAGgAbABkAGQAAABsAGAAYABgAGAAbABsAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAbABsAAAAAAAAAFwAXABcAGQAXABcAFwAUABUAFwAYABcAEwAXABcASQCJAMkACQFJAYkByQEJAkkCiQIXABcAGAAYABgAFwAaAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAUABgAFQAYABQAFQAXABQAFQAXABcABQAFAAUABQAFAAUABQAFAAUABQAEAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAC7ALuEt4S4BLiEuQS5hLoEuoS7BLuIt4i4CLiIuQi5iLoIuoi7CLuAAAAAAAABsAGwAbABsAGwAbABsAGwAbABcAFwAXAAAAAAAAAAAAiwXLBQsGSwaLBssGCwdLB4sHywdLCssMSw/LEUsUyxZLGcsbSx4LgAuIC5ALmAugC6jKB8oHygfKB8oHygzKEcoRyhHKEUoeCogKmAqYCpgKmAqYSnhKmIoGyhFLNEs0izjLPBsAGwAbABsAGwAbABsAGwAbABsAGwAbABsASwXLNBsAGwAbAAAAGwAbABsAGwAbABsAGwAbABsAGwAbABsAAAAAAAAAAADKNEo0igWKBsoRCphKmIqYigbKB8oRSh4KmEp4SpiKBsoHyhFKHgqYSniKeIqYygeKBYoFigXKBcoFygXKBYoGGwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAGAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgCLBcsFCwZLBosGywYLB0sHiwfLB0sKywxLD8sRSxTLFksZyxtLHguAC4gLkAuYC6ALqAuwC7gAAAAAAAAAAIsFiwbLB8sRAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAMobBQAFAAUABQAFAAUABQAFAAq4AAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABgAGAAYABgAGAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAABcABQAFAAUABQAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAXAIoFygXKB0oKSh4AAAAAAAAAAAAAAAAAAAAAAAAAAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAEkAiQDJAAkBSQGJAckBCQJJAokCAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAgACAAIAAgACAAIAAgACAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAFAAUAAAAAAAAABQAAAAAABQAFAAUABQAFAAUABQAAAAAABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAFwCLBcsFCwbLB0sKSx5LeIt4BQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFABsAGwCLBcsFCwZLBosGywdLCgAAAAAAAAAAAAAAAAAAiwXLBQsGSwZLBosGywdLCkseAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAAAAAAAAAAAAACLBYsGywdLCkseBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQCLBcsHSwpLHssFCwYAAAAAAAAXAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAFwBLoEuoS7BLuIt4i4CLiIuQi5iLoIuoi7CLuMt4y4DLiMuQy5jLoMuoy7DLuMs2SzXLNIs0y0ZLNMtOizjLPEtFBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAADLXks0BQAFAIsFywULBksGiwbLBgsHSweLB8sHSwrLDEsPyxFLFMsWAAAAAEseC4ALiAuQC5gLoAuoC7ALuEt4S4BLiEuQS5gLA0sDiwPLA8sHSwpLHkt4SzQAAAAAAAAAAAAAAAAAABcAFwAXABcAFwAXABcAFwAXAAAAAAAAAAAAAAAAAAAABQAGAAYABgAAAAYABgAAAAAAAAAAAAAABgAGAAYABgAFAAUABQAFAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAGAAYABgAAAAAAAAAAAAYABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAIsFyxEXAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQCLBcsHSwoFAAUABQAFAAUABgAGAAAAAAAAAAAAiwWLBssHSwpLHhcAFwAXABcAFwAXABcAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFABsABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAXABcAFwAXABcAFwAXAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAIsFywULBksGywdLCkseS3gFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAACLBcsFCwZLBssHSwpLHkt4BQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAXABcAFwAXAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIsFywULBksGywdLCkseAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAAAAAAAAAACLBYsGywfLEUseS3gFAAUABQAFAAYABgAGAAYAAAAAAAAAAAAAAAAAAAAAAEkAiQDJAAkBSQGJAckBCQJJAokCAAAAAAAAAAAAAAAACwNLA4sDywMLBEsEiwTLBAsFywdLCssMSw/LEUsUyxZLGcsbSx4LgAuIC5ALmAugC6gLsAu4SzTLNIs0izgAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQCLBcsFCwZLBosGywdLCssMSx5LNAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAYABgAGAAYABgAGAAYABgAGAAYABgCLBcsHSwpLHhcAFwAXABcAFwAAAAAAAAAAAAAAAABLFMsWSxnLG0seS3hJAIkAyQAJAUkBiQHJAQkCSQKJAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYACAAGAAgABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAYABgAGAAYABgAGAAYAFwAXABcAFwAXABcAFwAAAAAAAAAAAAsDSwOLA8sDCwRLBIsEywQLBcsHSwrLDEsPyxEFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAgACAAIAAYABgAGAAYACAAIAAYABgAXABcAEAAXABcAFwAXAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAABJAIkAyQAJAUkBiQHJAQkCSQKJAgAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABgAGAAYABgAGAAgABgAGAAYABgAGAAYABgAGAAAASQCJAMkACQFJAYkByQEJAkkCiQIXABcAFwAXAAUACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABgAGAAYABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAYAFwAXAAUAAAAAAAAAAAAAAAAAAAAAAAAACAAFAAUABQAFABcAFwAXABcABgAGAAYABgAXAAAAAABJAIkAyQAJAUkBiQHJAQkCSQKJAgUAFwAFABcAFwAXAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUACAAIAAgABgAGAAYABgAGAAYABgAGAAYACAAAAIsFywULBksGiwbLBgsHSweLB8sHSwrLDEsPyxFLFMsWSxnLG0seS3gAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUACAAIAAgABgAGAAYACAAIAAYACAAGAAYAFwAXABcAFwAXABcABgAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUABQAFAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFABcAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAIAAgACAAGAAYABgAGAAYABgAGAAYAAAAAAAAAAAAAAEkAiQDJAAkBSQGJAckBCQJJAokCAAAAAAAAAAAAAAAABQAFAAgACAAAAAAABgAGAAYABgAGAAYABgAAAAAAAAAGAAYABgAGAAYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYABgAIAAgAAAAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAYABgAFAAgACAAGAAgACAAIAAgAAAAAAAgACAAAAAAACAAIAAgAAAAAAAUAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUACAAIAAgABgAGAAYABgAGAAYABgAGAAgACAAGAAYABgAIAAYABQAFAAUABQAXABcAFwAXABcASQCJAMkACQFJAYkByQEJAkkCiQIAABcAAAAXAAYAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAgACAAIAAYABgAGAAYABgAGAAgABgAIAAgACAAIAAYABgAIAAYABgAFAAUAFwAFAAAAAAAAAAAAAAAAAAAAAABJAIkAyQAJAUkBiQHJAQkCSQKJAgAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAgACAAIAAYABgAGAAYAAAAAAAgACAAIAAgABgAGAAgABgAGABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAFAAUABQAFAAYABgAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAIAAgACAAGAAYABgAGAAYABgAGAAYACAAIAAYACAAGAAYAFwAXABcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASQCJAMkACQFJAYkByQEJAkkCiQIAAAAAAAAAAAAAAAAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASQCJAMkACQFJAYkByQEJAkkCiQIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAGAAgABgAIAAgABgAGAAYABgAGAAYACAAGAAAAAAAAAAAAAAAAAAAAAAAIAAgABgAGAAYABgAIAAYABgAGAAYABgAAAAAAAAAAAEkAiQDJAAkBSQGJAckBCQJJAokCywdLChcAFwAXABsABQAFAAUABQAFAAUABQAFAAUABQAFAAUACAAIAAgABgAGAAYABgAGAAYABgAGAAYACAAGAAYAFwAAAAAAAAAAAEkAiQDJAAkBSQGJAckBCQJJAokCywdLCssMSw/LEUsUyxZLGcsbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAYABgAGAAYABgAGAAgABQAGAAYABgAGABcAFwAXABcAFwAXABcAFwAGAAAAAAAAAAAAAAAAAAAAAAAFAAYABgAGAAYABgAGAAgACAAGAAYABgAFAAUABQAFAAUABgAGAAYABgAGAAYABgAGAAYABgAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAXABcAFwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAABQAFAAUABQAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAgABgAGABcAFwAXAAUAFwAXAAUAFwAXABcAFwAXAAAAAAAAAAAAAAAAAAAAAAAAAAAASQCJAMkACQFJAYkByQEJAkkCiQKLBcsFCwZLBosGywYLB0sHiwfLB0sKywxLD8sRSxTLFksZyxtLHgAAAAAAABcAFwAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUACAAGAAYABgAGAAYABgAGAAAABgAGAAYABgAGAAYACAAGAAYABgAGAAYABgAGAAYABgAAAAgABgAGAAYABgAGAAYABgAIAAYABgAIAAYABgAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAUABgAAAAAAAAAAAAAAAAAAAAAASQCJAMkACQFJAYkByQEJAkkCiQIAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAABQAFAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAGAAYABgAGAAYABgAAAAAAAAAGAAAABgAGAAAABgAFAAUABQAFAAUABQAFAAUABQAFAAgACAAIAAgACAAAAAYABgAAAAgACAAGAAgABgAFAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAYABgAIAAgAFwAXAAAAAAAAAAAAAAAAAAAAyjRKNco0yjRKNIo0ijhKD8oRSgaKBsoGCgdKB4oHAAAXABcAFwAXABcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMoFCgZKBooGygYKB0oHigcKBkoGigbKBgoHSgeKB0oGigbKBgoHSgeKB4oFygUKBkoGigbKBgoHSgeKB4oFygUKBkoGigbKBQoGCgZKBooGygYKB0oHigeKBcoFCgYKBkoGigaKwIrBigXKBQoGCgZKBooGCgYKBkoGSgZKBkoGygYKBwoHCgdKB0oHigeKB4oHigfKBQoGSgaKBsoGigXKBQoGSgZKBooGigbKBQoGigXKBYo0ijhKRYo0ijjKNQUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEkAiQDJAAkBSQGJAckBCQJJAokCAAAAAAAAAAAXABcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAYABgAGAAYABgAXAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAGAAYABgAGAAYABgAGABcAFwAXABcAFwAbABsAGwAbAAQABAAEAAQAFwAbAAAAAAAAAAAAAAAAAAAAAAAAAAAASQCJAMkACQFJAYkByQEJAkkCiQIAAMsHSx6LeAt5i3kLeot6AAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAABQAFAAUASwWLBcsFCwZLBosGywYLB0sHiwfLBwsISwiLCMsICwlLCYsJywkLCosFywULBhcAFwAXABcAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgAGAAYABgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUAAAAAABsABgAGABcAEAAQABAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABsAGwAbABsAGwAbABsAAAAAABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAgACAAGAAYABgAbABsAGwAIAAgACAAIAAgACAAQABAAEAAQABAAEAAQABAABgAGAAYABgAGAAYABgAGABsAGwAGAAYABgAGAAYABgAGABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABgAGAAYABgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbABsABgAGAAYAGwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASwWLBcsFCwZLBosGywYLB0sHiwfLBwsISwiLCMsICwlLCYsJywkLCgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIsFywULBksGiwbLBgsHSweLB8sHSwrLDEsPyxFLFMsWSxnLG4sFywULBksGiwaLBYsGAAAAAAAAAAAAAAAAAABJAokCSQCJAMkACQFJAYkByQEJAkkCiQJJAIkAyQAJAUkBiQHJAQkCSQKJAkkAiQDJAAkBSQGJAckBCQJJAokCAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAIAAgACAAIAAgACAAIAAAACAAIAAgACAAIAAgACAAIAAgACAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAQAAAAEAAQAAAAAAAQAAAAAAAQABAAAAAAABAAEAAQABAAAAAQABAAEAAQABAAEAAQABAAIAAgACAAIAAAACAAAAAgACAAIAAgACAAIAAgAAAAIAAgACAAIAAgACAAIAAgACAAIAAgABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAIAAgACAAIAAQABAAAAAQABAAEAAQAAAAAAAQABAAEAAQABAAEAAQABAAAAAQABAAEAAQABAAEAAQAAAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgABAAEAAAABAAEAAQABAAAAAQABAAEAAQABAAAAAQAAAAAAAAABAAEAAQABAAEAAQABAAAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAgACAAIAAgACAAIAAAAAAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAGAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgAAgACAAIAAgACAAIAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAYAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgAAgACAAIAAgACAAIAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACAAIAAgAYAAIAAgACAAIAAgACAAEAAgAAAAAASQCJAMkACQFJAYkByQEJAkkCiQJJAIkAyQAJAUkBiQHJAQkCAAAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAbABsAGwAbAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAbABsAGwAbABsAGwAbABsABgAbABsAGwAbABsAGwAbABsAGwAbAAYAGwAbABcAFwAXABcAFwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGAAYABgAGAAYABgAGAAYAAAAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAAAAAAAYABgAGAAYABgAGAAYAAAAGAAYAAAAGAAYABgAGAAYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAAAAACLBcsFCwZLBosGywYLB0sHiwcGAAYABgAGAAYABgAGAAAAAAAAAAAAAAAAAAAAAAAAAAIAAgACAAIABgAGAAYABgAGAAYABgAAAAAAAAAAAAAASQCJAMkACQFJAYkByQEJAkkCiQIAAAAAAAAAABcAFwABAAEAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIsFywULBksGiwbLBgsHSweLB8sHSwrLDEsPyxFLFMt4S3lLgYsFywULBksGiwbLBgsHSweLBxsAyzRLNMs8GQCLBcsFi3jLeAAAAAAAAAAAAAAAAAAAAAAAAAAAAADLFksZyxtLHguAC4gLkAuYC6ALqAuwC7hLeEuAS4hLkEuYS6BLqEuwS7iLeIuAi4iLkIuYi6CLqIuwi7jLeMuAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYABgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAAAAUAAAAAAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAAAAUAAAAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAAABQAAAAUAAAAFAAUABQAAAAUABQAAAAUAAAAAAAUAAAAFAAAABQAAAAUAAAAFAAAABQAFAAAABQAAAAAABQAFAAUABQAAAAUABQAFAAUABQAFAAUAAAAFAAUABQAFAAAABQAFAAUABQAAAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAFAAUABQAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAAAAAAAAAAAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAAAAAAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAAAAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwDLAssCCwNLA4sDywMLBEsEiwTLBAsFSwVLBQAAAAAAABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAAAAAAAAAAAAAAAAAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAAAAAAAAAAABsAGwAbABsAGwAbABsAGwAbAAAAAAAAAAAAAAAAAAAAGwAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbABsAGwAbABsAGwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAaABoAGgAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAAAAAAAABsAGwAbABsAGwAbABsAGwAbABsAAAAAAAAAAAAAAAAAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAAAAAAAAAAAAAAAAAAABsAGwAbABsAGwAbABsAGwAAAAAAAAAAAAAAAAAAAAAAGwAbABsAGwAbABsAGwAbABsAGwAAAAAAAAAAAAAAAAAbABsAGwAbABsAGwAbABsAAAAAAAAAAAAAAAAAAAAAABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAAAAAAGwAbABsAGwAAAAAAAAAbAAAAGwAbABsAGwAbABsAGwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABsAGwAbABsAGwAbABsAGwAbABsAAAAAAAAAAAAAAAAABQAFBwUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAEUGBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAEUGBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAhQYFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQDFDAUABQAFAAUABQAFAAUABQBFDwUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAEUPBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQDFBgUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUGBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQYFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQYFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFBgUABQAFAAUABQAFAAUABQAFAAUABQAFAAUARQYFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAIUHBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEQARABEAEQARABEAEQARABEAEQARABEAEQARABEAEQARABEAEQARABEAEQARABEAEQARABEAEQARABEAAAAAAAAAAAAAAAAAAAAAAAAAAACrACAAuwAAABUiIAQfIuAEICLgAyEioAMiIsADJCLABEMiIAJFIkABTCIgAZgiAASmIkAEqCKABKkiYASrIqAEuCKAA80iAAHyIuAC8yIAA/QiIAP2IkAD9yJgA/oiQAL7ImAC/CKAAv0ioAL+IsAC3CcAApspoACgKcAAoymAALgpYAH1KUAA3iqAAeMqwAHkKqAB5SrgAe4q4AD+K2AAbwN3A38DhwOfA6cDrwO3A48DlwOPA5cDjwOXA48DlwOPA5cDjwOXA70DxQPNA9UD3QPlA+ED6QPxA/kD9AP8A48DlwOPA5cDBAQMBI8DlwOPA5cDjwOXAxIEGgQiBCoEMgQ6BEIESgRQBFgEYARoBHAEeAR+BIYEjgSWBJ4EpgSyBK4EugTCBCQE0gTaBMoE4gTkBOwE9AT8BP0EBQUNBRUF/QQdBSIFFQX9BCoFMgX8BDoFQgX0BEcFjwNPBVMFWwVdBWUFbQX8BHUFfQX0BAYEgQUFBfQEjwOPA4kFjwOPA48FlwWPA48DmwWjBY8DpwWuBY8DtgW+BcUFRgWPA48DzQXVBd0F5QWPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwPtBY8D9QWPA48DjwP9BY8DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DBQaPA48DjwMNBg0GCQUJBY8DEwYbBvUFMQYjBiMGOQZABikGjwOPA48DSAZQBo8DjwOPA1IGWgZiBo8DaQZxBo8DeQaPA48DOQWBBkcFiQYGBJEGjwOYBo8DnQaPA48DjwOPA6MGqwaPA48DjwOPA48DjwPdA7MGjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwO7BsMGxwbfBuUGzwbXBu0G9Qb5BsgFAQcJBxEHjwMZB1oGWgZaBikHMQc5B0EHRgdOB1YHIQdeB2YHjwNsB3MHWgZaBloGWgZzBXkHWgaBB48DjwNXBloGWgZaBloGWgZaBloGWgZaBloGWgZaBloGiQdaBloGWgZaBloGjwdaBloGlwefB48DjwOPA48DjwOPA48DjwNaBloGWgZaBq8Htwe/B6cHzwfXB98H5gftB/UH+QfHB1oGWgZaBgEIBwhaBg0IEAiPA48DjwOPA48DjwOPAxgIjwOPA48DIAiPA48DjwPdAygIMAg1CI8DPQhaBloGXQZaBloGWgZaBloGWgZECEoIWghSCI8DjwNiCP0FjwO2A48DjwOPA48DjwOPA1oGHwjEA48DOQhqCI8Dcgh6CI8DjwOPA48DfgiPA48DUga1A48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwNaBloGjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPAzkIWgZzBY8DjwOPA48DjwOPA48DjwOPA4UIjwOPA4oIXQWPA48DqQVaBlEGjwOPA5IIjwOPA48DmgihCCMGqQiPA48DfwWxCI8DuQjACI8D4gTFCI8D+wSPA80I1Qj9BI8D2Qj8BOEIjwOPA48DjwOPA48DjwPoCI8DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwP8CPAI9AiOBI4EjgSOBI4EjgSOBI4EjgSOBI4EjgSOBI4EBAmOBI4EjgSOBAwJEAkYCSAJJAksCY4EjgSOBDAJOAl/A0AJSAmPA48DjwNQCY8DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwM8DjwOfA68DjwOPA48DjwOPA48DvQONA90D4QPxA/QDzwOPA4QEDwOPA48DkgQiBDIEAgRQBGAEcAR+BE4EngSQAqACsAK/wqgAaABoAGgAaABoAGgAaABoAE3C6ABoAGgAaABoAGgAaABoAGgAXQLoAGgAakL6QspDGkMqQzpDKABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABKQ2gAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgASkNoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEpDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABKQ2gAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgASkNoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEpDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABKQ2gAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgASkNoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEpDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABKQ2gAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgASkNoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEpDWkNeQ2gAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABKQ2gAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgASkNoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEpDY8DjwOPA48DjwOPA48DjwNYCY8DWgZaBmAJ/QWPA/UEjwOPA48DjwOPA48DjwNoCY8DjwOPA28JjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DJAQkBCQEJAQkBCQEJAQkBHcJJAQkBCQEJAQkBCQEJAR/CYMJJAQkBCQEJASTCYsJJASbCSQEJASjCakJJAQkBCQEJAQkBCQEJAQkBCQEJAS5CbEJJAQkBCQEJAQkBCQEJAQkBCQEwQkkBCQEJAQkBCQEyQnQCdYJJAQkBCQEJAT8BN4J5QnsCQYE7wmPA48D4gT2CY8D/AkGBAEKCQqPA48DDgqPA48DjwOPAyAIFgoGBIEFXAUdCo8DjwOPA48DjwPeCSUKjwOPAy0KNQqPA48DjwOPA48DjwM5CkEKjwOPA0kKXAVRCo8DVwqPA48D7QVfCo8DjwOPA48DjwOPA2QKjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA2wKcAp4Co8DfwqPA48DjwOPA48DjwOPA48DjwOPA48DjwOGCo8DjwOUCo4KjwOPA48DnAqkCo8DqAqPA48DjwOPA48DjwOPA48DjwOPA4MFjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA64KjwO0Co8DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DugqPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwMWBcIKjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA8kK0QrXCo8DjwNaBloG3wqPA48DjwOPA48DWgZaBjMIjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48D4QqPA+gKjwPkCo8D6wqPA/MK9wqPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA90D/wrdAwYLDQsVC48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPAx0LJQuPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DJAQkBCQEJAQkBCQELQskBDULNQs8CyQEJAQkBCQEJAQkBCQEJAQkBCQEJAQkBCQEJAQkBCQEJAQkBCQEJAQkBCQEJAQkBPQIjgSOBCQEJAQkBCQEJAQkBCQEJAQkBCQEjgSOBI4EjgSOBI4EjgRECyQEJAQkBCQEJAQkBCQEJARaBkwLWgZaBl0GUQtVC0QIXQuxA48DYwuPA48DjwOPA48DjwOPA2oHjwOPA48DjwNaBloGWgZaBloGWgZaBloGWgZaBloGWgZaBloGWgZaBloGWgZaBloGWgZaBloGWgZaBloGWgZaBloGWgZrC3MLWgZaBloGXQZaBloGewuPA0wLWgaDC1oGiwtGCI8DjwNMC48LWgaXC1oGnwunC1oGjwOPA48DRgiPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA68LjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48DjwOPA48Drwu/C7cLtwu3C8ALwAvAC8AL3QPdA90D3QPdA90D3QPIC8ALwAvAC8ALwAvAC8ALwAvAC8ALwAvAC8ALwAvAC8ALwAvAC8ALwAvAC8ALwAvAC8ALwAvAC8ALwAvAC8ALwAvAC8ALwAvAC8ALwAvAC8ALwAvAC8ALwAvAC8ALwAvAC8ALwAvAC8ALwAvAC8ALwAvAC8ALwAvAC8ALwAvAC8ALbgNuA24DEgASABIAEgASABIAEgASABIACAAHAAgACQAHABIAEgASABIAEgASABIAEgASABIAEgASABIAEgAHAAcABwAIAAkACgAKAAQABAAEAAoACgAKMQryCgADAAYAAwAGAAYAAgACAAIAAgACAAIAAgACAAIAAgAGAAoAClAKAArQCgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKUQoACtIKAAoACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAClEKAArSCgASAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgASABIAEgASAAcAEgASABIAEgASABIAEgASABIAEgASABIAEgASABIAEgASABIAEgASABIAEgASABIAEgASAAYACgAEAAQABAAEAAoACgAKAAoAAAAKkAoAsgAKAAoABAAEAAIAAgAKAAAACgAKAAoAAgAAAAqQCgAKAAoACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAKAAAAAAAAAAAAAAAAAAAACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoAAAAAAAAAAAAAAAoACgAKAAoACgAKAAoACgAKAAAACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAAAAAAAAAAAAKAAoAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAoACgAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQCxALEAsQCxALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAoACgAEAAEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAAQCxAAEAsQCxAAEAsQCxAAEAsQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEABQAFAAUABQAFAAUACgAKAA0ABAAEAA0ABgANAAoACgCxALEAsQCxALEAsQCxALEAsQCxALEADQCtCA0ADQANAE0ADQCNAI0AjQCNAE0AjQBNAI0ATQBNAE0ATQBNAI0AjQCNAI0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQAtAE0ATQBNAE0ATQBNAE0AjQBNAE0AsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEABQAFAAUABQAFAAUABQAFAAUABQAEAAUABQANAE0ATQCxAI0AjQCNAA0AjQCNAI0ATQBNAE0ATQBNAE0ATQBNAI0AjQCNAI0AjQCNAI0AjQCNAI0AjQCNAI0AjQCNAI0AjQCNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQCNAE0ATQCNAI0AjQCNAI0AjQCNAI0AjQBNAI0ATQCNAE0ATQCNAI0ADQCNALEAsQCxALEAsQCxALEABQAKALEAsQCxALEAsQCxAA0ADQCxALEACgCxALEAsQCxAI0AjQACAAIAAgACAAIAAgACAAIAAgACAE0ATQBNAA0ADQBNAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAK0AjQCxAE0ATQBNAI0AjQCNAI0AjQBNAE0ATQBNAI0ATQBNAE0ATQBNAE0ATQBNAE0AjQBNAI0ATQCNAE0ATQCNALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEADQANAI0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAI0AjQCNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAI0AjQBNAE0ATQBNAI0ATQCNAI0ATQBNAE0AjQCNAE0ATQBNAE0ATQBNAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQCxALEAsQCxALEAsQCxALEAsQCxALEADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AAQABAAEAAQABAAEAAQABAAEAAQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAQQCxALEAsQCxALEAsQCxALEAsQABAAEACgAKAAoACgAhAAEAAQCxAAEAAQCxALEAsQCxAAEAsQCxALEAAQCxALEAsQCxALEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAsQCxALEAsQABALEAsQCxALEAsQCBAEEAQQBBAEEAQQCBAIEAQQCBAEEAQQBBAEEAQQBBAEEAQQBBAEEAgQBBAAEAAQABALEAsQCxAAEAAQABAAEATQANAE0ATQBNAE0ADQCNAE0AjQCNAA0ADQANAA0ADQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABALEAsQAFALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQBNAE0ATQBNAE0ATQBNAE0ATQBNAI0AjQCNAA0AjQBNAE0AjQCNAE0ATQANAE0ATQBNAI0ATQBNAE0ATQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQAAALEAAAAAAAAAAACxALEAsQCxALEAsQCxALEAAAAAAAAAAACxAAAAAAAAALEAsQCxALEAsQCxALEAAAAAAAAAAAAAAAAAAAAAAAAAAACxALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQAAAAAAAAAAALEAsQCxALEAAAAAAAAAAAAAAAAAAAAAALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAsQAAAAAAsQCxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQAAAAAAAAAAALEAsQAAAAAAsQCxALEAAAAAAAAAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxALEAAAAAAAAAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQCxALEAsQCxAAAAsQCxAAAAAAAAAAAAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQCxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAsQCxALEAsQCxALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxAAAAAACxAAAAsQCxALEAsQAAAAAAAAAAAAAAAAAAAAAAsQAAAAAAAAAAAAAAAAAAAAAAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoACgAKAAoACgAKAAQACgAAAAAAAAAAAAAAsQAAAAAAAACxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQCxAAAAAAAAAAAAAACxALEAsQAAALEAsQCxALEAAAAAAAAAAAAAAAAAAACxALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAKAAoACgAKAAoACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQAAAAAAoAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAACxALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAAAAAAAAAAAAAAAAAAACxALEAsQAAALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQAAAAAAsQCxALEAsQCxALEAsQAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAACxALEAsQCxALEAsQCxALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQAAAAAAsQCxALEAsQCxALEAAACxALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQCxALEAsQCxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAAACxAAAAsQAKMQryCjEK8gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxAAAAsQCxALEAsQCxAAAAsQCxAAAAAAAAAAAAAACxALEAsQCxALEAsQCxALEAsQCxALEAAACxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxALEAsQCxAAAAsQCxALEAsQCxALEAAACxALEAAAAAALEAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQAAAAAAAAAAALEAsQCxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQCxALEAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAAAAAALEAsQAAAAAAAAAAAAAAAACxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxALEAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoACgAKAAoACgAKAAoACgAKAAoAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoxCvIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxALEAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQCxAAAAsQCxALEAsQCxALEAsQAAAAAAAAAAAAAAAAAAAAAAsQAAAAAAsQCxALEAsQCxALEAsQCxALEAsQCxAAAAAAAAAAAAAAAAAAAABAAAALEAAAAAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAALEAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAoACgAKAAoACgAKAEoACgAKACoAsQCxALEAEgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAsQCxAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAsQCxALEAAAAAAAAAAACxALEAAAAAAAAAAAAAAAAAAAAAAAAAsQAAAAAAAAAAAAAAAACxALEAsQAAAAAAAAAAAAoAAAAAAAAACgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxALEAAAAAALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxAAAAsQCxALEAsQCxALEAsQAAALEAAACxAAAAAACxALEAsQCxALEAsQCxALEAAAAAAAAAAAAAAAAAsQCxALEAsQCxALEAsQCxALEAsQAAAAAAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAAACxALEAsQCxALEAAACxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxALEAsQCxALEAsQCxALEAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQCxALEAsQAAAAAAsQCxAAAAsQCxALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAAACxALEAAAAAAAAAsQAAALEAsQCxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxALEAsQCxALEAsQCxALEAAAAAALEAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQCxAAAAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQAAALEAsQCxALEAsQCxALEAAAAAAAAAAACxAAAAAAAAAAAAAAAAALEAAAAAAAAAsQCxAAAAAAAAAAAAAAAAALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQAAALEAsQCxALEAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAoACgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAoACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoACgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAKAAAACgAKAAoACgAGAAoxCvIKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAJALIAsgCyALIAsgASABQIFQgTCBYIsgCyALIAsgCyALIAAgAAAAAAAAACAAIAAgACAAIAAgADAAMACgAKMQryAAAJAAkACQAJAAkACQAJAAkACQAJAAkAsgASBDIEoAihCAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACQAHAKsIrgiwCKwIrwgGAAQABAAEAAQABAAKAAoACgAKAAowCvAKAAoACgAKAAoAAgACAAIAAgACAAIAAgACAAIAAgADAAMACgAKMQryAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABACxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxAAoACgAAAAoACgAKAAoAAAAKAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAACgAKAAoAAAAAAAAAAAAAAAoACgAKAAoACgAKAAAACgAAAAoAAAAKAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAKAAAAAAAAAAAAChAKAAoACgAKAAAAAAAAAAAAAAAKAAoACgAKAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAAAAAAAAAAAAAAAAAAAAAAAAAoACgAKAAAAAAAAAAAACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKMArwCjAK8AowCvAKMArwCjAK8AowCvAKMArwCgAKAAowCvAKkAqQCpAKEAqQCpAKEAoQCpAKkAqQCpAKkAoQCgAKEAoQChAKEAoACgAKAApwCnAKcAqwCrAKsAoACgAKAAoQAwAEAAoACpAKEAoACgAKAAoQChAKEAoQCgAKkAqQCpAKkAoACpAKAAoQCgAKAAoACgAKEAoQChAKEAoQChAKEAoQChAKAAoACgAKAAoAChAKAAoQCjAK8AoQChAKEAoQChAKkAoQCpAKEAoQChAKEAoQChAKkAoACgAKAAoACgAKMArwCjAK8AoACgAKAAoACgAKAAoACgAKAAoQChAKAAoQCgAKMArwCjAK8AowCvAKMArwCgAKAAowCvAKMArwCjAK8AowCvAKMArwCjAK8AowCvAKMArwCjAK8AoQCgAKAAowCvAKMArwCgAKAAoACgAKAAqQCgAKAAoACgAKAAoACgAKAAoACjAK8AoACgAKkAoQCpAKkAoQCpAKEAoQChAKEAowCvAKMArwCjAK8AowCvAKkAoACgAKAAoACgAKEAoQCgAKAAoACgAKAAoACgAKAAoACjAK8AowCvAKkAoACgAKMArwCgAKAAoACgAKMArwCjAK8AowCvAKMArwCjAK8AoACgAKAAoACgAKAAoACgAKMQryCjEK8goACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKEAoQCgAKAAoACgAKAAoACgAKMQryCgAKAAoACgAKAAoACgAKAAoACgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAAACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAAAAAAAAAAACgAKAAoACgAKAAoACgAKAAoACgAKAAoAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoxCvIKMQryCjEK8goxCvIKMQryCjEK8goxCvIKAAoACgAKAAoACgAKAAoACgAKAAoQCgAKAAowCvAKMQryCgAKMArwCgAKUAoQCtAKAAoACgAKAAoAChAKEAowCvAKAAoACgAKAAoACpAKMArwCgAKAAoACjAK8AowCvAKMQryCjEK8goxCvIKMQryCjEK8goACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKEAoAChAKEAoQCgAKAAowCvAKAAoACgAKAAoACgAKAAoACgAKAAoQCpAKEAoQCjAK8AoACgAKMQryCgAKAAoACgAKAAoxCvIKMQryCjEK8goxCvIKMQryCnEKMgrxCrIKMQryCjEK8goxCvIKMQryCgAKAAqQChAKEAoQChAKkAoAChAKkAowCvAKEAoQCjAK8AowCvAKMArwCjAK8AoACgAKAAoACgAKAAoACgAKkAoACgAKAAoACgAKAAoACjAK8AoQChAKMArwCgAKAAoAChAKAAoACgAKAAoQCjAK8AowCvAKAAowCvAKAAoACjEK8goxCvIKEAoACgAKAAoACgAKEAqQCpAKkAoQCgAKAAoACgAKAAowCvAKkAoACgAKAAoAChAKAAoACgAKMArwCjAK8AoQCgAKEAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoQChAKEAoQChAKEAoQChAKEAoQChAKEAoQChAKEAoQChAKEAoQCgAKEAoQChAKEAoACgAKEAoAChAKAAoAChAKAAowCvAKMArwCgAKAAoACgAKAAowCvAKAAoACgAKAAoACgAKMArwChAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKEAoQCgAKAAoACgAKAAoACgAKMArwCgAKAAoACgAKEAoQChAKEAoAChAKEAoACgAKEAoQCgAKAAoACgAKMArwCjAK8AowCvAKMArwCjAK8AowCvAKMArwCjAK8AowCvAKMArwCjAK8AowCvAKMArwCjAK8AowCvAKMArwCjAK8AowCvAKMArwChAKAAoACjAK8AowCvAKMArwCjAK8AoACjAK8AowCvAKMArwCjAK8AowCvAKMArwCjAK8AowCvAKMArwCjAK8AowCvAKMArwCgAKAAoACgAKAAoQCgAKkAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAACgAKAAoACgAKAAoACgAKAAoAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACpAAAAAAAAAAAAAAAAAKAAoACgAKAAoACgAAAAAAAAAAALEAsQCxAAAAAAAAAAAAAAAAAAAACgAKAAoACgAKAAoACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEACgAKAAowCvAKMArwCgAKAAoACjAK8AoACjAK8AoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKMArwCgAKAAowCvAKMQryCjEK8goxCvIKMQryCgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAAACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAACxALEAsQCxAAAAAAAKAAAAAAAAAAAAAAAKAAoAAAAAAAAAAAAAAAoACgAKAAkACgAKAAoACgAAAAAAAAAKMQryCjEK8goxCvIKMQryCjEK8goACgAKMQryCjEK8goxCvIKMQryCgAKAAoACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQAKAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAoACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAoACgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAoACgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAoACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQCxALEACgCxALEAsQCxALEAsQCxALEAsQCxAAoACgAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAAAAAAAAAsQAAAAAAAAAAALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQCxAAAACgAKAAoACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAYAAAAAoACgAKAAoAAAAAAAAAAAAAAAAAAAAAALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQAAAAAAAAAAAAAAAACxALEAsQCxALEAsQCxALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQCxALEAsQCxALEAsQCxALEAsQCxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAAAAAALEAsQCxALEAAAAAALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQCxALEAsQCxALEAAAAAALEAsQAAAAAAsQCxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAAAAAAAAAAAAAAAAAAAAAALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxAAAAsQCxALEAAAAAALEAsQAAAAAAAAAAAAAAsQCxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQAAAAAAAAAAAAAAAAAAAAAAsQAAAAAAAAAAAAAAAAAAAAAAAAAAALEAAAAAALEAAAAAAAAAAACxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAMAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABALEAAQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQAKAAoADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQASABIAEgASABIAEgASABIAEgASABIAEgASABIAEgASAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ACgANAA0AsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQAKAAoACgAKAAoACgAKAAoACgAKAAAAAAAAAAAAAAAAALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAGAAoABgAAAAoABgAKAAoACgAKMQryCjEK8goxCvIEAAoACgADAAMACjAK8AoAAAAKAAQABAAKAAAAAAAAAAAADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQCyAAAACgAKAAQABAAEAAoACgAKMQryCgADAAYAAwAGAAYAAgACAAIAAgACAAIAAgACAAIAAgAGAAoAClAKAArQCgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKUQoACtIKAAoxCvIKAAoxCvIKAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAKAAoACgAEAAQAAAAKAAoACgAKAAoACgAKAAAAEgASABIAEgASABIAEgASABIAqgCqAKoACgAKABIAEgAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAALEAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxALEAsQCxALEAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACgABALEAsQCxAAEAsQCxAAEAAQABAAEAAQCxALEAsQCxAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABALEAsQCxAAEAAQABAAEAsQBBAIEAAQABAIEAsQCxAAEAAQABAAEAQQBBAEEAQQCBAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAQQBBAEEAQQBBAIEAAQCBAAEAgQCBAAEAAQBhAIEAgQCBAIEAgQBBAEEAQQBBAGEAQQBBAEEAQQBBAIEAQQBBAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACgAKAAoACgAKAAoACgBBAIEAQQCBAIEAgQBBAEEAQQCBAEEAQQCBAEEAgQCBAEEAgQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQCBAIEAgQCBAEEAQQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEATQBNAI0ATQCxALEAsQCxAA0ADQANAA0ADQANAA0ADQAFAAUABQAFAAUABQAFAAUABQAFAA0ADQANAA0ADQANAG0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQBNAE0ATQCNAE0ATQBNAE0ATQBNAE0ATQBNAE0ATQBNAE0ADQCxALEAsQCxALEAsQCxALEAsQCxALEATQBNAE0AjQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQCxALEAsQCxALEAsQCxALEAsQCxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQCxALEAsQAAAAAAsQCxAAAAAAAAAAAAAAAAAAAAAACxALEAsQCxALEAAACxALEAsQCxALEAsQCxALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQCxALEAsQCxALEAsQCxALEAAAAAAAAAAAAAAAAAAAAAAAAAAACxALEAsQCxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQCxALEAAAAAALEAAACxALEAAAAAAAAAAAAAAAAAsQAAAAAAAAAAALEAsQCxALEAsQCxALEAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQCxALEAsQCxALEAsQAAAAAAAACxALEAsQCxALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxALEAsQAAALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQCxALEAsQCxAAAAsQAAAAAAAAAAALEAsQAAALEAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxALEAsQCxAAAAAAAAAAAAAAAAALEAsQAAALEAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQCxALEAsQCxALEAsQCxAAAAAACxAAAAsQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQAAALEAAAAAALEAsQCxALEAsQCxAAAAsQAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQCxALEAAACxALEAsQCxALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQCxALEAsQCxALEAsQCxAAAAsQCxAAAAAAAAAAAAAAAAALEAsQCxALEAsQCxAKAAoACxALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQCxALEAsQCxALEAAAAAALEAsQCxALEAAAAAAAAAAAAAAAAAAAAAALEAAAAAAAAAAAAAAAAAAAAAAAAAsQCxALEAsQCxALEAAAAAALEAsQCxAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQAAALEAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxALEAsQCxALEAsQCxAAAAsQCxALEAsQCxALEAAACgALEAsQCxALEAsQCxALEAsQAAAAAAsQCxALEAsQCxALEAsQAAALEAsQAAALEAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQCxALEAsQCxALEAAAAAAAAAsQAAALEAsQAAALEAsQCxALEAsQCxALEAAACxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQAAAAAAAACxAAAAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQCxALEAsQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQCxALEAsQCxALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxALEAsQCxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsgCyALIAsgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALEAsQCxAAAAAAAAAAAAAAAAAAAAAAAAALIAsgCyALIAsgCyALIAsgCxALEAsQCxALEAsQCxALEAAAAAALEAsQCxALEAsQCxALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxALEAsQCxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoACgCxALEAsQAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKEAAAAAAAAAAAAAAAAAAAAAAAAAAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAAAAAAAAAAACxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAAAAAAAAAAAAAAAAAAAAAALEAAAAAAAAAAAAAAAAAAAAAAAAAAACxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsQCxALEAsQCxAAAAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxALEAsQCxALEAsQCxAAAAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxAAAAAACxALEAsQCxALEAsQCxAAAAsQCxAAAAsQCxALEAsQCxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAsQCxALEAsQCxALEAsQABAAEAAQABAAEAAQABAAEAAQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAsQCxALEAsQCxALEAsQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAAoACgANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ACgAKAAoACgAKAAoACgAKAAoACgAKAAoAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAIAAgACAAIAAgACAAIAAgACAAIAAgAKAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAAAAAAAAAAAAAAAAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoAAAAAAAAAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoAAAAAAAAAAAAAAAAAAAAAAAoACgAKAAoACgAKAAoACgAKAAoAAAAAAAAAAAAAAAAACgAKAAoACgAKAAoACgAKAAAAAAAAAAAAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAAACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAAAAAAKAAoACgAKAAAAAAAAAAoAAAAKAAoACgAKAAoACgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAAAAAAKAAoACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgASALIAsgCyALIAsgCyALIAsgCyALIAsgCyALIAsgCyALIAsgCyALIAsgCyALIAsgCyALIAsgCyALIAsgCyALIAsgASALIAEgASABIAEgASABIAEgASABIAEgASABIAEgASABIAEgASABIAEgASABIAEgASABIAEgASABIAEgASABIAEgASABIAEgCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxALEAsQCxABIAEgASABIAEgASABIAEgASABIAEgASABIAEgASABIAAAAAAAAAAAAAAAAAAAAAAMARAQBREgEAsBABAAAAAADAEQEA/hEBAMAQAQAAAAAAmBEBAB8SAQDAEQEALBIBAKAQAQAAAAAAwBEBAJcSAQCwEAEAAAAAAMARAQBzEgEA2BABAAAAAAABAAAAAgAAAJACAADAAwAA4BEBAOARAQCwAQAAwAMAAOARAQDgEQEAYAMAAJADAADgEQEA4BEBAAADAAAwAwAA4BEBAOARAQDAAgAAUAIAAOkRAQDwEQEAkAIAAOABAADgEQEA5REBACACAABQAgAA6REBAPARAQCwAQAA4AEAAOARAQDlEQEAABAAAACAAAAACAAAAEAAAAAAAACgEAEAAQAAAAIAAAADAAAABAAAAAEAAAABAAAAAQAAAAEAAAAAAAAAyBABAAEAAAAFAAAAAwAAAAQAAAABAAAAAgAAAAIAAAACAAAAAAECAwQAAQ0OAAECBQYHCAABCQoLDAACBAYICgwOTjEwX19jeHhhYml2MTE2X19zaGltX3R5cGVfaW5mb0UAU3Q5dHlwZV9pbmZvAE4xMF9fY3h4YWJpdjEyMF9fc2lfY2xhc3NfdHlwZV9pbmZvRQBOMTBfX2N4eGFiaXYxMTdfX2NsYXNzX3R5cGVfaW5mb0UATjEwX19jeHhhYml2MTE5X19wb2ludGVyX3R5cGVfaW5mb0UATjEwX19jeHhhYml2MTE3X19wYmFzZV90eXBlX2luZm9F"\n;var tempDoublePtr=71104;var ENV={};function ___buildEnvironment(environ){var MAX_ENV_VALUES=64;var TOTAL_ENV_SIZE=1024;var poolPtr;var envPtr;if(!___buildEnvironment.called){___buildEnvironment.called=true;ENV["USER"]=ENV["LOGNAME"]="web_user";ENV["PATH"]="/";ENV["PWD"]="/";ENV["HOME"]="/home/web_user";ENV["LANG"]="C.UTF-8";ENV["_"]=Module["thisProgram"];poolPtr=getMemory(TOTAL_ENV_SIZE);envPtr=getMemory(MAX_ENV_VALUES*4);HEAP32[envPtr>>2]=poolPtr;HEAP32[environ>>2]=envPtr}else{envPtr=HEAP32[environ>>2];poolPtr=HEAP32[envPtr>>2]}var strings=[];var totalSize=0;for(var key in ENV){if(typeof ENV[key]==="string"){var line=key+"="+ENV[key];strings.push(line);totalSize+=line.length}}if(totalSize>TOTAL_ENV_SIZE){throw new Error("Environment size exceeded TOTAL_ENV_SIZE!")}var ptrSize=4;for(var i=0;i<strings.length;i++){var line=strings[i];writeAsciiToMemory(line,poolPtr);HEAP32[envPtr+i*ptrSize>>2]=poolPtr;poolPtr+=line.length+1}HEAP32[envPtr+strings.length*ptrSize>>2]=0}function __ZSt18uncaught_exceptionv(){return!!__ZSt18uncaught_exceptionv.uncaught_exception}function ___cxa_free_exception(ptr){try{return _free(ptr)}catch(e){}}var EXCEPTIONS={last:0,caught:[],infos:{},deAdjust:function(adjusted){if(!adjusted||EXCEPTIONS.infos[adjusted])return adjusted;for(var key in EXCEPTIONS.infos){var ptr=+key;var adj=EXCEPTIONS.infos[ptr].adjusted;var len=adj.length;for(var i=0;i<len;i++){if(adj[i]===adjusted){return ptr}}}return adjusted},addRef:function(ptr){if(!ptr)return;var info=EXCEPTIONS.infos[ptr];info.refcount++},decRef:function(ptr){if(!ptr)return;var info=EXCEPTIONS.infos[ptr];info.refcount--;if(info.refcount===0&&!info.rethrown){if(info.destructor){Module["dynCall_vi"](info.destructor,ptr)}delete EXCEPTIONS.infos[ptr];___cxa_free_exception(ptr)}},clearRef:function(ptr){if(!ptr)return;var info=EXCEPTIONS.infos[ptr];info.refcount=0}};function ___resumeException(ptr){if(!EXCEPTIONS.last){EXCEPTIONS.last=ptr}throw ptr}function ___cxa_find_matching_catch(){var thrown=EXCEPTIONS.last;if(!thrown){return(setTempRet0(0),0)|0}var info=EXCEPTIONS.infos[thrown];var throwntype=info.type;if(!throwntype){return(setTempRet0(0),thrown)|0}var typeArray=Array.prototype.slice.call(arguments);var pointer=Module["___cxa_is_pointer_type"](throwntype);if(!___cxa_find_matching_catch.buffer)___cxa_find_matching_catch.buffer=_malloc(4);HEAP32[___cxa_find_matching_catch.buffer>>2]=thrown;thrown=___cxa_find_matching_catch.buffer;for(var i=0;i<typeArray.length;i++){if(typeArray[i]&&Module["___cxa_can_catch"](typeArray[i],throwntype,thrown)){thrown=HEAP32[thrown>>2];info.adjusted.push(thrown);return(setTempRet0(typeArray[i]),thrown)|0}}thrown=HEAP32[thrown>>2];return(setTempRet0(throwntype),thrown)|0}function ___gxx_personality_v0(){}function _emscripten_get_heap_size(){return HEAP8.length}function abortOnCannotGrowMemory(requestedSize){abort("OOM")}function emscripten_realloc_buffer(size){try{var newBuffer=new ArrayBuffer(size);if(newBuffer.byteLength!=size)return false;new Int8Array(newBuffer).set(HEAP8)}catch(e){return false}buffer=newBuffer;Module["_emscripten_replace_memory"](newBuffer);return true}function _emscripten_resize_heap(requestedSize){var oldSize=_emscripten_get_heap_size();var PAGE_MULTIPLE=16777216;var LIMIT=2147483648-PAGE_MULTIPLE;if(requestedSize>LIMIT){return false}var MIN_TOTAL_MEMORY=16777216;var newSize=Math.max(oldSize,MIN_TOTAL_MEMORY);while(newSize<requestedSize){if(newSize<=536870912){newSize=alignUp(2*newSize,PAGE_MULTIPLE)}else{newSize=Math.min(alignUp((3*newSize+2147483648)/4,PAGE_MULTIPLE),LIMIT)}}if(!emscripten_realloc_buffer(newSize)){return false}updateGlobalBufferViews();return true}function _emscripten_memcpy_big(dest,src,num){HEAPU8.set(HEAPU8.subarray(src,src+num),dest)}function ___setErrNo(value){if(Module["___errno_location"])HEAP32[Module["___errno_location"]()>>2]=value;return value}var ASSERTIONS=false;function intArrayToString(array){var ret=[];for(var i=0;i<array.length;i++){var chr=array[i];if(chr>255){if(ASSERTIONS){}chr&=255}ret.push(String.fromCharCode(chr))}return ret.join("")}var decodeBase64=typeof atob==="function"?atob:function(input){var keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var output="";var chr1,chr2,chr3;var enc1,enc2,enc3,enc4;var i=0;input=input.replace(/[^A-Za-z0-9\\+\\/\\=]/g,"");do{enc1=keyStr.indexOf(input.charAt(i++));enc2=keyStr.indexOf(input.charAt(i++));enc3=keyStr.indexOf(input.charAt(i++));enc4=keyStr.indexOf(input.charAt(i++));chr1=enc1<<2|enc2>>4;chr2=(enc2&15)<<4|enc3>>2;chr3=(enc3&3)<<6|enc4;output=output+String.fromCharCode(chr1);if(enc3!==64){output=output+String.fromCharCode(chr2)}if(enc4!==64){output=output+String.fromCharCode(chr3)}}while(i<input.length);return output};function intArrayFromBase64(s){if(typeof ENVIRONMENT_IS_NODE==="boolean"&&ENVIRONMENT_IS_NODE){var buf;try{buf=Buffer.from(s,"base64")}catch(_){buf=new Buffer(s,"base64")}return new Uint8Array(buf.buffer,buf.byteOffset,buf.byteLength)}try{var decoded=decodeBase64(s);var bytes=new Uint8Array(decoded.length);for(var i=0;i<decoded.length;++i){bytes[i]=decoded.charCodeAt(i)}return bytes}catch(_){throw new Error("Converting base64 string to bytes failed.")}}function tryParseAsDataURI(filename){if(!isDataURI(filename)){return}return intArrayFromBase64(filename.slice(dataURIPrefix.length))}var asmGlobalArg={Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array};var asmLibraryArg={a:abort,b:setTempRet0,c:getTempRet0,d:__ZSt18uncaught_exceptionv,e:___buildEnvironment,f:___cxa_find_matching_catch,g:___cxa_free_exception,h:___gxx_personality_v0,i:___resumeException,j:___setErrNo,k:_emscripten_get_heap_size,l:_emscripten_memcpy_big,m:_emscripten_resize_heap,n:abortOnCannotGrowMemory,o:emscripten_realloc_buffer,p:tempDoublePtr,q:DYNAMICTOP_PTR};var asm=function(global,env,buffer){"almost asm";var a=new global.Int8Array(buffer),b=new global.Int16Array(buffer),c=new global.Int32Array(buffer),d=new global.Uint8Array(buffer),e=new global.Uint16Array(buffer),f=env.p|0,g=env.q|0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=env.a,q=env.b,r=env.c,s=env.d,t=env.e,u=env.f,v=env.g,w=env.h,x=env.i,y=env.j,z=env.k,A=env.l,B=env.m,C=env.n,D=env.o,E=71120,F=5314e3,G=0;function H(newBuffer){a=new Int8Array(newBuffer);d=new Uint8Array(newBuffer);b=new Int16Array(newBuffer);e=new Uint16Array(newBuffer);c=new Int32Array(newBuffer);buffer=newBuffer;return true}function O(a){a=a|0;var b=0;b=E;E=E+a|0;E=E+15&-16;return b|0}function P(){return E|0}function Q(a){a=a|0;E=a}function R(a,b){a=a|0;b=b|0;E=a;F=b}function S(a,d){a=a|0;d=d|0;var e=0,f=0,g=0,h=0,i=0;g=E;E=E+16|0;h=g;c[h>>2]=0;f=Ya(a,d,0,0,h)|0;i=f+1|0;c[h>>2]=0;e=Ab(i<<1)|0;Ya(a,d,e,i,h)|0;if((c[h>>2]|0)>0){Bb(e);e=0}else b[e+(f<<1)>>1]=0;E=g;return e|0}function T(a,b){a=a|0;b=b|0;var d=0,e=0,f=0;f=E;E=E+16|0;e=f;d=c[17592]|0;if(!d){d=Z()|0;c[17592]=d}c[e>>2]=0;ea(d,a,b,-2,e);if((c[e>>2]|0)>0)d=0;else d=Ea(c[17592]|0)|0;E=f;return d|0}function U(a){a=a|0;var b=0,d=0,e=0;e=E;E=E+16|0;d=e+4|0;b=e;c[d>>2]=0;c[b>>2]=0;Fa(c[17592]|0,a,b,d);E=e;return((c[d>>2]|0)>0?0:c[b>>2]|0)|0}function V(a,b,d){a=a|0;b=b|0;d=d|0;return(Va(c[17593]|0,a,b,d)|0)==1|0}function W(a,b){a=a|0;b=b|0;var d=0,e=0,f=0;f=E;E=E+16|0;e=f;c[e>>2]=0;d=c[17593]|0;if(!d){d=Z()|0;c[17593]=d}Ma(c[17592]|0,a,b,d,e);if((c[e>>2]|0)>0)d=0;else{c[e>>2]=0;d=Qa(d,e)|0;d=(c[e>>2]|0)>0?0:d}E=f;return d|0}function X(a,d,e){a=a|0;d=d|0;e=e|0;var f=0,g=0,h=0;g=E;E=E+16|0;h=g;c[h>>2]=0;f=Ab((e<<1)+2|0)|0;a=Ha(a+(d<<1)|0,e,f,e,h)|0;if((c[h>>2]|0)>0)f=0;else b[f+(a<<1)>>1]=0;E=g;return f|0}function Y(a,d){a=a|0;d=d|0;var e=0,f=0,g=0,h=0,i=0;i=E;E=E+16|0;h=i;c[h>>2]=0;f=c[17593]|0;if(!f){f=Z()|0;c[17593]=f}Ma(c[17592]|0,a,d,f,h);if((c[h>>2]|0)<=0?(g=Da(f)|0,d=g+1|0,e=Ab(d<<1)|0,Ka(c[17593]|0,e,d,10,h)|0,(c[h>>2]|0)<=0):0)b[e+(g<<1)>>1]=0;else e=0;E=i;return e|0}function Z(){var a=0,b=0;b=E;E=E+16|0;a=b;c[a>>2]=0;a=_(a)|0;E=b;return a|0}function _(b){b=b|0;var d=0;if(!b){d=0;return d|0}if(($(c[b>>2]|0)|0)<<24>>24){d=0;return d|0}d=lb(360)|0;if(!d){c[b>>2]=7;d=0;return d|0}fc(d|0,0,360)|0;a[d+68>>0]=1;a[d+69>>0]=1;if((ba(c[b>>2]|0)|0)<<24>>24)return d|0;ca(d);d=0;return d|0}function $(a){a=a|0;return(a|0)>0|0}function aa(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0;g=c[a>>2]|0;if(!g)if(d<<24>>24!=0?(g=lb(e)|0,c[a>>2]=g,(g|0)!=0):0){c[b>>2]=e;a=1}else a=0;else if((c[b>>2]|0)<(e|0))if(d<<24>>24!=0?(f=mb(g,e)|0,(f|0)!=0):0){c[a>>2]=f;c[b>>2]=e;a=1}else a=0;else a=1;return a|0}function ba(a){a=a|0;return(a|0)<1|0}function ca(a){a=a|0;var b=0;if(!a)return;c[a>>2]=0;b=c[a+44>>2]|0;if(b|0)nb(b);b=c[a+48>>2]|0;if(b|0)nb(b);b=c[a+52>>2]|0;if(b|0)nb(b);b=c[a+56>>2]|0;if(b|0)nb(b);b=c[a+60>>2]|0;if(b|0)nb(b);b=c[a+64>>2]|0;if(b|0)nb(b);b=c[a+344>>2]|0;if(b|0)nb(b);nb(a);return}function da(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0;e=0;while(1){if((e|0)>=(a|0)){f=5;break}if((c[b+(e<<3)>>2]|0)>(d|0))break;e=e+1|0}if((f|0)==5)e=a+-1|0;return c[b+(e<<3)+4>>2]&255|0}function ea(b,e,f,g,h){b=b|0;e=e|0;f=f|0;g=g|0;h=h|0;var i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0;if(!h)return;if(($(c[h>>2]|0)|0)<<24>>24)return;if((b|0)==0|(e|0)==0|(f|0)<-1|g+-126<<24>>24<<24>>24>-1){c[h>>2]=1;return}if((f|0)==-1)f=ob(e)|0;u=b+84|0;if((c[u>>2]|0)==3){fa(b,e,f,g,h);return}c[b>>2]=0;c[b+4>>2]=e;z=b+16|0;c[z>>2]=f;c[b+8>>2]=f;l=b+12|0;c[l>>2]=f;s=b+93|0;a[s>>0]=g;i=g&1;j=i&255;m=b+116|0;c[m>>2]=j;x=b+132|0;c[x>>2]=1;k=b+72|0;c[k>>2]=0;n=b+76|0;c[n>>2]=0;c[b+224>>2]=0;y=b+332|0;c[y>>2]=0;c[b+336>>2]=0;e=(g&255)>253;t=b+94|0;a[t>>0]=e&1;if(!f){if(e){a[s>>0]=i;a[t>>0]=0}c[b+120>>2]=c[69880+(j<<2)>>2];c[b+220>>2]=0;c[x>>2]=0;ga(b);return}c[b+220>>2]=-1;e=c[b+56>>2]|0;w=b+136|0;c[w>>2]=(e|0)==0?b+140|0:e;e=b+44|0;i=b+68|0;if(!((aa(e,b+20|0,a[i>>0]|0,f)|0)<<24>>24)){c[h>>2]=7;return}c[k>>2]=c[e>>2];if(!((ha(b)|0)<<24>>24)){c[h>>2]=7;return}v=c[k>>2]|0;q=c[l>>2]|0;k=b+128|0;c[k>>2]=q;f=b+48|0;if(!((aa(f,b+24|0,a[i>>0]|0,q)|0)<<24>>24)){c[h>>2]=7;return}c[n>>2]=c[f>>2];j=ia(b,h)|0;if(($(c[h>>2]|0)|0)<<24>>24)return;g=b+240|0;f=c[g>>2]|0;do{if((f|0)<6)c[b+244>>2]=b+248;else{f=f<<4;e=b+40|0;i=b+64|0;if((f|0)<=(c[e>>2]|0)){c[b+244>>2]=c[i>>2];break}if((aa(i,e,1,f)|0)<<24>>24){c[b+244>>2]=c[i>>2];break}c[h>>2]=7;return}}while(0);c[g>>2]=-1;c[m>>2]=j;a:do{switch(j|0){case 0:{c[k>>2]=0;break}case 1:{c[k>>2]=0;break}default:{b:do{switch(c[u>>2]|0){case 0:{c[b+112>>2]=69888;break}case 1:{c[b+112>>2]=69904;break}case 2:{c[b+112>>2]=69920;break}case 4:{c[b+112>>2]=69936;break}case 5:{f=b+112|0;if(!(c[b+88>>2]&1)){c[f>>2]=69968;break b}else{c[f>>2]=69952;break b}}case 6:{f=b+112|0;if(!(c[b+88>>2]&1)){c[f>>2]=7e4;break b}else{c[f>>2]=69984;break b}}default:{}}}while(0);j=c[x>>2]|0;if((j|0)<2?(c[b+120>>2]|0)>=0:0){do{if(a[t>>0]|0){e=c[w>>2]|0;i=c[e>>2]|0;if((i|0)>0)f=a[s>>0]|0;else f=da(j,e,0)|0;f=f&1;if((q|0)>(i|0)){e=da(j,e,q+-1|0)|0;break}else{e=a[s>>0]|0;break}}else{f=a[s>>0]|0;e=f;f=f&1}}while(0);ja(b,0,q,f,e&1)}else{o=c[n>>2]|0;if((a[t>>0]|0)!=0?(p=c[w>>2]|0,(c[p>>2]|0)<=0):0)f=da(j,p,0)|0;else f=a[s>>0]|0;p=a[o>>0]|0;n=q+-1|0;l=p;m=0;f=((f&255)<(p&255)?p:f)&1;while(1){if((m|0)>0?(a[v+(m+-1)>>0]|0)==7:0){do{if(!(a[t>>0]|0))r=61;else{f=c[w>>2]|0;if((m|0)<(c[f>>2]|0)){r=61;break}f=da(c[x>>2]|0,f,m)|0}}while(0);if((r|0)==61){r=0;f=a[s>>0]|0}f=f&1}g=m;while(1){k=g+1|0;if((k|0)>=(q|0)){r=69;break}e=a[o+k>>0]|0;if(e<<24>>24!=l<<24>>24?(1<<d[v+k>>0]&382976|0)==0:0){j=1;break}g=k}c:do{if((r|0)==69){r=0;do{if(a[t>>0]|0){e=c[w>>2]|0;if((q|0)<=(c[e>>2]|0))break;e=da(c[x>>2]|0,e,n)|0;j=0;break c}}while(0);e=a[s>>0]|0;j=0}}while(0);p=l&255;i=e&255;i=((p&127)>>>0<(i&127)>>>0?i:p)&1;if(!(p&128))ja(b,m,k,f,i);else{f=m;while(1){p=o+f|0;a[p>>0]=a[p>>0]&127;if((f|0)<(g|0))f=f+1|0;else break}}if(j){l=e;m=k;f=i}else break}}f=c[b+340>>2]|0;if(!(($(f)|0)<<24>>24)){ka(b);break a}c[h>>2]=f;return}}}while(0);k=b+88|0;d:do{if((a[t>>0]|0?c[k>>2]&1|0:0)?((c[u>>2]|0)+-5|0)>>>0<2:0){g=0;while(1){if((g|0)>=(c[x>>2]|0))break d;e=c[w>>2]|0;f=(c[e+(g<<3)>>2]|0)+-1|0;e:do{if(c[e+(g<<3)+4>>2]&255|0){if(!g)i=0;else i=c[e+(g+-1<<3)>>2]|0;e=f;while(1){if((e|0)<(i|0))break e;j=a[v+e>>0]|0;if(!(j<<24>>24))break;if(1<<(j&255)&8194|0)break e;e=e+-1|0}if((e|0)<(f|0))while(1)if((a[v+f>>0]|0)==7)f=f+-1|0;else break;la(b,f,4)}}while(0);g=g+1|0}}}while(0);if(!(c[k>>2]&2))f=(c[z>>2]|0)+(c[y>>2]|0)|0;else f=(c[z>>2]|0)-(c[b+348>>2]|0)|0;c[z>>2]=f;ga(b);return}function fa(b,e,f,g,h){b=b|0;e=e|0;f=f|0;g=g|0;h=h|0;var i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,E=0;C=b+84|0;c[C>>2]=0;if(!f){ea(b,e,0,g,h);D=0;nb(D);c[C>>2]=3;return}D=lb(f*7|0)|0;if(!D){c[h>>2]=7;D=0;nb(D);c[C>>2]=3;return}j=D+(f<<2)|0;B=j+(f<<1)|0;k=b+88|0;l=c[k>>2]|0;if(l&1|0)c[k>>2]=l&-4|2;g=g&1;ea(b,e,f,g,h);if(($(c[h>>2]|0)|0)<<24>>24){nb(D);c[C>>2]=3;return}x=Pa(b,h)|0;v=b+12|0;w=c[v>>2]|0;ec(B|0,x|0,w|0)|0;x=b+128|0;y=c[x>>2]|0;z=b+116|0;A=c[z>>2]|0;i=Ka(b,j,f,2,h)|0;Wa(b,D,h);if(!(($(c[h>>2]|0)|0)<<24>>24)){c[k>>2]=l;c[C>>2]=5;u=b+68|0;t=a[u>>0]|0;a[u>>0]=0;ea(b,j,i,g^1,h);a[u>>0]=t;Ra(b,h);a:do{if(!(($(c[h>>2]|0)|0)<<24>>24)){n=b+220|0;q=c[n>>2]|0;o=b+224|0;p=c[o>>2]|0;j=0;g=0;h=0;while(1){if((h|0)>=(q|0))break;m=c[p+(h*12|0)+4>>2]|0;g=m-g|0;b:do{if((g|0)<2)g=j;else{i=c[p+(h*12|0)>>2]&2147483647;l=i+g|0;g=j;while(1){do{j=i;i=i+1|0;if((i|0)>=(l|0))break b;k=c[D+(i<<2)>>2]|0;j=c[D+(j<<2)>>2]|0;u=k-j|0;if((((u|0)>-1?u:0-u|0)|0)!=1)break}while((a[B+k>>0]|0)==(a[B+j>>0]|0));g=g+1|0}}}while(0);j=g;g=m;h=h+1|0}if(!j)t=p;else{g=b+60|0;if(!((aa(g,b+36|0,a[b+69>>0]|0,(j+q|0)*12|0)|0)<<24>>24))break;if((q|0)==1){u=c[g>>2]|0;c[u>>2]=c[p>>2];c[u+4>>2]=c[p+4>>2];c[u+8>>2]=c[p+8>>2]}t=c[g>>2]|0;c[o>>2]=t;c[n>>2]=(c[n>>2]|0)+j}u=t+4|0;g=q;i=j;while(1){s=g+-1|0;if((g|0)<=0)break a;if(!s)g=c[u>>2]|0;else g=(c[t+(s*12|0)+4>>2]|0)-(c[t+((g+-2|0)*12|0)+4>>2]|0)|0;q=t+(s*12|0)|0;j=c[q>>2]|0;r=j>>>31;j=j&2147483647;if((g|0)<2){if(!i)g=s;else{g=s+i|0;p=t+(g*12|0)|0;c[p>>2]=c[q>>2];c[p+4>>2]=c[q+4>>2];c[p+8>>2]=c[q+8>>2]}j=c[D+(j<<2)>>2]|0}else{l=(r|0)==0;h=g+-1+j|0;p=l?j:h;m=l?-1:1;n=t+(s*12|0)+4|0;o=t+(s*12|0)+8|0;h=l?h:j;c:while(1){g=h;while(1){if((g|0)==(p|0))break c;j=c[D+(g<<2)>>2]|0;k=g+m|0;l=c[D+(k<<2)>>2]|0;E=j-l|0;if((((E|0)>-1?E:0-E|0)|0)!=1)break;if((a[B+j>>0]|0)==(a[B+l>>0]|0))g=k;else break}E=c[D+(h<<2)>>2]|0;E=(E|0)<(j|0)?E:j;l=i+s|0;c[t+(l*12|0)>>2]=(r^d[B+E>>0])<<31|E;c[t+(l*12|0)+4>>2]=c[n>>2];E=g-h|0;c[n>>2]=(c[n>>2]|0)+~((E|0)>-1?E:0-E|0);E=c[o>>2]&10;c[t+(l*12|0)+8>>2]=E;c[o>>2]=c[o>>2]&~E;h=k;i=i+-1|0}if(!i)g=s;else{g=i+s|0;E=t+(g*12|0)|0;c[E>>2]=c[q>>2];c[E+4>>2]=c[q+4>>2];c[E+8>>2]=c[q+8>>2]}E=c[D+(h<<2)>>2]|0;j=c[D+(p<<2)>>2]|0;j=(E|0)<(j|0)?E:j}c[t+(g*12|0)>>2]=(r^d[B+j>>0])<<31|j;g=s}}}while(0);E=b+93|0;a[E>>0]=a[E>>0]^1}c[b+4>>2]=e;c[v>>2]=w;c[b+8>>2]=f;c[z>>2]=A;E=c[b+24>>2]|0;ec(c[b+76>>2]|0,B|0,((w|0)>(E|0)?E:w)|0)|0;c[x>>2]=y;if((c[b+220>>2]|0)<=1){E=D;nb(E);c[C>>2]=3;return}c[z>>2]=2;E=D;nb(E);c[C>>2]=3;return}function ga(a){a=a|0;c[a+100>>2]=0;c[a+108>>2]=0;c[a>>2]=a;return}function ha(f){f=f|0;var g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,F=0,G=0,H=0,I=0,J=0,K=0,L=0,M=0,N=0;N=E;E=E+1024|0;x=N+512|0;G=N;B=c[f+4>>2]|0;D=c[f+44>>2]|0;J=c[f+8>>2]|0;K=f+93|0;g=a[K>>0]|0;H=(g&255)>253;if(H)C=((c[f+84>>2]|0)+-5|0)>>>0<2;else C=0;I=f+88|0;M=c[I>>2]|0;j=M&2;if(M&4|0)c[f+12>>2]=0;g=g&255;v=g&1;w=v&255;M=f+136|0;h=(c[M>>2]|0)+4|0;if(H){c[h>>2]=v;if((c[f+100>>2]|0)>0?(i=Ba(f)|0,i<<24>>24!=10):0){c[(c[M>>2]|0)+4>>2]=i<<24>>24!=0&1;i=w;k=0}else{i=w;k=1}}else{c[h>>2]=g;i=10;k=0}u=(j|0)==0;y=f+132|0;z=f+12|0;A=f+348|0;h=-1;j=0;l=0;F=-1;g=0;a:while(1){b:while(1){t=C&i<<24>>24==1;i=l;c:while(1){d:while(1){s=(h|0)<126;r=(k|0)==2&s;q=(h|0)>-1;e:while(1){p=i;f:while(1){if((j|0)>=(J|0))break a;i=j+1|0;l=e[B+(j<<1)>>1]|0;if(!((i|0)==(J|0)|(l&64512|0)!=55296)){m=e[B+(i<<1)>>1]|0;o=(m&64512|0)==56320;j=o?j+2|0:i;if(o)l=(l<<10)+-56613888+m|0}else j=i;o=pa(f,l)|0;i=o&255;o=o&255;g=1<<o|g;n=j+-1|0;m=D+n|0;a[m>>0]=i;if((l|0)>65535){a[D+(j+-2)>>0]=18;g=g|262144}if(!u)p=p+(((l+-8294|0)>>>0<4|((l&-4|0)==8204|(l+-8234|0)>>>0<5))&1)|0;switch(i<<24>>24){case 13:case 1:break b;case 0:{L=25;break c}default:{}}if((o+-19|0)>>>0<3){L=35;break e}switch(i<<24>>24){case 22:break f;case 7:{i=(j|0)<(J|0);if(!((l|0)==13&i))break d;if((b[B+(j<<1)>>1]|0)!=10){i=1;break d}break}default:{}}}g=r?g|1048576:g;if(q){L=43;break}else i=p}if((L|0)==35){L=0;i=h+1|0;if((h|0)<125){c[x+(i<<2)>>2]=n;c[G+(i<<2)>>2]=k}if((o|0)==19){a[m>>0]=20;h=i;k=2}else{h=i;k=3}}else if((L|0)==43){L=0;if(s)k=c[G+(h<<2)>>2]|0;h=h+-1|0}i=p}c[(c[M>>2]|0)+((c[y>>2]|0)+-1<<3)>>2]=j;if(t)c[(c[M>>2]|0)+((c[y>>2]|0)+-1<<3)+4>>2]=1;if(c[I>>2]&4|0){c[z>>2]=j;c[A>>2]=p}if(i){c[y>>2]=(c[y>>2]|0)+1;if(!((Ca(f)|0)<<24>>24)){g=0;L=76;break a}if(H){L=56;break}c[(c[M>>2]|0)+((c[y>>2]|0)+-1<<3)+4>>2]=d[K>>0];h=-1;k=0}i=p}g:do{if((L|0)==25){L=0;switch(k|0){case 1:{c[(c[M>>2]|0)+((c[y>>2]|0)+-1<<3)+4>>2]=0;i=0;k=0;break g}case 2:{g=s?g|1048576:g;i=0;k=3;break g}default:{i=0;break g}}}else if((L|0)==56){L=0;c[(c[M>>2]|0)+((c[y>>2]|0)+-1<<3)+4>>2]=v;h=-1;i=w;k=1}}while(0);l=p}switch(k|0){case 1:{c[(c[M>>2]|0)+((c[y>>2]|0)+-1<<3)+4>>2]=1;k=0;break}case 2:{if(s){a[D+(c[x+(h<<2)>>2]|0)>>0]=21;k=3;g=g|2097152}else k=3;break}default:{}}l=p;F=(o|0)==13?n:F;i=1}if((L|0)==76){E=N;return g|0}D=(h|0)>125;i=D?2:k;h=D?125:h;while(1){if((h|0)<=-1)break;if((i|0)==2){L=62;break}i=c[G+(h<<2)>>2]|0;h=h+-1|0}if((L|0)==62)g=g|1048576;if(c[I>>2]&4){if((c[z>>2]|0)<(J|0))c[y>>2]=(c[y>>2]|0)+-1}else{c[(c[M>>2]|0)+((c[y>>2]|0)+-1<<3)>>2]=J;c[A>>2]=p}if(t)c[(c[M>>2]|0)+((c[y>>2]|0)+-1<<3)+4>>2]=1;if(H)a[K>>0]=c[(c[M>>2]|0)+4>>2];i=c[y>>2]|0;h=0;while(1){if((h|0)>=(i|0))break;L=c[69880+((c[(c[M>>2]|0)+(h<<3)+4>>2]&1)<<2)>>2]|g;h=h+1|0;g=L}c[f+120>>2]=g|(g&128|0)!=0&(a[f+92>>0]|0)!=0&1;c[f+124>>2]=F;f=1;E=N;return f|0}function ia(f,g){f=f|0;g=g|0;var h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,F=0,G=0,H=0,I=0,J=0,K=0,L=0;L=E;E=E+5328|0;o=L+2788|0;B=L;C=L+256|0;I=c[f+72>>2]|0;K=c[f+76>>2]|0;G=c[f+4>>2]|0;H=c[f+12>>2]|0;D=f+120|0;i=c[D>>2]|0;y=f+94|0;if((a[y>>0]|0)!=0?(h=c[f+136>>2]|0,(c[h>>2]|0)<=0):0)j=da(c[f+132>>2]|0,h,0)|0;else j=a[f+93>>0]|0;x=f+240|0;c[x>>2]=0;if(($(c[g>>2]|0)|0)<<24>>24){K=0;E=L;return K|0}h=ra(i)|0;if((h|0)!=2){K=h;E=L;return K|0}if((c[f+84>>2]|0)>1){m=f+132|0;k=f+136|0;j=0;while(1){if((j|0)>=(c[m>>2]|0)){F=2;break}if(!j){h=0;i=c[k>>2]|0}else{i=c[k>>2]|0;h=c[i+(j+-1<<3)>>2]|0}l=c[i+(j<<3)>>2]|0;i=c[i+(j<<3)+4>>2]&255;while(1){if((h|0)>=(l|0))break;a[K+h>>0]=i;h=h+1|0}j=j+1|0}E=L;return F|0}if(!(i&7985152)){sa(f,o);n=f+132|0;l=f+136|0;k=0;a:while(1){if((k|0)>=(c[n>>2]|0)){F=2;J=89;break}if(!k){i=0;h=c[l>>2]|0}else{h=c[l>>2]|0;i=c[h+(k+-1<<3)>>2]|0}m=c[h+(k<<3)>>2]|0;j=c[h+(k<<3)+4>>2]&255;while(1){if((i|0)>=(m|0))break;a[K+i>>0]=j;b:do{switch(a[I+i>>0]|0){case 18:break;case 7:{h=i+1|0;if((h|0)<(H|0)){if((b[G+(i<<1)>>1]|0)==13?(b[G+(h<<1)>>1]|0)==10:0)break b;ta(o,j)}break}default:if(!((ua(o,i)|0)<<24>>24))break a}}while(0);i=i+1|0}k=k+1|0}if((J|0)==89){E=L;return F|0}c[g>>2]=7;K=0;E=L;return K|0}sa(f,C);b[B>>1]=j&255;v=f+93|0;w=f+136|0;u=f+132|0;r=0;p=0;s=0;i=0;m=0;g=j;q=j;h=0;t=0;c:while(1){if((t|0)>=(H|0))break;o=I+t|0;l=a[o>>0]|0;n=l&255;d:do{switch(l<<24>>24){case 15:case 12:case 14:case 11:{h=h|262144;a[K+t>>0]=g;if((l+-11&255)<2)j=q+2&126;else j=(q&127)+1<<24>>24|1;if(!((p|s|0)==0&(j&255)<126)){k=r;p=p+((s|0)==0&1)|0;l=s;j=q;break d}switch(l<<24>>24){case 15:case 12:{j=j|-128;break}default:{}}i=i+1|0;b[B+(i<<1)>>1]=j&255;k=r;l=s;m=t;break}case 16:{h=h|262144;a[K+t>>0]=g;if(!s){if(p|0){k=r;p=p+-1|0;l=0;j=q;break d}if(i){n=i+-1|0;if((e[B+(i<<1)>>1]|0)<256){k=r;p=0;l=0;m=t;j=b[B+(n<<1)>>1]&255;i=n}else{k=r;p=0;l=0;j=q}}else{k=r;p=0;l=0;j=q;i=0}}else{k=r;l=s;j=q}break}case 21:case 20:{k=q&255;h=h|c[69880+((k&1)<<2)>>2];j=k&127;a[K+t>>0]=j;if((j|0)==(g&127|0))h=h|1024;else{va(C,m,g,q);h=h|-2147482624}l=l<<24>>24==20?k+2&382:j+1|1;j=l&255;if(!((p|s|0)==0&(l&254)>>>0<126)){a[o>>0]=9;g=q;k=r;l=s+1|0;j=q;break d}k=r+1|0;if((r|0)>=(c[x>>2]|0))c[x>>2]=k;i=i+1|0;b[B+(i<<1)>>1]=l|256;wa(C,j);g=q;l=s;m=t;h=h|1<<n;break}case 22:{if((g^q)&127){va(C,m,g,q);h=h|-2147483648}do{if(!s){if(!r){a[o>>0]=9;k=0;j=p;l=0;break}do{s=i;i=i+-1|0}while((e[B+(s<<1)>>1]|0)<256);xa(C);k=r+-1|0;j=0;l=0;m=t;h=h|4194304}else{a[o>>0]=9;k=r;j=p;l=s+-1|0}}while(0);g=b[B+(i<<1)>>1]|0;s=g&255;g=g&255;h=h|c[69880+((g&1)<<2)>>2]|1024;a[K+t>>0]=g&127;g=s;p=j;j=s;break}case 7:{h=h|128;if((a[y>>0]|0)!=0?(z=c[w>>2]|0,(t|0)>=(c[z>>2]|0)):0)j=da(c[u>>2]|0,z,t)|0;else j=a[v>>0]|0;a[K+t>>0]=j;j=t+1|0;if((j|0)<(H|0)){if((b[G+(t<<1)>>1]|0)==13?(b[G+(j<<1)>>1]|0)==10:0){k=r;l=s;j=q;break d}if((a[y>>0]|0)!=0?(A=c[w>>2]|0,(j|0)>=(c[A>>2]|0)):0)i=da(c[u>>2]|0,A,j)|0;else i=a[v>>0]|0;b[B>>1]=i&255;ta(C,i);g=i;k=0;p=0;l=0;j=i;i=0}else{k=r;l=s;j=q}break}case 18:{a[K+t>>0]=g;k=r;l=s;j=q;h=h|262144;break}default:{j=q&255;if((j&127|0)==(g&127|0))n=h;else{va(C,m,g,q);n=c[((j&128|0)==0?70024:70016)+((j&1)<<2)>>2]|(h|-2147483648)}a[K+t>>0]=q;if(!((ua(C,t)|0)<<24>>24)){F=-1;J=89;break c}g=q;k=r;l=s;j=q;h=1<<d[o>>0]|n}}}while(0);r=k;s=l;q=j;t=t+1|0}if((J|0)==89){E=L;return F|0}if(h&8380376)h=c[69880+((a[v>>0]&1)<<2)>>2]|h;K=h|(h&128|0)!=0&(a[f+92>>0]|0)!=0&1;c[D>>2]=K;K=ra(K)|0;E=L;return K|0}function ja(d,e,f,g,h){d=d|0;e=e|0;f=f|0;g=g|0;h=h|0;var i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0;u=E;E=E+32|0;s=u;t=c[d+72>>2]|0;if((c[d+124>>2]|0)>(e|0)){if((a[d+94>>0]|0)!=0?(i=c[d+136>>2]|0,(c[i>>2]|0)<=(e|0)):0)i=da(c[d+132>>2]|0,i,e)|0;else i=a[d+93>>0]|0;if(i&1)q=((c[d+84>>2]|0)+-5|0)>>>0<2;else q=0}else q=0;c[s+12>>2]=-1;c[s+16>>2]=-1;c[s+24>>2]=e;r=a[(c[d+76>>2]|0)+e>>0]|0;a[s+28>>0]=r;p=c[d+112>>2]|0;r=r&1;c[s>>2]=c[p+(r<<2)>>2];c[s+4>>2]=c[p+8+(r<<2)>>2];if((e|0)==0?(c[d+100>>2]|0)>0:0){i=ma(d)|0;i=i<<24>>24==4?g:i}else i=g;g=t+e|0;r=d+240|0;if((a[g>>0]|0)==22?(j=c[r>>2]|0,(j|0)>-1):0){o=c[d+244>>2]|0;c[s+8>>2]=c[o+(j<<4)>>2];g=c[o+(j<<4)+4>>2]|0;p=b[o+(j<<4)+12>>1]|0;c[s+20>>2]=c[o+(j<<4)+8>>2];c[r>>2]=j+-1;j=p}else{c[s+8>>2]=-1;j=(a[g>>0]|0)==17?(i&255)+1&65535:0;c[s+20>>2]=0;na(d,s,i,e,e);g=e}i=-1;m=1;n=e;o=e;p=g;l=j;while(1){if((n|0)>(f|0))break;if((n|0)>=(f|0)){g=f;do{g=g+-1|0;j=a[t+g>>0]|0;if((g|0)<=(e|0))break}while((1<<(j&255)&382976|0)!=0);if((j&-2)<<24>>24==20)break;else{k=h;j=m}}else{g=a[t+n>>0]|0;if(g<<24>>24==7)c[r>>2]=-1;a:do{if(q){switch(g<<24>>24){case 13:{g=1;j=m;break a}case 2:break;default:{j=m;break a}}b:do{if((i|0)>(n|0))j=m;else{i=n;while(1){i=i+1|0;if((i|0)>=(f|0)){g=2;i=f;j=1;break a}g=a[t+i>>0]|0;switch(g<<24>>24){case 13:case 1:case 0:{j=g;break b}default:{}}}}}while(0);g=j<<24>>24==13?5:2}else j=m}while(0);k=a[16+(g&255)>>0]|0}g=l&65535;k=a[(k&255)+(48+(g<<4))>>0]|0;l=k&31;k=(k&255)>>>5;k=(n|0)==(f|0)&k<<24>>24==0?1:k&255;c:do{if(!(k<<16>>16)){k=o;g=p}else{g=a[48+(g<<4)+15>>0]|0;switch(k&7){case 1:{na(d,s,g,p,n);k=o;g=n;break c}case 2:{k=n;g=p;break c}case 3:{na(d,s,g,p,o);na(d,s,4,o,n);k=o;g=n;break c}case 4:{na(d,s,g,p,o);k=n;g=o;break c}default:{k=o;g=p;break c}}}}while(0);m=j;n=n+1|0;o=k;p=g}k=d+12|0;if((c[k>>2]|0)==(f|0)?(c[d+108>>2]|0)>0:0){i=oa(d)|0;i=i<<24>>24==4?h:i}else i=h;g=f;do{g=g+-1|0;j=a[t+g>>0]|0;if((g|0)<=(e|0))break}while((1<<(j&255)&382976|0)!=0);if((j&-2)<<24>>24==20?(c[k>>2]|0)>(f|0):0){f=(c[r>>2]|0)+1|0;c[r>>2]=f;t=d+244|0;b[(c[t>>2]|0)+(f<<4)+12>>1]=l;c[(c[t>>2]|0)+(c[r>>2]<<4)+8>>2]=c[s+20>>2];c[(c[t>>2]|0)+(c[r>>2]<<4)+4>>2]=p;c[(c[t>>2]|0)+(c[r>>2]<<4)>>2]=c[s+8>>2];E=u;return}na(d,s,i,f,f);E=u;return}function ka(b){b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0;l=c[b+72>>2]|0;n=c[b+76>>2]|0;if(!(c[b+120>>2]&8248192))return;h=(a[b+92>>0]|0)!=0;i=b+94|0;j=b+93|0;k=b+136|0;g=b+132|0;b=c[b+128>>2]|0;while(1){if((b|0)<=0)break;while(1){if((b|0)<=0)break;e=b+-1|0;d=a[l+e>>0]|0;if(!(1<<(d&255)&8248192)){b=e;break}do{if(h&d<<24>>24==7)b=0;else{if(a[i>>0]|0?(m=c[k>>2]|0,(b|0)>(c[m>>2]|0)):0){b=da(c[g>>2]|0,m,e)|0;break}b=a[j>>0]|0}}while(0);a[n+e>>0]=b;b=e}while(1){if((b|0)<=0)break;f=b+-1|0;d=a[l+f>>0]|0;e=1<<(d&255);if(!(e&382976)){if(h&d<<24>>24==7){b=0;p=24;break}if(e&384|0){p=20;break}}else a[n+f>>0]=a[n+b>>0]|0;b=f}do{if((p|0)==20){if(a[i>>0]|0?(o=c[k>>2]|0,(b|0)>(c[o>>2]|0)):0){b=da(c[g>>2]|0,o,f)|0;p=24;break}b=a[j>>0]|0;p=24}}while(0);if((p|0)==24){p=0;a[n+f>>0]=b;b=f}}return}function la(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0;k=a+328|0;e=c[k>>2]|0;do{if(!e){g=lb(80)|0;e=a+344|0;c[e>>2]=g;if(g|0){c[k>>2]=10;i=e;f=g;h=10;break}c[a+340>>2]=7;return}else{i=a+344|0;g=c[i>>2]|0;f=g;h=e}}while(0);j=a+332|0;e=c[j>>2]|0;do{if((e|0)>=(h|0)){f=mb(g,h<<4)|0;c[i>>2]=f;if(f|0){c[k>>2]=c[k>>2]<<1;e=c[j>>2]|0;break}c[i>>2]=g;c[a+340>>2]=7;return}}while(0);c[f+(e<<3)>>2]=b;c[f+(e<<3)+4>>2]=d;c[j>>2]=(c[j>>2]|0)+1;return}function ma(a){a=a|0;var b=0,d=0,f=0,g=0,h=0,i=0;g=c[a+96>>2]|0;b=c[a+100>>2]|0;a:while(1){if((b|0)<=0){b=4;d=8;break}f=b+-1|0;d=e[g+(f<<1)>>1]|0;if((b|0)!=1&(d&64512|0)==56320){b=b+-2|0;i=e[g+(b<<1)>>1]|0;h=(i&64512|0)==55296;d=h?d+-56613888+(i<<10)|0:d;b=h?b:f}else b=f;switch(((pa(a,d)|0)&255)<<24>>24){case 13:case 1:{d=6;break a}case 7:{d=7;break a}case 0:{b=0;d=8;break a}default:{}}}if((d|0)==6){i=1;return i|0}else if((d|0)==7){i=4;return i|0}else if((d|0)==8)return b|0;return 0}function na(b,e,f,g,h){b=b|0;e=e|0;f=f|0;g=g|0;h=h|0;var i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0;l=c[e>>2]|0;p=c[e+4>>2]|0;s=b+76|0;t=c[s>>2]|0;o=e+20|0;k=c[o>>2]&255;q=d[(f&255)+(l+(k<<3))>>0]|0;r=q&15;c[o>>2]=r;r=a[l+(r<<3)+7>>0]|0;a:do{switch(a[p+(q>>>4)>>0]|0){case 14:{l=e+8|0;m=(a[e+28>>0]|0)+1<<24>>24;i=g;while(1){k=i+-1|0;if((i|0)<=(c[l>>2]|0)){i=g;break a}i=t+k|0;j=a[i>>0]|0;if((j&255)>(m&255))a[i>>0]=(j&255)+254;i=k}}case 1:{c[e+8>>2]=g;i=g;break}case 2:{i=c[e+8>>2]|0;break}case 3:{qa(c[b+72>>2]|0,c[s>>2]|0,c[e+8>>2]|0,g,(d[e+28>>0]|0)+1&255);i=g;break}case 4:{qa(c[b+72>>2]|0,c[s>>2]|0,c[e+8>>2]|0,g,(d[e+28>>0]|0)+2&255);i=g;break}case 5:{i=e+12|0;j=c[i>>2]|0;if((j|0)>-1)la(b,j,1);c[i>>2]=-1;if(c[b+328>>2]|0?(m=b+332|0,n=b+336|0,(c[m>>2]|0)>(c[n>>2]|0)):0){j=e+16|0;i=c[j>>2]|0;while(1){i=i+1|0;if((i|0)>=(g|0))break;q=t+i|0;a[q>>0]=(a[q>>0]|0)+-2<<24>>24&-2}c[n>>2]=c[m>>2];c[j>>2]=-1;if(f<<24>>24!=5){i=g;break a}la(b,g,1);c[n>>2]=c[m>>2];i=g;break a}c[e+16>>2]=-1;if(!(a[l+(k<<3)+7>>0]&1))i=g;else{i=c[e+8>>2]|0;i=(i|0)>0?i:g}if(f<<24>>24==5){la(b,g,1);c[b+336>>2]=c[b+332>>2]}break}case 6:{if((c[b+328>>2]|0)>0)c[b+332>>2]=c[b+336>>2];c[e+8>>2]=-1;c[e+12>>2]=-1;c[e+16>>2]=h+-1;i=g;break}case 7:{if((f<<24>>24==3?(a[(c[b+72>>2]|0)+g>>0]|0)==5:0)?(c[b+84>>2]|0)!=6:0){i=e+12|0;j=c[i>>2]|0;if((j|0)==-1){c[e+16>>2]=h+-1;i=g;break a}if((j|0)>-1){la(b,j,1);c[i>>2]=-2}la(b,g,1);i=g;break a}i=e+12|0;if((c[i>>2]|0)==-1){c[i>>2]=g;i=g}else i=g;break}case 8:{c[e+16>>2]=h+-1;c[e+8>>2]=-1;i=g;break}case 9:{i=g;while(1){q=i;i=i+-1|0;if((q|0)<=0)break;if(a[t+i>>0]&1){j=36;break}}if((j|0)==36){la(b,i,4);c[b+336>>2]=c[b+332>>2]}c[e+8>>2]=g;i=g;break}case 10:{la(b,g,1);la(b,g,2);i=g;break}case 11:{i=b+336|0;j=b+332|0;c[j>>2]=c[i>>2];if(f<<24>>24==5){la(b,g,4);c[i>>2]=c[j>>2];i=g}else i=g;break}case 12:{l=(d[e+28>>0]|0)+(r&255)|0;j=l&255;k=e+8|0;l=l&255;i=c[k>>2]|0;while(1){if((i|0)>=(g|0))break;m=t+i|0;if(l>>>0>(d[m>>0]|0)>>>0)a[m>>0]=j;i=i+1|0}c[b+336>>2]=c[b+332>>2];c[k>>2]=g;i=g;break}case 13:{n=a[e+28>>0]|0;f=e+8|0;q=n&255;o=q+3|0;p=q+2|0;q=q+1&255;i=g;while(1){k=i+-1|0;if((i|0)<=(c[f>>2]|0)){i=g;break a}j=t+k|0;l=a[j>>0]|0;m=l&255;if((o|0)==(m|0)){i=k;j=l;while(1){if((o|0)!=(j&255|0))break;j=i+-1|0;a[t+i>>0]=q;i=j;j=a[t+j>>0]|0}l=i;while(1){i=l+-1|0;if(j<<24>>24!=n<<24>>24)break;l=i;j=a[t+i>>0]|0}i=l;k=j&255;j=t+l|0}else{i=k;k=m}a[j>>0]=(p|0)==(k|0)?n:q}}default:i=g}}while(0);if(!(r<<24>>24!=0|(i|0)<(g|0)))return;j=(d[e+28>>0]|0)+(r&255)&255;if((i|0)<(c[e+24>>2]|0)){qa(c[b+72>>2]|0,c[s>>2]|0,i,h,j);return}while(1){if((i|0)>=(h|0))break;a[t+i>>0]=j;i=i+1|0}return}function oa(a){a=a|0;var b=0,d=0,f=0,g=0,h=0,i=0,j=0;g=c[a+104>>2]|0;h=c[a+108>>2]|0;b=0;a:while(1){if((b|0)>=(h|0)){b=4;d=7;break}f=b+1|0;d=e[g+(b<<1)>>1]|0;if((f|0)==(h|0)|(d&64512|0)!=55296)b=f;else{j=e[g+(f<<1)>>1]|0;i=(j&64512|0)==56320;d=i?(d<<10)+-56613888+j|0:d;b=i?b+2|0:f}switch(((pa(a,d)|0)&255)<<24>>24){case 0:{b=0;d=7;break a}case 13:case 1:{d=8;break a}case 5:{d=6;break a}case 2:{b=2;d=9;break a}default:{}}}if((d|0)==6){j=3;return j|0}else if((d|0)==7){j=b;return j|0}else if((d|0)==8){j=1;return j|0}else if((d|0)==9)return b|0;return 0}function pa(a,b){a=a|0;b=b|0;var d=0,e=0;e=c[a+352>>2]|0;if(!((e|0)!=0?(d=I[e&0](c[a+356>>2]|0,b)|0,(d|0)!=23):0))d=tb(b)|0;return((d|0)>22?10:d)|0}function qa(b,c,d,e,f){b=b|0;c=c|0;d=d|0;e=e|0;f=f|0;var g=0,h=0;g=0;while(1){if((d|0)>=(e|0))break;h=a[b+d>>0]|0;g=g+((h<<24>>24==22)<<31>>31)|0;if(!g)a[c+d>>0]=f;d=d+1|0;g=g+((h&-2)<<24>>24==20&1)|0}return}function ra(a){a=a|0;if((a&2154498|0)==0?(a&32|0)==0|(a&8249304|0)==0:0){a=0;return a|0}a=(a&26220581|0)==0?1:2;return a|0}function sa(d,e){d=d|0;e=e|0;var f=0,g=0,h=0;c[e>>2]=d;c[e+492>>2]=0;b[e+500>>1]=0;b[e+502>>1]=0;h=d+94|0;if((a[h>>0]|0)!=0?(f=c[d+136>>2]|0,(c[f>>2]|0)<=0):0)f=da(c[d+132>>2]|0,f,0)|0;else f=a[d+93>>0]|0;a[e+504>>0]=f;if((a[h>>0]|0)!=0?(g=c[d+136>>2]|0,(c[g>>2]|0)<=0):0)f=da(c[d+132>>2]|0,g,0)|0;else f=a[d+93>>0]|0;f=f&1;a[e+506>>0]=f;a[e+505>>0]=f;c[e+508>>2]=f&255;c[e+496>>2]=0;f=c[d+52>>2]|0;if(!f){c[e+484>>2]=e+4;g=20;h=e+488|0;c[h>>2]=g;d=d+84|0;d=c[d>>2]|0;h=(d|0)==1;d=(d|0)==6;d=h|d;d=d&1;e=e+2528|0;a[e>>0]=d;return}else{c[e+484>>2]=f;g=((c[d+28>>2]|0)>>>0)/24|0;h=e+488|0;c[h>>2]=g;d=d+84|0;d=c[d>>2]|0;h=(d|0)==1;d=(d|0)==6;d=h|d;d=d&1;e=e+2528|0;a[e>>0]=d;return}}function ta(d,e){d=d|0;e=e|0;c[d+492>>2]=0;b[d+502>>1]=0;a[d+504>>0]=e;e=e&1;a[d+506>>0]=e;a[d+505>>0]=e;c[d+508>>2]=e&255;c[d+496>>2]=0;return}function ua(f,g){f=f|0;g=g|0;var h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0;s=c[f+492>>2]|0;p=f+496+(s<<4)|0;h=c[f>>2]|0;r=(c[h+72>>2]|0)+g|0;m=a[r>>0]|0;do{if(m<<24>>24==10){h=b[(c[h+4>>2]|0)+(g<<1)>>1]|0;l=f+496+(s<<4)+4|0;i=e[l>>1]|0;o=f+484|0;j=h&65535;n=e[f+496+(s<<4)+6>>1]|0;while(1){t=n;n=n+-1|0;if((t|0)<=(i|0))break;if((c[(c[o>>2]|0)+(n*24|0)+4>>2]|0)==(j|0)){q=5;break}}if((q|0)==5){h=ya(f,n,g)|0;if(h<<24>>24==10)break;a[f+496+(s<<4)+10>>0]=10;c[f+496+(s<<4)+12>>2]=h&255;c[p>>2]=g;h=c[(c[f>>2]|0)+76>>2]|0;i=d[h+g>>0]|0;if(i&128){i=i&1;a[f+496+(s<<4)+9>>0]=i;i=1<<i;h=e[l>>1]|0;while(1){if((h|0)>=(n|0))break;t=(c[o>>2]|0)+(h*24|0)+12|0;b[t>>1]=i|e[t>>1];h=h+1|0}h=(c[(c[f>>2]|0)+76>>2]|0)+g|0;a[h>>0]=a[h>>0]&127;h=c[(c[f>>2]|0)+76>>2]|0}t=h+(c[(c[o>>2]|0)+(n*24|0)>>2]|0)|0;a[t>>0]=a[t>>0]&127;t=1;return t|0}if((h<<16>>16?(k=(zb(j)|0)&65535,h<<16>>16!=k<<16>>16):0)?(wb(j)|0)==1:0){a:do{if(k<<16>>16<12297){switch(k<<16>>16){case 9002:break;default:break a}if(!((za(f,12297,g)|0)<<24>>24)){t=0;return t|0}}else{switch(k<<16>>16){case 12297:break;default:break a}if(!((za(f,9002,g)|0)<<24>>24)){t=0;return t|0}}}while(0);if(!((za(f,k,g)|0)<<24>>24)){t=0;return t|0}}}}while(0);h=d[(c[(c[f>>2]|0)+76>>2]|0)+g>>0]|0;b:do{if(!(h&128))switch(m<<24>>24){case 0:case 1:case 13:{h=m<<24>>24!=0;a[f+496+(s<<4)+10>>0]=m;a[f+496+(s<<4)+9>>0]=m;c[f+496+(s<<4)+12>>2]=h&1;c[p>>2]=g;h=h&1;q=35;break b}case 2:{a[f+496+(s<<4)+10>>0]=2;switch(a[f+496+(s<<4)+9>>0]|0){case 0:{if(!(a[f+2528>>0]|0))a[r>>0]=23;c[f+496+(s<<4)+12>>2]=0;c[p>>2]=g;h=0;break b}case 13:{h=5;break}default:h=24}a[r>>0]=h;c[f+496+(s<<4)+12>>2]=1;c[p>>2]=g;h=1;break b}case 5:{a[f+496+(s<<4)+10>>0]=5;c[f+496+(s<<4)+12>>2]=1;c[p>>2]=g;h=1;break b}case 17:{h=a[f+496+(s<<4)+10>>0]|0;if(h<<24>>24!=10){q=35;break b}a[r>>0]=10;t=1;return t|0}default:{a[f+496+(s<<4)+10>>0]=m;h=m;q=35;break b}}else{i=h&1;h=i&255;if((m+-8&255)>=3)a[r>>0]=h;a[f+496+(s<<4)+10>>0]=h;a[f+496+(s<<4)+9>>0]=h;c[f+496+(s<<4)+12>>2]=i;c[p>>2]=g;q=35}}while(0);c:do{if((q|0)==35){switch(h<<24>>24){case 0:case 1:case 13:break c;default:h=1}return h|0}}while(0);j=1<<(h<<24>>24!=0&1);k=f+496+(s<<4)+6|0;l=f+484|0;h=e[f+496+(s<<4)+4>>1]|0;while(1){if(h>>>0>=(e[k>>1]|0)>>>0){h=1;break}i=c[l>>2]|0;if((c[i+(h*24|0)>>2]|0)<(g|0)){t=i+(h*24|0)+12|0;b[t>>1]=j|e[t>>1]}h=h+1|0}return h|0}\nfunction va(e,f,g,h){e=e|0;f=f|0;g=g|0;h=h|0;var i=0;i=c[e+492>>2]|0;if(1<<(d[(c[(c[e>>2]|0)+72>>2]|0)+f>>0]|0)&7864320|0)return;b[e+496+(i<<4)+6>>1]=b[e+496+(i<<4)+4>>1]|0;a[e+496+(i<<4)+8>>0]=h;h=((h&127)>(g&127)?h:g)&1;a[e+496+(i<<4)+10>>0]=h;a[e+496+(i<<4)+9>>0]=h;c[e+496+(i<<4)+12>>2]=h&255;c[e+496+(i<<4)>>2]=f;return}function wa(d,e){d=d|0;e=e|0;var f=0,g=0,h=0;g=d+492|0;h=c[g>>2]|0;f=d+496+(h<<4)|0;a[d+496+(h<<4)+10>>0]=10;d=b[d+496+(h<<4)+6>>1]|0;c[g>>2]=h+1;b[f+22>>1]=d;b[f+20>>1]=d;a[f+24>>0]=e;e=e&1;a[f+26>>0]=e;a[f+25>>0]=e;c[f+28>>2]=e&255;c[f+16>>2]=0;return}function xa(b){b=b|0;var d=0,e=0;e=b+492|0;d=(c[e>>2]|0)+-1|0;c[e>>2]=d;a[b+496+(d<<4)+10>>0]=10;return}function ya(d,f,g){d=d|0;f=f|0;g=g|0;var h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0;o=c[d+492>>2]|0;q=d+484|0;m=c[q>>2]|0;j=a[d+496+(o<<4)+8>>0]&1;h=j&255;i=b[m+(f*24|0)+12>>1]|0;if(!(j<<24>>24))if(!(i&1))l=4;else{p=0;k=0}else if(!(i&2))l=4;else{p=1;k=0}do{if((l|0)==4){if(i&3){p=c[m+(f*24|0)+16>>2]|0;p=(p|0)==(h|0)?j:p&255;k=(e[d+496+(o<<4)+4>>1]|0|0)!=(f|0);break}b[d+496+(o<<4)+6>>1]=f;q=10;return q|0}}while(0);n=m+(f*24|0)|0;a[(c[(c[d>>2]|0)+72>>2]|0)+(c[n>>2]|0)>>0]=p;a[(c[(c[d>>2]|0)+72>>2]|0)+g>>0]=p;Aa(d,f,c[n>>2]|0,p);if(!k){i=d+496+(o<<4)+6|0;h=b[d+496+(o<<4)+4>>1]|0;j=f&65535;while(1){b[i>>1]=j;if((j&65535)<=(h&65535)){h=p;l=21;break}if((c[(c[q>>2]|0)+(((j&65535)+-1|0)*24|0)>>2]|0)==(c[n>>2]|0))j=j+-1<<16>>16;else{h=p;l=21;break}}if((l|0)==21)return h|0}c[m+(f*24|0)+4>>2]=0-g;j=d+496+(o<<4)+4|0;h=f;while(1){i=h+-1|0;if((h|0)<=(e[j>>1]|0|0))break;h=c[q>>2]|0;if((c[h+(i*24|0)>>2]|0)!=(c[n>>2]|0))break;c[h+(i*24|0)+4>>2]=0;h=i}i=d+496+(o<<4)+6|0;while(1){f=f+1|0;if((f|0)>=(e[i>>1]|0|0)){h=p;l=21;break}h=c[q>>2]|0;if((c[h+(f*24|0)>>2]|0)>=(g|0)){h=p;l=21;break}h=h+(f*24|0)+4|0;if((c[h>>2]|0)>0)c[h>>2]=0}if((l|0)==21)return h|0;return 0}function za(a,d,f){a=a|0;d=d|0;f=f|0;var g=0,h=0,i=0,j=0,k=0,l=0,m=0;l=c[a+492>>2]|0;m=a+496+(l<<4)+6|0;g=e[m>>1]|0;k=a+488|0;if((c[k>>2]|0)>(g|0))h=c[a+484>>2]|0;else{j=c[a>>2]|0;i=j+52|0;j=j+28|0;if(!((aa(i,j,1,g*48|0)|0)<<24>>24)){m=0;return m|0}g=a+484|0;h=c[g>>2]|0;if((h|0)==(a+4|0))ec(c[i>>2]|0,h|0,480)|0;h=c[i>>2]|0;c[g>>2]=h;c[k>>2]=((c[j>>2]|0)>>>0)/24|0;g=e[m>>1]|0}c[h+(g*24|0)>>2]=f;c[h+(g*24|0)+4>>2]=d&65535;c[h+(g*24|0)+16>>2]=c[a+496+(l<<4)+12>>2];c[h+(g*24|0)+8>>2]=c[a+496+(l<<4)>>2];b[h+(g*24|0)+12>>1]=0;b[m>>1]=(b[m>>1]|0)+1<<16>>16;m=1;return m|0}function Aa(b,d,f,g){b=b|0;d=d|0;f=f|0;g=g|0;var h=0,i=0,j=0,k=0,l=0,m=0,n=0;m=c[(c[b>>2]|0)+72>>2]|0;h=d+1|0;i=g&255;j=b+496+(c[b+492>>2]<<4)+6|0;d=(c[b+484>>2]|0)+(h*24|0)|0;while(1){if((h|0)>=(e[j>>1]|0|0)){d=9;break}k=d+4|0;if((c[k>>2]|0)<=-1){if((c[d+8>>2]|0)>(f|0)){d=9;break}l=c[d>>2]|0;if((l|0)>(f|0)){if((c[d+16>>2]|0)==(i|0)){d=9;break}a[m+l>>0]=g;n=0-(c[k>>2]|0)|0;a[m+n>>0]=g;c[k>>2]=0;Aa(b,h,l,g);Aa(b,h,n,g)}}d=d+24|0;h=h+1|0}if((d|0)==9)return}function Ba(a){a=a|0;var b=0,d=0,f=0,g=0,h=0,i=0,j=0,k=0;h=c[a+96>>2]|0;i=c[a+100>>2]|0;g=0;b=10;while(1){if((g|0)>=(i|0))break;f=g+1|0;d=e[h+(g<<1)>>1]|0;if((f|0)==(i|0)|(d&64512|0)!=55296)g=f;else{k=e[h+(f<<1)>>1]|0;j=(k&64512|0)==56320;d=j?(d<<10)+-56613888+k|0:d;g=j?g+2|0:f}d=pa(a,d)|0;f=d&255;a:do{if(b<<24>>24==10){switch(f<<24>>24){case 13:case 1:case 0:break;default:{b=10;break a}}b=f}else b=(d&255|0)==7?10:b}while(0)}return b|0}function Ca(a){a=a|0;var b=0,d=0,e=0;d=c[a+132>>2]|0;e=a+136|0;b=c[e>>2]|0;if((b|0)!=(a+140|0)){b=a+56|0;if(!((aa(b,a+32|0,1,d<<4)|0)<<24>>24)){e=0;return e|0}c[e>>2]=c[b>>2];e=1;return e|0}if((d|0)<11){e=1;return e|0}d=a+56|0;if(!((aa(d,a+32|0,1,160)|0)<<24>>24)){e=0;return e|0}a=c[d>>2]|0;c[e>>2]=a;d=a+80|0;do{c[a>>2]=c[b>>2];a=a+4|0;b=b+4|0}while((a|0)<(d|0));e=1;return e|0}function Da(a){a=a|0;var b=0;do{if(!a)a=0;else{b=c[a>>2]|0;if((b|0)!=(a|0)){if(!b){a=0;break}if((c[b>>2]|0)!=(b|0)){a=0;break}}a=c[a+12>>2]|0}}while(0);return a|0}function Ea(a){a=a|0;var b=0;do{if(!a)a=0;else{b=c[a>>2]|0;if((b|0)!=(a|0)){if(!b){a=0;break}if((c[b>>2]|0)!=(b|0)){a=0;break}}a=c[a+132>>2]|0}}while(0);return a|0}function Fa(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0;if(!e)return;if(($(c[e>>2]|0)|0)<<24>>24)return;do{if(a|0){f=c[a>>2]|0;if((f|0)!=(a|0)){if(!f)break;if((c[f>>2]|0)!=(f|0))break}if((b|0)>=0?(c[a+132>>2]|0)>(b|0):0){if(!d)return;c[d>>2]=c[(c[f+136>>2]|0)+(b<<3)>>2];return}c[e>>2]=1;return}}while(0);c[e>>2]=27;return}function Ga(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0;if(!d){f=-1;return f|0}if(($(c[d>>2]|0)|0)<<24>>24){f=-1;return f|0}do{if(a|0){f=c[a>>2]|0;if((f|0)!=(a|0)){if(!f)break;if((c[f>>2]|0)!=(f|0))break}if((b|0)>=0?(c[f+12>>2]|0)>(b|0):0){e=c[f+136>>2]|0;a=0;while(1)if((c[e+(a<<3)>>2]|0)>(b|0))break;else a=a+1|0;Fa(f,a,0,d);f=a;return f|0}c[d>>2]=1;f=-1;return f|0}}while(0);c[d>>2]=27;f=-1;return f|0}function Ha(a,b,d,e,f){a=a|0;b=b|0;d=d|0;e=e|0;f=f|0;var g=0;if(!f){f=0;return f|0}if((Ia(c[f>>2]|0)|0)<<24>>24){f=0;return f|0}if(!((a|0)==0|(b|0)<-1|(e|0)<0)?(g=(d|0)==0,!(g&(e|0)>0)):0){do{if(!g){if(!(a>>>0>=d>>>0&(d+(e<<1)|0)>>>0>a>>>0)?!(d>>>0>=a>>>0&(a+(b<<1)|0)>>>0>d>>>0):0)break;c[f>>2]=1;f=0;return f|0}}while(0);if((b|0)==-1)b=ob(a)|0;if((b|0)>0)b=Ja(a,b,d,e,10,f)|0;else b=0;f=qb(d,e,b,f)|0;return f|0}c[f>>2]=1;f=0;return f|0}function Ia(a){a=a|0;return(a|0)>0|0}function Ja(a,d,f,g,h,i){a=a|0;d=d|0;f=f|0;g=g|0;h=h|0;i=i|0;var j=0,k=0,l=0,m=0,n=0,o=0,p=0;l=h&65535;switch(l&11){case 0:{if((g|0)<(d|0)){c[i>>2]=15;o=d;return o|0}k=d;h=f;while(1){j=k+-1|0;f=k+-2|0;if((k|0)>1?(b[a+(j<<1)>>1]&-1024)<<16>>16==-9216:0)j=(b[a+(f<<1)>>1]&-1024)<<16>>16==-10240?f:j;f=j;do{n=f;f=f+1|0;o=h;h=h+2|0;b[o>>1]=b[a+(n<<1)>>1]|0}while((f|0)<(k|0));if((j|0)>0)k=j;else{h=d;break}}return h|0}case 1:{if((g|0)<(d|0)){c[i>>2]=15;o=d;return o|0}i=d;g=f;while(1){f=i;while(1){j=f+-1|0;h=e[a+(j<<1)>>1]|0;if((f|0)>1&(h&64512|0)==56320){f=f+-2|0;n=e[a+(f<<1)>>1]|0;o=(n&64512|0)==55296;h=o?h+-56613888+(n<<10)|0:h;f=o?f:j}else f=j;if((f|0)<=0){k=0;break}if(!(1<<((sb(h)|0)<<24>>24)&448)){k=1;break}}j=f;h=g;do{n=j;j=j+1|0;o=h;h=h+2|0;b[o>>1]=b[a+(n<<1)>>1]|0}while((j|0)<(i|0));if(k){i=f;g=h}else{h=d;break}}return h|0}default:{n=(l&8|0)!=0;if(n){j=a;k=d;h=0;while(1){m=j;j=j+2|0;m=e[m>>1]|0;h=h+((((m+-8294|0)>>>0<4|((m&65532|0)==8204|(m+-8234|0)>>>0<5))^1)&1)|0;if((k|0)<=1)break;else k=k+-1|0}a=j+(0-d<<1)|0}else h=d;if((h|0)>(g|0)){c[i>>2]=15;o=h;return o|0}m=(l&1|0)==0;l=(l&2|0)==0;i=d;while(1){k=i+-1|0;j=e[a+(k<<1)>>1]|0;if((i|0)>1&(j&64512|0)==56320){d=i+-2|0;p=e[a+(d<<1)>>1]|0;g=(p&64512|0)==55296;j=g?j+-56613888+(p<<10)|0:j;k=g?d:k}a:do{if(!m)while(1){if((k|0)<=0)break a;if(!(1<<((sb(j)|0)<<24>>24)&448))break a;g=k+-1|0;j=e[a+(g<<1)>>1]|0;if((k|0)>1&(j&64512|0)==56320){k=k+-2|0;d=e[a+(k<<1)>>1]|0;p=(d&64512|0)==55296;j=p?j+-56613888+(d<<10)|0:j;k=p?k:g}else k=g}}while(0);if(n){if((j&-4|0)!=8204)switch(j|0){case 8234:case 8235:case 8236:case 8237:case 8238:case 8294:case 8295:case 8296:case 8297:break;default:o=40}}else o=40;b:do{if((o|0)==40){o=0;if(l)g=k;else{j=yb(j)|0;if(j>>>0<65536){b[f>>1]=j;j=1}else{b[f>>1]=(j>>>10)+55232;b[f+2>>1]=j&1023|56320;j=2}g=j+k|0;f=f+(j<<1)|0}j=g;while(1){if((j|0)>=(i|0))break b;b[f>>1]=b[a+(j<<1)>>1]|0;j=j+1|0;f=f+2|0}}}while(0);if((k|0)>0)i=k;else break}return h|0}}return 0}function Ka(e,f,g,h,i){e=e|0;f=f|0;g=g|0;h=h|0;i=i|0;var j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0;y=E;E=E+16|0;w=y+4|0;x=y;if(!i){i=0;E=y;return i|0}if((Ia(c[i>>2]|0)|0)<<24>>24){i=0;E=y;return i|0}if(((e|0?(v=c[e+4>>2]|0,v|0):0)?(j=c[e+12>>2]|0,(j|g|0)>=0):0)?(k=(f|0)==0,!(k&(g|0)>0)):0){do{if(!k){if(!(v>>>0>=f>>>0&v>>>0<(f+(g<<1)|0)>>>0)){if(v>>>0>f>>>0)break;if((v+(c[e+8>>2]<<1)|0)>>>0<=f>>>0)break}c[i>>2]=1;i=0;E=y;return i|0}}while(0);if(!j){qb(f,g,0,i)|0;i=0;E=y;return i|0}t=Qa(e,i)|0;if((Ia(c[i>>2]|0)|0)<<24>>24){i=0;E=y;return i|0}k=c[e+88>>2]|0;u=h&-13;u=(k&2|0)==0?(k&1|0)==0?h:u|4:u|8;u=((c[e+84>>2]|0)+-3|0)>>>0<4?u:u&-5;k=u&65535;j=(k&4|0)!=0;a:do{if(!(k&16)){if(!j){n=k&65533;l=f;j=g;m=0;while(1){if((m|0)>=(t|0))break a;s=(Va(e,m,w,x)|0)==0;k=v+(c[w>>2]<<1)|0;h=c[x>>2]|0;if(s)k=La(k,h,l,j,n,i)|0;else k=Ja(k,h,l,j,u,i)|0;c[x>>2]=k;l=(l|0)==0?0:l+(k<<1)|0;j=j-k|0;m=m+1|0}}q=c[e+72>>2]|0;r=e+224|0;s=e+80|0;p=k&65533;j=g;o=0;k=f;while(1){if((o|0)>=(t|0))break a;z=Va(e,o,w,x)|0;l=c[w>>2]|0;n=v+(l<<1)|0;h=c[(c[r>>2]|0)+(o*12|0)+8>>2]|0;h=(h|0)>0?h:0;m=(a[s>>0]|0)!=0;do{if(!z){if(m)h=h|(a[q+l>>0]|0)!=0;l=8207-(h&1)<<16>>16;if(h&5){if((j|0)>0){b[k>>1]=l;k=k+2|0}j=j+-1|0}l=La(n,c[x>>2]|0,k,j,p,i)|0;c[x>>2]=l;k=(k|0)==0?0:k+(l<<1)|0;j=j-l|0;if(a[s>>0]|0)h=(a[q+(l+-1+(c[w>>2]|0))>>0]|0)==0?h:h|2;if(!(h&10))break;if((j|0)>0){b[k>>1]=8207-(h>>>1&1)<<16>>16;k=k+2|0}j=j+-1|0}else{if(m)h=(1<<d[q+(l+-1+(c[x>>2]|0))>>0]&8194|0)==0?h|4:h;l=8207-(h&1)<<16>>16;if(h&5){if((j|0)>0){b[k>>1]=l;k=k+2|0}j=j+-1|0}z=Ja(n,c[x>>2]|0,k,j,u,i)|0;c[x>>2]=z;k=(k|0)==0?0:k+(z<<1)|0;j=j-z|0;if(a[s>>0]|0)h=(1<<d[q+(c[w>>2]|0)>>0]&8194|0)==0?h|8:h;if(!(h&10))break;if((j|0)>0){b[k>>1]=8207-(h>>>1&1)<<16>>16;k=k+2|0}j=j+-1|0}}while(0);o=o+1|0}}else{if(!j){n=k&65533;m=f;k=t;j=g;while(1){l=k+-1|0;if((k|0)<=0)break a;z=(Va(e,l,w,x)|0)==0;k=v+(c[w>>2]<<1)|0;h=c[x>>2]|0;if(z)h=Ja(k,h,m,j,n,i)|0;else h=La(k,h,m,j,u,i)|0;c[x>>2]=h;m=(m|0)==0?0:m+(h<<1)|0;k=l;j=j-h|0}}p=c[e+72>>2]|0;o=k&65533;k=f;h=t;j=g;while(1){n=h+-1|0;if((h|0)<=0)break a;z=Va(e,n,w,x)|0;l=c[w>>2]|0;m=v+(l<<1)|0;if(!z){h=c[x>>2]|0;if(a[p+(l+-1+h)>>0]|0){if((j|0)>0){b[k>>1]=8206;k=k+2|0;h=c[x>>2]|0}j=j+-1|0}z=Ja(m,h,k,j,o,i)|0;c[x>>2]=z;k=(k|0)==0?0:k+(z<<1)|0;j=j-z|0;if(a[p+(c[w>>2]|0)>>0]|0){if((j|0)>0){b[k>>1]=8206;k=k+2|0}j=j+-1|0}}else{if(!(1<<d[p+l>>0]&8194)){if((j|0)>0){b[k>>1]=8207;k=k+2|0}j=j+-1|0}z=La(m,c[x>>2]|0,k,j,u,i)|0;c[x>>2]=z;k=(k|0)==0?0:k+(z<<1)|0;j=j-z|0;if(!(1<<d[p+(z+-1+(c[w>>2]|0))>>0]&8194)){if((j|0)>0){b[k>>1]=8207;k=k+2|0}j=j+-1|0}}h=n}}}while(0);z=qb(f,g,g-j|0,i)|0;E=y;return z|0}c[i>>2]=1;z=0;E=y;return z|0}function La(a,d,f,g,h,i){a=a|0;d=d|0;f=f|0;g=g|0;h=h|0;i=i|0;var j=0,k=0,l=0,m=0,n=0;switch(h&10){case 0:{if((g|0)<(d|0)){c[i>>2]=15;g=d;return g|0}j=d;h=f;while(1){b[h>>1]=b[a>>1]|0;if((j|0)>1){a=a+2|0;j=j+-1|0;h=h+2|0}else{h=d;break}}return h|0}case 2:{if((g|0)<(d|0)){c[i>>2]=15;g=d;return g|0}l=0;j=0;while(1){k=j+1|0;h=e[a+(j<<1)>>1]|0;if((k|0)==(d|0)|(h&64512|0)!=55296)j=k;else{m=e[a+(k<<1)>>1]|0;g=(m&64512|0)==56320;h=g?(h<<10)+-56613888+m|0:h;j=g?j+2|0:k}h=yb(h)|0;if(h>>>0<65536)k=l+1|0;else{b[f+(l+1<<1)>>1]=h&1023|56320;k=l+2|0;h=(h>>>10)+55232|0}b[f+(l<<1)>>1]=h;if((j|0)<(d|0))l=k;else{h=d;break}}return h|0}case 8:{l=g;h=a;a=f;a:while(1){k=h;h=h+2|0;k=b[k>>1]|0;b:do{if((k&-4)<<16>>16==8204)j=l;else{switch(k<<16>>16){case 8234:case 8235:case 8236:case 8237:case 8238:case 8294:case 8295:case 8296:case 8297:{j=l;break b}default:{}}j=l+-1|0;if((l|0)<1)break a;b[a>>1]=k;a=a+2|0}}while(0);if((d|0)<=1){m=26;break}else{l=j;d=d+-1|0}}if((m|0)==26){g=g-j|0;return g|0}c[i>>2]=15;a=d;while(1){if((a|0)<=1)break;f=e[h>>1]|0;j=j+((((f+-8294|0)>>>0<4|((f&65532|0)==8204|(f+-8234|0)>>>0<5))^1)<<31>>31)|0;a=a+-1|0;h=h+2|0}g=g-j|0;return g|0}default:{h=0;k=g;j=d;c:while(1){l=e[a>>1]|0;if((j|0)==1|(l&64512|0)!=55296)d=1;else{n=e[a+2>>1]|0;d=(n&64512|0)==56320;l=d?(l<<10)+-56613888+n|0:l;d=d?2:1}a=a+(d<<1)|0;j=j-d|0;d:do{if((l&-4|0)!=8204){switch(l|0){case 8234:case 8235:case 8236:case 8237:case 8238:case 8294:case 8295:case 8296:case 8297:break d;default:{}}k=k-d|0;if((k|0)<0)break c;l=yb(l)|0;if(l>>>0<65536){b[f+(h<<1)>>1]=l;h=h+1|0;break}else{b[f+(h<<1)>>1]=(l>>>10)+55232;b[f+(h+1<<1)>>1]=l&1023|56320;h=h+2|0;break}}}while(0);if((j|0)<=0){m=40;break}}if((m|0)==40)return h|0;c[i>>2]=15;h=a;while(1){if((j|0)<=0)break;n=e[h>>1]|0;k=k+((((n+-8294|0)>>>0<4|((n&65532|0)==8204|(n+-8234|0)>>>0<5))^1)<<31>>31)|0;j=j+-1|0;h=h+2|0}n=g-k|0;return n|0}}return 0}function Ma(d,e,f,g,h){d=d|0;e=e|0;f=f|0;g=g|0;h=h|0;var i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0;if(!h)return;if((Na(c[h>>2]|0)|0)<<24>>24)return;if(d|0?(c[d>>2]|0)==(d|0):0){if(!((e|0)>-1&(f|0)>(e|0))){c[h>>2]=1;return}if((f|0)>=0?(c[d+12>>2]|0)>=(f|0):0){if(!g){c[h>>2]=1;return}p=Ga(d,e,h)|0;if((p|0)!=(Ga(d,f+-1|0,h)|0)){c[h>>2]=1;return}c[g>>2]=0;l=d+4|0;c[g+4>>2]=(c[l>>2]|0)+(e<<1);o=f-e|0;c[g+12>>2]=o;c[g+8>>2]=o;m=g+16|0;c[m>>2]=o;if((a[d+94>>0]|0)!=0?(i=c[d+136>>2]|0,(c[i>>2]|0)<=(e|0)):0){h=d+132|0;j=h;h=da(c[h>>2]|0,i,e)|0}else{j=d+132|0;h=a[d+93>>0]|0}p=g+93|0;a[p>>0]=h;c[g+132>>2]=c[j>>2];c[g+224>>2]=0;c[g+120>>2]=0;c[g+84>>2]=c[d+84>>2];c[g+88>>2]=c[d+88>>2];k=g+348|0;c[k>>2]=0;if((c[d+348>>2]|0)>0){j=e;h=0;while(1){if((j|0)>=(f|0))break;i=b[(c[l>>2]|0)+(j<<1)>>1]|0;if((i&-4)<<16>>16==8204)n=24;else switch(i<<16>>16){case 8234:case 8235:case 8236:case 8237:case 8238:case 8294:case 8295:case 8296:case 8297:{n=24;break}default:{}}if((n|0)==24){n=0;h=h+1|0;c[k>>2]=h}j=j+1|0}c[m>>2]=o-h}c[g+72>>2]=(c[d+72>>2]|0)+e;l=(c[d+76>>2]|0)+e|0;c[g+76>>2]=l;c[g+220>>2]=-1;h=c[d+116>>2]|0;a:do{if((h|0)!=2){c[g+116>>2]=h;h=c[d+128>>2]|0;if((h|0)<=(e|0)){c[g+128>>2]=0;break}if((h|0)<(f|0)){c[g+128>>2]=h-e;break}else{c[g+128>>2]=o;break}}else{Oa(g);k=g+128|0;j=c[k>>2]|0;b:do{if(!j)h=a[p>>0]&1;else{h=a[l>>0]&1;if((j|0)<(o|0)?(a[p>>0]&1)!=h<<24>>24:0){h=2;break}i=1;while(1){if((i|0)==(j|0))break b;if((a[l+i>>0]&1)==h<<24>>24)i=i+1|0;else{h=2;break}}}}while(0);c[g+116>>2]=h&255;switch(h&3){case 0:{a[p>>0]=(a[p>>0]|0)+1<<24>>24&-2;c[k>>2]=0;break a}case 1:{a[p>>0]=a[p>>0]|1;c[k>>2]=0;break a}default:break a}}}while(0);c[g>>2]=d;return}c[h>>2]=1;return}c[h>>2]=27;return}function Na(a){a=a|0;return(a|0)>0|0}function Oa(b){b=b|0;var e=0,f=0,g=0,h=0,i=0;g=c[b+72>>2]|0;h=c[b+76>>2]|0;e=c[b+12>>2]|0;i=a[b+93>>0]|0;if((a[g+(e+-1)>>0]|0)==7){i=e;b=b+128|0;c[b>>2]=i;return}while(1){if((e|0)<=0)break;f=e+-1|0;if(!(1<<d[g+f>>0]&8248192))break;else e=f}while(1){if((e|0)<=0){f=8;break}f=e+-1|0;if((a[h+f>>0]|0)==i<<24>>24)e=f;else{f=8;break}}if((f|0)==8){b=b+128|0;c[b>>2]=e;return}}function Pa(b,d){b=b|0;d=d|0;var e=0,f=0,g=0,h=0,i=0;if(!d){i=0;return i|0}if((Na(c[d>>2]|0)|0)<<24>>24){i=0;return i|0}do{if(b|0){e=c[b>>2]|0;if((e|0)!=(b|0)){if(!e)break;if((c[e>>2]|0)!=(e|0))break}f=c[b+12>>2]|0;if((f|0)<1){c[d>>2]=1;i=0;return i|0}g=b+128|0;h=c[g>>2]|0;if((f|0)==(h|0)){i=c[b+76>>2]|0;return i|0}e=b+48|0;if(!((aa(e,b+24|0,a[b+68>>0]|0,f)|0)<<24>>24)){c[d>>2]=7;i=0;return i|0}e=c[e>>2]|0;d=b+76|0;if((h|0)>0?(i=c[d>>2]|0,(e|0)!=(i|0)):0)ec(e|0,i|0,h|0)|0;fc(e+h|0,a[b+93>>0]|0,f-h|0)|0;c[g>>2]=f;c[d>>2]=e;i=e;return i|0}}while(0);c[d>>2]=27;i=0;return i|0}function Qa(a,b){a=a|0;b=b|0;var d=0;if(!b){d=-1;return d|0}if((Na(c[b>>2]|0)|0)<<24>>24){d=-1;return d|0}do{if(a|0){d=c[a>>2]|0;if((d|0)!=(a|0)){if(!d)break;if((c[d>>2]|0)!=(d|0))break}Ra(a,b);if((Na(c[b>>2]|0)|0)<<24>>24){d=-1;return d|0}d=c[a+220>>2]|0;return d|0}}while(0);c[b>>2]=27;d=-1;return d|0}function Ra(e,f){e=e|0;f=f|0;var g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0;s=e+220|0;if((c[s>>2]|0)>-1)return;do{if((c[e+116>>2]|0)==2){o=c[e+12>>2]|0;r=c[e+76>>2]|0;p=c[e+128>>2]|0;g=0;i=0;h=-2;while(1){if((g|0)>=(p|0))break;q=a[r+g>>0]|0;g=g+1|0;i=i+(q<<24>>24!=h<<24>>24&1)|0;h=q}if((o|0)==(p|0)&(i|0)==1){Sa(e,a[r>>0]|0);break}l=(o|0)>(p|0);q=i+(l&1)|0;g=e+60|0;if(!((aa(g,e+36|0,a[e+69>>0]|0,q*12|0)|0)<<24>>24))return;n=c[g>>2]|0;m=0;g=126;k=0;i=0;while(1){h=a[r+i>>0]|0;g=(h&255)<(g&255)?h:g;k=(h&255)>(k&255)?h:k;j=i;while(1){j=j+1|0;if((j|0)>=(p|0)){h=0;break}if((a[r+j>>0]|0)!=h<<24>>24){h=1;break}}c[n+(m*12|0)>>2]=i;c[n+(m*12|0)+4>>2]=j-i;c[n+(m*12|0)+8>>2]=0;m=m+1|0;if(!h)break;else i=j}if(l){c[n+(m*12|0)>>2]=p;c[n+(m*12|0)+4>>2]=o-p;p=a[e+93>>0]|0;g=(p&255)<(g&255)?p:g}c[e+224>>2]=n;c[s>>2]=q;Ta(e,g,k);g=0;h=0;while(1){if((h|0)==(q|0))break;o=n+(h*12|0)|0;p=c[o>>2]|0;c[o>>2]=d[r+p>>0]<<31|p;o=n+(h*12|0)+4|0;p=(c[o>>2]|0)+g|0;c[o>>2]=p;g=p;h=h+1|0}if(m>>>0<q>>>0){q=d[e+93>>0]|0;r=n+(((q&1|0)==0?m:0)*12|0)|0;c[r>>2]=q<<31|c[r>>2]}}else Sa(e,a[e+93>>0]|0)}while(0);g=c[e+332>>2]|0;a:do{if((g|0)>0){r=c[e+344>>2]|0;h=r+(g<<3)|0;i=e+224|0;g=r;while(1){if(g>>>0>=h>>>0)break a;r=Ua(c[s>>2]|0,c[i>>2]|0,c[g>>2]|0,f)|0;r=(c[i>>2]|0)+(r*12|0)+8|0;c[r>>2]=c[r>>2]|c[g+4>>2];g=g+8|0}}}while(0);if((c[e+348>>2]|0)<=0)return;g=c[e+4>>2]|0;j=g+(c[e+12>>2]<<1)|0;k=g;h=e+224|0;while(1){if(g>>>0>=j>>>0)break;i=b[g>>1]|0;if((i&-4)<<16>>16==8204)t=31;else switch(i<<16>>16){case 8234:case 8235:case 8236:case 8237:case 8238:case 8294:case 8295:case 8296:case 8297:{t=31;break}default:{}}if((t|0)==31){t=0;e=Ua(c[s>>2]|0,c[h>>2]|0,g-k>>1,f)|0;e=(c[h>>2]|0)+(e*12|0)+8|0;c[e>>2]=(c[e>>2]|0)+-1}g=g+2|0}return}function Sa(a,b){a=a|0;b=b|0;var d=0;d=a+228|0;c[a+224>>2]=d;c[a+220>>2]=1;c[d>>2]=(b&255)<<31;c[a+232>>2]=c[a+12>>2];c[a+236>>2]=0;return}function Ta(a,b,e){a=a|0;b=b|0;e=e|0;var f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0;o=E;E=E+16|0;n=o;if(((b|1)&255)>=(e&255)){E=o;return}l=b+1<<24>>24;m=c[a+224>>2]|0;i=c[a+76>>2]|0;j=a+128|0;k=a+12|0;h=(c[a+220>>2]|0)+(((c[j>>2]|0)<(c[k>>2]|0))<<31>>31)|0;b=e;while(1){b=b+-1<<24>>24;if((b&255)<(l&255))break;a=0;while(1){if((a|0)>=(h|0))break;if((d[i+(c[m+(a*12|0)>>2]|0)>>0]|0)>=(b&255)){e=a;while(1){g=e+1|0;if((g|0)>=(h|0))break;if((d[i+(c[m+(g*12|0)>>2]|0)>>0]|0)<(b&255))break;else e=g}f=e;while(1){if((a|0)>=(f|0))break;q=m+(a*12|0)|0;c[n>>2]=c[q>>2];c[n+4>>2]=c[q+4>>2];c[n+8>>2]=c[q+8>>2];p=m+(f*12|0)|0;c[q>>2]=c[p>>2];c[q+4>>2]=c[p+4>>2];c[q+8>>2]=c[p+8>>2];c[p>>2]=c[n>>2];c[p+4>>2]=c[n+4>>2];c[p+8>>2]=c[n+8>>2];f=f+-1|0;a=a+1|0}if((g|0)==(h|0))break;else a=e+2|0}else a=a+1|0}}if(l&1){E=o;return}b=h+(((c[j>>2]|0)==(c[k>>2]|0))<<31>>31)|0;a=0;while(1){if((a|0)>=(b|0))break;p=m+(a*12|0)|0;c[n>>2]=c[p>>2];c[n+4>>2]=c[p+4>>2];c[n+8>>2]=c[p+8>>2];q=m+(b*12|0)|0;c[p>>2]=c[q>>2];c[p+4>>2]=c[q+4>>2];c[p+8>>2]=c[q+8>>2];c[q>>2]=c[n>>2];c[q+4>>2]=c[n+4>>2];c[q+8>>2]=c[n+8>>2];b=b+-1|0;a=a+1|0}E=o;return}function Ua(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0,j=0;g=0;f=0;while(1){if((f|0)>=(a|0))break;h=c[b+(f*12|0)+4>>2]|0;j=c[b+(f*12|0)>>2]&2147483647;if((j|0)<=(d|0)?(h-g+j|0)>(d|0):0){i=7;break}g=h;f=f+1|0}if((i|0)==7)return f|0;c[e>>2]=27;j=0;return j|0}function Va(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0;h=E;E=E+16|0;f=h;c[f>>2]=0;do{if(a|0){g=c[a>>2]|0;if((g|0)!=(a|0)){if(!g)break;if((c[g>>2]|0)!=(g|0))break}Ra(a,f);if((Na(c[f>>2]|0)|0)<<24>>24){e=0;E=h;return e|0}if((b|0)>=0?(c[a+220>>2]|0)>(b|0):0){a=a+224|0;f=c[(c[a>>2]|0)+(b*12|0)>>2]|0;if(d|0)c[d>>2]=f&2147483647;if(e|0){a=c[a>>2]|0;if((b|0)>0)a=(c[a+(b*12|0)+4>>2]|0)-(c[a+((b+-1|0)*12|0)+4>>2]|0)|0;else a=c[a+4>>2]|0;c[e>>2]=a}e=f>>>31;E=h;return e|0}c[f>>2]=1;e=0;E=h;return e|0}}while(0);c[f>>2]=27;e=0;E=h;return e|0}function Wa(a,d,e){a=a|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0;if(!e)return;if((Na(c[e>>2]|0)|0)<<24>>24)return;if(!d){c[e>>2]=1;return}Qa(a,e)|0;if(!((Xa(c[e>>2]|0)|0)<<24>>24))return;m=a+224|0;e=c[m>>2]|0;k=a+220|0;l=e+((c[k>>2]|0)*12|0)|0;n=a+16|0;if((c[n>>2]|0)<1)return;g=0;f=d;while(1){if(e>>>0>=l>>>0)break;h=c[e>>2]|0;j=c[e+4>>2]|0;if((h|0)>-1)while(1){i=f+4|0;c[f>>2]=h;g=g+1|0;if((g|0)<(j|0)){h=h+1|0;f=i}else{f=i;break}}else{i=j-g+(h&2147483647)|0;while(1){i=i+-1|0;h=f+4|0;c[f>>2]=i;g=g+1|0;if((g|0)>=(j|0)){f=h;break}else f=h}}e=e+12|0}if((c[a+332>>2]|0)>0){g=c[k>>2]|0;m=c[m>>2]|0;f=0;e=0;while(1){if((e|0)>=(g|0))break;p=c[m+(e*12|0)+8>>2]|0;f=f+((p&5|0)!=0&1)+((p&10|0)!=0&1)|0;e=e+1|0}e=c[n>>2]|0;while(1){l=g+-1|0;if(!((g|0)>0&(f|0)>0))break;k=c[m+(l*12|0)+8>>2]|0;h=e+-1|0;if(k&10){c[d+(h<<2)>>2]=-1;e=h;f=f+-1|0}if((g|0)>1)j=c[m+((g+-2|0)*12|0)+4>>2]|0;else j=0;i=(f|0)>0;h=c[m+(l*12|0)+4>>2]|0;while(1){g=h+-1|0;if(!(i&(h|0)>(j|0)))break;p=e+-1|0;c[d+(p<<2)>>2]=c[d+(g<<2)>>2];h=g;e=p}g=e+-1|0;if(k&5){c[d+(g<<2)>>2]=-1;e=g;f=f+-1|0}g=l}return}if((c[a+348>>2]|0)<=0)return;p=c[k>>2]|0;o=c[m>>2]|0;a=a+4|0;e=0;m=0;f=0;while(1){if((m|0)>=(p|0))break;n=c[o+(m*12|0)+4>>2]|0;l=n-f|0;g=(c[o+(m*12|0)+8>>2]|0)==0;a:do{if((e|0)==(f|0)&g)e=l+e|0;else{if(g)while(1){if((f|0)>=(n|0))break a;c[d+(e<<2)>>2]=c[d+(f<<2)>>2];f=f+1|0;e=e+1|0}j=c[o+(m*12|0)>>2]|0;i=(j|0)>-1;j=j&2147483647;k=l+-1+j|0;h=0;while(1){if((h|0)>=(l|0))break a;f=i?h+j|0:k-h|0;g=b[(c[a>>2]|0)+(f<<1)>>1]|0;b:do{if((g&-4)<<16>>16!=8204){switch(g<<16>>16){case 8234:case 8235:case 8236:case 8237:case 8238:case 8294:case 8295:case 8296:case 8297:break b;default:{}}c[d+(e<<2)>>2]=f;e=e+1|0}}while(0);h=h+1|0}}}while(0);m=m+1|0;f=n}return}function Xa(a){a=a|0;return(a|0)<1|0}function Ya(a,d,e,f,g){a=a|0;d=d|0;e=e|0;f=f|0;g=g|0;var h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0;o=E;E=E+656|0;j=o+632|0;l=o;m=o+628|0;n=o+624|0;k=o+600|0;if(!g){n=0;E=o;return n|0}if((Za(c[g>>2]|0)|0)<<24>>24){n=0;E=o;return n|0}if(!((a|0)==0|(d|0)<-1)?(h=(e|0)==0,!((f|0)<0|h&(f|0)!=0)):0){if((d|0)==-1)d=ob(a)|0;if((d|0)<1){qb(e,f,0,g)|0;n=0;E=o;return n|0}do{if(!h){if(!(a>>>0<=e>>>0&(a+(d<<1)|0)>>>0>e>>>0)?!(e>>>0<=a>>>0&(e+(f<<1)|0)>>>0>a>>>0):0)break;c[g>>2]=1;n=0;E=o;return n|0}}while(0);c[m>>2]=0;c[n>>2]=0;h=$a(a,d)|0;if((h|0)>(f|0)){c[g>>2]=15;n=h;E=o;return n|0}h=(d|0)>(h|0)?d:h;if((h|0)>=301){i=lb(h<<1)|0;if(!i){c[g>>2]=7;n=0;E=o;return n|0}}else{i=l;h=300}pb(i,a,d)|0;if((h|0)>(d|0))fc(i+(d<<1)|0,0,h-d<<1|0)|0;ab(i,d,m,n);bb(i,d,c[m>>2]|0,c[n>>2]|0);b[k>>1]=8203;b[k+2>>1]=0;c[k+4>>2]=3;c[k+8>>2]=2;c[k+12>>2]=262144;c[k+16>>2]=393216;c[k+20>>2]=0;c[j>>2]=c[k>>2];c[j+4>>2]=c[k+4>>2];c[j+8>>2]=c[k+8>>2];c[j+12>>2]=c[k+12>>2];c[j+16>>2]=c[k+16>>2];c[j+20>>2]=c[k+20>>2];d=cb(i,d,g,j)|0;ab(i,d,m,n);bb(i,d,c[m>>2]|0,c[n>>2]|0);pb(e,i,kb(d,f)|0)|0;if((i|0)!=(l|0))nb(i);if((d|0)>(f|0)){c[g>>2]=15;n=d;E=o;return n|0}else{n=qb(e,f,d,g)|0;E=o;return n|0}}c[g>>2]=1;n=0;E=o;return n|0}function Za(a){a=a|0;return(a|0)>0|0}function _a(a){a=a|0;var c=0;c=a&65535;if((a+-1570&65535)<178){c=b[1712+(c+-1570<<1)>>1]|0;return c|0}if(a<<16>>16==8205){c=3;return c|0}if((a+-8301&65535)<3){c=4;return c|0}if((a+1200&65535)<275){c=d[2080+(c+-64336)>>0]|0;return c|0}if((a+400&65535)>=141){c=0;return c|0}c=d[2368+(c+-65136)>>0]|0;return c|0}function $a(a,c){a=a|0;c=c|0;var d=0,e=0,f=0,g=0,h=0;g=c+-1|0;f=0;d=c;while(1){if((f|0)>=(c|0))break;e=b[a+(f<<1)>>1]|0;if((f|0)<(g|0)&e<<16>>16==1604?(ib(b[a+(f+1<<1)>>1]|0)|0)!=0:0)h=6;else if(jb(e)|0)h=6;if((h|0)==6){h=0;d=d+-1|0}f=f+1|0}return d|0}function ab(a,d,e,f){a=a|0;d=d|0;e=e|0;f=f|0;var g=0,h=0;h=0;while(1){g=(h|0)<(d|0);if(g&(b[a+(h<<1)>>1]|0)==32)h=h+1|0;else break}if(!g){a=0;c[e>>2]=h;c[f>>2]=a;return}g=0;while(1){d=d+-1|0;if((b[a+(d<<1)>>1]|0)!=32)break;else g=g+1|0}c[e>>2]=h;c[f>>2]=g;return}function bb(a,c,d,e){a=a|0;c=c|0;d=d|0;e=e|0;var f=0,g=0;c=c-e|0;while(1){c=c+-1|0;if((d|0)>=(c|0))break;g=a+(d<<1)|0;f=b[g>>1]|0;e=a+(c<<1)|0;b[g>>1]=b[e>>1]|0;b[e>>1]=f;d=d+1|0}return}function cb(a,e,f,g){a=a|0;e=e|0;f=f|0;g=g|0;var h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0;z=E;E=E+32|0;x=z;j=0;while(1){if((j|0)>=(e|0))break;k=a+(j<<1)|0;h=b[k>>1]|0;i=h&65535;if((h+1200&65535)<176){h=b[1008+(i+-64336<<1)>>1]|0;if(h<<16>>16)b[k>>1]=h}else if((h+400&65535)<141)b[k>>1]=b[1360+(i+-65136<<1)>>1]|0;j=j+1|0}l=e+-1|0;w=l;j=0;h=_a(b[a+(l<<1)>>1]|0)|0;m=0;v=0;r=0;s=0;p=0;k=-2;while(1){if((l|0)==-1)break;o=h&65535;if(!((o&65280|0)==0?((_a(b[a+(l<<1)>>1]|0)|0)&4)==0:0))y=13;do{if((y|0)==13){y=0;n=l+-1|0;while(1){if((k|0)>=0)break;if((n|0)==-1){i=-1;j=0;k=3e3}else{j=_a(b[a+(n<<1)>>1]|0)|0;u=(j&4)==0;i=n+((u^1)<<31>>31)|0;k=u?n:k}n=i}do{if(!((m&16)==0|(o&32|0)==0)){h=a+(l<<1)|0;i=eb(b[h>>1]|0)|0;if(!(i<<16>>16)){h=_a(0)|0;t=v;u=1;break}else{b[h>>1]=-1;b[a+(w<<1)>>1]=i;h=_a(i)|0;t=v;u=1;l=w;break}}else{t=m;u=p}}while(0);if((l|0)>0){if((b[a+(l+-1<<1)>>1]|0)==32){p=b[a+(l<<1)>>1]|0;q=(fb(p)|0)==0;r=p<<16>>16==1574&q?1:r;s=q?s:1}}else if(!l){p=b[a>>1]|0;q=(fb(p)|0)==0;r=p<<16>>16==1574&q?1:r;s=q?s:1}n=j&65535;o=t&65535;q=h&65535;m=q&3;p=d[1648+((n&3)<<4)+((o&3)<<2)+m>>0]|0;if((m|0)!=1){m=a+(l<<1)|0;i=b[m>>1]|0;if(gb(i)|0)if((o&2|0)==0|(n&1|0)==0|(i&-2)<<16>>16==1612)p=0;else p=o>>>4&1^1|n>>>5&1^1}else{i=a+(l<<1)|0;p=p&1;m=i;i=b[i>>1]|0}if(((i^1536)&65535)<256){if(gb(i)|0){b[m>>1]=p+65136+(d[70134+((i&65535)+-1611)>>0]|0);m=t;p=u;break}i=q>>>8;if(q&8|0){b[m>>1]=p+i+64336;m=t;p=u;break}if((i|0)!=0&(q&4|0)==0){b[m>>1]=p+i+65136;m=t;p=u}else{m=t;p=u}}else{m=t;p=u}}}while(0);i=(h&4)==0;n=i?m:v;m=i?h:m;i=i?l:w;o=l+-1|0;if((o|0)!=(k|0)){if(l)h=_a(b[a+(o<<1)>>1]|0)|0}else{h=j;k=-2}w=i;v=n;l=o}if(p){c[x>>2]=c[g>>2];c[x+4>>2]=c[g+4>>2];c[x+8>>2]=c[g+8>>2];c[x+12>>2]=c[g+12>>2];c[x+16>>2]=c[g+16>>2];c[x+20>>2]=c[g+20>>2];e=hb(a,e,f,x)|0}if(!(r|s)){y=e;E=z;return y|0}y=db(e)|0;E=z;return y|0}function db(a){a=a|0;return a|0}function eb(a){a=a|0;switch(a<<16>>16){case 1570:{a=1628;break}case 1571:{a=1629;break}case 1573:{a=1630;break}case 1575:{a=1631;break}default:a=0}return a|0}function fb(a){a=a|0;return(a+-1587&65535)<4|0}function gb(a){a=a|0;return(a+-1611&65535)<8|0}function hb(a,d,e,f){a=a|0;d=d|0;e=e|0;f=f|0;var g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0;m=(d<<1)+2|0;n=lb(m)|0;if(!n){c[e>>2]=7;n=0;return n|0}fc(n|0,0,m|0)|0;e=0;h=0;g=0;while(1){if((g|0)>=(d|0))break;i=b[a+(g<<1)>>1]|0;if(i<<16>>16==-1){e=e+1|0;h=h+-1|0}else b[n+(h<<1)>>1]=i;h=h+1|0;g=g+1|0}while(1){if((e|0)<=-1)break;b[n+(g<<1)>>1]=0;g=g+-1|0;e=e+-1|0}pb(a,n,d)|0;if(c[f+4>>2]|0){e=ob(a)|0;if(!(c[f+12>>2]|0)){j=0;k=1;l=15}}else{j=1;k=(c[f+12>>2]|0)==0;l=15}if((l|0)==15){fc(n|0,0,m|0)|0;e=d;g=0;i=d;while(1){if((i|0)<=-1)break;h=b[a+(i<<1)>>1]|0;if(j&h<<16>>16==-1|k&h<<16>>16==-2){e=e+1|0;g=g+1|0}else b[n+(e<<1)>>1]=h;e=e+-1|0;i=i+-1|0}e=0;while(1){if((e|0)>=(g|0))break;b[n+(e<<1)>>1]=32;e=e+1|0}pb(a,n,d)|0;e=d}k=(c[f+8>>2]|0)==0;f=(c[f+16>>2]|0)==0;j=f|k^1;if(k|f){fc(n|0,0,m|0)|0;h=0;e=0;g=0;while(1){if((g|0)>=(d|0))break;i=b[a+(g<<1)>>1]|0;if(k&i<<16>>16==-1|j&i<<16>>16==-2){h=h+-1|0;e=e+1|0}else b[n+(h<<1)>>1]=i;h=h+1|0;g=g+1|0}while(1){if((e|0)<=-1)break;b[n+(g<<1)>>1]=32;g=g+-1|0;e=e+-1|0}pb(a,n,d)|0;e=d}nb(n);n=e;return n|0}function ib(a){a=a|0;switch(a<<16>>16){case 1573:case 1571:case 1570:{a=1;break}default:a=a<<16>>16==1575&1}return a|0}function jb(a){a=a|0;return(a&-16)<<16>>16==-400|0}function kb(a,b){a=a|0;b=b|0;return((a|0)>(b|0)?b:a)|0}function lb(a){a=a|0;if(!a)a=70336;else a=Ab(a)|0;return a|0}function mb(a,b){a=a|0;b=b|0;do{if((a|0)!=70336)if(!b){Bb(a);a=70336;break}else{a=Cb(a,b)|0;break}else a=lb(b)|0}while(0);return a|0}function nb(a){a=a|0;if((a|0)==70336)return;Bb(a);return}function ob(a){a=a|0;var c=0;c=a;while(1)if(!(b[c>>1]|0))break;else c=c+2|0;return c-a>>1|0}function pb(a,b,c){a=a|0;b=b|0;c=c|0;if((c|0)<=0)return a|0;ec(a|0,b|0,c<<1|0)|0;return a|0}function qb(a,d,e,f){a=a|0;d=d|0;e=e|0;f=f|0;do{if(f|0?!((e|0)<0|(rb(c[f>>2]|0)|0)<<24>>24==0):0){if((e|0)<(d|0)){b[a+(e<<1)>>1]=0;if((c[f>>2]|0)!=-124)break;c[f>>2]=0;break}if((e|0)==(d|0)){c[f>>2]=-124;break}else{c[f>>2]=15;break}}}while(0);return e|0}function rb(a){a=a|0;return(a|0)<1|0}function sb(a){a=a|0;var c=0;do{if(a>>>0>=55296){if(a>>>0<65536){c=((a|0)<56320?320:0)+(a>>>5)|0;break}if(a>>>0>1114111){a=4596;a=2512+(a<<1)|0;a=b[a>>1]|0;a=a&255;a=a&31;return a|0}else{c=(a>>>5&63)+(e[2512+((a>>>11)+2080<<1)>>1]|0)|0;break}}else c=a>>>5}while(0);a=((e[2512+(c<<1)>>1]|0)<<2)+(a&31)|0;a=2512+(a<<1)|0;a=b[a>>1]|0;a=a&255;a=a&31;return a|0}function tb(a){a=a|0;var c=0;do{if(a>>>0>=55296){if(a>>>0<65536){c=((a|0)<56320?320:0)+(a>>>5)|0;break}if(a>>>0>1114111){a=3644;a=45584+(a<<1)|0;a=b[a>>1]|0;a=a&31;a=a&65535;return a|0}else{c=(a>>>5&63)+(e[45584+((a>>>11)+2080<<1)>>1]|0)|0;break}}else c=a>>>5}while(0);a=((e[45584+(c<<1)>>1]|0)<<2)+(a&31)|0;a=45584+(a<<1)|0;a=b[a>>1]|0;a=a&31;a=a&65535;return a|0}function ub(a){a=a|0;var c=0;do{if(a>>>0>=55296){if(a>>>0<65536){c=((a|0)<56320?320:0)+(a>>>5)|0;break}if(a>>>0>1114111){c=3644;c=45584+(c<<1)|0;c=b[c>>1]|0;a=vb(a,c)|0;return a|0}else{c=(a>>>5&63)+(e[45584+((a>>>11)+2080<<1)>>1]|0)|0;break}}else c=a>>>5}while(0);c=((e[45584+(c<<1)>>1]|0)<<2)+(a&31)|0;c=45584+(c<<1)|0;c=b[c>>1]|0;a=vb(a,c)|0;return a|0}function vb(a,b){a=a|0;b=b|0;var d=0,e=0;b=b<<16>>16>>13;if((b|0)!=-4){e=b+a|0;return e|0}b=0;while(1){if(b>>>0>=40){b=8;break}e=c[45424+(b<<2)>>2]|0;d=e&2097151;if((d|0)==(a|0)){b=6;break}if((d|0)>(a|0)){b=8;break}else b=b+1|0}if((b|0)==6){e=c[45424+(e>>>21<<2)>>2]&2097151;return e|0}else if((b|0)==8)return a|0;return 0}function wb(a){a=a|0;var c=0,d=0;do{if(a>>>0>=55296){if(a>>>0<65536){c=((a|0)<56320?320:0)+(a>>>5)|0;d=7;break}if(a>>>0>1114111)c=3644;else{c=(a>>>5&63)+(e[45584+((a>>>11)+2080<<1)>>1]|0)|0;d=7}}else{c=a>>>5;d=7}}while(0);if((d|0)==7)c=((e[45584+(c<<1)>>1]|0)<<2)+(a&31)|0;return(b[45584+(c<<1)>>1]&768)>>>8|0}function xb(a){a=a|0;var c=0,d=0;do{if(a>>>0>=55296){if(a>>>0<65536){c=((a|0)<56320?320:0)+(a>>>5)|0;d=7;break}if(a>>>0>1114111)c=3644;else{c=(a>>>5&63)+(e[45584+((a>>>11)+2080<<1)>>1]|0)|0;d=7}}else{c=a>>>5;d=7}}while(0);if((d|0)==7)c=((e[45584+(c<<1)>>1]|0)<<2)+(a&31)|0;c=b[45584+(c<<1)>>1]|0;if(!(c&768))return a|0;a=vb(a,c)|0;return a|0}function yb(a){a=a|0;return ub(a)|0}function zb(a){a=a|0;return xb(a)|0}function Ab(a){a=a|0;var b=0,d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0;t=E;E=E+16|0;n=t;do{if(a>>>0<245){k=a>>>0<11?16:a+11&-8;a=k>>>3;m=c[17594]|0;d=m>>>a;if(d&3|0){b=(d&1^1)+a|0;a=70416+(b<<1<<2)|0;d=a+8|0;e=c[d>>2]|0;f=e+8|0;g=c[f>>2]|0;if((g|0)==(a|0))c[17594]=m&~(1<<b);else{c[g+12>>2]=a;c[d>>2]=g}s=b<<3;c[e+4>>2]=s|3;s=e+s+4|0;c[s>>2]=c[s>>2]|1;s=f;E=t;return s|0}l=c[17596]|0;if(k>>>0>l>>>0){if(d|0){b=2<<a;b=d<<a&(b|0-b);b=(b&0-b)+-1|0;i=b>>>12&16;b=b>>>i;d=b>>>5&8;b=b>>>d;g=b>>>2&4;b=b>>>g;a=b>>>1&2;b=b>>>a;e=b>>>1&1;e=(d|i|g|a|e)+(b>>>e)|0;b=70416+(e<<1<<2)|0;a=b+8|0;g=c[a>>2]|0;i=g+8|0;d=c[i>>2]|0;if((d|0)==(b|0)){a=m&~(1<<e);c[17594]=a}else{c[d+12>>2]=b;c[a>>2]=d;a=m}s=e<<3;h=s-k|0;c[g+4>>2]=k|3;f=g+k|0;c[f+4>>2]=h|1;c[g+s>>2]=h;if(l|0){e=c[17599]|0;b=l>>>3;d=70416+(b<<1<<2)|0;b=1<<b;if(!(a&b)){c[17594]=a|b;b=d;a=d+8|0}else{a=d+8|0;b=c[a>>2]|0}c[a>>2]=e;c[b+12>>2]=e;c[e+8>>2]=b;c[e+12>>2]=d}c[17596]=h;c[17599]=f;s=i;E=t;return s|0}g=c[17595]|0;if(g){d=(g&0-g)+-1|0;f=d>>>12&16;d=d>>>f;e=d>>>5&8;d=d>>>e;h=d>>>2&4;d=d>>>h;i=d>>>1&2;d=d>>>i;j=d>>>1&1;j=c[70680+((e|f|h|i|j)+(d>>>j)<<2)>>2]|0;d=j;i=j;j=(c[j+4>>2]&-8)-k|0;while(1){a=c[d+16>>2]|0;if(!a){a=c[d+20>>2]|0;if(!a)break}h=(c[a+4>>2]&-8)-k|0;f=h>>>0<j>>>0;d=a;i=f?a:i;j=f?h:j}h=i+k|0;if(h>>>0>i>>>0){f=c[i+24>>2]|0;b=c[i+12>>2]|0;do{if((b|0)==(i|0)){a=i+20|0;b=c[a>>2]|0;if(!b){a=i+16|0;b=c[a>>2]|0;if(!b){d=0;break}}while(1){e=b+20|0;d=c[e>>2]|0;if(!d){e=b+16|0;d=c[e>>2]|0;if(!d)break;else{b=d;a=e}}else{b=d;a=e}}c[a>>2]=0;d=b}else{d=c[i+8>>2]|0;c[d+12>>2]=b;c[b+8>>2]=d;d=b}}while(0);do{if(f|0){b=c[i+28>>2]|0;a=70680+(b<<2)|0;if((i|0)==(c[a>>2]|0)){c[a>>2]=d;if(!d){c[17595]=g&~(1<<b);break}}else{s=f+16|0;c[((c[s>>2]|0)==(i|0)?s:f+20|0)>>2]=d;if(!d)break}c[d+24>>2]=f;b=c[i+16>>2]|0;if(b|0){c[d+16>>2]=b;c[b+24>>2]=d}b=c[i+20>>2]|0;if(b|0){c[d+20>>2]=b;c[b+24>>2]=d}}}while(0);if(j>>>0<16){s=j+k|0;c[i+4>>2]=s|3;s=i+s+4|0;c[s>>2]=c[s>>2]|1}else{c[i+4>>2]=k|3;c[h+4>>2]=j|1;c[h+j>>2]=j;if(l|0){e=c[17599]|0;b=l>>>3;d=70416+(b<<1<<2)|0;b=1<<b;if(!(b&m)){c[17594]=b|m;b=d;a=d+8|0}else{a=d+8|0;b=c[a>>2]|0}c[a>>2]=e;c[b+12>>2]=e;c[e+8>>2]=b;c[e+12>>2]=d}c[17596]=j;c[17599]=h}s=i+8|0;E=t;return s|0}else m=k}else m=k}else m=k}else if(a>>>0<=4294967231){a=a+11|0;k=a&-8;e=c[17595]|0;if(e){f=0-k|0;a=a>>>8;if(a)if(k>>>0>16777215)j=31;else{m=(a+1048320|0)>>>16&8;r=a<<m;i=(r+520192|0)>>>16&4;r=r<<i;j=(r+245760|0)>>>16&2;j=14-(i|m|j)+(r<<j>>>15)|0;j=k>>>(j+7|0)&1|j<<1}else j=0;d=c[70680+(j<<2)>>2]|0;a:do{if(!d){d=0;a=0;r=61}else{a=0;i=k<<((j|0)==31?0:25-(j>>>1)|0);g=0;while(1){h=(c[d+4>>2]&-8)-k|0;if(h>>>0<f>>>0)if(!h){a=d;f=0;r=65;break a}else{a=d;f=h}r=c[d+20>>2]|0;d=c[d+16+(i>>>31<<2)>>2]|0;g=(r|0)==0|(r|0)==(d|0)?g:r;if(!d){d=g;r=61;break}else i=i<<1}}}while(0);if((r|0)==61){if((d|0)==0&(a|0)==0){a=2<<j;a=(a|0-a)&e;if(!a){m=k;break}m=(a&0-a)+-1|0;h=m>>>12&16;m=m>>>h;g=m>>>5&8;m=m>>>g;i=m>>>2&4;m=m>>>i;j=m>>>1&2;m=m>>>j;d=m>>>1&1;a=0;d=c[70680+((g|h|i|j|d)+(m>>>d)<<2)>>2]|0}if(!d){i=a;h=f}else r=65}if((r|0)==65){g=d;while(1){m=(c[g+4>>2]&-8)-k|0;d=m>>>0<f>>>0;f=d?m:f;a=d?g:a;d=c[g+16>>2]|0;if(!d)d=c[g+20>>2]|0;if(!d){i=a;h=f;break}else g=d}}if(((i|0)!=0?h>>>0<((c[17596]|0)-k|0)>>>0:0)?(l=i+k|0,l>>>0>i>>>0):0){g=c[i+24>>2]|0;b=c[i+12>>2]|0;do{if((b|0)==(i|0)){a=i+20|0;b=c[a>>2]|0\n;if(!b){a=i+16|0;b=c[a>>2]|0;if(!b){b=0;break}}while(1){f=b+20|0;d=c[f>>2]|0;if(!d){f=b+16|0;d=c[f>>2]|0;if(!d)break;else{b=d;a=f}}else{b=d;a=f}}c[a>>2]=0}else{s=c[i+8>>2]|0;c[s+12>>2]=b;c[b+8>>2]=s}}while(0);do{if(g){a=c[i+28>>2]|0;d=70680+(a<<2)|0;if((i|0)==(c[d>>2]|0)){c[d>>2]=b;if(!b){e=e&~(1<<a);c[17595]=e;break}}else{s=g+16|0;c[((c[s>>2]|0)==(i|0)?s:g+20|0)>>2]=b;if(!b)break}c[b+24>>2]=g;a=c[i+16>>2]|0;if(a|0){c[b+16>>2]=a;c[a+24>>2]=b}a=c[i+20>>2]|0;if(a){c[b+20>>2]=a;c[a+24>>2]=b}}}while(0);b:do{if(h>>>0<16){s=h+k|0;c[i+4>>2]=s|3;s=i+s+4|0;c[s>>2]=c[s>>2]|1}else{c[i+4>>2]=k|3;c[l+4>>2]=h|1;c[l+h>>2]=h;b=h>>>3;if(h>>>0<256){d=70416+(b<<1<<2)|0;a=c[17594]|0;b=1<<b;if(!(a&b)){c[17594]=a|b;b=d;a=d+8|0}else{a=d+8|0;b=c[a>>2]|0}c[a>>2]=l;c[b+12>>2]=l;c[l+8>>2]=b;c[l+12>>2]=d;break}b=h>>>8;if(b)if(h>>>0>16777215)d=31;else{r=(b+1048320|0)>>>16&8;s=b<<r;q=(s+520192|0)>>>16&4;s=s<<q;d=(s+245760|0)>>>16&2;d=14-(q|r|d)+(s<<d>>>15)|0;d=h>>>(d+7|0)&1|d<<1}else d=0;b=70680+(d<<2)|0;c[l+28>>2]=d;a=l+16|0;c[a+4>>2]=0;c[a>>2]=0;a=1<<d;if(!(a&e)){c[17595]=a|e;c[b>>2]=l;c[l+24>>2]=b;c[l+12>>2]=l;c[l+8>>2]=l;break}b=c[b>>2]|0;c:do{if((c[b+4>>2]&-8|0)!=(h|0)){e=h<<((d|0)==31?0:25-(d>>>1)|0);while(1){d=b+16+(e>>>31<<2)|0;a=c[d>>2]|0;if(!a)break;if((c[a+4>>2]&-8|0)==(h|0)){b=a;break c}else{e=e<<1;b=a}}c[d>>2]=l;c[l+24>>2]=b;c[l+12>>2]=l;c[l+8>>2]=l;break b}}while(0);r=b+8|0;s=c[r>>2]|0;c[s+12>>2]=l;c[r>>2]=l;c[l+8>>2]=s;c[l+12>>2]=b;c[l+24>>2]=0}}while(0);s=i+8|0;E=t;return s|0}else m=k}else m=k}else m=-1}while(0);d=c[17596]|0;if(d>>>0>=m>>>0){b=d-m|0;a=c[17599]|0;if(b>>>0>15){s=a+m|0;c[17599]=s;c[17596]=b;c[s+4>>2]=b|1;c[a+d>>2]=b;c[a+4>>2]=m|3}else{c[17596]=0;c[17599]=0;c[a+4>>2]=d|3;s=a+d+4|0;c[s>>2]=c[s>>2]|1}s=a+8|0;E=t;return s|0}h=c[17597]|0;if(h>>>0>m>>>0){q=h-m|0;c[17597]=q;s=c[17600]|0;r=s+m|0;c[17600]=r;c[r+4>>2]=q|1;c[s+4>>2]=m|3;s=s+8|0;E=t;return s|0}if(!(c[17712]|0)){c[17714]=4096;c[17713]=4096;c[17715]=-1;c[17716]=-1;c[17717]=0;c[17705]=0;c[17712]=n&-16^1431655768;a=4096}else a=c[17714]|0;i=m+48|0;j=m+47|0;g=a+j|0;f=0-a|0;k=g&f;if(k>>>0<=m>>>0){s=0;E=t;return s|0}a=c[17704]|0;if(a|0?(l=c[17702]|0,n=l+k|0,n>>>0<=l>>>0|n>>>0>a>>>0):0){s=0;E=t;return s|0}d:do{if(!(c[17705]&4)){e=c[17600]|0;e:do{if(e){a=70824;while(1){d=c[a>>2]|0;if(d>>>0<=e>>>0?(q=a+4|0,(d+(c[q>>2]|0)|0)>>>0>e>>>0):0)break;a=c[a+8>>2]|0;if(!a){r=128;break e}}b=g-h&f;if(b>>>0<2147483647){e=gc(b|0)|0;if((e|0)==((c[a>>2]|0)+(c[q>>2]|0)|0)){if((e|0)!=(-1|0))break d}else r=136}else b=0}else r=128}while(0);do{if((r|0)==128){a=gc(0)|0;if((a|0)!=(-1|0)?(b=a,o=c[17713]|0,p=o+-1|0,b=((p&b|0)==0?0:(p+b&0-o)-b|0)+k|0,o=c[17702]|0,p=b+o|0,b>>>0>m>>>0&b>>>0<2147483647):0){q=c[17704]|0;if(q|0?p>>>0<=o>>>0|p>>>0>q>>>0:0){b=0;break}e=gc(b|0)|0;if((e|0)==(a|0)){e=a;break d}else r=136}else b=0}}while(0);do{if((r|0)==136){d=0-b|0;if(!(i>>>0>b>>>0&(b>>>0<2147483647&(e|0)!=(-1|0))))if((e|0)==(-1|0)){b=0;break}else break d;a=c[17714]|0;a=j-b+a&0-a;if(a>>>0>=2147483647)break d;if((gc(a|0)|0)==(-1|0)){gc(d|0)|0;b=0;break}else{b=a+b|0;break d}}}while(0);c[17705]=c[17705]|4;r=143}else{b=0;r=143}}while(0);if((r|0)==143){if(k>>>0>=2147483647){s=0;E=t;return s|0}e=gc(k|0)|0;q=gc(0)|0;a=q-e|0;d=a>>>0>(m+40|0)>>>0;if((e|0)==(-1|0)|d^1|e>>>0<q>>>0&((e|0)!=(-1|0)&(q|0)!=(-1|0))^1){s=0;E=t;return s|0}else b=d?a:b}a=(c[17702]|0)+b|0;c[17702]=a;if(a>>>0>(c[17703]|0)>>>0)c[17703]=a;j=c[17600]|0;f:do{if(j){a=70824;while(1){d=c[a>>2]|0;f=a+4|0;g=c[f>>2]|0;if((e|0)==(d+g|0)){r=154;break}h=c[a+8>>2]|0;if(!h)break;else a=h}if(((r|0)==154?(c[a+12>>2]&8|0)==0:0)?e>>>0>j>>>0&d>>>0<=j>>>0:0){c[f>>2]=g+b;s=(c[17597]|0)+b|0;q=j+8|0;q=(q&7|0)==0?0:0-q&7;r=j+q|0;q=s-q|0;c[17600]=r;c[17597]=q;c[r+4>>2]=q|1;c[j+s+4>>2]=40;c[17601]=c[17716];break}if(e>>>0<(c[17598]|0)>>>0)c[17598]=e;f=e+b|0;a=70824;while(1){if((c[a>>2]|0)==(f|0)){r=162;break}d=c[a+8>>2]|0;if(!d)break;else a=d}if((r|0)==162?(c[a+12>>2]&8|0)==0:0){c[a>>2]=e;l=a+4|0;c[l>>2]=(c[l>>2]|0)+b;l=e+8|0;l=e+((l&7|0)==0?0:0-l&7)|0;b=f+8|0;b=f+((b&7|0)==0?0:0-b&7)|0;k=l+m|0;i=b-l-m|0;c[l+4>>2]=m|3;g:do{if((j|0)==(b|0)){s=(c[17597]|0)+i|0;c[17597]=s;c[17600]=k;c[k+4>>2]=s|1}else{if((c[17599]|0)==(b|0)){s=(c[17596]|0)+i|0;c[17596]=s;c[17599]=k;c[k+4>>2]=s|1;c[k+s>>2]=s;break}a=c[b+4>>2]|0;if((a&3|0)==1){h=a&-8;e=a>>>3;h:do{if(a>>>0<256){a=c[b+8>>2]|0;d=c[b+12>>2]|0;if((d|0)==(a|0)){c[17594]=c[17594]&~(1<<e);break}else{c[a+12>>2]=d;c[d+8>>2]=a;break}}else{g=c[b+24>>2]|0;a=c[b+12>>2]|0;do{if((a|0)==(b|0)){d=b+16|0;e=d+4|0;a=c[e>>2]|0;if(!a){a=c[d>>2]|0;if(!a){a=0;break}}else d=e;while(1){f=a+20|0;e=c[f>>2]|0;if(!e){f=a+16|0;e=c[f>>2]|0;if(!e)break;else{a=e;d=f}}else{a=e;d=f}}c[d>>2]=0}else{s=c[b+8>>2]|0;c[s+12>>2]=a;c[a+8>>2]=s}}while(0);if(!g)break;d=c[b+28>>2]|0;e=70680+(d<<2)|0;do{if((c[e>>2]|0)!=(b|0)){s=g+16|0;c[((c[s>>2]|0)==(b|0)?s:g+20|0)>>2]=a;if(!a)break h}else{c[e>>2]=a;if(a|0)break;c[17595]=c[17595]&~(1<<d);break h}}while(0);c[a+24>>2]=g;d=b+16|0;e=c[d>>2]|0;if(e|0){c[a+16>>2]=e;c[e+24>>2]=a}d=c[d+4>>2]|0;if(!d)break;c[a+20>>2]=d;c[d+24>>2]=a}}while(0);b=b+h|0;f=h+i|0}else f=i;b=b+4|0;c[b>>2]=c[b>>2]&-2;c[k+4>>2]=f|1;c[k+f>>2]=f;b=f>>>3;if(f>>>0<256){d=70416+(b<<1<<2)|0;a=c[17594]|0;b=1<<b;if(!(a&b)){c[17594]=a|b;b=d;a=d+8|0}else{a=d+8|0;b=c[a>>2]|0}c[a>>2]=k;c[b+12>>2]=k;c[k+8>>2]=b;c[k+12>>2]=d;break}b=f>>>8;do{if(!b)e=0;else{if(f>>>0>16777215){e=31;break}r=(b+1048320|0)>>>16&8;s=b<<r;q=(s+520192|0)>>>16&4;s=s<<q;e=(s+245760|0)>>>16&2;e=14-(q|r|e)+(s<<e>>>15)|0;e=f>>>(e+7|0)&1|e<<1}}while(0);b=70680+(e<<2)|0;c[k+28>>2]=e;a=k+16|0;c[a+4>>2]=0;c[a>>2]=0;a=c[17595]|0;d=1<<e;if(!(a&d)){c[17595]=a|d;c[b>>2]=k;c[k+24>>2]=b;c[k+12>>2]=k;c[k+8>>2]=k;break}b=c[b>>2]|0;i:do{if((c[b+4>>2]&-8|0)!=(f|0)){e=f<<((e|0)==31?0:25-(e>>>1)|0);while(1){d=b+16+(e>>>31<<2)|0;a=c[d>>2]|0;if(!a)break;if((c[a+4>>2]&-8|0)==(f|0)){b=a;break i}else{e=e<<1;b=a}}c[d>>2]=k;c[k+24>>2]=b;c[k+12>>2]=k;c[k+8>>2]=k;break g}}while(0);r=b+8|0;s=c[r>>2]|0;c[s+12>>2]=k;c[r>>2]=k;c[k+8>>2]=s;c[k+12>>2]=b;c[k+24>>2]=0}}while(0);s=l+8|0;E=t;return s|0}a=70824;while(1){d=c[a>>2]|0;if(d>>>0<=j>>>0?(s=d+(c[a+4>>2]|0)|0,s>>>0>j>>>0):0)break;a=c[a+8>>2]|0}f=s+-47|0;a=f+8|0;a=f+((a&7|0)==0?0:0-a&7)|0;f=j+16|0;a=a>>>0<f>>>0?j:a;r=a+8|0;d=b+-40|0;p=e+8|0;p=(p&7|0)==0?0:0-p&7;q=e+p|0;p=d-p|0;c[17600]=q;c[17597]=p;c[q+4>>2]=p|1;c[e+d+4>>2]=40;c[17601]=c[17716];d=a+4|0;c[d>>2]=27;c[r>>2]=c[17706];c[r+4>>2]=c[17707];c[r+8>>2]=c[17708];c[r+12>>2]=c[17709];c[17706]=e;c[17707]=b;c[17709]=0;c[17708]=r;b=a+24|0;do{r=b;b=b+4|0;c[b>>2]=7}while((r+8|0)>>>0<s>>>0);if((a|0)!=(j|0)){g=a-j|0;c[d>>2]=c[d>>2]&-2;c[j+4>>2]=g|1;c[a>>2]=g;b=g>>>3;if(g>>>0<256){d=70416+(b<<1<<2)|0;a=c[17594]|0;b=1<<b;if(!(a&b)){c[17594]=a|b;b=d;a=d+8|0}else{a=d+8|0;b=c[a>>2]|0}c[a>>2]=j;c[b+12>>2]=j;c[j+8>>2]=b;c[j+12>>2]=d;break}b=g>>>8;if(b)if(g>>>0>16777215)e=31;else{r=(b+1048320|0)>>>16&8;s=b<<r;q=(s+520192|0)>>>16&4;s=s<<q;e=(s+245760|0)>>>16&2;e=14-(q|r|e)+(s<<e>>>15)|0;e=g>>>(e+7|0)&1|e<<1}else e=0;d=70680+(e<<2)|0;c[j+28>>2]=e;c[j+20>>2]=0;c[f>>2]=0;b=c[17595]|0;a=1<<e;if(!(b&a)){c[17595]=b|a;c[d>>2]=j;c[j+24>>2]=d;c[j+12>>2]=j;c[j+8>>2]=j;break}b=c[d>>2]|0;j:do{if((c[b+4>>2]&-8|0)!=(g|0)){e=g<<((e|0)==31?0:25-(e>>>1)|0);while(1){d=b+16+(e>>>31<<2)|0;a=c[d>>2]|0;if(!a)break;if((c[a+4>>2]&-8|0)==(g|0)){b=a;break j}else{e=e<<1;b=a}}c[d>>2]=j;c[j+24>>2]=b;c[j+12>>2]=j;c[j+8>>2]=j;break f}}while(0);r=b+8|0;s=c[r>>2]|0;c[s+12>>2]=j;c[r>>2]=j;c[j+8>>2]=s;c[j+12>>2]=b;c[j+24>>2]=0}}else{s=c[17598]|0;if((s|0)==0|e>>>0<s>>>0)c[17598]=e;c[17706]=e;c[17707]=b;c[17709]=0;c[17603]=c[17712];c[17602]=-1;c[17607]=70416;c[17606]=70416;c[17609]=70424;c[17608]=70424;c[17611]=70432;c[17610]=70432;c[17613]=70440;c[17612]=70440;c[17615]=70448;c[17614]=70448;c[17617]=70456;c[17616]=70456;c[17619]=70464;c[17618]=70464;c[17621]=70472;c[17620]=70472;c[17623]=70480;c[17622]=70480;c[17625]=70488;c[17624]=70488;c[17627]=70496;c[17626]=70496;c[17629]=70504;c[17628]=70504;c[17631]=70512;c[17630]=70512;c[17633]=70520;c[17632]=70520;c[17635]=70528;c[17634]=70528;c[17637]=70536;c[17636]=70536;c[17639]=70544;c[17638]=70544;c[17641]=70552;c[17640]=70552;c[17643]=70560;c[17642]=70560;c[17645]=70568;c[17644]=70568;c[17647]=70576;c[17646]=70576;c[17649]=70584;c[17648]=70584;c[17651]=70592;c[17650]=70592;c[17653]=70600;c[17652]=70600;c[17655]=70608;c[17654]=70608;c[17657]=70616;c[17656]=70616;c[17659]=70624;c[17658]=70624;c[17661]=70632;c[17660]=70632;c[17663]=70640;c[17662]=70640;c[17665]=70648;c[17664]=70648;c[17667]=70656;c[17666]=70656;c[17669]=70664;c[17668]=70664;s=b+-40|0;q=e+8|0;q=(q&7|0)==0?0:0-q&7;r=e+q|0;q=s-q|0;c[17600]=r;c[17597]=q;c[r+4>>2]=q|1;c[e+s+4>>2]=40;c[17601]=c[17716]}}while(0);b=c[17597]|0;if(b>>>0<=m>>>0){s=0;E=t;return s|0}q=b-m|0;c[17597]=q;s=c[17600]|0;r=s+m|0;c[17600]=r;c[r+4>>2]=q|1;c[s+4>>2]=m|3;s=s+8|0;E=t;return s|0}function Bb(a){a=a|0;var b=0,d=0,e=0,f=0,g=0,h=0,i=0,j=0;if(!a)return;d=a+-8|0;f=c[17598]|0;a=c[a+-4>>2]|0;b=a&-8;j=d+b|0;do{if(!(a&1)){e=c[d>>2]|0;if(!(a&3))return;h=d+(0-e)|0;g=e+b|0;if(h>>>0<f>>>0)return;if((c[17599]|0)==(h|0)){a=j+4|0;b=c[a>>2]|0;if((b&3|0)!=3){i=h;b=g;break}c[17596]=g;c[a>>2]=b&-2;c[h+4>>2]=g|1;c[h+g>>2]=g;return}d=e>>>3;if(e>>>0<256){a=c[h+8>>2]|0;b=c[h+12>>2]|0;if((b|0)==(a|0)){c[17594]=c[17594]&~(1<<d);i=h;b=g;break}else{c[a+12>>2]=b;c[b+8>>2]=a;i=h;b=g;break}}f=c[h+24>>2]|0;a=c[h+12>>2]|0;do{if((a|0)==(h|0)){b=h+16|0;d=b+4|0;a=c[d>>2]|0;if(!a){a=c[b>>2]|0;if(!a){a=0;break}}else b=d;while(1){e=a+20|0;d=c[e>>2]|0;if(!d){e=a+16|0;d=c[e>>2]|0;if(!d)break;else{a=d;b=e}}else{a=d;b=e}}c[b>>2]=0}else{i=c[h+8>>2]|0;c[i+12>>2]=a;c[a+8>>2]=i}}while(0);if(f){b=c[h+28>>2]|0;d=70680+(b<<2)|0;if((c[d>>2]|0)==(h|0)){c[d>>2]=a;if(!a){c[17595]=c[17595]&~(1<<b);i=h;b=g;break}}else{i=f+16|0;c[((c[i>>2]|0)==(h|0)?i:f+20|0)>>2]=a;if(!a){i=h;b=g;break}}c[a+24>>2]=f;b=h+16|0;d=c[b>>2]|0;if(d|0){c[a+16>>2]=d;c[d+24>>2]=a}b=c[b+4>>2]|0;if(b){c[a+20>>2]=b;c[b+24>>2]=a;i=h;b=g}else{i=h;b=g}}else{i=h;b=g}}else{i=d;h=d}}while(0);if(h>>>0>=j>>>0)return;a=j+4|0;e=c[a>>2]|0;if(!(e&1))return;if(!(e&2)){if((c[17600]|0)==(j|0)){j=(c[17597]|0)+b|0;c[17597]=j;c[17600]=i;c[i+4>>2]=j|1;if((i|0)!=(c[17599]|0))return;c[17599]=0;c[17596]=0;return}if((c[17599]|0)==(j|0)){j=(c[17596]|0)+b|0;c[17596]=j;c[17599]=h;c[i+4>>2]=j|1;c[h+j>>2]=j;return}f=(e&-8)+b|0;d=e>>>3;do{if(e>>>0<256){b=c[j+8>>2]|0;a=c[j+12>>2]|0;if((a|0)==(b|0)){c[17594]=c[17594]&~(1<<d);break}else{c[b+12>>2]=a;c[a+8>>2]=b;break}}else{g=c[j+24>>2]|0;a=c[j+12>>2]|0;do{if((a|0)==(j|0)){b=j+16|0;d=b+4|0;a=c[d>>2]|0;if(!a){a=c[b>>2]|0;if(!a){d=0;break}}else b=d;while(1){e=a+20|0;d=c[e>>2]|0;if(!d){e=a+16|0;d=c[e>>2]|0;if(!d)break;else{a=d;b=e}}else{a=d;b=e}}c[b>>2]=0;d=a}else{d=c[j+8>>2]|0;c[d+12>>2]=a;c[a+8>>2]=d;d=a}}while(0);if(g|0){a=c[j+28>>2]|0;b=70680+(a<<2)|0;if((c[b>>2]|0)==(j|0)){c[b>>2]=d;if(!d){c[17595]=c[17595]&~(1<<a);break}}else{e=g+16|0;c[((c[e>>2]|0)==(j|0)?e:g+20|0)>>2]=d;if(!d)break}c[d+24>>2]=g;a=j+16|0;b=c[a>>2]|0;if(b|0){c[d+16>>2]=b;c[b+24>>2]=d}a=c[a+4>>2]|0;if(a|0){c[d+20>>2]=a;c[a+24>>2]=d}}}}while(0);c[i+4>>2]=f|1;c[h+f>>2]=f;if((i|0)==(c[17599]|0)){c[17596]=f;return}}else{c[a>>2]=e&-2;c[i+4>>2]=b|1;c[h+b>>2]=b;f=b}a=f>>>3;if(f>>>0<256){d=70416+(a<<1<<2)|0;b=c[17594]|0;a=1<<a;if(!(b&a)){c[17594]=b|a;a=d;b=d+8|0}else{b=d+8|0;a=c[b>>2]|0}c[b>>2]=i;c[a+12>>2]=i;c[i+8>>2]=a;c[i+12>>2]=d;return}a=f>>>8;if(a)if(f>>>0>16777215)e=31;else{h=(a+1048320|0)>>>16&8;j=a<<h;g=(j+520192|0)>>>16&4;j=j<<g;e=(j+245760|0)>>>16&2;e=14-(g|h|e)+(j<<e>>>15)|0;e=f>>>(e+7|0)&1|e<<1}else e=0;a=70680+(e<<2)|0;c[i+28>>2]=e;c[i+20>>2]=0;c[i+16>>2]=0;b=c[17595]|0;d=1<<e;a:do{if(!(b&d)){c[17595]=b|d;c[a>>2]=i;c[i+24>>2]=a;c[i+12>>2]=i;c[i+8>>2]=i}else{a=c[a>>2]|0;b:do{if((c[a+4>>2]&-8|0)!=(f|0)){e=f<<((e|0)==31?0:25-(e>>>1)|0);while(1){d=a+16+(e>>>31<<2)|0;b=c[d>>2]|0;if(!b)break;if((c[b+4>>2]&-8|0)==(f|0)){a=b;break b}else{e=e<<1;a=b}}c[d>>2]=i;c[i+24>>2]=a;c[i+12>>2]=i;c[i+8>>2]=i;break a}}while(0);h=a+8|0;j=c[h>>2]|0;c[j+12>>2]=i;c[h>>2]=i;c[i+8>>2]=j;c[i+12>>2]=a;c[i+24>>2]=0}}while(0);j=(c[17602]|0)+-1|0;c[17602]=j;if(j|0)return;a=70832;while(1){a=c[a>>2]|0;if(!a)break;else a=a+8|0}c[17602]=-1;return}function Cb(a,b){a=a|0;b=b|0;var d=0,e=0;if(!a){b=Ab(b)|0;return b|0}if(b>>>0>4294967231){b=0;return b|0}d=Db(a+-8|0,b>>>0<11?16:b+11&-8)|0;if(d|0){b=d+8|0;return b|0}d=Ab(b)|0;if(!d){b=0;return b|0}e=c[a+-4>>2]|0;e=(e&-8)-((e&3|0)==0?8:4)|0;ec(d|0,a|0,(e>>>0<b>>>0?e:b)|0)|0;Bb(a);b=d;return b|0}function Db(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0;l=a+4|0;m=c[l>>2]|0;d=m&-8;i=a+d|0;if(!(m&3)){if(b>>>0<256){a=0;return a|0}if(d>>>0>=(b+4|0)>>>0?(d-b|0)>>>0<=c[17714]<<1>>>0:0)return a|0;a=0;return a|0}if(d>>>0>=b>>>0){d=d-b|0;if(d>>>0<=15)return a|0;k=a+b|0;c[l>>2]=m&1|b|2;c[k+4>>2]=d|3;m=i+4|0;c[m>>2]=c[m>>2]|1;Eb(k,d);return a|0}if((c[17600]|0)==(i|0)){k=(c[17597]|0)+d|0;d=k-b|0;e=a+b|0;if(k>>>0<=b>>>0){a=0;return a|0}c[l>>2]=m&1|b|2;c[e+4>>2]=d|1;c[17600]=e;c[17597]=d;return a|0}if((c[17599]|0)==(i|0)){e=(c[17596]|0)+d|0;if(e>>>0<b>>>0){a=0;return a|0}d=e-b|0;if(d>>>0>15){k=a+b|0;e=a+e|0;c[l>>2]=m&1|b|2;c[k+4>>2]=d|1;c[e>>2]=d;e=e+4|0;c[e>>2]=c[e>>2]&-2;e=k}else{c[l>>2]=m&1|e|2;e=a+e+4|0;c[e>>2]=c[e>>2]|1;e=0;d=0}c[17596]=d;c[17599]=e;return a|0}e=c[i+4>>2]|0;if(e&2|0){a=0;return a|0}j=(e&-8)+d|0;if(j>>>0<b>>>0){a=0;return a|0}k=j-b|0;f=e>>>3;do{if(e>>>0<256){e=c[i+8>>2]|0;d=c[i+12>>2]|0;if((d|0)==(e|0)){c[17594]=c[17594]&~(1<<f);break}else{c[e+12>>2]=d;c[d+8>>2]=e;break}}else{h=c[i+24>>2]|0;d=c[i+12>>2]|0;do{if((d|0)==(i|0)){e=i+16|0;f=e+4|0;d=c[f>>2]|0;if(!d){d=c[e>>2]|0;if(!d){f=0;break}}else e=f;while(1){g=d+20|0;f=c[g>>2]|0;if(!f){g=d+16|0;f=c[g>>2]|0;if(!f)break;else{d=f;e=g}}else{d=f;e=g}}c[e>>2]=0;f=d}else{f=c[i+8>>2]|0;c[f+12>>2]=d;c[d+8>>2]=f;f=d}}while(0);if(h|0){d=c[i+28>>2]|0;e=70680+(d<<2)|0;if((c[e>>2]|0)==(i|0)){c[e>>2]=f;if(!f){c[17595]=c[17595]&~(1<<d);break}}else{g=h+16|0;c[((c[g>>2]|0)==(i|0)?g:h+20|0)>>2]=f;if(!f)break}c[f+24>>2]=h;d=i+16|0;e=c[d>>2]|0;if(e|0){c[f+16>>2]=e;c[e+24>>2]=f}d=c[d+4>>2]|0;if(d|0){c[f+20>>2]=d;c[d+24>>2]=f}}}}while(0);if(k>>>0<16){c[l>>2]=m&1|j|2;m=a+j+4|0;c[m>>2]=c[m>>2]|1;return a|0}else{i=a+b|0;c[l>>2]=m&1|b|2;c[i+4>>2]=k|3;m=a+j+4|0;c[m>>2]=c[m>>2]|1;Eb(i,k);return a|0}return 0}function Eb(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0;i=a+b|0;d=c[a+4>>2]|0;do{if(!(d&1)){f=c[a>>2]|0;if(!(d&3))return;h=a+(0-f)|0;b=f+b|0;if((c[17599]|0)==(h|0)){a=i+4|0;d=c[a>>2]|0;if((d&3|0)!=3)break;c[17596]=b;c[a>>2]=d&-2;c[h+4>>2]=b|1;c[i>>2]=b;return}e=f>>>3;if(f>>>0<256){a=c[h+8>>2]|0;d=c[h+12>>2]|0;if((d|0)==(a|0)){c[17594]=c[17594]&~(1<<e);break}else{c[a+12>>2]=d;c[d+8>>2]=a;break}}g=c[h+24>>2]|0;a=c[h+12>>2]|0;do{if((a|0)==(h|0)){d=h+16|0;e=d+4|0;a=c[e>>2]|0;if(!a){a=c[d>>2]|0;if(!a){a=0;break}}else d=e;while(1){f=a+20|0;e=c[f>>2]|0;if(!e){f=a+16|0;e=c[f>>2]|0;if(!e)break;else{a=e;d=f}}else{a=e;d=f}}c[d>>2]=0}else{f=c[h+8>>2]|0;c[f+12>>2]=a;c[a+8>>2]=f}}while(0);if(g){d=c[h+28>>2]|0;e=70680+(d<<2)|0;if((c[e>>2]|0)==(h|0)){c[e>>2]=a;if(!a){c[17595]=c[17595]&~(1<<d);break}}else{f=g+16|0;c[((c[f>>2]|0)==(h|0)?f:g+20|0)>>2]=a;if(!a)break}c[a+24>>2]=g;d=h+16|0;e=c[d>>2]|0;if(e|0){c[a+16>>2]=e;c[e+24>>2]=a}d=c[d+4>>2]|0;if(d){c[a+20>>2]=d;c[d+24>>2]=a}}}else h=a}while(0);a=i+4|0;e=c[a>>2]|0;if(!(e&2)){if((c[17600]|0)==(i|0)){i=(c[17597]|0)+b|0;c[17597]=i;c[17600]=h;c[h+4>>2]=i|1;if((h|0)!=(c[17599]|0))return;c[17599]=0;c[17596]=0;return}if((c[17599]|0)==(i|0)){i=(c[17596]|0)+b|0;c[17596]=i;c[17599]=h;c[h+4>>2]=i|1;c[h+i>>2]=i;return}f=(e&-8)+b|0;d=e>>>3;do{if(e>>>0<256){a=c[i+8>>2]|0;b=c[i+12>>2]|0;if((b|0)==(a|0)){c[17594]=c[17594]&~(1<<d);break}else{c[a+12>>2]=b;c[b+8>>2]=a;break}}else{g=c[i+24>>2]|0;b=c[i+12>>2]|0;do{if((b|0)==(i|0)){a=i+16|0;d=a+4|0;b=c[d>>2]|0;if(!b){b=c[a>>2]|0;if(!b){d=0;break}}else a=d;while(1){e=b+20|0;d=c[e>>2]|0;if(!d){e=b+16|0;d=c[e>>2]|0;if(!d)break;else{b=d;a=e}}else{b=d;a=e}}c[a>>2]=0;d=b}else{d=c[i+8>>2]|0;c[d+12>>2]=b;c[b+8>>2]=d;d=b}}while(0);if(g|0){b=c[i+28>>2]|0;a=70680+(b<<2)|0;if((c[a>>2]|0)==(i|0)){c[a>>2]=d;if(!d){c[17595]=c[17595]&~(1<<b);break}}else{e=g+16|0;c[((c[e>>2]|0)==(i|0)?e:g+20|0)>>2]=d;if(!d)break}c[d+24>>2]=g;b=i+16|0;a=c[b>>2]|0;if(a|0){c[d+16>>2]=a;c[a+24>>2]=d}b=c[b+4>>2]|0;if(b|0){c[d+20>>2]=b;c[b+24>>2]=d}}}}while(0);c[h+4>>2]=f|1;c[h+f>>2]=f;if((h|0)==(c[17599]|0)){c[17596]=f;return}}else{c[a>>2]=e&-2;c[h+4>>2]=b|1;c[h+b>>2]=b;f=b}b=f>>>3;if(f>>>0<256){d=70416+(b<<1<<2)|0;a=c[17594]|0;b=1<<b;if(!(a&b)){c[17594]=a|b;b=d;a=d+8|0}else{a=d+8|0;b=c[a>>2]|0}c[a>>2]=h;c[b+12>>2]=h;c[h+8>>2]=b;c[h+12>>2]=d;return}b=f>>>8;if(b)if(f>>>0>16777215)e=31;else{g=(b+1048320|0)>>>16&8;i=b<<g;d=(i+520192|0)>>>16&4;i=i<<d;e=(i+245760|0)>>>16&2;e=14-(d|g|e)+(i<<e>>>15)|0;e=f>>>(e+7|0)&1|e<<1}else e=0;b=70680+(e<<2)|0;c[h+28>>2]=e;c[h+20>>2]=0;c[h+16>>2]=0;a=c[17595]|0;d=1<<e;if(!(a&d)){c[17595]=a|d;c[b>>2]=h;c[h+24>>2]=b;c[h+12>>2]=h;c[h+8>>2]=h;return}b=c[b>>2]|0;a:do{if((c[b+4>>2]&-8|0)!=(f|0)){e=f<<((e|0)==31?0:25-(e>>>1)|0);while(1){d=b+16+(e>>>31<<2)|0;a=c[d>>2]|0;if(!a)break;if((c[a+4>>2]&-8|0)==(f|0)){b=a;break a}else{e=e<<1;b=a}}c[d>>2]=h;c[h+24>>2]=b;c[h+12>>2]=h;c[h+8>>2]=h;return}}while(0);g=b+8|0;i=c[g>>2]|0;c[i+12>>2]=h;c[g>>2]=h;c[h+8>>2]=i;c[h+12>>2]=b;c[h+24>>2]=0;return}function Fb(a,b){a=a|0;b=b|0;if(a>>>0<9){b=Ab(b)|0;return b|0}else{b=Gb(a,b)|0;return b|0}return 0}function Gb(a,b){a=a|0;b=b|0;var d=0,e=0,f=0,g=0,h=0,i=0;d=a>>>0>16?a:16;if(!(d+-1&d))a=d;else{a=16;while(1)if(a>>>0<d>>>0)a=a<<1;else break}if((-64-a|0)>>>0<=b>>>0){h=0;return h|0}g=b>>>0<11?16:b+11&-8;d=Ab(g+12+a|0)|0;if(!d){h=0;return h|0}f=d+-8|0;do{if(a+-1&d){e=(d+a+-1&0-a)+-8|0;b=f;e=(e-b|0)>>>0>15?e:e+a|0;b=e-b|0;a=d+-4|0;i=c[a>>2]|0;d=(i&-8)-b|0;if(!(i&3)){c[e>>2]=(c[f>>2]|0)+b;c[e+4>>2]=d;a=e;b=e;break}else{i=e+4|0;c[i>>2]=d|c[i>>2]&1|2;d=e+d+4|0;c[d>>2]=c[d>>2]|1;c[a>>2]=b|c[a>>2]&1|2;c[i>>2]=c[i>>2]|1;Eb(f,b);a=e;b=e;break}}else{a=f;b=f}}while(0);a=a+4|0;d=c[a>>2]|0;if(d&3|0?(h=d&-8,h>>>0>(g+16|0)>>>0):0){i=h-g|0;f=b+g|0;c[a>>2]=g|d&1|2;c[f+4>>2]=i|3;h=b+h+4|0;c[h>>2]=c[h>>2]|1;Eb(f,i)}i=b+8|0;return i|0}function Hb(){t(70888);return}function Ib(){return 70872}function Jb(){return 70880}function Kb(){return 70884}function Lb(){return 70888}function Mb(a){a=a|0;return}function Nb(a){a=a|0;bc(a);return}function Ob(a){a=a|0;return}function Pb(a){a=a|0;return}function Qb(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0;h=E;E=E+64|0;f=h;if(!(Ub(a,b)|0))if((b|0)!=0?(g=Yb(b,69792)|0,(g|0)!=0):0){b=f+4|0;e=b+52|0;do{c[b>>2]=0;b=b+4|0}while((b|0)<(e|0));c[f>>2]=g;c[f+8>>2]=a;c[f+12>>2]=-1;c[f+48>>2]=1;L[c[(c[g>>2]|0)+28>>2]&3](g,f,c[d>>2]|0,1);if((c[f+24>>2]|0)==1){c[d>>2]=c[f+16>>2];b=1}else b=0}else b=0;else b=1;E=h;return b|0}function Rb(a,b,d,e,f,g){a=a|0;b=b|0;d=d|0;e=e|0;f=f|0;g=g|0;if(Ub(a,c[b+8>>2]|0)|0)Xb(b,d,e,f);return}function Sb(b,d,e,f,g){b=b|0;d=d|0;e=e|0;f=f|0;g=g|0;var h=0;do{if(!(Ub(b,c[d+8>>2]|0)|0)){if(Ub(b,c[d>>2]|0)|0){if((c[d+16>>2]|0)!=(e|0)?(h=d+20|0,(c[h>>2]|0)!=(e|0)):0){c[d+32>>2]=f;c[h>>2]=e;g=d+40|0;c[g>>2]=(c[g>>2]|0)+1;if((c[d+36>>2]|0)==1?(c[d+24>>2]|0)==2:0)a[d+54>>0]=1;c[d+44>>2]=4;break}if((f|0)==1)c[d+32>>2]=1}}else Wb(d,e,f)}while(0);return}function Tb(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;if(Ub(a,c[b+8>>2]|0)|0)Vb(b,d,e);return}function Ub(a,b){a=a|0;b=b|0;return(a|0)==(b|0)|0}function Vb(b,d,e){b=b|0;d=d|0;e=e|0;var f=0,g=0;f=b+16|0;g=c[f>>2]|0;do{if(g){if((g|0)!=(d|0)){e=b+36|0;c[e>>2]=(c[e>>2]|0)+1;c[b+24>>2]=2;a[b+54>>0]=1;break}b=b+24|0;if((c[b>>2]|0)==2)c[b>>2]=e}else{c[f>>2]=d;c[b+24>>2]=e;c[b+36>>2]=1}}while(0);return}function Wb(a,b,d){a=a|0;b=b|0;d=d|0;var e=0;if((c[a+4>>2]|0)==(b|0)?(e=a+28|0,(c[e>>2]|0)!=1):0)c[e>>2]=d;return}function Xb(b,d,e,f){b=b|0;d=d|0;e=e|0;f=f|0;var g=0;a[b+53>>0]=1;do{if((c[b+4>>2]|0)==(e|0)){a[b+52>>0]=1;g=b+16|0;e=c[g>>2]|0;if(!e){c[g>>2]=d;c[b+24>>2]=f;c[b+36>>2]=1;if(!((f|0)==1?(c[b+48>>2]|0)==1:0))break;a[b+54>>0]=1;break}if((e|0)!=(d|0)){f=b+36|0;c[f>>2]=(c[f>>2]|0)+1;a[b+54>>0]=1;break}g=b+24|0;e=c[g>>2]|0;if((e|0)==2){c[g>>2]=f;e=f}if((e|0)==1?(c[b+48>>2]|0)==1:0)a[b+54>>0]=1}}while(0);return}function Yb(d,e){d=d|0;e=e|0;var f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0;q=E;E=E+64|0;n=q;p=c[d>>2]|0;o=d+(c[p+-8>>2]|0)|0;p=c[p+-4>>2]|0;c[n>>2]=e;c[n+4>>2]=d;c[n+8>>2]=69808;g=n+12|0;h=n+16|0;i=n+20|0;j=n+24|0;k=n+28|0;l=n+32|0;m=n+40|0;d=Ub(p,e)|0;e=g;f=e+40|0;do{c[e>>2]=0;e=e+4|0}while((e|0)<(f|0));b[g+40>>1]=0;a[g+42>>0]=0;a:do{if(d){c[n+48>>2]=1;N[c[(c[p>>2]|0)+20>>2]&3](p,n,o,o,1,0);d=(c[j>>2]|0)==1?o:0}else{M[c[(c[p>>2]|0)+24>>2]&3](p,n,o,1,0);switch(c[n+36>>2]|0){case 0:{d=(c[m>>2]|0)==1&(c[k>>2]|0)==1&(c[l>>2]|0)==1?c[i>>2]|0:0;break a}case 1:break;default:{d=0;break a}}if((c[j>>2]|0)!=1?!((c[m>>2]|0)==0&(c[k>>2]|0)==1&(c[l>>2]|0)==1):0){d=0;break}d=c[h>>2]|0}}while(0);E=q;return d|0}function Zb(a){a=a|0;bc(a);return}function _b(a,b,d,e,f,g){a=a|0;b=b|0;d=d|0;e=e|0;f=f|0;g=g|0;if(Ub(a,c[b+8>>2]|0)|0)Xb(b,d,e,f);else{a=c[a+8>>2]|0;N[c[(c[a>>2]|0)+20>>2]&3](a,b,d,e,f,g)}return}function $b(b,d,e,f,g){b=b|0;d=d|0;e=e|0;f=f|0;g=g|0;var h=0,i=0,j=0;do{if(!(Ub(b,c[d+8>>2]|0)|0)){if(!(Ub(b,c[d>>2]|0)|0)){i=c[b+8>>2]|0;M[c[(c[i>>2]|0)+24>>2]&3](i,d,e,f,g);break}if((c[d+16>>2]|0)!=(e|0)?(h=d+20|0,(c[h>>2]|0)!=(e|0)):0){c[d+32>>2]=f;i=d+44|0;if((c[i>>2]|0)==4)break;f=d+52|0;a[f>>0]=0;j=d+53|0;a[j>>0]=0;b=c[b+8>>2]|0;N[c[(c[b>>2]|0)+20>>2]&3](b,d,e,e,1,g);if(a[j>>0]|0)if(!(a[f>>0]|0)){f=1;b=11}else b=15;else{f=0;b=11}do{if((b|0)==11){c[h>>2]=e;j=d+40|0;c[j>>2]=(c[j>>2]|0)+1;if((c[d+36>>2]|0)==1?(c[d+24>>2]|0)==2:0){a[d+54>>0]=1;if(f){b=15;break}else{f=4;break}}if(f)b=15;else f=4}}while(0);if((b|0)==15)f=3;c[i>>2]=f;break}if((f|0)==1)c[d+32>>2]=1}else Wb(d,e,f)}while(0);return}function ac(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;if(Ub(a,c[b+8>>2]|0)|0)Vb(b,d,e);else{a=c[a+8>>2]|0;L[c[(c[a>>2]|0)+28>>2]&3](a,b,d,e)}return}function bc(a){a=a|0;Bb(a);return}function cc(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0;f=E;E=E+16|0;e=f;c[e>>2]=c[d>>2];a=J[c[(c[a>>2]|0)+16>>2]&1](a,b,e)|0;if(a)c[d>>2]=c[e>>2];E=f;return a&1|0}function dc(a){a=a|0;if(!a)a=0;else a=(Yb(a,69864)|0)!=0&1;return a|0}function ec(b,d,e){b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0;if((e|0)>=8192){A(b|0,d|0,e|0)|0;return b|0}h=b|0;g=b+e|0;if((b&3)==(d&3)){while(b&3){if(!e)return h|0;a[b>>0]=a[d>>0]|0;b=b+1|0;d=d+1|0;e=e-1|0}e=g&-4|0;f=e-64|0;while((b|0)<=(f|0)){c[b>>2]=c[d>>2];c[b+4>>2]=c[d+4>>2];c[b+8>>2]=c[d+8>>2];c[b+12>>2]=c[d+12>>2];c[b+16>>2]=c[d+16>>2];c[b+20>>2]=c[d+20>>2];c[b+24>>2]=c[d+24>>2];c[b+28>>2]=c[d+28>>2];c[b+32>>2]=c[d+32>>2];c[b+36>>2]=c[d+36>>2];c[b+40>>2]=c[d+40>>2];c[b+44>>2]=c[d+44>>2];c[b+48>>2]=c[d+48>>2];c[b+52>>2]=c[d+52>>2];c[b+56>>2]=c[d+56>>2];c[b+60>>2]=c[d+60>>2];b=b+64|0;d=d+64|0}while((b|0)<(e|0)){c[b>>2]=c[d>>2];b=b+4|0;d=d+4|0}}else{e=g-4|0;while((b|0)<(e|0)){a[b>>0]=a[d>>0]|0;a[b+1>>0]=a[d+1>>0]|0;a[b+2>>0]=a[d+2>>0]|0;a[b+3>>0]=a[d+3>>0]|0;b=b+4|0;d=d+4|0}}while((b|0)<(g|0)){a[b>>0]=a[d>>0]|0;b=b+1|0;d=d+1|0}return h|0}function fc(b,d,e){b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0;h=b+e|0;d=d&255;if((e|0)>=67){while(b&3){a[b>>0]=d;b=b+1|0}f=h&-4|0;i=d|d<<8|d<<16|d<<24;g=f-64|0;while((b|0)<=(g|0)){c[b>>2]=i;c[b+4>>2]=i;c[b+8>>2]=i;c[b+12>>2]=i;c[b+16>>2]=i;c[b+20>>2]=i;c[b+24>>2]=i;c[b+28>>2]=i;c[b+32>>2]=i;c[b+36>>2]=i;c[b+40>>2]=i;c[b+44>>2]=i;c[b+48>>2]=i;c[b+52>>2]=i;c[b+56>>2]=i;c[b+60>>2]=i;b=b+64|0}while((b|0)<(f|0)){c[b>>2]=i;b=b+4|0}}while((b|0)<(h|0)){a[b>>0]=d;b=b+1|0}return h-e|0}function gc(a){a=a|0;var b=0,d=0,e=0;e=z()|0;d=c[g>>2]|0;b=d+a|0;if((a|0)>0&(b|0)<(d|0)|(b|0)<0){C(b|0)|0;y(12);return-1}if((b|0)>(e|0))if(!(B(b|0)|0)){y(12);return-1}c[g>>2]=b;return d|0}function hc(a,b,c){a=a|0;b=b|0;c=c|0;return I[a&0](b|0,c|0)|0}function ic(a,b,c,d){a=a|0;b=b|0;c=c|0;d=d|0;return J[a&1](b|0,c|0,d|0)|0}function jc(a,b){a=a|0;b=b|0;K[a&7](b|0)}function kc(a,b,c,d,e){a=a|0;b=b|0;c=c|0;d=d|0;e=e|0;L[a&3](b|0,c|0,d|0,e|0)}function lc(a,b,c,d,e,f){a=a|0;b=b|0;c=c|0;d=d|0;e=e|0;f=f|0;M[a&3](b|0,c|0,d|0,e|0,f|0)}function mc(a,b,c,d,e,f,g){a=a|0;b=b|0;c=c|0;d=d|0;e=e|0;f=f|0;g=g|0;N[a&3](b|0,c|0,d|0,e|0,f|0,g|0)}function nc(a,b){a=a|0;b=b|0;p(0);return 0}function oc(a,b,c){a=a|0;b=b|0;c=c|0;p(1);return 0}function pc(a){a=a|0;p(2)}function qc(a,b,c,d){a=a|0;b=b|0;c=c|0;d=d|0;p(3)}function rc(a,b,c,d,e){a=a|0;b=b|0;c=c|0;d=d|0;e=e|0;p(4)}function sc(a,b,c,d,e,f){a=a|0;b=b|0;c=c|0;d=d|0;e=e|0;f=f|0;p(5)}var I=[nc];var J=[oc,Qb];var K=[pc,Mb,Nb,Ob,Pb,Zb,pc,pc];var L=[qc,Tb,ac,qc];var M=[rc,Sb,$b,rc];var N=[sc,Rb,_b,sc];return{___cxa_can_catch:cc,___cxa_is_pointer_type:dc,___emscripten_environ_constructor:Hb,__get_daylight:Jb,__get_environ:Lb,__get_timezone:Kb,__get_tzname:Ib,_bidi_getLine:Y,_bidi_getParagraphEndIndex:U,_bidi_getVisualRun:V,_bidi_processText:T,_bidi_setLine:W,_bidi_writeReverse:X,_emscripten_replace_memory:H,_free:Bb,_malloc:Ab,_memalign:Fb,_memcpy:ec,_memset:fc,_sbrk:gc,_ushape_arabic:S,dynCall_iii:hc,dynCall_iiii:ic,dynCall_vi:jc,dynCall_viiii:kc,dynCall_viiiii:lc,dynCall_viiiiii:mc,establishStackSpace:R,stackAlloc:O,stackRestore:Q,stackSave:P}}(asmGlobalArg,asmLibraryArg,buffer);var ___cxa_can_catch=Module["___cxa_can_catch"]=asm["___cxa_can_catch"];var ___cxa_is_pointer_type=Module["___cxa_is_pointer_type"]=asm["___cxa_is_pointer_type"];var ___emscripten_environ_constructor=Module["___emscripten_environ_constructor"]=asm["___emscripten_environ_constructor"];var __get_daylight=Module["__get_daylight"]=asm["__get_daylight"];var __get_environ=Module["__get_environ"]=asm["__get_environ"];var __get_timezone=Module["__get_timezone"]=asm["__get_timezone"];var __get_tzname=Module["__get_tzname"]=asm["__get_tzname"];var _bidi_getLine=Module["_bidi_getLine"]=asm["_bidi_getLine"];var _bidi_getParagraphEndIndex=Module["_bidi_getParagraphEndIndex"]=asm["_bidi_getParagraphEndIndex"];var _bidi_getVisualRun=Module["_bidi_getVisualRun"]=asm["_bidi_getVisualRun"];var _bidi_processText=Module["_bidi_processText"]=asm["_bidi_processText"];var _bidi_setLine=Module["_bidi_setLine"]=asm["_bidi_setLine"];var _bidi_writeReverse=Module["_bidi_writeReverse"]=asm["_bidi_writeReverse"];var _emscripten_replace_memory=Module["_emscripten_replace_memory"]=asm["_emscripten_replace_memory"];var _free=Module["_free"]=asm["_free"];var _malloc=Module["_malloc"]=asm["_malloc"];var _memalign=Module["_memalign"]=asm["_memalign"];var _memcpy=Module["_memcpy"]=asm["_memcpy"];var _memset=Module["_memset"]=asm["_memset"];var _sbrk=Module["_sbrk"]=asm["_sbrk"];var _ushape_arabic=Module["_ushape_arabic"]=asm["_ushape_arabic"];var establishStackSpace=Module["establishStackSpace"]=asm["establishStackSpace"];var stackAlloc=Module["stackAlloc"]=asm["stackAlloc"];var stackRestore=Module["stackRestore"]=asm["stackRestore"];var stackSave=Module["stackSave"]=asm["stackSave"];var dynCall_iii=Module["dynCall_iii"]=asm["dynCall_iii"];var dynCall_iiii=Module["dynCall_iiii"]=asm["dynCall_iiii"];var dynCall_vi=Module["dynCall_vi"]=asm["dynCall_vi"];var dynCall_viiii=Module["dynCall_viiii"]=asm["dynCall_viiii"];var dynCall_viiiii=Module["dynCall_viiiii"]=asm["dynCall_viiiii"];var dynCall_viiiiii=Module["dynCall_viiiiii"]=asm["dynCall_viiiiii"];Module["asm"]=asm;Module["ccall"]=ccall;Module["UTF16ToString"]=UTF16ToString;Module["stringToUTF16"]=stringToUTF16;if(memoryInitializer){if(!isDataURI(memoryInitializer)){memoryInitializer=locateFile(memoryInitializer)}if(ENVIRONMENT_IS_NODE||ENVIRONMENT_IS_SHELL){var data=Module["readBinary"](memoryInitializer);HEAPU8.set(data,GLOBAL_BASE)}else{addRunDependency("memory initializer");var applyMemoryInitializer=function(data){if(data.byteLength)data=new Uint8Array(data);HEAPU8.set(data,GLOBAL_BASE);if(Module["memoryInitializerRequest"])delete Module["memoryInitializerRequest"].response;removeRunDependency("memory initializer")};var doBrowserLoad=function(){Module["readAsync"](memoryInitializer,applyMemoryInitializer,function(){throw"could not load memory initializer "+memoryInitializer})};var memoryInitializerBytes=tryParseAsDataURI(memoryInitializer);if(memoryInitializerBytes){applyMemoryInitializer(memoryInitializerBytes.buffer)}else if(Module["memoryInitializerRequest"]){var useRequest=function(){var request=Module["memoryInitializerRequest"];var response=request.response;if(request.status!==200&&request.status!==0){var data=tryParseAsDataURI(Module["memoryInitializerRequestURL"]);if(data){response=data.buffer}else{console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+request.status+", retrying "+memoryInitializer);doBrowserLoad();return}}applyMemoryInitializer(response)};if(Module["memoryInitializerRequest"].response){setTimeout(useRequest,0)}else{Module["memoryInitializerRequest"].addEventListener("load",useRequest)}}else{doBrowserLoad()}}}function ExitStatus(status){this.name="ExitStatus";this.message="Program terminated with exit("+status+")";this.status=status}ExitStatus.prototype=new Error;ExitStatus.prototype.constructor=ExitStatus;dependenciesFulfilled=function runCaller(){if(!Module["calledRun"])run();if(!Module["calledRun"])dependenciesFulfilled=runCaller};function run(args){args=args||Module["arguments"];if(runDependencies>0){return}preRun();if(runDependencies>0)return;if(Module["calledRun"])return;function doRun(){if(Module["calledRun"])return;Module["calledRun"]=true;if(ABORT)return;ensureInitRuntime();preMain();if(Module["onRuntimeInitialized"])Module["onRuntimeInitialized"]();postRun()}if(Module["setStatus"]){Module["setStatus"]("Running...");setTimeout(function(){setTimeout(function(){Module["setStatus"]("")},1);doRun()},1)}else{doRun()}}Module["run"]=run;function abort(what){if(Module["onAbort"]){Module["onAbort"](what)}if(what!==undefined){out(what);err(what);what=JSON.stringify(what)}else{what=""}ABORT=true;EXITSTATUS=1;throw"abort("+what+"). Build with -s ASSERTIONS=1 for more info."}Module["abort"]=abort;if(Module["preInit"]){if(typeof Module["preInit"]=="function")Module["preInit"]=[Module["preInit"]];while(Module["preInit"].length>0){Module["preInit"].pop()()}}Module["noExitRuntime"]=true;run();"use strict";function applyArabicShaping(input){if(!input){return input}var nDataBytes=(input.length+1)*2;var stringInputPtr=Module._malloc(nDataBytes);Module.stringToUTF16(input,stringInputPtr,nDataBytes);var returnStringPtr=Module.ccall("ushape_arabic","number",["number","number"],[stringInputPtr,input.length]);Module._free(stringInputPtr);if(returnStringPtr===0){return input}var result=Module.UTF16ToString(returnStringPtr);Module._free(returnStringPtr);return result}function mergeParagraphLineBreakPoints(lineBreakPoints,paragraphCount){var mergedParagraphLineBreakPoints=[];for(var i=0;i<paragraphCount;i++){var paragraphEndIndex=Module.ccall("bidi_getParagraphEndIndex","number",["number"],[i]);for(var i$1=0,list=lineBreakPoints;i$1<list.length;i$1+=1){var lineBreakPoint=list[i$1];if(lineBreakPoint<paragraphEndIndex&&(!mergedParagraphLineBreakPoints[mergedParagraphLineBreakPoints.length-1]||lineBreakPoint>mergedParagraphLineBreakPoints[mergedParagraphLineBreakPoints.length-1])){mergedParagraphLineBreakPoints.push(lineBreakPoint)}}mergedParagraphLineBreakPoints.push(paragraphEndIndex)}for(var i$2=0,list$1=lineBreakPoints;i$2<list$1.length;i$2+=1){var lineBreakPoint$1=list$1[i$2];if(lineBreakPoint$1>mergedParagraphLineBreakPoints[mergedParagraphLineBreakPoints.length-1]){mergedParagraphLineBreakPoints.push(lineBreakPoint$1)}}return mergedParagraphLineBreakPoints}function setParagraph(input,stringInputPtr,nDataBytes){if(!input){return null}Module.stringToUTF16(input,stringInputPtr,nDataBytes);var paragraphCount=Module.ccall("bidi_processText","number",["number","number"],[stringInputPtr,input.length]);if(paragraphCount===0){Module._free(stringInputPtr);return null}return paragraphCount}function processBidirectionalText(input,lineBreakPoints){var nDataBytes=(input.length+1)*2;var stringInputPtr=Module._malloc(nDataBytes);var paragraphCount=setParagraph(input,stringInputPtr,nDataBytes);if(!paragraphCount){return[input]}var mergedParagraphLineBreakPoints=mergeParagraphLineBreakPoints(lineBreakPoints,paragraphCount);var lineStartIndex=0;var lines=[]\n;for(var i=0,list=mergedParagraphLineBreakPoints;i<list.length;i+=1){var lineBreakPoint=list[i];var returnStringPtr=Module.ccall("bidi_getLine","number",["number","number"],[lineStartIndex,lineBreakPoint]);if(returnStringPtr===0){Module._free(stringInputPtr);return[]}lines.push(Module.UTF16ToString(returnStringPtr));Module._free(returnStringPtr);lineStartIndex=lineBreakPoint}Module._free(stringInputPtr);return lines}function createInt32Ptr(){return Module._malloc(4)}function consumeInt32Ptr(ptr){var heapView=new Int32Array(Module.HEAPU8.buffer,ptr,1);var result=heapView[0];Module._free(ptr);return result}function writeReverse(stringInputPtr,logicalStart,logicalEnd){var returnStringPtr=Module.ccall("bidi_writeReverse","number",["number","number","number"],[stringInputPtr,logicalStart,logicalEnd-logicalStart]);if(returnStringPtr===0){return null}var reversed=Module.UTF16ToString(returnStringPtr);Module._free(returnStringPtr);return reversed}function processStyledBidirectionalText(text,styleIndices,lineBreakPoints){var nDataBytes=(text.length+1)*2;var stringInputPtr=Module._malloc(nDataBytes);var paragraphCount=setParagraph(text,stringInputPtr,nDataBytes);if(!paragraphCount){return[{text:text,styleIndices:styleIndices}]}var mergedParagraphLineBreakPoints=mergeParagraphLineBreakPoints(lineBreakPoints,paragraphCount);var lineStartIndex=0;var lines=[];for(var i$1=0,list=mergedParagraphLineBreakPoints;i$1<list.length;i$1+=1){var lineBreakPoint=list[i$1];var lineText="";var lineStyleIndices=[];var runCount=Module.ccall("bidi_setLine","number",["number","number"],[lineStartIndex,lineBreakPoint]);if(!runCount){Module._free(stringInputPtr);return[]}for(var i=0;i<runCount;i++){var logicalStartPtr=createInt32Ptr();var logicalLengthPtr=createInt32Ptr();var isReversed=Module.ccall("bidi_getVisualRun","number",["number","number","number"],[i,logicalStartPtr,logicalLengthPtr]);var logicalStart=lineStartIndex+consumeInt32Ptr(logicalStartPtr);var logicalLength=consumeInt32Ptr(logicalLengthPtr);var logicalEnd=logicalStart+logicalLength;if(isReversed){var styleRunStart=logicalEnd;var currentStyleIndex=styleIndices[styleRunStart-1];for(var j=logicalEnd-1;j>=logicalStart;j--){if(currentStyleIndex!==styleIndices[j]||j===logicalStart){var styleRunEnd=j===logicalStart?j:j+1;var reversed=writeReverse(stringInputPtr,styleRunEnd,styleRunStart);if(!reversed){Module._free(stringInputPtr);return[]}lineText+=reversed;for(var k=0;k<reversed.length;k++){lineStyleIndices.push(currentStyleIndex)}currentStyleIndex=styleIndices[j];styleRunStart=styleRunEnd}}}else{lineText+=text.substring(logicalStart,logicalEnd);lineStyleIndices=lineStyleIndices.concat(styleIndices.slice(logicalStart,logicalEnd))}}lines.push([lineText,lineStyleIndices]);lineStartIndex=lineBreakPoint}Module._free(stringInputPtr);return lines}self.registerRTLTextPlugin({applyArabicShaping:applyArabicShaping,processBidirectionalText:processBidirectionalText,processStyledBidirectionalText:processStyledBidirectionalText})})})();\n'],{type:"text/javascript"});!0!==dn.RTLTextPluginRequested&&(dn.RTLTextPluginRequested=!0,dn.setRTLTextPlugin(URL.createObjectURL(Ln),Gn=>{if(Gn)throw Error(Gn)}))}(this.mapbox),ln._initializeStyle(this.options._deferredStyle).then(()=>{ln.__om.fire(mp)}),this._extendedMap=ln,ln}),this.mapbox=Ne,this.options=nr.call(this,lf({},pe))}}var uf=ae(359),df=ae.n(uf),yp=ae(360),vd=ae.n(yp);function Gu(oe,pe){var ve=Object.keys(oe);if(Object.getOwnPropertySymbols){var Ne=Object.getOwnPropertySymbols(oe);pe&&(Ne=Ne.filter(function(Mt){return Object.getOwnPropertyDescriptor(oe,Mt).enumerable})),ve.push.apply(ve,Ne)}return ve}function an(oe){for(var pe=1;pe<arguments.length;pe++){var ve=null!=arguments[pe]?arguments[pe]:{};pe%2?Gu(Object(ve),!0).forEach(function(Ne){Ml(oe,Ne,ve[Ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(ve)):Gu(Object(ve)).forEach(function(Ne){Object.defineProperty(oe,Ne,Object.getOwnPropertyDescriptor(ve,Ne))})}return oe}function Ml(oe,pe,ve){return pe in oe?Object.defineProperty(oe,pe,{value:ve,enumerable:!0,configurable:!0,writable:!0}):oe[pe]=ve,oe}const yc="#000000",Sh={width:30,height:36};function yd(oe){const pe={height:oe.height-Math.round(.1*oe.height),width:oe.width},ve=document.createElement("div");ve.style.backgroundImage="none",ve.style.width="".concat(oe.width,"px"),ve.style.height="".concat(oe.height,"px"),ve.innerHTML=(Mt=>{let{width:ln,height:dn,color:Ln}=Mt;return df().replace("<svg",'<svg width="'.concat(ln,'" height="').concat(dn,'" fill="').concat(Ln,'"'))})(oe);const Ne=document.createElement("div");return Ne.style.position="absolute",Ne.style.top=0,Ne.style.left=0,Ne.style.width="".concat(pe.width,"px"),Ne.style.height="".concat(pe.height,"px"),Ne.style.backgroundImage="none",Ne.style.overflow="hidden",Ne.innerHTML=(Mt=>{let{width:ln,height:dn}=Mt;return vd().replace("<svg",'<svg width="'.concat(ln,'" height="').concat(dn,'"')).replace("<path",'<path fill="white"')})(pe),ve.appendChild(Ne),ve}class bc extends v().Marker{constructor(pe){super(pe instanceof ae.g.HTMLElement?pe={element:pe,anchor:"bottom"}:function(ve){const{width:Ne=Sh.width*ve.scale,height:Mt=Sh.height*ve.scale,color:ln=yc}=ve;return an(an({},ve),{},{element:ve.element||yd({width:Ne,height:Mt,color:ln}),anchor:ve.anchor||"bottom"})}(an({scale:1},pe)))}}function Gc(oe,pe,ve){const Ne=window.document.createElement(oe);return void 0!==pe&&(Ne.className=pe),ve&&ve.appendChild(Ne),Ne}class Da{constructor(pe){let{className:ve,label:Ne,parentContainer:Mt,alwaysShow:ln,contentElem:dn}=pe;var Gn,Mn;Mn=(nc,Mo,li)=>{const ya=Gc("button",nc,li);return ya.type="button",ya.title=Mo,ya.setAttribute("aria-label",Mo),ya},(Gn="_createButton")in this?Object.defineProperty(this,Gn,{value:Mn,enumerable:!0,configurable:!0,writable:!0}):this[Gn]=Mn;const qr=["navigation-button",ve];ln||qr.push("-hide"),"Reset"===Ne&&qr.push("-reset"),this._buttonElem=this._createButton(qr.join(" "),Ne,Mt),dn&&this._buttonElem.appendChild(dn)}addClickListener(pe){this._buttonElem.addEventListener("click",pe)}removeClickListener(pe){this._buttonElem.removeEventListener("click",pe)}getElement(){return this._buttonElem}hide(){this._buttonElem.classList.add("-hide")}show(){this._buttonElem.classList.remove("-hide")}}var gu=ae(361),ec=ae.n(gu),tc=ae(362),_u=ae.n(tc),bd=ae(363),wc=ae.n(bd),hf=ae(364),Uo=ae.n(hf),bp=ae(365),om=ae.n(bp),So=ae(366),kh=ae.n(So);function Xo(oe,pe,ve){return pe in oe?Object.defineProperty(oe,pe,{value:ve,enumerable:!0,configurable:!0,writable:!0}):oe[pe]=ve,oe}function xc(oe){const pe=Gc("div");return pe.innerHTML=oe,pe}const Dh="mapboxgl-ctrl mapboxgl-ctrl-group extended-navigation-group",Yd={showRotation:!1,showExtendedRotationControls:!1,showExtendedPitchControls:!1,rotationStep:10,pitchStep:10};class Ir extends v().NavigationControl{constructor(){super(Object.assign({},Yd,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})),Xo(this,"_appendRotationButtons",()=>{const ve=Gc("div",Dh,this._container);this._compass.parentNode.removeChild(this._compass),this._compass=this._createCompassElem(),ve.appendChild(this._compass),this._rotateRightButton=new Da({label:"Rotate right",parentContainer:ve,contentElem:xc(Uo())}),this.activeEventListeners._rotateRightButton=this._changePerspective("bearing",-this.options.rotationStep),this._rotateRightButton.addClickListener(this.activeEventListeners._rotateRightButton),this._rotateLeftButton=new Da({label:"Rotate left",parentContainer:ve,contentElem:xc(om())}),this.activeEventListeners._rotateLeftButton=this._changePerspective("bearing",this.options.rotationStep),this._rotateLeftButton.addClickListener(this.activeEventListeners._rotateLeftButton),this._rotateResetButton=new Da({label:"Reset",parentContainer:ve,contentElem:xc(kh())}),this.activeEventListeners._rotateResetButton=Ne=>this._map.resetNorth({},{originalEvent:Ne}),this._rotateResetButton.addClickListener(this.activeEventListeners._rotateResetButton)}),Xo(this,"_createCompassElem",()=>(this._compassRef=new Da({className:"mapboxgl-ctrl-compass",label:"Open/Reset rotation",alwaysShow:!0}),this.activeEventListeners._compassRef=()=>this._rotateControlsToggle(!this.state.rotationControlsOpen),this._compassRef.addClickListener(this.activeEventListeners._compassRef),this._compassIcon=Gc("span","mapboxgl-ctrl-icon",this._compassRef.getElement()),this._compassRef.getElement())),Xo(this,"_appendPitchButtons",()=>{const ve=Gc("div",Dh,this._container);this._pitchControl=new Da({label:"Open/Reset pitch",alwaysShow:!0,contentElem:xc(ec())}),this.activeEventListeners._pitchControl=()=>{this.options.showExtendedPitchControls?this._pitchControllsToggle(!this.state.pitchControlsOpen):this._map.easeTo({pitch:0})},this._pitchControl.addClickListener(this.activeEventListeners._pitchControl),ve.appendChild(this._pitchControl.getElement()),this.options.showExtendedPitchControls&&(this._increasePitchButton=new Da({label:"Increase pitch",parentContainer:ve,contentElem:xc(wc())}),this.activeEventListeners._increasePitchButton=this._changePerspective("pitch",this.options.pitchStep),this._increasePitchButton.addClickListener(this.activeEventListeners._increasePitchButton),this._decreasePitchButton=new Da({label:"Decrease pitch",parentContainer:ve,contentElem:xc(_u())}),this.activeEventListeners._decreasePitchButton=this._changePerspective("pitch",-this.options.pitchStep),this._decreasePitchButton.addClickListener(this.activeEventListeners._decreasePitchButton),this._pitchResetButton=new Da({label:"Reset",parentContainer:ve,contentElem:xc(kh())}),this.activeEventListeners._pitchResetButton=()=>this._map.easeTo({pitch:0}),this._pitchResetButton.addClickListener(this.activeEventListeners._pitchResetButton))}),Xo(this,"_rotateControlsToggle",ve=>{const Ne=ve?"show":"hide";this._rotateResetButton[Ne](),this._rotateRightButton[Ne](),this._rotateLeftButton[Ne](),this.state.rotationControlsOpen=ve}),Xo(this,"_pitchControllsToggle",ve=>{const Ne=ve?"show":"hide";this._pitchResetButton[Ne](),this._increasePitchButton[Ne](),this._decreasePitchButton[Ne](),this.state.pitchControlsOpen=ve}),Xo(this,"_changePerspective",(ve,Ne)=>Mt=>{const ln={};ln[ve]=("pitch"===ve?this._map.getPitch():this._map.getBearing())+Ne,this._map.easeTo(ln,{originalEvent:Mt})}),this.activeEventListeners={},this._extendedControlsContainer=Gc("div"),this._extendedControlsContainer.appendChild(this._container),this._container=this._extendedControlsContainer,this.options.showCompass&&this.options.showExtendedRotationControls&&this._appendRotationButtons(),this.options.showPitch&&this._appendPitchButtons(),this.state={rotationControlsOpen:!1,pitchControlsOpen:!1}}onRemove(){Object.keys(this.activeEventListeners).forEach(pe=>{this[pe].removeClickListener(this.activeEventListeners[pe])}),super.onRemove()}}const fr=["Popup","FullscreenControl","ScaleControl","GeolocateControl","LngLat","LngLatBounds","Point","MercatorCoordinate","Evented","supported","prewarm","clearPrewarmedResources","workerCount"];function go(oe,pe){switch(oe){case"Popup":case"Marker":case"NavigationControl":!function(){const ve=pe.prototype,Ne=ve.addTo;ve.addTo=function(Mt){return Ne.call(this,Mt.__om?Mt.__om:Mt)}}()}return pe}function vu(oe,pe){var ve=Object.keys(oe);if(Object.getOwnPropertySymbols){var Ne=Object.getOwnPropertySymbols(oe);pe&&(Ne=Ne.filter(function(Mt){return Object.getOwnPropertyDescriptor(oe,Mt).enumerable})),ve.push.apply(ve,Ne)}return ve}function yu(oe){for(var pe=1;pe<arguments.length;pe++){var ve=null!=arguments[pe]?arguments[pe]:{};pe%2?vu(Object(ve),!0).forEach(function(Ne){Hr(oe,Ne,ve[Ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(ve)):vu(Object(ve)).forEach(function(Ne){Object.defineProperty(oe,Ne,Object.getOwnPropertyDescriptor(ve,Ne))})}return oe}function Hr(oe,pe,ve){return pe in oe?Object.defineProperty(oe,pe,{value:ve,enumerable:!0,configurable:!0,writable:!0}):oe[pe]=ve,oe}var eo=yu(yu({},{__core:v(),map:oe=>new cf(oe,{mapbox:v()}).createMap(),sdkInfo:{version:Z()["sdk.version"]},setProductInfo:(oe,pe)=>{if(!oe)throw new Error("ProductId needs to be set");const ve=pe||0===pe?"/"+pe:"";me().productInfo=oe+ve}}),function(){const oe={};return fr.forEach(pe=>{const ve=v()[pe];oe[pe]=go(pe,ve)}),function(pe){pe.Marker=go("Marker",bc),pe.NavigationControl=go("NavigationControl",Ir)}(oe),oe}())}(),ui.default}()},511:(cu,ea,hr)=>{var ae;!function(ui,j,Q,v){"use strict";var Z,O=["","webkit","Moz","MS","ms","o"],V=j.createElement("div"),A="function",L=Math.round,P=Math.abs,N=Date.now;function W(Te,Me,at){return setTimeout(we(Te,at),Me)}function Y(Te,Me,at){return!!Array.isArray(Te)&&(G(Te,at[Me],at),!0)}function G(Te,Me,at){var en;if(Te)if(Te.forEach)Te.forEach(Me,at);else if(Te.length!==v)for(en=0;en<Te.length;)Me.call(at,Te[en],en,Te),en++;else for(en in Te)Te.hasOwnProperty(en)&&Me.call(at,Te[en],en,Te)}function ne(Te,Me,at){var en="DEPRECATED METHOD: "+Me+"\n"+at+" AT \n";return function(){var Fn=new Error("get-stack-trace"),_i=Fn&&Fn.stack?Fn.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Xr=ui.console&&(ui.console.warn||ui.console.log);return Xr&&Xr.call(ui.console,en,_i),Te.apply(this,arguments)}}Z="function"!=typeof Object.assign?function(Me){if(Me===v||null===Me)throw new TypeError("Cannot convert undefined or null to object");for(var at=Object(Me),en=1;en<arguments.length;en++){var Fn=arguments[en];if(Fn!==v&&null!==Fn)for(var _i in Fn)Fn.hasOwnProperty(_i)&&(at[_i]=Fn[_i])}return at}:Object.assign;var se=ne(function(Me,at,en){for(var Fn=Object.keys(at),_i=0;_i<Fn.length;)(!en||en&&Me[Fn[_i]]===v)&&(Me[Fn[_i]]=at[Fn[_i]]),_i++;return Me},"extend","Use `assign`."),fe=ne(function(Me,at){return se(Me,at,!0)},"merge","Use `assign`.");function me(Te,Me,at){var Fn,en=Me.prototype;(Fn=Te.prototype=Object.create(en)).constructor=Te,Fn._super=en,at&&Z(Fn,at)}function we(Te,Me){return function(){return Te.apply(Me,arguments)}}function Ze(Te,Me){return typeof Te==A?Te.apply(Me&&Me[0]||v,Me):Te}function ot(Te,Me){return Te===v?Me:Te}function wt(Te,Me,at){G(vt(Me),function(en){Te.addEventListener(en,at,!1)})}function ht(Te,Me,at){G(vt(Me),function(en){Te.removeEventListener(en,at,!1)})}function pt(Te,Me){for(;Te;){if(Te==Me)return!0;Te=Te.parentNode}return!1}function mt(Te,Me){return Te.indexOf(Me)>-1}function vt(Te){return Te.trim().split(/\s+/g)}function Je(Te,Me,at){if(Te.indexOf&&!at)return Te.indexOf(Me);for(var en=0;en<Te.length;){if(at&&Te[en][at]==Me||!at&&Te[en]===Me)return en;en++}return-1}function st(Te){return Array.prototype.slice.call(Te,0)}function Fe(Te,Me,at){for(var en=[],Fn=[],_i=0;_i<Te.length;){var Xr=Me?Te[_i][Me]:Te[_i];Je(Fn,Xr)<0&&en.push(Te[_i]),Fn[_i]=Xr,_i++}return at&&(en=Me?en.sort(function(Ds,ys){return Ds[Me]>ys[Me]}):en.sort()),en}function ze(Te,Me){for(var at,en,Fn=Me[0].toUpperCase()+Me.slice(1),_i=0;_i<O.length;){if((en=(at=O[_i])?at+Fn:Me)in Te)return en;_i++}return v}var Dt=1;function Tt(Te){var Me=Te.ownerDocument||Te;return Me.defaultView||Me.parentWindow||ui}var Le="ontouchstart"in ui,gt=ze(ui,"PointerEvent")!==v,St=Le&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Et="touch",on="mouse",ki=25,Ui=1,ei=4,Xn=8,qn=1,An=2,Jn=4,kn=8,Gt=16,Zt=An|Jn,fi=kn|Gt,Bi=Zt|fi,gi=["x","y"],Di=["clientX","clientY"];function nr(Te,Me){var at=this;this.manager=Te,this.callback=Me,this.element=Te.element,this.target=Te.options.inputTarget,this.domHandler=function(en){Ze(Te.options.enable,[Te])&&at.handler(en)},this.init()}function Pr(Te,Me,at){var en=at.pointers.length,Fn=at.changedPointers.length,_i=Me&Ui&&en-Fn==0,Xr=Me&(ei|Xn)&&en-Fn==0;at.isFirst=!!_i,at.isFinal=!!Xr,_i&&(Te.session={}),at.eventType=Me,function Qr(Te,Me){var at=Te.session,en=Me.pointers,Fn=en.length;at.firstInput||(at.firstInput=jn(Me)),Fn>1&&!at.firstMultiple?at.firstMultiple=jn(Me):1===Fn&&(at.firstMultiple=!1);var _i=at.firstInput,Xr=at.firstMultiple,Us=Xr?Xr.center:_i.center,Ds=Me.center=ai(en);Me.timeStamp=N(),Me.deltaTime=Me.timeStamp-_i.timeStamp,Me.angle=gr(Us,Ds),Me.distance=sr(Us,Ds),function zi(Te,Me){var at=Me.center,en=Te.offsetDelta||{},Fn=Te.prevDelta||{},_i=Te.prevInput||{};(Me.eventType===Ui||_i.eventType===ei)&&(Fn=Te.prevDelta={x:_i.deltaX||0,y:_i.deltaY||0},en=Te.offsetDelta={x:at.x,y:at.y}),Me.deltaX=Fn.x+(at.x-en.x),Me.deltaY=Fn.y+(at.y-en.y)}(at,Me),Me.offsetDirection=wi(Me.deltaX,Me.deltaY);var ys=mi(Me.deltaTime,Me.deltaX,Me.deltaY);Me.overallVelocityX=ys.x,Me.overallVelocityY=ys.y,Me.overallVelocity=P(ys.x)>P(ys.y)?ys.x:ys.y,Me.scale=Xr?function Lr(Te,Me){return sr(Me[0],Me[1],Di)/sr(Te[0],Te[1],Di)}(Xr.pointers,en):1,Me.rotation=Xr?function _r(Te,Me){return gr(Me[1],Me[0],Di)+gr(Te[1],Te[0],Di)}(Xr.pointers,en):0,Me.maxPointers=at.prevInput?Me.pointers.length>at.prevInput.maxPointers?Me.pointers.length:at.prevInput.maxPointers:Me.pointers.length,function Qn(Te,Me){var Fn,_i,Xr,Us,at=Te.lastInterval||Me,en=Me.timeStamp-at.timeStamp;if(Me.eventType!=Xn&&(en>ki||at.velocity===v)){var Ds=Me.deltaX-at.deltaX,ys=Me.deltaY-at.deltaY,il=mi(en,Ds,ys);_i=il.x,Xr=il.y,Fn=P(il.x)>P(il.y)?il.x:il.y,Us=wi(Ds,ys),Te.lastInterval=Me}else Fn=at.velocity,_i=at.velocityX,Xr=at.velocityY,Us=at.direction;Me.velocity=Fn,Me.velocityX=_i,Me.velocityY=Xr,Me.direction=Us}(at,Me);var il=Te.element;pt(Me.srcEvent.target,il)&&(il=Me.srcEvent.target),Me.target=il}(Te,at),Te.emit("hammer.input",at),Te.recognize(at),Te.session.prevInput=at}function jn(Te){for(var Me=[],at=0;at<Te.pointers.length;)Me[at]={clientX:L(Te.pointers[at].clientX),clientY:L(Te.pointers[at].clientY)},at++;return{timeStamp:N(),pointers:Me,center:ai(Me),deltaX:Te.deltaX,deltaY:Te.deltaY}}function ai(Te){var Me=Te.length;if(1===Me)return{x:L(Te[0].clientX),y:L(Te[0].clientY)};for(var at=0,en=0,Fn=0;Fn<Me;)at+=Te[Fn].clientX,en+=Te[Fn].clientY,Fn++;return{x:L(at/Me),y:L(en/Me)}}function mi(Te,Me,at){return{x:Me/Te||0,y:at/Te||0}}function wi(Te,Me){return Te===Me?qn:P(Te)>=P(Me)?Te<0?An:Jn:Me<0?kn:Gt}function sr(Te,Me,at){at||(at=gi);var en=Me[at[0]]-Te[at[0]],Fn=Me[at[1]]-Te[at[1]];return Math.sqrt(en*en+Fn*Fn)}function gr(Te,Me,at){return at||(at=gi),180*Math.atan2(Me[at[1]]-Te[at[1]],Me[at[0]]-Te[at[0]])/Math.PI}nr.prototype={handler:function(){},init:function(){this.evEl&&wt(this.element,this.evEl,this.domHandler),this.evTarget&&wt(this.target,this.evTarget,this.domHandler),this.evWin&&wt(Tt(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&ht(this.element,this.evEl,this.domHandler),this.evTarget&&ht(this.target,this.evTarget,this.domHandler),this.evWin&&ht(Tt(this.element),this.evWin,this.domHandler)}};var Tr={mousedown:Ui,mousemove:2,mouseup:ei},mo="mousedown",Jr="mousemove mouseup";function Io(){this.evEl=mo,this.evWin=Jr,this.pressed=!1,nr.apply(this,arguments)}me(Io,nr,{handler:function(Me){var at=Tr[Me.type];at&Ui&&0===Me.button&&(this.pressed=!0),2&at&&1!==Me.which&&(at=ei),this.pressed&&(at&ei&&(this.pressed=!1),this.callback(this.manager,at,{pointers:[Me],changedPointers:[Me],pointerType:on,srcEvent:Me}))}});var Wo={pointerdown:Ui,pointermove:2,pointerup:ei,pointercancel:Xn,pointerout:Xn},oo={2:Et,3:"pen",4:on,5:"kinect"},To="pointerdown",Ts="pointermove pointerup pointercancel";function $o(){this.evEl=To,this.evWin=Ts,nr.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}ui.MSPointerEvent&&!ui.PointerEvent&&(To="MSPointerDown",Ts="MSPointerMove MSPointerUp MSPointerCancel"),me($o,nr,{handler:function(Me){var at=this.store,en=!1,Fn=Me.type.toLowerCase().replace("ms",""),_i=Wo[Fn],Xr=oo[Me.pointerType]||Me.pointerType,Us=Xr==Et,Ds=Je(at,Me.pointerId,"pointerId");_i&Ui&&(0===Me.button||Us)?Ds<0&&(at.push(Me),Ds=at.length-1):_i&(ei|Xn)&&(en=!0),!(Ds<0)&&(at[Ds]=Me,this.callback(this.manager,_i,{pointers:at,changedPointers:[Me],pointerType:Xr,srcEvent:Me}),en&&at.splice(Ds,1))}});var pr={touchstart:Ui,touchmove:2,touchend:ei,touchcancel:Xn};function U(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,nr.apply(this,arguments)}function K(Te,Me){var at=st(Te.touches),en=st(Te.changedTouches);return Me&(ei|Xn)&&(at=Fe(at.concat(en),"identifier",!0)),[at,en]}me(U,nr,{handler:function(Me){var at=pr[Me.type];if(at===Ui&&(this.started=!0),this.started){var en=K.call(this,Me,at);at&(ei|Xn)&&en[0].length-en[1].length==0&&(this.started=!1),this.callback(this.manager,at,{pointers:en[0],changedPointers:en[1],pointerType:Et,srcEvent:Me})}}});var $={touchstart:Ui,touchmove:2,touchend:ei,touchcancel:Xn},he="touchstart touchmove touchend touchcancel";function de(){this.evTarget=he,this.targetIds={},nr.apply(this,arguments)}function Pe(Te,Me){var at=st(Te.touches),en=this.targetIds;if(Me&(2|Ui)&&1===at.length)return en[at[0].identifier]=!0,[at,at];var Fn,_i,Xr=st(Te.changedTouches),Us=[],Ds=this.target;if(_i=at.filter(function(ys){return pt(ys.target,Ds)}),Me===Ui)for(Fn=0;Fn<_i.length;)en[_i[Fn].identifier]=!0,Fn++;for(Fn=0;Fn<Xr.length;)en[Xr[Fn].identifier]&&Us.push(Xr[Fn]),Me&(ei|Xn)&&delete en[Xr[Fn].identifier],Fn++;return Us.length?[Fe(_i.concat(Us),"identifier",!0),Us]:void 0}me(de,nr,{handler:function(Me){var at=$[Me.type],en=Pe.call(this,Me,at);en&&this.callback(this.manager,at,{pointers:en[0],changedPointers:en[1],pointerType:Et,srcEvent:Me})}});var Qe=2500;function Ve(){nr.apply(this,arguments);var Te=we(this.handler,this);this.touch=new de(this.manager,Te),this.mouse=new Io(this.manager,Te),this.primaryTouch=null,this.lastTouches=[]}function We(Te,Me){Te&Ui?(this.primaryTouch=Me.changedPointers[0].identifier,hn.call(this,Me)):Te&(ei|Xn)&&hn.call(this,Me)}function hn(Te){var Me=Te.changedPointers[0];if(Me.identifier===this.primaryTouch){var at={x:Me.clientX,y:Me.clientY};this.lastTouches.push(at);var en=this.lastTouches;setTimeout(function(){var _i=en.indexOf(at);_i>-1&&en.splice(_i,1)},Qe)}}function Jt(Te){for(var Me=Te.srcEvent.clientX,at=Te.srcEvent.clientY,en=0;en<this.lastTouches.length;en++){var Fn=this.lastTouches[en],_i=Math.abs(Me-Fn.x),Xr=Math.abs(at-Fn.y);if(_i<=25&&Xr<=25)return!0}return!1}me(Ve,nr,{handler:function(Me,at,en){var _i=en.pointerType==on;if(!(_i&&en.sourceCapabilities&&en.sourceCapabilities.firesTouchEvents)){if(en.pointerType==Et)We.call(this,at,en);else if(_i&&Jt.call(this,en))return;this.callback(Me,at,en)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ut=ze(V.style,"touchAction"),En=Ut!==v,ri="compute",Xe="manipulation",Lt="none",_t="pan-x",Rt="pan-y",zt=function Pt(){if(!En)return!1;var Te={},Me=ui.CSS&&ui.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(at){Te[at]=!Me||ui.CSS.supports("touch-action",at)}),Te}();function tt(Te,Me){this.manager=Te,this.set(Me)}tt.prototype={set:function(Te){Te==ri&&(Te=this.compute()),En&&this.manager.element.style&&zt[Te]&&(this.manager.element.style[Ut]=Te),this.actions=Te.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var Te=[];return G(this.manager.recognizers,function(Me){Ze(Me.options.enable,[Me])&&(Te=Te.concat(Me.getTouchAction()))}),function ct(Te){if(mt(Te,Lt))return Lt;var Me=mt(Te,_t),at=mt(Te,Rt);return Me&&at?Lt:Me||at?Me?_t:Rt:mt(Te,Xe)?Xe:"auto"}(Te.join(" "))},preventDefaults:function(Te){var Me=Te.srcEvent,at=Te.offsetDirection;if(!this.manager.session.prevented){var en=this.actions,Fn=mt(en,Lt)&&!zt[Lt],_i=mt(en,Rt)&&!zt[Rt],Xr=mt(en,_t)&&!zt[_t];if(Fn&&1===Te.pointers.length&&Te.distance<2&&Te.deltaTime<250)return;return Xr&&_i||!(Fn||_i&&at&Zt||Xr&&at&fi)?void 0:this.preventSrc(Me)}Me.preventDefault()},preventSrc:function(Te){this.manager.session.prevented=!0,Te.preventDefault()}};var kt=1;function Wi(Te){this.options=Z({},this.defaults,Te||{}),this.id=function jt(){return Dt++}(),this.manager=null,this.options.enable=ot(this.options.enable,!0),this.state=kt,this.simultaneous={},this.requireFail=[]}function Or(Te){return 16&Te?"cancel":8&Te?"end":4&Te?"move":2&Te?"start":""}function Br(Te){return Te==Gt?"down":Te==kn?"up":Te==An?"left":Te==Jn?"right":""}function Ac(Te,Me){var at=Me.manager;return at?at.get(Te):Te}function no(){Wi.apply(this,arguments)}function ks(){no.apply(this,arguments),this.pX=null,this.pY=null}function uu(){no.apply(this,arguments)}function du(){Wi.apply(this,arguments),this._timer=null,this._input=null}function es(){no.apply(this,arguments)}function Lu(){no.apply(this,arguments)}function ls(){Wi.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ts(Te,Me){return(Me=Me||{}).recognizers=ot(Me.recognizers,ts.defaults.preset),new nl(Te,Me)}function nl(Te,Me){this.options=Z({},ts.defaults,Me||{}),this.options.inputTarget=this.options.inputTarget||Te,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=Te,this.input=function Ao(Te){return new(Te.options.inputClass||(gt?$o:St?de:Le?Ve:Io))(Te,Pr)}(this),this.touchAction=new tt(this,this.options.touchAction),ga(this,!0),G(this.options.recognizers,function(at){var en=this.add(new at[0](at[1]));at[2]&&en.recognizeWith(at[2]),at[3]&&en.requireFailure(at[3])},this)}function ga(Te,Me){var en,at=Te.element;at.style&&(G(Te.options.cssProps,function(Fn,_i){en=ze(at.style,_i),Me?(Te.oldCssProps[en]=at.style[en],at.style[en]=Fn):at.style[en]=Te.oldCssProps[en]||""}),Me||(Te.oldCssProps={}))}Wi.prototype={defaults:{},set:function(Te){return Z(this.options,Te),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(Te){if(Y(Te,"recognizeWith",this))return this;var Me=this.simultaneous;return Me[(Te=Ac(Te,this)).id]||(Me[Te.id]=Te,Te.recognizeWith(this)),this},dropRecognizeWith:function(Te){return Y(Te,"dropRecognizeWith",this)||(Te=Ac(Te,this),delete this.simultaneous[Te.id]),this},requireFailure:function(Te){if(Y(Te,"requireFailure",this))return this;var Me=this.requireFail;return-1===Je(Me,Te=Ac(Te,this))&&(Me.push(Te),Te.requireFailure(this)),this},dropRequireFailure:function(Te){if(Y(Te,"dropRequireFailure",this))return this;Te=Ac(Te,this);var Me=Je(this.requireFail,Te);return Me>-1&&this.requireFail.splice(Me,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(Te){return!!this.simultaneous[Te.id]},emit:function(Te){var Me=this,at=this.state;function en(Fn){Me.manager.emit(Fn,Te)}at<8&&en(Me.options.event+Or(at)),en(Me.options.event),Te.additionalEvent&&en(Te.additionalEvent),at>=8&&en(Me.options.event+Or(at))},tryEmit:function(Te){if(this.canEmit())return this.emit(Te);this.state=32},canEmit:function(){for(var Te=0;Te<this.requireFail.length;){if(!(this.requireFail[Te].state&(32|kt)))return!1;Te++}return!0},recognize:function(Te){var Me=Z({},Te);if(!Ze(this.options.enable,[this,Me]))return this.reset(),void(this.state=32);56&this.state&&(this.state=kt),this.state=this.process(Me),30&this.state&&this.tryEmit(Me)},process:function(Te){},getTouchAction:function(){},reset:function(){}},me(no,Wi,{defaults:{pointers:1},attrTest:function(Te){var Me=this.options.pointers;return 0===Me||Te.pointers.length===Me},process:function(Te){var Me=this.state,at=Te.eventType,en=6&Me,Fn=this.attrTest(Te);return en&&(at&Xn||!Fn)?16|Me:en||Fn?at&ei?8|Me:2&Me?4|Me:2:32}}),me(ks,no,{defaults:{event:"pan",threshold:10,pointers:1,direction:Bi},getTouchAction:function(){var Te=this.options.direction,Me=[];return Te&Zt&&Me.push(Rt),Te&fi&&Me.push(_t),Me},directionTest:function(Te){var Me=this.options,at=!0,en=Te.distance,Fn=Te.direction,_i=Te.deltaX,Xr=Te.deltaY;return Fn&Me.direction||(Me.direction&Zt?(Fn=0===_i?qn:_i<0?An:Jn,at=_i!=this.pX,en=Math.abs(Te.deltaX)):(Fn=0===Xr?qn:Xr<0?kn:Gt,at=Xr!=this.pY,en=Math.abs(Te.deltaY))),Te.direction=Fn,at&&en>Me.threshold&&Fn&Me.direction},attrTest:function(Te){return no.prototype.attrTest.call(this,Te)&&(2&this.state||!(2&this.state)&&this.directionTest(Te))},emit:function(Te){this.pX=Te.deltaX,this.pY=Te.deltaY;var Me=Br(Te.direction);Me&&(Te.additionalEvent=this.options.event+Me),this._super.emit.call(this,Te)}}),me(uu,no,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Lt]},attrTest:function(Te){return this._super.attrTest.call(this,Te)&&(Math.abs(Te.scale-1)>this.options.threshold||2&this.state)},emit:function(Te){1!==Te.scale&&(Te.additionalEvent=this.options.event+(Te.scale<1?"in":"out")),this._super.emit.call(this,Te)}}),me(du,Wi,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(Te){var Me=this.options,at=Te.pointers.length===Me.pointers,en=Te.distance<Me.threshold,Fn=Te.deltaTime>Me.time;if(this._input=Te,!en||!at||Te.eventType&(ei|Xn)&&!Fn)this.reset();else if(Te.eventType&Ui)this.reset(),this._timer=W(function(){this.state=8,this.tryEmit()},Me.time,this);else if(Te.eventType&ei)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(Te){8===this.state&&(Te&&Te.eventType&ei?this.manager.emit(this.options.event+"up",Te):(this._input.timeStamp=N(),this.manager.emit(this.options.event,this._input)))}}),me(es,no,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Lt]},attrTest:function(Te){return this._super.attrTest.call(this,Te)&&(Math.abs(Te.rotation)>this.options.threshold||2&this.state)}}),me(Lu,no,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Zt|fi,pointers:1},getTouchAction:function(){return ks.prototype.getTouchAction.call(this)},attrTest:function(Te){var at,Me=this.options.direction;return Me&(Zt|fi)?at=Te.overallVelocity:Me&Zt?at=Te.overallVelocityX:Me&fi&&(at=Te.overallVelocityY),this._super.attrTest.call(this,Te)&&Me&Te.offsetDirection&&Te.distance>this.options.threshold&&Te.maxPointers==this.options.pointers&&P(at)>this.options.velocity&&Te.eventType&ei},emit:function(Te){var Me=Br(Te.offsetDirection);Me&&this.manager.emit(this.options.event+Me,Te),this.manager.emit(this.options.event,Te)}}),me(ls,Wi,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Xe]},process:function(Te){var Me=this.options,at=Te.pointers.length===Me.pointers,en=Te.distance<Me.threshold,Fn=Te.deltaTime<Me.time;if(this.reset(),Te.eventType&Ui&&0===this.count)return this.failTimeout();if(en&&Fn&&at){if(Te.eventType!=ei)return this.failTimeout();var _i=!this.pTime||Te.timeStamp-this.pTime<Me.interval,Xr=!this.pCenter||sr(this.pCenter,Te.center)<Me.posThreshold;if(this.pTime=Te.timeStamp,this.pCenter=Te.center,Xr&&_i?this.count+=1:this.count=1,this._input=Te,0==this.count%Me.taps)return this.hasRequireFailures()?(this._timer=W(function(){this.state=8,this.tryEmit()},Me.interval,this),2):8}return 32},failTimeout:function(){return this._timer=W(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ts.VERSION="2.0.7",ts.defaults={domEvents:!1,touchAction:ri,enable:!0,inputTarget:null,inputClass:null,preset:[[es,{enable:!1}],[uu,{enable:!1},["rotate"]],[Lu,{direction:Zt}],[ks,{direction:Zt},["swipe"]],[ls],[ls,{event:"doubletap",taps:2},["tap"]],[du]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},nl.prototype={set:function(Te){return Z(this.options,Te),Te.touchAction&&this.touchAction.update(),Te.inputTarget&&(this.input.destroy(),this.input.target=Te.inputTarget,this.input.init()),this},stop:function(Te){this.session.stopped=Te?2:1},recognize:function(Te){var Me=this.session;if(!Me.stopped){this.touchAction.preventDefaults(Te);var at,en=this.recognizers,Fn=Me.curRecognizer;(!Fn||Fn&&8&Fn.state)&&(Fn=Me.curRecognizer=null);for(var _i=0;_i<en.length;)at=en[_i],2===Me.stopped||Fn&&at!=Fn&&!at.canRecognizeWith(Fn)?at.reset():at.recognize(Te),!Fn&&14&at.state&&(Fn=Me.curRecognizer=at),_i++}},get:function(Te){if(Te instanceof Wi)return Te;for(var Me=this.recognizers,at=0;at<Me.length;at++)if(Me[at].options.event==Te)return Me[at];return null},add:function(Te){if(Y(Te,"add",this))return this;var Me=this.get(Te.options.event);return Me&&this.remove(Me),this.recognizers.push(Te),Te.manager=this,this.touchAction.update(),Te},remove:function(Te){if(Y(Te,"remove",this))return this;if(Te=this.get(Te)){var Me=this.recognizers,at=Je(Me,Te);-1!==at&&(Me.splice(at,1),this.touchAction.update())}return this},on:function(Te,Me){if(Te!==v&&Me!==v){var at=this.handlers;return G(vt(Te),function(en){at[en]=at[en]||[],at[en].push(Me)}),this}},off:function(Te,Me){if(Te!==v){var at=this.handlers;return G(vt(Te),function(en){Me?at[en]&&at[en].splice(Je(at[en],Me),1):delete at[en]}),this}},emit:function(Te,Me){this.options.domEvents&&function Yl(Te,Me){var at=j.createEvent("Event");at.initEvent(Te,!0,!0),at.gesture=Me,Me.target.dispatchEvent(at)}(Te,Me);var at=this.handlers[Te]&&this.handlers[Te].slice();if(at&&at.length){Me.type=Te,Me.preventDefault=function(){Me.srcEvent.preventDefault()};for(var en=0;en<at.length;)at[en](Me),en++}},destroy:function(){this.element&&ga(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},Z(ts,{INPUT_START:Ui,INPUT_MOVE:2,INPUT_END:ei,INPUT_CANCEL:Xn,STATE_POSSIBLE:kt,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:qn,DIRECTION_LEFT:An,DIRECTION_RIGHT:Jn,DIRECTION_UP:kn,DIRECTION_DOWN:Gt,DIRECTION_HORIZONTAL:Zt,DIRECTION_VERTICAL:fi,DIRECTION_ALL:Bi,Manager:nl,Input:nr,TouchAction:tt,TouchInput:de,MouseInput:Io,PointerEventInput:$o,TouchMouseInput:Ve,SingleTouchInput:U,Recognizer:Wi,AttrRecognizer:no,Tap:ls,Pan:ks,Swipe:Lu,Pinch:uu,Rotate:es,Press:du,on:wt,off:ht,each:G,merge:fe,extend:se,assign:Z,inherit:me,bindFn:we,prefixed:ze}),(typeof ui<"u"?ui:typeof self<"u"?self:{}).Hammer=ts,(ae=function(){return ts}.call(ea,hr,ea,cu))!==v&&(cu.exports=ae)}(window,document)},345:(cu,ea,hr)=>{"use strict";hr.d(ea,{A:()=>ne});var ae=hr(76),ui=hr(362),j=hr(852),Q=hr(41);class v{constructor(se,fe){this._delegate=se,this.firebase=fe,(0,j._addComponent)(se,new ui.uA("app-compat",()=>this,"PUBLIC")),this.container=se.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(se){this._delegate.automaticDataCollectionEnabled=se}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(se=>{this._delegate.checkDestroyed(),se()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,j.deleteApp)(this._delegate)))}_getService(se,fe=j._DEFAULT_ENTRY_NAME){var me;this._delegate.checkDestroyed();const we=this._delegate.container.getProvider(se);return!we.isInitialized()&&"EXPLICIT"===(null===(me=we.getComponent())||void 0===me?void 0:me.instantiationMode)&&we.initialize(),we.getImmediate({identifier:fe})}_removeServiceInstance(se,fe=j._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(se).clearInstance(fe)}_addComponent(se){(0,j._addComponent)(this._delegate,se)}_addOrOverwriteComponent(se){(0,j._addOrOverwriteComponent)(this._delegate,se)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const V=new ae.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),P=function L(){const Z=function A(Z){const se={},fe={__esModule:!0,initializeApp:function Ze(pt,mt={}){const vt=j.initializeApp(pt,mt);if((0,ae.gR)(se,vt.name))return se[vt.name];const Je=new Z(vt,fe);return se[vt.name]=Je,Je},app:we,registerVersion:j.registerVersion,setLogLevel:j.setLogLevel,onLog:j.onLog,apps:null,SDK_VERSION:j.SDK_VERSION,INTERNAL:{registerComponent:function wt(pt){const mt=pt.name,vt=mt.replace("-compat","");if(j._registerComponent(pt)&&"PUBLIC"===pt.type){const Je=(st=we())=>{if("function"!=typeof st[vt])throw V.create("invalid-app-argument",{appName:mt});return st[vt]()};void 0!==pt.serviceProps&&(0,ae.zw)(Je,pt.serviceProps),fe[vt]=Je,Z.prototype[vt]=function(...st){return this._getService.bind(this,mt).apply(this,pt.multipleInstances?st:[])}}return"PUBLIC"===pt.type?fe[vt]:null},removeApp:function me(pt){delete se[pt]},useAsService:function ht(pt,mt){return"serverAuth"===mt?null:mt},modularAPIs:j}};function we(pt){if(!(0,ae.gR)(se,pt=pt||j._DEFAULT_ENTRY_NAME))throw V.create("no-app",{appName:pt});return se[pt]}return fe.default=fe,Object.defineProperty(fe,"apps",{get:function ot(){return Object.keys(se).map(pt=>se[pt])}}),we.App=Z,fe}(v);return Z.INTERNAL=Object.assign(Object.assign({},Z.INTERNAL),{createFirebaseNamespace:L,extendNamespace:function se(fe){(0,ae.zw)(Z,fe)},createSubscribe:ae.tD,ErrorFactory:ae.FA,deepExtend:ae.zw}),Z}(),N=new Q.Vy("@firebase/app-compat");if((0,ae.Bd)()&&void 0!==window.firebase){N.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Z=window.firebase.SDK_VERSION;Z&&Z.indexOf("LITE")>=0&&N.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ne=P;!function G(Z){(0,j.registerVersion)("@firebase/app-compat","0.2.38",Z)}()},852:(cu,ea,hr)=>{"use strict";hr.r(ea),hr.d(ea,{FirebaseError:()=>Q.g,SDK_VERSION:()=>oo,_DEFAULT_ENTRY_NAME:()=>Pr,_addComponent:()=>ai,_addOrOverwriteComponent:()=>mi,_apps:()=>zi,_clearComponents:()=>Tr,_components:()=>jn,_getProvider:()=>sr,_isFirebaseApp:()=>_r,_isFirebaseServerApp:()=>Lr,_registerComponent:()=>wi,_removeServiceInstance:()=>gr,_serverApps:()=>Qn,deleteApp:()=>Ss,getApp:()=>$o,getApps:()=>pr,initializeApp:()=>To,initializeServerApp:()=>Ts,onLog:()=>K,registerVersion:()=>U,setLogLevel:()=>$});var ae=hr(467),ui=hr(362),j=hr(41),Q=hr(76);const v=(tt,ct)=>ct.some(Pt=>tt instanceof Pt);let O,V;const P=new WeakMap,N=new WeakMap,W=new WeakMap,Y=new WeakMap,G=new WeakMap;let se={get(tt,ct,Pt){if(tt instanceof IDBTransaction){if("done"===ct)return N.get(tt);if("objectStoreNames"===ct)return tt.objectStoreNames||W.get(tt);if("store"===ct)return Pt.objectStoreNames[1]?void 0:Pt.objectStore(Pt.objectStoreNames[0])}return Ze(tt[ct])},set:(tt,ct,Pt)=>(tt[ct]=Pt,!0),has:(tt,ct)=>tt instanceof IDBTransaction&&("done"===ct||"store"===ct)||ct in tt};function we(tt){return"function"==typeof tt?function me(tt){return tt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function L(){return V||(V=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(tt)?function(...ct){return tt.apply(ot(this),ct),Ze(P.get(this))}:function(...ct){return Ze(tt.apply(ot(this),ct))}:function(ct,...Pt){const kt=tt.call(ot(this),ct,...Pt);return W.set(kt,ct.sort?ct.sort():[ct]),Ze(kt)}}(tt):(tt instanceof IDBTransaction&&function Z(tt){if(N.has(tt))return;const ct=new Promise((Pt,kt)=>{const Rn=()=>{tt.removeEventListener("complete",fn),tt.removeEventListener("error",Ai),tt.removeEventListener("abort",Ai)},fn=()=>{Pt(),Rn()},Ai=()=>{kt(tt.error||new DOMException("AbortError","AbortError")),Rn()};tt.addEventListener("complete",fn),tt.addEventListener("error",Ai),tt.addEventListener("abort",Ai)});N.set(tt,ct)}(tt),v(tt,function A(){return O||(O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(tt,se):tt)}function Ze(tt){if(tt instanceof IDBRequest)return function ne(tt){const ct=new Promise((Pt,kt)=>{const Rn=()=>{tt.removeEventListener("success",fn),tt.removeEventListener("error",Ai)},fn=()=>{Pt(Ze(tt.result)),Rn()},Ai=()=>{kt(tt.error),Rn()};tt.addEventListener("success",fn),tt.addEventListener("error",Ai)});return ct.then(Pt=>{Pt instanceof IDBCursor&&P.set(Pt,tt)}).catch(()=>{}),G.set(ct,tt),ct}(tt);if(Y.has(tt))return Y.get(tt);const ct=we(tt);return ct!==tt&&(Y.set(tt,ct),G.set(ct,tt)),ct}const ot=tt=>G.get(tt),pt=["get","getKey","getAll","getAllKeys","count"],mt=["put","add","delete","clear"],vt=new Map;function Je(tt,ct){if(!(tt instanceof IDBDatabase)||ct in tt||"string"!=typeof ct)return;if(vt.get(ct))return vt.get(ct);const Pt=ct.replace(/FromIndex$/,""),kt=ct!==Pt,Rn=mt.includes(Pt);if(!(Pt in(kt?IDBIndex:IDBObjectStore).prototype)||!Rn&&!pt.includes(Pt))return;const fn=function(){var Ai=(0,ae.A)(function*(Pi,...vi){const ir=this.transaction(Pi,Rn?"readwrite":"readonly");let Wi=ir.store;return kt&&(Wi=Wi.index(vi.shift())),(yield Promise.all([Wi[Pt](...vi),Rn&&ir.done]))[0]});return function(vi){return Ai.apply(this,arguments)}}();return vt.set(ct,fn),fn}!function fe(tt){se=tt(se)}(tt=>({...tt,get:(ct,Pt,kt)=>Je(ct,Pt)||tt.get(ct,Pt,kt),has:(ct,Pt)=>!!Je(ct,Pt)||tt.has(ct,Pt)}));class st{constructor(ct){this.container=ct}getPlatformInfoString(){return this.container.getProviders().map(Pt=>{if(function Fe(tt){const ct=tt.getComponent();return"VERSION"===ct?.type}(Pt)){const kt=Pt.getImmediate();return`${kt.library}/${kt.version}`}return null}).filter(Pt=>Pt).join(" ")}}const ze="@firebase/app",Dt="0.10.8",jt=new j.Vy("@firebase/app"),Pr="[DEFAULT]",Qr={[ze]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},zi=new Map,Qn=new Map,jn=new Map;function ai(tt,ct){try{tt.container.addComponent(ct)}catch(Pt){jt.debug(`Component ${ct.name} failed to register with FirebaseApp ${tt.name}`,Pt)}}function mi(tt,ct){tt.container.addOrOverwriteComponent(ct)}function wi(tt){const ct=tt.name;if(jn.has(ct))return jt.debug(`There were multiple attempts to register component ${ct}.`),!1;jn.set(ct,tt);for(const Pt of zi.values())ai(Pt,tt);for(const Pt of Qn.values())ai(Pt,tt);return!0}function sr(tt,ct){const Pt=tt.container.getProvider("heartbeat").getImmediate({optional:!0});return Pt&&Pt.triggerHeartbeat(),tt.container.getProvider(ct)}function gr(tt,ct,Pt=Pr){sr(tt,ct).clearInstance(Pt)}function _r(tt){return void 0!==tt.options}function Lr(tt){return void 0!==tt.settings}function Tr(){jn.clear()}const Jr=new Q.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Io{constructor(ct,Pt,kt){this._isDeleted=!1,this._options=Object.assign({},ct),this._config=Object.assign({},Pt),this._name=Pt.name,this._automaticDataCollectionEnabled=Pt.automaticDataCollectionEnabled,this._container=kt,this.container.addComponent(new ui.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ct){this.checkDestroyed(),this._automaticDataCollectionEnabled=ct}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ct){this._isDeleted=ct}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}class Wo extends Io{constructor(ct,Pt,kt,Rn){const fn=void 0!==Pt.automaticDataCollectionEnabled&&Pt.automaticDataCollectionEnabled,Ai={name:kt,automaticDataCollectionEnabled:fn};super(void 0!==ct.apiKey?ct:ct.options,Ai,Rn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:fn},Pt),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Pt.releaseOnDeref=void 0,U(ze,Dt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(ct){this.isDeleted||(this._refCount++,void 0!==ct&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(ct,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Ss(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Jr.create("server-app-deleted")}}const oo="10.12.5";function To(tt,ct={}){let Pt=tt;"object"!=typeof ct&&(ct={name:ct});const kt=Object.assign({name:Pr,automaticDataCollectionEnabled:!1},ct),Rn=kt.name;if("string"!=typeof Rn||!Rn)throw Jr.create("bad-app-name",{appName:String(Rn)});if(Pt||(Pt=(0,Q.T9)()),!Pt)throw Jr.create("no-options");const fn=zi.get(Rn);if(fn){if((0,Q.bD)(Pt,fn.options)&&(0,Q.bD)(kt,fn.config))return fn;throw Jr.create("duplicate-app",{appName:Rn})}const Ai=new ui.h1(Rn);for(const vi of jn.values())Ai.addComponent(vi);const Pi=new Io(Pt,kt,Ai);return zi.set(Rn,Pi),Pi}function Ts(tt,ct){if((0,Q.Bd)()&&!(0,Q.p7)())throw Jr.create("invalid-server-app-environment");let Pt;void 0===ct.automaticDataCollectionEnabled&&(ct.automaticDataCollectionEnabled=!1),Pt=_r(tt)?tt.options:tt;const kt=Object.assign(Object.assign({},ct),Pt);if(void 0!==kt.releaseOnDeref&&delete kt.releaseOnDeref,void 0!==ct.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Jr.create("finalization-registry-not-supported",{});const fn=""+(ir=JSON.stringify(kt),[...ir].reduce((Wi,Or)=>Math.imul(31,Wi)+Or.charCodeAt(0)|0,0)),Ai=Qn.get(fn);var ir;if(Ai)return Ai.incRefCount(ct.releaseOnDeref),Ai;const Pi=new ui.h1(fn);for(const ir of jn.values())Pi.addComponent(ir);const vi=new Wo(Pt,ct,fn,Pi);return Qn.set(fn,vi),vi}function $o(tt=Pr){const ct=zi.get(tt);if(!ct&&tt===Pr&&(0,Q.T9)())return To();if(!ct)throw Jr.create("no-app",{appName:tt});return ct}function pr(){return Array.from(zi.values())}function Ss(tt){return so.apply(this,arguments)}function so(){return(so=(0,ae.A)(function*(tt){let ct=!1;const Pt=tt.name;zi.has(Pt)?(ct=!0,zi.delete(Pt)):Qn.has(Pt)&&tt.decRefCount()<=0&&(Qn.delete(Pt),ct=!0),ct&&(yield Promise.all(tt.container.getProviders().map(kt=>kt.delete())),tt.isDeleted=!0)})).apply(this,arguments)}function U(tt,ct,Pt){var kt;let Rn=null!==(kt=Qr[tt])&&void 0!==kt?kt:tt;Pt&&(Rn+=`-${Pt}`);const fn=Rn.match(/\s|\//),Ai=ct.match(/\s|\//);if(fn||Ai){const Pi=[`Unable to register library "${Rn}" with version "${ct}":`];return fn&&Pi.push(`library name "${Rn}" contains illegal characters (whitespace or "/")`),fn&&Ai&&Pi.push("and"),Ai&&Pi.push(`version name "${ct}" contains illegal characters (whitespace or "/")`),void jt.warn(Pi.join(" "))}wi(new ui.uA(`${Rn}-version`,()=>({library:Rn,version:ct}),"VERSION"))}function K(tt,ct){if(null!==tt&&"function"!=typeof tt)throw Jr.create("invalid-log-argument");(0,j.Ey)(tt,ct)}function $(tt){(0,j.He)(tt)}const he="firebase-heartbeat-database",de=1,Pe="firebase-heartbeat-store";let Qe=null;function ge(){return Qe||(Qe=function wt(tt,ct,{blocked:Pt,upgrade:kt,blocking:Rn,terminated:fn}={}){const Ai=indexedDB.open(tt,ct),Pi=Ze(Ai);return kt&&Ai.addEventListener("upgradeneeded",vi=>{kt(Ze(Ai.result),vi.oldVersion,vi.newVersion,Ze(Ai.transaction),vi)}),Pt&&Ai.addEventListener("blocked",vi=>Pt(vi.oldVersion,vi.newVersion,vi)),Pi.then(vi=>{fn&&vi.addEventListener("close",()=>fn()),Rn&&vi.addEventListener("versionchange",ir=>Rn(ir.oldVersion,ir.newVersion,ir))}).catch(()=>{}),Pi}(he,de,{upgrade:(tt,ct)=>{if(0===ct)try{tt.createObjectStore(Pe)}catch(Pt){console.warn(Pt)}}}).catch(tt=>{throw Jr.create("idb-open",{originalErrorMessage:tt.message})})),Qe}function We(){return(We=(0,ae.A)(function*(tt){try{const Pt=(yield ge()).transaction(Pe),kt=yield Pt.objectStore(Pe).get(Ut(tt));return yield Pt.done,kt}catch(ct){if(ct instanceof Q.g)jt.warn(ct.message);else{const Pt=Jr.create("idb-get",{originalErrorMessage:ct?.message});jt.warn(Pt.message)}}})).apply(this,arguments)}function hn(tt,ct){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,ae.A)(function*(tt,ct){try{const kt=(yield ge()).transaction(Pe,"readwrite");yield kt.objectStore(Pe).put(ct,Ut(tt)),yield kt.done}catch(Pt){if(Pt instanceof Q.g)jt.warn(Pt.message);else{const kt=Jr.create("idb-set",{originalErrorMessage:Pt?.message});jt.warn(kt.message)}}})).apply(this,arguments)}function Ut(tt){return`${tt.name}!${tt.options.appId}`}class De{constructor(ct){this.container=ct,this._heartbeatsCache=null;const Pt=this.container.getProvider("app").getImmediate();this._storage=new _t(Pt),this._heartbeatsCachePromise=this._storage.read().then(kt=>(this._heartbeatsCache=kt,kt))}triggerHeartbeat(){var ct=this;return(0,ae.A)(function*(){var Pt,kt;const fn=ct.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ai=Xe();if((null!=(null===(Pt=ct._heartbeatsCache)||void 0===Pt?void 0:Pt.heartbeats)||(ct._heartbeatsCache=yield ct._heartbeatsCachePromise,null!=(null===(kt=ct._heartbeatsCache)||void 0===kt?void 0:kt.heartbeats)))&&ct._heartbeatsCache.lastSentHeartbeatDate!==Ai&&!ct._heartbeatsCache.heartbeats.some(Pi=>Pi.date===Ai))return ct._heartbeatsCache.heartbeats.push({date:Ai,agent:fn}),ct._heartbeatsCache.heartbeats=ct._heartbeatsCache.heartbeats.filter(Pi=>{const vi=new Date(Pi.date).valueOf();return Date.now()-vi<=2592e6}),ct._storage.overwrite(ct._heartbeatsCache)})()}getHeartbeatsHeader(){var ct=this;return(0,ae.A)(function*(){var Pt;if(null===ct._heartbeatsCache&&(yield ct._heartbeatsCachePromise),null==(null===(Pt=ct._heartbeatsCache)||void 0===Pt?void 0:Pt.heartbeats)||0===ct._heartbeatsCache.heartbeats.length)return"";const kt=Xe(),{heartbeatsToSend:Rn,unsentEntries:fn}=function Lt(tt,ct=1024){const Pt=[];let kt=tt.slice();for(const Rn of tt){const fn=Pt.find(Ai=>Ai.agent===Rn.agent);if(fn){if(fn.dates.push(Rn.date),Rt(Pt)>ct){fn.dates.pop();break}}else if(Pt.push({agent:Rn.agent,dates:[Rn.date]}),Rt(Pt)>ct){Pt.pop();break}kt=kt.slice(1)}return{heartbeatsToSend:Pt,unsentEntries:kt}}(ct._heartbeatsCache.heartbeats),Ai=(0,Q.Uj)(JSON.stringify({version:2,heartbeats:Rn}));return ct._heartbeatsCache.lastSentHeartbeatDate=kt,fn.length>0?(ct._heartbeatsCache.heartbeats=fn,yield ct._storage.overwrite(ct._heartbeatsCache)):(ct._heartbeatsCache.heartbeats=[],ct._storage.overwrite(ct._heartbeatsCache)),Ai})()}}function Xe(){return(new Date).toISOString().substring(0,10)}class _t{constructor(ct){this.app=ct,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,ae.A)(function*(){return!!(0,Q.zW)()&&(0,Q.eX)().then(()=>!0).catch(()=>!1)})()}read(){var ct=this;return(0,ae.A)(function*(){if(yield ct._canUseIndexedDBPromise){const kt=yield function Ve(tt){return We.apply(this,arguments)}(ct.app);return kt?.heartbeats?kt:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(ct){var Pt=this;return(0,ae.A)(function*(){var kt;if(yield Pt._canUseIndexedDBPromise){const fn=yield Pt.read();return hn(Pt.app,{lastSentHeartbeatDate:null!==(kt=ct.lastSentHeartbeatDate)&&void 0!==kt?kt:fn.lastSentHeartbeatDate,heartbeats:ct.heartbeats})}})()}add(ct){var Pt=this;return(0,ae.A)(function*(){var kt;if(yield Pt._canUseIndexedDBPromise){const fn=yield Pt.read();return hn(Pt.app,{lastSentHeartbeatDate:null!==(kt=ct.lastSentHeartbeatDate)&&void 0!==kt?kt:fn.lastSentHeartbeatDate,heartbeats:[...fn.heartbeats,...ct.heartbeats]})}})()}}function Rt(tt){return(0,Q.Uj)(JSON.stringify({version:2,heartbeats:tt})).length}!function zt(tt){wi(new ui.uA("platform-logger",ct=>new st(ct),"PRIVATE")),wi(new ui.uA("heartbeat",ct=>new De(ct),"PRIVATE")),U(ze,Dt,tt),U(ze,Dt,"esm2017"),U("fire-js","")}("")},362:(cu,ea,hr)=>{"use strict";hr.d(ea,{Kq:()=>v,h1:()=>A,uA:()=>j});var ae=hr(467),ui=hr(76);class j{constructor(P,N,W){this.name=P,this.instanceFactory=N,this.type=W,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(P){return this.instantiationMode=P,this}setMultipleInstances(P){return this.multipleInstances=P,this}setServiceProps(P){return this.serviceProps=P,this}setInstanceCreatedCallback(P){return this.onInstanceCreated=P,this}}const Q="[DEFAULT]";class v{constructor(P,N){this.name=P,this.container=N,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(P){const N=this.normalizeInstanceIdentifier(P);if(!this.instancesDeferred.has(N)){const W=new ui.cY;if(this.instancesDeferred.set(N,W),this.isInitialized(N)||this.shouldAutoInitialize())try{const Y=this.getOrInitializeService({instanceIdentifier:N});Y&&W.resolve(Y)}catch{}}return this.instancesDeferred.get(N).promise}getImmediate(P){var N;const W=this.normalizeInstanceIdentifier(P?.identifier),Y=null!==(N=P?.optional)&&void 0!==N&&N;if(!this.isInitialized(W)&&!this.shouldAutoInitialize()){if(Y)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:W})}catch(G){if(Y)return null;throw G}}getComponent(){return this.component}setComponent(P){if(P.name!==this.name)throw Error(`Mismatching Component ${P.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=P,this.shouldAutoInitialize()){if(function V(L){return"EAGER"===L.instantiationMode}(P))try{this.getOrInitializeService({instanceIdentifier:Q})}catch{}for(const[N,W]of this.instancesDeferred.entries()){const Y=this.normalizeInstanceIdentifier(N);try{const G=this.getOrInitializeService({instanceIdentifier:Y});W.resolve(G)}catch{}}}}clearInstance(P=Q){this.instancesDeferred.delete(P),this.instancesOptions.delete(P),this.instances.delete(P)}delete(){var P=this;return(0,ae.A)(function*(){const N=Array.from(P.instances.values());yield Promise.all([...N.filter(W=>"INTERNAL"in W).map(W=>W.INTERNAL.delete()),...N.filter(W=>"_delete"in W).map(W=>W._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(P=Q){return this.instances.has(P)}getOptions(P=Q){return this.instancesOptions.get(P)||{}}initialize(P={}){const{options:N={}}=P,W=this.normalizeInstanceIdentifier(P.instanceIdentifier);if(this.isInitialized(W))throw Error(`${this.name}(${W}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Y=this.getOrInitializeService({instanceIdentifier:W,options:N});for(const[G,ne]of this.instancesDeferred.entries())W===this.normalizeInstanceIdentifier(G)&&ne.resolve(Y);return Y}onInit(P,N){var W;const Y=this.normalizeInstanceIdentifier(N),G=null!==(W=this.onInitCallbacks.get(Y))&&void 0!==W?W:new Set;G.add(P),this.onInitCallbacks.set(Y,G);const ne=this.instances.get(Y);return ne&&P(ne,Y),()=>{G.delete(P)}}invokeOnInitCallbacks(P,N){const W=this.onInitCallbacks.get(N);if(W)for(const Y of W)try{Y(P,N)}catch{}}getOrInitializeService({instanceIdentifier:P,options:N={}}){let W=this.instances.get(P);if(!W&&this.component&&(W=this.component.instanceFactory(this.container,{instanceIdentifier:(L=P,L===Q?void 0:L),options:N}),this.instances.set(P,W),this.instancesOptions.set(P,N),this.invokeOnInitCallbacks(W,P),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,P,W)}catch{}var L;return W||null}normalizeInstanceIdentifier(P=Q){return this.component?this.component.multipleInstances?P:Q:P}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class A{constructor(P){this.name=P,this.providers=new Map}addComponent(P){const N=this.getProvider(P.name);if(N.isComponentSet())throw new Error(`Component ${P.name} has already been registered with ${this.name}`);N.setComponent(P)}addOrOverwriteComponent(P){this.getProvider(P.name).isComponentSet()&&this.providers.delete(P.name),this.addComponent(P)}getProvider(P){if(this.providers.has(P))return this.providers.get(P);const N=new v(P,this);return this.providers.set(P,N),N}getProviders(){return Array.from(this.providers.values())}}},41:(cu,ea,hr)=>{"use strict";hr.d(ea,{$b:()=>ui,Ey:()=>L,He:()=>A,Vy:()=>V});const ae=[];var ui=function(P){return P[P.DEBUG=0]="DEBUG",P[P.VERBOSE=1]="VERBOSE",P[P.INFO=2]="INFO",P[P.WARN=3]="WARN",P[P.ERROR=4]="ERROR",P[P.SILENT=5]="SILENT",P}(ui||{});const j={debug:ui.DEBUG,verbose:ui.VERBOSE,info:ui.INFO,warn:ui.WARN,error:ui.ERROR,silent:ui.SILENT},Q=ui.INFO,v={[ui.DEBUG]:"log",[ui.VERBOSE]:"log",[ui.INFO]:"info",[ui.WARN]:"warn",[ui.ERROR]:"error"},O=(P,N,...W)=>{if(N<P.logLevel)return;const Y=(new Date).toISOString(),G=v[N];if(!G)throw new Error(`Attempted to log a message with an invalid logType (value: ${N})`);console[G](`[${Y}]  ${P.name}:`,...W)};class V{constructor(N){this.name=N,this._logLevel=Q,this._logHandler=O,this._userLogHandler=null,ae.push(this)}get logLevel(){return this._logLevel}set logLevel(N){if(!(N in ui))throw new TypeError(`Invalid value "${N}" assigned to \`logLevel\``);this._logLevel=N}setLogLevel(N){this._logLevel="string"==typeof N?j[N]:N}get logHandler(){return this._logHandler}set logHandler(N){if("function"!=typeof N)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=N}get userLogHandler(){return this._userLogHandler}set userLogHandler(N){this._userLogHandler=N}debug(...N){this._userLogHandler&&this._userLogHandler(this,ui.DEBUG,...N),this._logHandler(this,ui.DEBUG,...N)}log(...N){this._userLogHandler&&this._userLogHandler(this,ui.VERBOSE,...N),this._logHandler(this,ui.VERBOSE,...N)}info(...N){this._userLogHandler&&this._userLogHandler(this,ui.INFO,...N),this._logHandler(this,ui.INFO,...N)}warn(...N){this._userLogHandler&&this._userLogHandler(this,ui.WARN,...N),this._logHandler(this,ui.WARN,...N)}error(...N){this._userLogHandler&&this._userLogHandler(this,ui.ERROR,...N),this._logHandler(this,ui.ERROR,...N)}}function A(P){ae.forEach(N=>{N.setLogLevel(P)})}function L(P,N){for(const W of ae){let Y=null;N&&N.level&&(Y=j[N.level]),W.userLogHandler=null===P?null:(G,ne,...Z)=>{const se=Z.map(fe=>{if(null==fe)return null;if("string"==typeof fe)return fe;if("number"==typeof fe||"boolean"==typeof fe)return fe.toString();if(fe instanceof Error)return fe.message;try{return JSON.stringify(fe)}catch{return null}}).filter(fe=>fe).join(" ");ne>=(Y??G.logLevel)&&P({level:ui[ne].toLowerCase(),message:se,args:Z,type:G.name})}}}},254:(cu,ea,hr)=>{"use strict";hr.r(ea);var ae=hr(467),ui=hr(345),j=hr(852),Q=hr(76),v=hr(41),O=hr(635),V=hr(362);const L={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const ne=function Y(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Z=function G(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},se=new Q.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),me=new v.Vy("@firebase/auth");function Ze(k,...y){me.logLevel<=v.$b.ERROR&&me.error(`Auth (${j.SDK_VERSION}): ${k}`,...y)}function ot(k,...y){throw vt(k,...y)}function wt(k,...y){return vt(k,...y)}function ht(k,y,x){const R=Object.assign(Object.assign({},Z()),{[y]:x});return new Q.FA("auth","Firebase",R).create(y,{appName:k.name})}function pt(k){return ht(k,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mt(k,y,x){if(!(y instanceof x))throw x.name!==y.constructor.name&&ot(k,"argument-error"),ht(k,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vt(k,...y){if("string"!=typeof k){const x=y[0],R=[...y.slice(1)];return R[0]&&(R[0].appName=k.name),k._errorFactory.create(x,...R)}return se.create(k,...y)}function Je(k,y,...x){if(!k)throw vt(y,...x)}function st(k){const y="INTERNAL ASSERTION FAILED: "+k;throw Ze(y),new Error(y)}function Fe(k,y){k||st(y)}function ze(){var k;return typeof self<"u"&&(null===(k=self.location)||void 0===k?void 0:k.href)||""}function Dt(){return"http:"===jt()||"https:"===jt()}function jt(){var k;return typeof self<"u"&&(null===(k=self.location)||void 0===k?void 0:k.protocol)||null}class Le{constructor(y,x){this.shortDelay=y,this.longDelay=x,Fe(x>y,"Short delay should be less than long delay!"),this.isMobile=(0,Q.jZ)()||(0,Q.lV)()}get(){return function Tt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Dt()||(0,Q.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gt(k,y){Fe(k.emulator,"Emulator should always be set here");const{url:x}=k.emulator;return y?`${x}${y.startsWith("/")?y.slice(1):y}`:x}class St{static initialize(y,x,R){this.fetchImpl=y,x&&(this.headersImpl=x),R&&(this.responseImpl=R)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void st("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void st("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void st("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Et={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},bn=new Le(3e4,6e4);function on(k,y){return k.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:k.tenantId}):y}function On(k,y,x,R){return ki.apply(this,arguments)}function ki(){return(ki=(0,ae.A)(function*(k,y,x,R,te={}){return Ui(k,te,(0,ae.A)(function*(){let ye={},ft={};R&&("GET"===y?ft=R:ye={body:JSON.stringify(R)});const Vt=(0,Q.Am)(Object.assign({key:k.config.apiKey},ft)).slice(1),In=yield k._getAdditionalHeaders();return In["Content-Type"]="application/json",k.languageCode&&(In["X-Firebase-Locale"]=k.languageCode),St.fetch()(qn(k,k.config.apiHost,x,Vt),Object.assign({method:y,headers:In,referrerPolicy:"no-referrer"},ye))}))})).apply(this,arguments)}function Ui(k,y,x){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,ae.A)(function*(k,y,x){k._canInitEmulator=!1;const R=Object.assign(Object.assign({},Et),y);try{const te=new Jn(k),ye=yield Promise.race([x(),te.promise]);te.clearNetworkTimeout();const ft=yield ye.json();if("needConfirmation"in ft)throw kn(k,"account-exists-with-different-credential",ft);if(ye.ok&&!("errorMessage"in ft))return ft;{const Vt=ye.ok?ft.errorMessage:ft.error.message,[In,yi]=Vt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===In)throw kn(k,"credential-already-in-use",ft);if("EMAIL_EXISTS"===In)throw kn(k,"email-already-in-use",ft);if("USER_DISABLED"===In)throw kn(k,"user-disabled",ft);const Gi=R[In]||In.toLowerCase().replace(/[_\s]+/g,"-");if(yi)throw ht(k,Gi,yi);ot(k,Gi)}}catch(te){if(te instanceof Q.g)throw te;ot(k,"network-request-failed",{message:String(te)})}})).apply(this,arguments)}function ei(k,y,x,R){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,ae.A)(function*(k,y,x,R,te={}){const ye=yield On(k,y,x,R,te);return"mfaPendingCredential"in ye&&ot(k,"multi-factor-auth-required",{_serverResponse:ye}),ye})).apply(this,arguments)}function qn(k,y,x,R){const te=`${y}${x}?${R}`;return k.config.emulator?gt(k.config,te):`${k.config.apiScheme}://${te}`}function An(k){switch(k){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Jn{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((x,R)=>{this.timer=setTimeout(()=>R(wt(this.auth,"network-request-failed")),bn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function kn(k,y,x){const R={appName:k.name};x.email&&(R.email=x.email),x.phoneNumber&&(R.phoneNumber=x.phoneNumber);const te=wt(k,y,R);return te.customData._tokenResponse=x,te}function Gt(k){return void 0!==k&&void 0!==k.getResponse}function Zt(k){return void 0!==k&&void 0!==k.enterprise}class fi{constructor(y){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===y.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=y.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=y.recaptchaEnforcementState}getProviderEnforcementState(y){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const x of this.recaptchaEnforcementState)if(x.provider&&x.provider===y)return An(x.enforcementState);return null}isProviderEnabled(y){return"ENFORCE"===this.getProviderEnforcementState(y)||"AUDIT"===this.getProviderEnforcementState(y)}}function gi(){return(gi=(0,ae.A)(function*(k){return(yield On(k,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Di(k,y){return nr.apply(this,arguments)}function nr(){return(nr=(0,ae.A)(function*(k,y){return On(k,"GET","/v2/recaptchaConfig",on(k,y))})).apply(this,arguments)}function Pr(){return(Pr=(0,ae.A)(function*(k,y){return On(k,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function zi(){return(zi=(0,ae.A)(function*(k,y){return On(k,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Qn(k,y){return jn.apply(this,arguments)}function jn(){return(jn=(0,ae.A)(function*(k,y){return On(k,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function ai(k){if(k)try{const y=new Date(Number(k));if(!isNaN(y.getTime()))return y.toUTCString()}catch{}}function sr(){return(sr=(0,ae.A)(function*(k,y=!1){const x=(0,Q.Ku)(k),R=yield x.getIdToken(y),te=_r(R);Je(te&&te.exp&&te.auth_time&&te.iat,x.auth,"internal-error");const ye="object"==typeof te.firebase?te.firebase:void 0,ft=ye?.sign_in_provider;return{claims:te,token:R,authTime:ai(gr(te.auth_time)),issuedAtTime:ai(gr(te.iat)),expirationTime:ai(gr(te.exp)),signInProvider:ft||null,signInSecondFactor:ye?.sign_in_second_factor||null}})).apply(this,arguments)}function gr(k){return 1e3*Number(k)}function _r(k){const[y,x,R]=k.split(".");if(void 0===y||void 0===x||void 0===R)return Ze("JWT malformed, contained fewer than 3 sections"),null;try{const te=(0,Q.u)(x);return te?JSON.parse(te):(Ze("Failed to decode base64 JWT payload"),null)}catch(te){return Ze("Caught error parsing JWT payload as JSON",te?.toString()),null}}function Lr(k){const y=_r(k);return Je(y,"internal-error"),Je(typeof y.exp<"u","internal-error"),Je(typeof y.iat<"u","internal-error"),Number(y.exp)-Number(y.iat)}function Tr(k,y){return mo.apply(this,arguments)}function mo(){return(mo=(0,ae.A)(function*(k,y,x=!1){if(x)return y;try{return yield y}catch(R){throw R instanceof Q.g&&function Jr({code:k}){return"auth/user-disabled"===k||"auth/user-token-expired"===k}(R)&&k.auth.currentUser===k&&(yield k.auth.signOut()),R}})).apply(this,arguments)}class Io{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var x;if(y){const R=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),R}{this.errorBackoff=3e4;const te=(null!==(x=this.user.stsTokenManager.expirationTime)&&void 0!==x?x:0)-Date.now()-3e5;return Math.max(0,te)}}schedule(y=!1){var x=this;if(!this.isRunning)return;const R=this.getInterval(y);this.timerId=setTimeout((0,ae.A)(function*(){yield x.iteration()}),R)}iteration(){var y=this;return(0,ae.A)(function*(){try{yield y.user.getIdToken(!0)}catch(x){return void("auth/network-request-failed"===x?.code&&y.schedule(!0))}y.schedule()})()}}class Wo{constructor(y,x){this.createdAt=y,this.lastLoginAt=x,this._initializeTime()}_initializeTime(){this.lastSignInTime=ai(this.lastLoginAt),this.creationTime=ai(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function oo(k){return To.apply(this,arguments)}function To(){return(To=(0,ae.A)(function*(k){var y;const x=k.auth,R=yield k.getIdToken(),te=yield Tr(k,Qn(x,{idToken:R}));Je(te?.users.length,x,"internal-error");const ye=te.users[0];k._notifyReloadListener(ye);const ft=null!==(y=ye.providerUserInfo)&&void 0!==y&&y.length?Ss(ye.providerUserInfo):[],Vt=function pr(k,y){return[...k.filter(R=>!y.some(te=>te.providerId===R.providerId)),...y]}(k.providerData,ft),Gi=!!k.isAnonymous&&!(k.email&&ye.passwordHash||Vt?.length),Ki={uid:ye.localId,displayName:ye.displayName||null,photoURL:ye.photoUrl||null,email:ye.email||null,emailVerified:ye.emailVerified||!1,phoneNumber:ye.phoneNumber||null,tenantId:ye.tenantId||null,providerData:Vt,metadata:new Wo(ye.createdAt,ye.lastLoginAt),isAnonymous:Gi};Object.assign(k,Ki)})).apply(this,arguments)}function $o(){return($o=(0,ae.A)(function*(k){const y=(0,Q.Ku)(k);yield oo(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function Ss(k){return k.map(y=>{var{providerId:x}=y,R=(0,O.Tt)(y,["providerId"]);return{providerId:x,uid:R.rawId||"",displayName:R.displayName||null,email:R.email||null,phoneNumber:R.phoneNumber||null,photoURL:R.photoUrl||null}})}function U(){return(U=(0,ae.A)(function*(k,y){const x=yield Ui(k,{},(0,ae.A)(function*(){const R=(0,Q.Am)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:te,apiKey:ye}=k.config,ft=qn(k,te,"/v1/token",`key=${ye}`),Vt=yield k._getAdditionalHeaders();return Vt["Content-Type"]="application/x-www-form-urlencoded",St.fetch()(ft,{method:"POST",headers:Vt,body:R})}));return{accessToken:x.access_token,expiresIn:x.expires_in,refreshToken:x.refresh_token}})).apply(this,arguments)}function $(){return($=(0,ae.A)(function*(k,y){return On(k,"POST","/v2/accounts:revokeToken",on(k,y))})).apply(this,arguments)}class he{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){Je(y.idToken,"internal-error"),Je(typeof y.idToken<"u","internal-error"),Je(typeof y.refreshToken<"u","internal-error");const x="expiresIn"in y&&typeof y.expiresIn<"u"?Number(y.expiresIn):Lr(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,x)}updateFromIdToken(y){Je(0!==y.length,"internal-error");const x=Lr(y);this.updateTokensAndExpiration(y,null,x)}getToken(y,x=!1){var R=this;return(0,ae.A)(function*(){return x||!R.accessToken||R.isExpired?(Je(R.refreshToken,y,"user-token-expired"),R.refreshToken?(yield R.refresh(y,R.refreshToken),R.accessToken):null):R.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,x){var R=this;return(0,ae.A)(function*(){const{accessToken:te,refreshToken:ye,expiresIn:ft}=yield function so(k,y){return U.apply(this,arguments)}(y,x);R.updateTokensAndExpiration(te,ye,Number(ft))})()}updateTokensAndExpiration(y,x,R){this.refreshToken=x||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*R}static fromJSON(y,x){const{refreshToken:R,accessToken:te,expirationTime:ye}=x,ft=new he;return R&&(Je("string"==typeof R,"internal-error",{appName:y}),ft.refreshToken=R),te&&(Je("string"==typeof te,"internal-error",{appName:y}),ft.accessToken=te),ye&&(Je("number"==typeof ye,"internal-error",{appName:y}),ft.expirationTime=ye),ft}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new he,this.toJSON())}_performRefresh(){return st("not implemented")}}function de(k,y){Je("string"==typeof k||typeof k>"u","internal-error",{appName:y})}class Pe{constructor(y){var{uid:x,auth:R,stsTokenManager:te}=y,ye=(0,O.Tt)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Io(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=x,this.auth=R,this.stsTokenManager=te,this.accessToken=te.accessToken,this.displayName=ye.displayName||null,this.email=ye.email||null,this.emailVerified=ye.emailVerified||!1,this.phoneNumber=ye.phoneNumber||null,this.photoURL=ye.photoURL||null,this.isAnonymous=ye.isAnonymous||!1,this.tenantId=ye.tenantId||null,this.providerData=ye.providerData?[...ye.providerData]:[],this.metadata=new Wo(ye.createdAt||void 0,ye.lastLoginAt||void 0)}getIdToken(y){var x=this;return(0,ae.A)(function*(){const R=yield Tr(x,x.stsTokenManager.getToken(x.auth,y));return Je(R,x.auth,"internal-error"),x.accessToken!==R&&(x.accessToken=R,yield x.auth._persistUserIfCurrent(x),x.auth._notifyListenersIfCurrent(x)),R})()}getIdTokenResult(y){return function wi(k){return sr.apply(this,arguments)}(this,y)}reload(){return function Ts(k){return $o.apply(this,arguments)}(this)}_assign(y){this!==y&&(Je(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(x=>Object.assign({},x)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){const x=new Pe(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}));return x.metadata._copy(this.metadata),x}_onReload(y){Je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,x=!1){var R=this;return(0,ae.A)(function*(){let te=!1;y.idToken&&y.idToken!==R.stsTokenManager.accessToken&&(R.stsTokenManager.updateFromServerResponse(y),te=!0),x&&(yield oo(R)),yield R.auth._persistUserIfCurrent(R),te&&R.auth._notifyListenersIfCurrent(R)})()}delete(){var y=this;return(0,ae.A)(function*(){if((0,j._isFirebaseServerApp)(y.auth.app))return Promise.reject(pt(y.auth));const x=yield y.getIdToken();return yield Tr(y,function Ao(k,y){return Pr.apply(this,arguments)}(y.auth,{idToken:x})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,x){var R,te,ye,ft,Vt,In,yi,Gi;const Ki=null!==(R=x.displayName)&&void 0!==R?R:void 0,ia=null!==(te=x.email)&&void 0!==te?te:void 0,kd=null!==(ye=x.phoneNumber)&&void 0!==ye?ye:void 0,vn=null!==(ft=x.photoURL)&&void 0!==ft?ft:void 0,Yr=null!==(Vt=x.tenantId)&&void 0!==Vt?Vt:void 0,mn=null!==(In=x._redirectEventId)&&void 0!==In?In:void 0,pn=null!==(yi=x.createdAt)&&void 0!==yi?yi:void 0,Qo=null!==(Gi=x.lastLoginAt)&&void 0!==Gi?Gi:void 0,{uid:wo,emailVerified:xA,isAnonymous:Yc,providerData:sh,stsTokenManager:Eg}=x;Je(wo&&Eg,y,"internal-error");const Xy=he.fromJSON(this.name,Eg);Je("string"==typeof wo,y,"internal-error"),de(Ki,y.name),de(ia,y.name),Je("boolean"==typeof xA,y,"internal-error"),Je("boolean"==typeof Yc,y,"internal-error"),de(kd,y.name),de(vn,y.name),de(Yr,y.name),de(mn,y.name),de(pn,y.name),de(Qo,y.name);const Yy=new Pe({uid:wo,auth:y,email:ia,emailVerified:xA,displayName:Ki,isAnonymous:Yc,photoURL:vn,phoneNumber:kd,tenantId:Yr,stsTokenManager:Xy,createdAt:pn,lastLoginAt:Qo});return sh&&Array.isArray(sh)&&(Yy.providerData=sh.map(tI=>Object.assign({},tI))),mn&&(Yy._redirectEventId=mn),Yy}static _fromIdTokenResponse(y,x,R=!1){return(0,ae.A)(function*(){const te=new he;te.updateFromServerResponse(x);const ye=new Pe({uid:x.localId,auth:y,stsTokenManager:te,isAnonymous:R});return yield oo(ye),ye})()}static _fromGetAccountInfoResponse(y,x,R){return(0,ae.A)(function*(){const te=x.users[0];Je(void 0!==te.localId,"internal-error");const ye=void 0!==te.providerUserInfo?Ss(te.providerUserInfo):[],ft=!(te.email&&te.passwordHash||ye?.length),Vt=new he;Vt.updateFromIdToken(R);const In=new Pe({uid:te.localId,auth:y,stsTokenManager:Vt,isAnonymous:ft}),yi={uid:te.localId,displayName:te.displayName||null,photoURL:te.photoUrl||null,email:te.email||null,emailVerified:te.emailVerified||!1,phoneNumber:te.phoneNumber||null,tenantId:te.tenantId||null,providerData:ye,metadata:new Wo(te.createdAt,te.lastLoginAt),isAnonymous:!(te.email&&te.passwordHash||ye?.length)};return Object.assign(In,yi),In})()}}const Qe=new Map;function ge(k){Fe(k instanceof Function,"Expected a class definition");let y=Qe.get(k);return y?(Fe(y instanceof k,"Instance stored in cache mismatched with class"),y):(y=new k,Qe.set(k,y),y)}const We=(()=>{class k{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,ae.A)(function*(){return!0})()}_set(x,R){var te=this;return(0,ae.A)(function*(){te.storage[x]=R})()}_get(x){var R=this;return(0,ae.A)(function*(){const te=R.storage[x];return void 0===te?null:te})()}_remove(x){var R=this;return(0,ae.A)(function*(){delete R.storage[x]})()}_addListener(x,R){}_removeListener(x,R){}}return k.type="NONE",k})();function hn(k,y,x){return`firebase:${k}:${y}:${x}`}class Jt{constructor(y,x,R){this.persistence=y,this.auth=x,this.userKey=R;const{config:te,name:ye}=this.auth;this.fullUserKey=hn(this.userKey,te.apiKey,ye),this.fullPersistenceKey=hn("persistence",te.apiKey,ye),this.boundEventHandler=x._onStorageEvent.bind(x),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,ae.A)(function*(){const x=yield y.persistence._get(y.fullUserKey);return x?Pe._fromJSON(y.auth,x):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var x=this;return(0,ae.A)(function*(){if(x.persistence===y)return;const R=yield x.getCurrentUser();return yield x.removeCurrentUser(),x.persistence=y,R?x.setCurrentUser(R):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,x,R="authUser"){return(0,ae.A)(function*(){if(!x.length)return new Jt(ge(We),y,R);const te=(yield Promise.all(x.map(function(){var yi=(0,ae.A)(function*(Gi){if(yield Gi._isAvailable())return Gi});return function(Gi){return yi.apply(this,arguments)}}()))).filter(yi=>yi);let ye=te[0]||ge(We);const ft=hn(R,y.config.apiKey,y.name);let Vt=null;for(const yi of x)try{const Gi=yield yi._get(ft);if(Gi){const Ki=Pe._fromJSON(y,Gi);yi!==ye&&(Vt=Ki),ye=yi;break}}catch{}const In=te.filter(yi=>yi._shouldAllowMigration);return ye._shouldAllowMigration&&In.length?(ye=In[0],Vt&&(yield ye._set(ft,Vt.toJSON())),yield Promise.all(x.map(function(){var yi=(0,ae.A)(function*(Gi){if(Gi!==ye)try{yield Gi._remove(ft)}catch{}});return function(Gi){return yi.apply(this,arguments)}}())),new Jt(ye,y,R)):new Jt(ye,y,R)})()}}function Ut(k){const y=k.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(Xe(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(En(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(_t(y))return"Blackberry";if(Rt(y))return"Webos";if(ri(y))return"Safari";if((y.includes("chrome/")||De(y))&&!y.includes("edge/"))return"Chrome";if(Lt(y))return"Android";{const R=k.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===R?.length)return R[1]}return"Other"}function En(k=(0,Q.ZQ)()){return/firefox\//i.test(k)}function ri(k=(0,Q.ZQ)()){const y=k.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function De(k=(0,Q.ZQ)()){return/crios\//i.test(k)}function Xe(k=(0,Q.ZQ)()){return/iemobile/i.test(k)}function Lt(k=(0,Q.ZQ)()){return/android/i.test(k)}function _t(k=(0,Q.ZQ)()){return/blackberry/i.test(k)}function Rt(k=(0,Q.ZQ)()){return/webos/i.test(k)}function zt(k=(0,Q.ZQ)()){return/iphone|ipad|ipod/i.test(k)||/macintosh/i.test(k)&&/mobile/i.test(k)}function kt(k=(0,Q.ZQ)()){return zt(k)||Lt(k)||Rt(k)||_t(k)||/windows phone/i.test(k)||Xe(k)}function fn(k,y=[]){let x;switch(k){case"Browser":x=Ut((0,Q.ZQ)());break;case"Worker":x=`${Ut((0,Q.ZQ)())}-${k}`;break;default:x=k}const R=y.length?y.join(","):"FirebaseCore-web";return`${x}/JsCore/${j.SDK_VERSION}/${R}`}class Ai{constructor(y){this.auth=y,this.queue=[]}pushCallback(y,x){const R=ye=>new Promise((ft,Vt)=>{try{ft(y(ye))}catch(In){Vt(In)}});R.onAbort=x,this.queue.push(R);const te=this.queue.length-1;return()=>{this.queue[te]=()=>Promise.resolve()}}runMiddleware(y){var x=this;return(0,ae.A)(function*(){if(x.auth.currentUser===y)return;const R=[];try{for(const te of x.queue)yield te(y),te.onAbort&&R.push(te.onAbort)}catch(te){R.reverse();for(const ye of R)try{ye()}catch{}throw x.auth._errorFactory.create("login-blocked",{originalMessage:te?.message})}})()}}function vi(){return(vi=(0,ae.A)(function*(k,y={}){return On(k,"GET","/v2/passwordPolicy",on(k,y))})).apply(this,arguments)}class Wi{constructor(y){var x,R,te,ye;const ft=y.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(x=ft.minPasswordLength)&&void 0!==x?x:6,ft.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=ft.maxPasswordLength),void 0!==ft.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=ft.containsLowercaseCharacter),void 0!==ft.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=ft.containsUppercaseCharacter),void 0!==ft.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=ft.containsNumericCharacter),void 0!==ft.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=ft.containsNonAlphanumericCharacter),this.enforcementState=y.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(te=null===(R=y.allowedNonAlphanumericCharacters)||void 0===R?void 0:R.join(""))&&void 0!==te?te:"",this.forceUpgradeOnSignin=null!==(ye=y.forceUpgradeOnSignin)&&void 0!==ye&&ye,this.schemaVersion=y.schemaVersion}validatePassword(y){var x,R,te,ye,ft,Vt;const In={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(y,In),this.validatePasswordCharacterOptions(y,In),In.isValid&&(In.isValid=null===(x=In.meetsMinPasswordLength)||void 0===x||x),In.isValid&&(In.isValid=null===(R=In.meetsMaxPasswordLength)||void 0===R||R),In.isValid&&(In.isValid=null===(te=In.containsLowercaseLetter)||void 0===te||te),In.isValid&&(In.isValid=null===(ye=In.containsUppercaseLetter)||void 0===ye||ye),In.isValid&&(In.isValid=null===(ft=In.containsNumericCharacter)||void 0===ft||ft),In.isValid&&(In.isValid=null===(Vt=In.containsNonAlphanumericCharacter)||void 0===Vt||Vt),In}validatePasswordLengthOptions(y,x){const R=this.customStrengthOptions.minPasswordLength,te=this.customStrengthOptions.maxPasswordLength;R&&(x.meetsMinPasswordLength=y.length>=R),te&&(x.meetsMaxPasswordLength=y.length<=te)}validatePasswordCharacterOptions(y,x){let R;this.updatePasswordCharacterOptionsStatuses(x,!1,!1,!1,!1);for(let te=0;te<y.length;te++)R=y.charAt(te),this.updatePasswordCharacterOptionsStatuses(x,R>="a"&&R<="z",R>="A"&&R<="Z",R>="0"&&R<="9",this.allowedNonAlphanumericCharacters.includes(R))}updatePasswordCharacterOptionsStatuses(y,x,R,te,ye){this.customStrengthOptions.containsLowercaseLetter&&(y.containsLowercaseLetter||(y.containsLowercaseLetter=x)),this.customStrengthOptions.containsUppercaseLetter&&(y.containsUppercaseLetter||(y.containsUppercaseLetter=R)),this.customStrengthOptions.containsNumericCharacter&&(y.containsNumericCharacter||(y.containsNumericCharacter=te)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(y.containsNonAlphanumericCharacter||(y.containsNonAlphanumericCharacter=ye))}}class Or{constructor(y,x,R,te){this.app=y,this.heartbeatServiceProvider=x,this.appCheckServiceProvider=R,this.config=te,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ac(this),this.idTokenSubscription=new Ac(this),this.beforeStateQueue=new Ai(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=se,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=te.sdkClientVersion}_initializeWithPersistence(y,x){var R=this;return x&&(this._popupRedirectResolver=ge(x)),this._initializationPromise=this.queue((0,ae.A)(function*(){var te,ye;if(!R._deleted&&(R.persistenceManager=yield Jt.create(R,y),!R._deleted)){if(null!==(te=R._popupRedirectResolver)&&void 0!==te&&te._shouldInitProactively)try{yield R._popupRedirectResolver._initialize(R)}catch{}yield R.initializeCurrentUser(x),R.lastNotifiedUid=(null===(ye=R.currentUser)||void 0===ye?void 0:ye.uid)||null,!R._deleted&&(R._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,ae.A)(function*(){if(y._deleted)return;const x=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||x){if(y.currentUser&&x&&y.currentUser.uid===x.uid)return y._currentUser._assign(x),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(x,!0)}})()}initializeCurrentUserFromIdToken(y){var x=this;return(0,ae.A)(function*(){try{const R=yield Qn(x,{idToken:y}),te=yield Pe._fromGetAccountInfoResponse(x,R,y);yield x.directlySetCurrentUser(te)}catch(R){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",R),yield x.directlySetCurrentUser(null)}})()}initializeCurrentUser(y){var x=this;return(0,ae.A)(function*(){var R;if((0,j._isFirebaseServerApp)(x.app)){const Vt=x.app.settings.authIdToken;return Vt?new Promise(In=>{setTimeout(()=>x.initializeCurrentUserFromIdToken(Vt).then(In,In))}):x.directlySetCurrentUser(null)}const te=yield x.assertedPersistence.getCurrentUser();let ye=te,ft=!1;if(y&&x.config.authDomain){yield x.getOrInitRedirectPersistenceManager();const Vt=null===(R=x.redirectUser)||void 0===R?void 0:R._redirectEventId,In=ye?._redirectEventId,yi=yield x.tryRedirectSignIn(y);(!Vt||Vt===In)&&yi?.user&&(ye=yi.user,ft=!0)}if(!ye)return x.directlySetCurrentUser(null);if(!ye._redirectEventId){if(ft)try{yield x.beforeStateQueue.runMiddleware(ye)}catch(Vt){ye=te,x._popupRedirectResolver._overrideRedirectResult(x,()=>Promise.reject(Vt))}return ye?x.reloadAndSetCurrentUserOrClear(ye):x.directlySetCurrentUser(null)}return Je(x._popupRedirectResolver,x,"argument-error"),yield x.getOrInitRedirectPersistenceManager(),x.redirectUser&&x.redirectUser._redirectEventId===ye._redirectEventId?x.directlySetCurrentUser(ye):x.reloadAndSetCurrentUserOrClear(ye)})()}tryRedirectSignIn(y){var x=this;return(0,ae.A)(function*(){let R=null;try{R=yield x._popupRedirectResolver._completeRedirectFn(x,y,!0)}catch{yield x._setRedirectUser(null)}return R})()}reloadAndSetCurrentUserOrClear(y){var x=this;return(0,ae.A)(function*(){try{yield oo(y)}catch(R){if("auth/network-request-failed"!==R?.code)return x.directlySetCurrentUser(null)}return x.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function yn(){if(typeof navigator>"u")return null;const k=navigator;return k.languages&&k.languages[0]||k.language||null}()}_delete(){var y=this;return(0,ae.A)(function*(){y._deleted=!0})()}updateCurrentUser(y){var x=this;return(0,ae.A)(function*(){if((0,j._isFirebaseServerApp)(x.app))return Promise.reject(pt(x));const R=y?(0,Q.Ku)(y):null;return R&&Je(R.auth.config.apiKey===x.config.apiKey,x,"invalid-user-token"),x._updateCurrentUser(R&&R._clone(x))})()}_updateCurrentUser(y,x=!1){var R=this;return(0,ae.A)(function*(){if(!R._deleted)return y&&Je(R.tenantId===y.tenantId,R,"tenant-id-mismatch"),x||(yield R.beforeStateQueue.runMiddleware(y)),R.queue((0,ae.A)(function*(){yield R.directlySetCurrentUser(y),R.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,ae.A)(function*(){return(0,j._isFirebaseServerApp)(y.app)?Promise.reject(pt(y)):(yield y.beforeStateQueue.runMiddleware(null),(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null,!0))})()}setPersistence(y){var x=this;return(0,j._isFirebaseServerApp)(this.app)?Promise.reject(pt(this)):this.queue((0,ae.A)(function*(){yield x.assertedPersistence.setPersistence(ge(y))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(y){var x=this;return(0,ae.A)(function*(){x._getPasswordPolicyInternal()||(yield x._updatePasswordPolicy());const R=x._getPasswordPolicyInternal();return R.schemaVersion!==x.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(x._errorFactory.create("unsupported-password-policy-schema-version",{})):R.validatePassword(y)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var y=this;return(0,ae.A)(function*(){const x=yield function Pi(k){return vi.apply(this,arguments)}(y),R=new Wi(x);null===y.tenantId?y._projectPasswordPolicy=R:y._tenantPasswordPolicies[y.tenantId]=R})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new Q.FA("auth","Firebase",y())}onAuthStateChanged(y,x,R){return this.registerStateListener(this.authStateSubscription,y,x,R)}beforeAuthStateChanged(y,x){return this.beforeStateQueue.pushCallback(y,x)}onIdTokenChanged(y,x,R){return this.registerStateListener(this.idTokenSubscription,y,x,R)}authStateReady(){return new Promise((y,x)=>{if(this.currentUser)y();else{const R=this.onAuthStateChanged(()=>{R(),y()},x)}})}revokeAccessToken(y){var x=this;return(0,ae.A)(function*(){if(x.currentUser){const R=yield x.currentUser.getIdToken(),te={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:y,idToken:R};null!=x.tenantId&&(te.tenantId=x.tenantId),yield function K(k,y){return $.apply(this,arguments)}(x,te)}})()}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,x){var R=this;return(0,ae.A)(function*(){const te=yield R.getOrInitRedirectPersistenceManager(x);return null===y?te.removeCurrentUser():te.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var x=this;return(0,ae.A)(function*(){if(!x.redirectPersistenceManager){const R=y&&ge(y)||x._popupRedirectResolver;Je(R,x,"argument-error"),x.redirectPersistenceManager=yield Jt.create(x,[ge(R._redirectPersistence)],"redirectUser"),x.redirectUser=yield x.redirectPersistenceManager.getCurrentUser()}return x.redirectPersistenceManager})()}_redirectUserForId(y){var x=this;return(0,ae.A)(function*(){var R,te;return x._isInitialized&&(yield x.queue((0,ae.A)(function*(){}))),(null===(R=x._currentUser)||void 0===R?void 0:R._redirectEventId)===y?x._currentUser:(null===(te=x.redirectUser)||void 0===te?void 0:te._redirectEventId)===y?x.redirectUser:null})()}_persistUserIfCurrent(y){var x=this;return(0,ae.A)(function*(){if(y===x.currentUser)return x.queue((0,ae.A)(function*(){return x.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,x;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const R=null!==(x=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==x?x:null;this.lastNotifiedUid!==R&&(this.lastNotifiedUid=R,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,x,R,te){if(this._deleted)return()=>{};const ye="function"==typeof x?x:x.next.bind(x);let ft=!1;const Vt=this._isInitialized?Promise.resolve():this._initializationPromise;if(Je(Vt,this,"internal-error"),Vt.then(()=>{ft||ye(this.currentUser)}),"function"==typeof x){const In=y.addObserver(x,R,te);return()=>{ft=!0,In()}}{const In=y.addObserver(x);return()=>{ft=!0,In()}}}directlySetCurrentUser(y){var x=this;return(0,ae.A)(function*(){x.currentUser&&x.currentUser!==y&&x._currentUser._stopProactiveRefresh(),y&&x.isProactiveRefreshEnabled&&y._startProactiveRefresh(),x.currentUser=y,y?yield x.assertedPersistence.setCurrentUser(y):yield x.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return Je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=fn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var y=this;return(0,ae.A)(function*(){var x;const R={"X-Client-Version":y.clientVersion};y.app.options.appId&&(R["X-Firebase-gmpid"]=y.app.options.appId);const te=yield null===(x=y.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===x?void 0:x.getHeartbeatsHeader();te&&(R["X-Firebase-Client"]=te);const ye=yield y._getAppCheckToken();return ye&&(R["X-Firebase-AppCheck"]=ye),R})()}_getAppCheckToken(){var y=this;return(0,ae.A)(function*(){var x;const R=yield null===(x=y.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===x?void 0:x.getToken();return R?.error&&function we(k,...y){me.logLevel<=v.$b.WARN&&me.warn(`Auth (${j.SDK_VERSION}): ${k}`,...y)}(`Error while retrieving App Check token: ${R.error}`),R?.token})()}}function Br(k){return(0,Q.Ku)(k)}class Ac{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,Q.tD)(x=>this.observer=x)}get next(){return Je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let no={loadJS:()=>(0,ae.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uu(k){return no.loadJS(k)}function ls(k){return`__${k}${Math.floor(1e6*Math.random())}`}class No{constructor(y){this.type="recaptcha-enterprise",this.auth=Br(y)}verify(y="verify",x=!1){var R=this;return(0,ae.A)(function*(){function ye(){return ye=(0,ae.A)(function*(Vt){if(!x){if(null==Vt.tenantId&&null!=Vt._agentRecaptchaConfig)return Vt._agentRecaptchaConfig.siteKey;if(null!=Vt.tenantId&&void 0!==Vt._tenantRecaptchaConfigs[Vt.tenantId])return Vt._tenantRecaptchaConfigs[Vt.tenantId].siteKey}return new Promise(function(){var In=(0,ae.A)(function*(yi,Gi){Di(Vt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ki=>{if(void 0!==Ki.recaptchaKey){const ia=new fi(Ki);return null==Vt.tenantId?Vt._agentRecaptchaConfig=ia:Vt._tenantRecaptchaConfigs[Vt.tenantId]=ia,yi(ia.siteKey)}Gi(new Error("recaptcha Enterprise site key undefined"))}).catch(Ki=>{Gi(Ki)})});return function(yi,Gi){return In.apply(this,arguments)}}())}),ye.apply(this,arguments)}function ft(Vt,In,yi){const Gi=window.grecaptcha;Zt(Gi)?Gi.enterprise.ready(()=>{Gi.enterprise.execute(Vt,{action:y}).then(Ki=>{In(Ki)}).catch(()=>{In("NO_RECAPTCHA")})}):yi(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Vt,In)=>{(function te(Vt){return ye.apply(this,arguments)})(R.auth).then(yi=>{if(!x&&Zt(window.grecaptcha))ft(yi,Vt,In);else{if(typeof window>"u")return void In(new Error("RecaptchaVerifier is only supported in browser"));let Gi=function es(){return no.recaptchaEnterpriseScript}();0!==Gi.length&&(Gi+=yi),uu(Gi).then(()=>{ft(yi,Vt,In)}).catch(Ki=>{In(Ki)})}}).catch(yi=>{In(yi)})})})()}}function nl(k,y,x){return ga.apply(this,arguments)}function ga(){return(ga=(0,ae.A)(function*(k,y,x,R=!1){const te=new No(k);let ye;try{ye=yield te.verify(x)}catch{ye=yield te.verify(x,!0)}const ft=Object.assign({},y);return Object.assign(ft,R?{captchaResp:ye}:{captchaResponse:ye}),Object.assign(ft,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ft,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ft})).apply(this,arguments)}function Yl(k,y,x,R){return ja.apply(this,arguments)}function ja(){return ja=(0,ae.A)(function*(k,y,x,R){var te;if(null!==(te=k._getRecaptchaConfig())&&void 0!==te&&te.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ye=yield nl(k,y,x,"getOobCode"===x);return R(k,ye)}return R(k,y).catch(function(){var ye=(0,ae.A)(function*(ft){if("auth/missing-recaptcha-token"===ft.code){console.log(`${x} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Vt=yield nl(k,y,x,"getOobCode"===x);return R(k,Vt)}return Promise.reject(ft)});return function(ft){return ye.apply(this,arguments)}}())}),ja.apply(this,arguments)}function _i(k){const y=k.indexOf(":");return y<0?"":k.substr(0,y+1)}function Us(k){if(!k)return null;const y=Number(k);return isNaN(y)?null:y}class ys{constructor(y,x){this.providerId=y,this.signInMethod=x}toJSON(){return st("not implemented")}_getIdTokenResponse(y){return st("not implemented")}_linkToIdToken(y,x){return st("not implemented")}_getReauthenticationResolver(y){return st("not implemented")}}function il(k,y){return rf.apply(this,arguments)}function rf(){return(rf=(0,ae.A)(function*(k,y){return On(k,"POST","/v1/accounts:resetPassword",on(k,y))})).apply(this,arguments)}function ap(){return(ap=(0,ae.A)(function*(k,y){return On(k,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Kd(k,y){return Eh.apply(this,arguments)}function Eh(){return(Eh=(0,ae.A)(function*(k,y){return On(k,"POST","/v1/accounts:signUp",y)})).apply(this,arguments)}function cp(){return(cp=(0,ae.A)(function*(k,y){return On(k,"POST","/v1/accounts:update",on(k,y))})).apply(this,arguments)}function sf(k,y){return Al.apply(this,arguments)}function Al(){return(Al=(0,ae.A)(function*(k,y){return ei(k,"POST","/v1/accounts:signInWithPassword",on(k,y))})).apply(this,arguments)}function _a(k,y){return mc.apply(this,arguments)}function mc(){return(mc=(0,ae.A)(function*(k,y){return On(k,"POST","/v1/accounts:sendOobCode",on(k,y))})).apply(this,arguments)}function gc(){return(gc=(0,ae.A)(function*(k,y){return _a(k,y)})).apply(this,arguments)}function hu(k,y){return gd.apply(this,arguments)}function gd(){return(gd=(0,ae.A)(function*(k,y){return _a(k,y)})).apply(this,arguments)}function rl(k,y){return ds.apply(this,arguments)}function ds(){return(ds=(0,ae.A)(function*(k,y){return _a(k,y)})).apply(this,arguments)}function up(){return(up=(0,ae.A)(function*(k,y){return _a(k,y)})).apply(this,arguments)}function hp(){return(hp=(0,ae.A)(function*(k,y){return ei(k,"POST","/v1/accounts:signInWithEmailLink",on(k,y))})).apply(this,arguments)}function pp(){return(pp=(0,ae.A)(function*(k,y){return ei(k,"POST","/v1/accounts:signInWithEmailLink",on(k,y))})).apply(this,arguments)}class Qc extends ys{constructor(y,x,R,te=null){super("password",R),this._email=y,this._password=x,this._tenantId=te}static _fromEmailAndPassword(y,x){return new Qc(y,x,"password")}static _fromEmailAndCode(y,x,R=null){return new Qc(y,x,"emailLink",R)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const x="string"==typeof y?JSON.parse(y):y;if(x?.email&&x?.password){if("password"===x.signInMethod)return this._fromEmailAndPassword(x.email,x.password);if("emailLink"===x.signInMethod)return this._fromEmailAndCode(x.email,x.password,x.tenantId)}return null}_getIdTokenResponse(y){var x=this;return(0,ae.A)(function*(){switch(x.signInMethod){case"password":return Yl(y,{returnSecureToken:!0,email:x._email,password:x._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",sf);case"emailLink":return function dp(k,y){return hp.apply(this,arguments)}(y,{email:x._email,oobCode:x._password});default:ot(y,"internal-error")}})()}_linkToIdToken(y,x){var R=this;return(0,ae.A)(function*(){switch(R.signInMethod){case"password":return Yl(y,{idToken:x,returnSecureToken:!0,email:R._email,password:R._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Kd);case"emailLink":return function Ch(k,y){return pp.apply(this,arguments)}(y,{idToken:x,email:R._email,oobCode:R._password});default:ot(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function _c(k,y){return fp.apply(this,arguments)}function fp(){return(fp=(0,ae.A)(function*(k,y){return ei(k,"POST","/v1/accounts:signInWithIdp",on(k,y))})).apply(this,arguments)}class pu extends ys{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const x=new pu(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(x.idToken=y.idToken),y.accessToken&&(x.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(x.nonce=y.nonce),y.pendingToken&&(x.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(x.accessToken=y.oauthToken,x.secret=y.oauthTokenSecret):ot("argument-error"),x}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const x="string"==typeof y?JSON.parse(y):y,{providerId:R,signInMethod:te}=x,ye=(0,O.Tt)(x,["providerId","signInMethod"]);if(!R||!te)return null;const ft=new pu(R,te);return ft.idToken=ye.idToken||void 0,ft.accessToken=ye.accessToken||void 0,ft.secret=ye.secret,ft.nonce=ye.nonce,ft.pendingToken=ye.pendingToken||null,ft}_getIdTokenResponse(y){return _c(y,this.buildRequest())}_linkToIdToken(y,x){const R=this.buildRequest();return R.idToken=x,_c(y,R)}_getReauthenticationResolver(y){const x=this.buildRequest();return x.autoCreate=!1,_c(y,x)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const x={};this.idToken&&(x.id_token=this.idToken),this.accessToken&&(x.access_token=this.accessToken),this.secret&&(x.oauth_token_secret=this.secret),x.providerId=this.providerId,this.nonce&&!this.pendingToken&&(x.nonce=this.nonce),y.postBody=(0,Q.Am)(x)}return y}}function Nu(){return(Nu=(0,ae.A)(function*(k,y){return On(k,"POST","/v1/accounts:sendVerificationCode",on(k,y))})).apply(this,arguments)}function qs(){return(qs=(0,ae.A)(function*(k,y){return ei(k,"POST","/v1/accounts:signInWithPhoneNumber",on(k,y))})).apply(this,arguments)}function Rl(){return(Rl=(0,ae.A)(function*(k,y){const x=yield ei(k,"POST","/v1/accounts:signInWithPhoneNumber",on(k,y));if(x.temporaryProof)throw kn(k,"account-exists-with-different-credential",x);return x})).apply(this,arguments)}const fu={USER_NOT_FOUND:"user-not-found"};function Au(){return(Au=(0,ae.A)(function*(k,y){return ei(k,"POST","/v1/accounts:signInWithPhoneNumber",on(k,Object.assign(Object.assign({},y),{operation:"REAUTH"})),fu)})).apply(this,arguments)}class ol extends ys{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,x){return new ol({verificationId:y,verificationCode:x})}static _fromTokenResponse(y,x){return new ol({phoneNumber:y,temporaryProof:x})}_getIdTokenResponse(y){return function aA(k,y){return qs.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,x){return function lA(k,y){return Rl.apply(this,arguments)}(y,Object.assign({idToken:x},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function Uu(k,y){return Au.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:x,verificationId:R,verificationCode:te}=this.params;return y&&x?{temporaryProof:y,phoneNumber:x}:{sessionInfo:R,code:te}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:x,verificationCode:R,phoneNumber:te,temporaryProof:ye}=y;return R||x||te||ye?new ol({verificationId:x,verificationCode:R,phoneNumber:te,temporaryProof:ye}):null}}class Zl{constructor(y){var x,R,te,ye,ft,Vt;const In=(0,Q.I9)((0,Q.hp)(y)),yi=null!==(x=In.apiKey)&&void 0!==x?x:null,Gi=null!==(R=In.oobCode)&&void 0!==R?R:null,Ki=function jc(k){switch(k){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(te=In.mode)&&void 0!==te?te:null);Je(yi&&Gi&&Ki,"argument-error"),this.apiKey=yi,this.operation=Ki,this.code=Gi,this.continueUrl=null!==(ye=In.continueUrl)&&void 0!==ye?ye:null,this.languageCode=null!==(ft=In.languageCode)&&void 0!==ft?ft:null,this.tenantId=null!==(Vt=In.tenantId)&&void 0!==Vt?Vt:null}static parseLink(y){const x=function Vu(k){const y=(0,Q.I9)((0,Q.hp)(k)).link,x=y?(0,Q.I9)((0,Q.hp)(y)).deep_link_id:null,R=(0,Q.I9)((0,Q.hp)(k)).deep_link_id;return(R?(0,Q.I9)((0,Q.hp)(R)).link:null)||R||x||y||k}(y);try{return new Zl(x)}catch{return null}}}let Ap=(()=>{class k{constructor(){this.providerId=k.PROVIDER_ID}static credential(x,R){return Qc._fromEmailAndPassword(x,R)}static credentialWithLink(x,R){const te=Zl.parseLink(R);return Je(te,"argument-error"),Qc._fromEmailAndCode(x,te.code,te.tenantId)}}return k.PROVIDER_ID="password",k.EMAIL_PASSWORD_SIGN_IN_METHOD="password",k.EMAIL_LINK_SIGN_IN_METHOD="emailLink",k})();class Gr{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class _d extends Gr{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class Qu extends _d{static credentialFromJSON(y){const x="string"==typeof y?JSON.parse(y):y;return Je("providerId"in x&&"signInMethod"in x,"argument-error"),pu._fromParams(x)}credential(y){return this._credential(Object.assign(Object.assign({},y),{nonce:y.rawNonce}))}_credential(y){return Je(y.idToken||y.accessToken,"argument-error"),pu._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return Qu.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return Qu.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:x,oauthAccessToken:R,oauthTokenSecret:te,pendingToken:ye,nonce:ft,providerId:Vt}=y;if(!R&&!te&&!x&&!ye||!Vt)return null;try{return new Qu(Vt)._credential({idToken:x,accessToken:R,nonce:ft,pendingToken:ye})}catch{return null}}}let mp=(()=>{class k extends _d{constructor(){super("facebook.com")}static credential(x){return pu._fromParams({providerId:k.PROVIDER_ID,signInMethod:k.FACEBOOK_SIGN_IN_METHOD,accessToken:x})}static credentialFromResult(x){return k.credentialFromTaggedObject(x)}static credentialFromError(x){return k.credentialFromTaggedObject(x.customData||{})}static credentialFromTaggedObject({_tokenResponse:x}){if(!x||!("oauthAccessToken"in x)||!x.oauthAccessToken)return null;try{return k.credential(x.oauthAccessToken)}catch{return null}}}return k.FACEBOOK_SIGN_IN_METHOD="facebook.com",k.PROVIDER_ID="facebook.com",k})(),gp=(()=>{class k extends _d{constructor(){super("google.com"),this.addScope("profile")}static credential(x,R){return pu._fromParams({providerId:k.PROVIDER_ID,signInMethod:k.GOOGLE_SIGN_IN_METHOD,idToken:x,accessToken:R})}static credentialFromResult(x){return k.credentialFromTaggedObject(x)}static credentialFromError(x){return k.credentialFromTaggedObject(x.customData||{})}static credentialFromTaggedObject({_tokenResponse:x}){if(!x)return null;const{oauthIdToken:R,oauthAccessToken:te}=x;if(!R&&!te)return null;try{return k.credential(R,te)}catch{return null}}}return k.GOOGLE_SIGN_IN_METHOD="google.com",k.PROVIDER_ID="google.com",k})(),Ih=(()=>{class k extends _d{constructor(){super("github.com")}static credential(x){return pu._fromParams({providerId:k.PROVIDER_ID,signInMethod:k.GITHUB_SIGN_IN_METHOD,accessToken:x})}static credentialFromResult(x){return k.credentialFromTaggedObject(x)}static credentialFromError(x){return k.credentialFromTaggedObject(x.customData||{})}static credentialFromTaggedObject({_tokenResponse:x}){if(!x||!("oauthAccessToken"in x)||!x.oauthAccessToken)return null;try{return k.credential(x.oauthAccessToken)}catch{return null}}}return k.GITHUB_SIGN_IN_METHOD="github.com",k.PROVIDER_ID="github.com",k})();class Jl extends ys{constructor(y,x){super(y,y),this.pendingToken=x}_getIdTokenResponse(y){return _c(y,this.buildRequest())}_linkToIdToken(y,x){const R=this.buildRequest();return R.idToken=x,_c(y,R)}_getReauthenticationResolver(y){const x=this.buildRequest();return x.autoCreate=!1,_c(y,x)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const x="string"==typeof y?JSON.parse(y):y,{providerId:R,signInMethod:te,pendingToken:ye}=x;return R&&te&&ye&&R===te?new Jl(R,ye):null}static _create(y,x){return new Jl(y,x)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class vc extends Gr{constructor(y){Je(y.startsWith("saml."),"argument-error"),super(y)}static credentialFromResult(y){return vc.samlCredentialFromTaggedObject(y)}static credentialFromError(y){return vc.samlCredentialFromTaggedObject(y.customData||{})}static credentialFromJSON(y){const x=Jl.fromJSON(y);return Je(x,"argument-error"),x}static samlCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{pendingToken:x,providerId:R}=y;if(!x||!R)return null;try{return Jl._create(R,x)}catch{return null}}}let af=(()=>{class k extends _d{constructor(){super("twitter.com")}static credential(x,R){return pu._fromParams({providerId:k.PROVIDER_ID,signInMethod:k.TWITTER_SIGN_IN_METHOD,oauthToken:x,oauthTokenSecret:R})}static credentialFromResult(x){return k.credentialFromTaggedObject(x)}static credentialFromError(x){return k.credentialFromTaggedObject(x.customData||{})}static credentialFromTaggedObject({_tokenResponse:x}){if(!x)return null;const{oauthAccessToken:R,oauthTokenSecret:te}=x;if(!R||!te)return null;try{return k.credential(R,te)}catch{return null}}}return k.TWITTER_SIGN_IN_METHOD="twitter.com",k.PROVIDER_ID="twitter.com",k})();function mu(k,y){return Th.apply(this,arguments)}function Th(){return(Th=(0,ae.A)(function*(k,y){return ei(k,"POST","/v1/accounts:signUp",on(k,y))})).apply(this,arguments)}class va{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,x,R,te=!1){return(0,ae.A)(function*(){const ye=yield Pe._fromIdTokenResponse(y,R,te),ft=_p(R);return new va({user:ye,providerId:ft,_tokenResponse:R,operationType:x})})()}static _forOperation(y,x,R){return(0,ae.A)(function*(){yield y._updateTokensIfNecessary(R,!0);const te=_p(R);return new va({user:y,providerId:te,_tokenResponse:R,operationType:x})})()}}function _p(k){return k.providerId?k.providerId:"phoneNumber"in k?"phone":null}function sl(){return(sl=(0,ae.A)(function*(k){var y;if((0,j._isFirebaseServerApp)(k.app))return Promise.reject(pt(k));const x=Br(k);if(yield x._initializationPromise,null!==(y=x.currentUser)&&void 0!==y&&y.isAnonymous)return new va({user:x.currentUser,providerId:null,operationType:"signIn"});const R=yield mu(x,{returnSecureToken:!0}),te=yield va._fromIdTokenResponse(x,"signIn",R,!0);return yield x._updateCurrentUser(te.user),te})).apply(this,arguments)}class Xd extends Q.g{constructor(y,x,R,te){var ye;super(x.code,x.message),this.operationType=R,this.user=te,Object.setPrototypeOf(this,Xd.prototype),this.customData={appName:y.name,tenantId:null!==(ye=y.tenantId)&&void 0!==ye?ye:void 0,_serverResponse:x.customData._serverResponse,operationType:R}}static _fromErrorAndOperation(y,x,R,te){return new Xd(y,x,R,te)}}function Ks(k,y,x,R){return("reauthenticate"===y?x._getReauthenticationResolver(k):x._getIdTokenResponse(k)).catch(ye=>{throw"auth/multi-factor-auth-required"===ye.code?Xd._fromErrorAndOperation(k,ye,y,R):ye})}function Ro(k){return new Set(k.map(({providerId:y})=>y).filter(y=>!!y))}function lf(){return lf=(0,ae.A)(function*(k,y){const x=(0,Q.Ku)(k);yield uf(!0,x,y);const{providerUserInfo:R}=yield function Qr(k,y){return zi.apply(this,arguments)}(x.auth,{idToken:yield x.getIdToken(),deleteProvider:[y]}),te=Ro(R||[]);return x.providerData=x.providerData.filter(ye=>te.has(ye.providerId)),te.has("phone")||(x.phoneNumber=null),yield x.auth._persistUserIfCurrent(x),x}),lf.apply(this,arguments)}function zu(k,y){return cf.apply(this,arguments)}function cf(){return(cf=(0,ae.A)(function*(k,y,x=!1){const R=yield Tr(k,y._linkToIdToken(k.auth,yield k.getIdToken()),x);return va._forOperation(k,"link",R)})).apply(this,arguments)}function uf(k,y,x){return df.apply(this,arguments)}function df(){return(df=(0,ae.A)(function*(k,y,x){yield oo(y);const te=!1===k?"provider-already-linked":"no-such-provider";Je(Ro(y.providerData).has(x)===k,y.auth,te)})).apply(this,arguments)}function yp(k,y){return vd.apply(this,arguments)}function vd(){return(vd=(0,ae.A)(function*(k,y,x=!1){const{auth:R}=k;if((0,j._isFirebaseServerApp)(R.app))return Promise.reject(pt(R));const te="reauthenticate";try{const ye=yield Tr(k,Ks(R,te,y,k),x);Je(ye.idToken,R,"internal-error");const ft=_r(ye.idToken);Je(ft,R,"internal-error");const{sub:Vt}=ft;return Je(k.uid===Vt,R,"user-mismatch"),va._forOperation(k,te,ye)}catch(ye){throw"auth/user-not-found"===ye?.code&&ot(R,"user-mismatch"),ye}})).apply(this,arguments)}function Gu(k,y){return an.apply(this,arguments)}function an(){return(an=(0,ae.A)(function*(k,y,x=!1){if((0,j._isFirebaseServerApp)(k.app))return Promise.reject(pt(k));const R="signIn",te=yield Ks(k,R,y),ye=yield va._fromIdTokenResponse(k,R,te);return x||(yield k._updateCurrentUser(ye.user)),ye})).apply(this,arguments)}function Ml(k,y){return yc.apply(this,arguments)}function yc(){return(yc=(0,ae.A)(function*(k,y){return Gu(Br(k),y)})).apply(this,arguments)}function Sh(k,y){return yd.apply(this,arguments)}function yd(){return(yd=(0,ae.A)(function*(k,y){const x=(0,Q.Ku)(k);return yield uf(!1,x,y.providerId),zu(x,y)})).apply(this,arguments)}function bc(k,y){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,ae.A)(function*(k,y){return yp((0,Q.Ku)(k),y)})).apply(this,arguments)}function gu(){return(gu=(0,ae.A)(function*(k,y){return ei(k,"POST","/v1/accounts:signInWithCustomToken",on(k,y))})).apply(this,arguments)}function tc(){return tc=(0,ae.A)(function*(k,y){if((0,j._isFirebaseServerApp)(k.app))return Promise.reject(pt(k));const x=Br(k),R=yield function Da(k,y){return gu.apply(this,arguments)}(x,{token:y,returnSecureToken:!0}),te=yield va._fromIdTokenResponse(x,"signIn",R);return yield x._updateCurrentUser(te.user),te}),tc.apply(this,arguments)}class _u{constructor(y,x){this.factorId=y,this.uid=x.mfaEnrollmentId,this.enrollmentTime=new Date(x.enrolledAt).toUTCString(),this.displayName=x.displayName}static _fromServerResponse(y,x){return"phoneInfo"in x?bd._fromServerResponse(y,x):"totpInfo"in x?wc._fromServerResponse(y,x):ot(y,"internal-error")}}class bd extends _u{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,x){return new bd(x)}}class wc extends _u{constructor(y){super("totp",y)}static _fromServerResponse(y,x){return new wc(x)}}function hf(k,y,x){var R;Je((null===(R=x.url)||void 0===R?void 0:R.length)>0,k,"invalid-continue-uri"),Je(typeof x.dynamicLinkDomain>"u"||x.dynamicLinkDomain.length>0,k,"invalid-dynamic-link-domain"),y.continueUrl=x.url,y.dynamicLinkDomain=x.dynamicLinkDomain,y.canHandleCodeInApp=x.handleCodeInApp,x.iOS&&(Je(x.iOS.bundleId.length>0,k,"missing-ios-bundle-id"),y.iOSBundleId=x.iOS.bundleId),x.android&&(Je(x.android.packageName.length>0,k,"missing-android-pkg-name"),y.androidInstallApp=x.android.installApp,y.androidMinimumVersionCode=x.android.minimumVersion,y.androidPackageName=x.android.packageName)}function Uo(k){return bp.apply(this,arguments)}function bp(){return(bp=(0,ae.A)(function*(k){const y=Br(k);y._getPasswordPolicyInternal()&&(yield y._updatePasswordPolicy())})).apply(this,arguments)}function So(){return(So=(0,ae.A)(function*(k,y,x){const R=Br(k),te={requestType:"PASSWORD_RESET",email:y,clientType:"CLIENT_TYPE_WEB"};x&&hf(R,te,x),yield Yl(R,te,"getOobCode",hu)})).apply(this,arguments)}function Xo(){return Xo=(0,ae.A)(function*(k,y,x){yield il((0,Q.Ku)(k),{oobCode:y,newPassword:x}).catch(function(){var R=(0,ae.A)(function*(te){throw"auth/password-does-not-meet-requirements"===te.code&&Uo(k),te});return function(te){return R.apply(this,arguments)}}())}),Xo.apply(this,arguments)}function Dh(){return Dh=(0,ae.A)(function*(k,y){yield function lp(k,y){return cp.apply(this,arguments)}((0,Q.Ku)(k),{oobCode:y})}),Dh.apply(this,arguments)}function Yd(k,y){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,ae.A)(function*(k,y){const x=(0,Q.Ku)(k),R=yield il(x,{oobCode:y}),te=R.requestType;switch(Je(te,x,"internal-error"),te){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Je(R.newEmail,x,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Je(R.mfaInfo,x,"internal-error");default:Je(R.email,x,"internal-error")}let ye=null;return R.mfaInfo&&(ye=_u._fromServerResponse(Br(x),R.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===R.requestType?R.newEmail:R.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===R.requestType?R.email:R.newEmail)||null,multiFactorInfo:ye},operation:te}})).apply(this,arguments)}function go(){return(go=(0,ae.A)(function*(k,y){const{data:x}=yield Yd((0,Q.Ku)(k),y);return x.email})).apply(this,arguments)}function vu(){return(vu=(0,ae.A)(function*(k,y,x){if((0,j._isFirebaseServerApp)(k.app))return Promise.reject(pt(k));const R=Br(k),ft=yield Yl(R,{returnSecureToken:!0,email:y,password:x,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mu).catch(In=>{throw"auth/password-does-not-meet-requirements"===In.code&&Uo(k),In}),Vt=yield va._fromIdTokenResponse(R,"signIn",ft);return yield R._updateCurrentUser(Vt.user),Vt})).apply(this,arguments)}function eo(){return(eo=(0,ae.A)(function*(k,y,x){const R=Br(k),te={requestType:"EMAIL_SIGNIN",email:y,clientType:"CLIENT_TYPE_WEB"};(function ye(ft,Vt){Je(Vt.handleCodeInApp,R,"argument-error"),Vt&&hf(R,ft,Vt)})(te,x),yield Yl(R,te,"getOobCode",rl)})).apply(this,arguments)}function ve(){return(ve=(0,ae.A)(function*(k,y,x){if((0,j._isFirebaseServerApp)(k.app))return Promise.reject(pt(k));const R=(0,Q.Ku)(k),te=Ap.credentialWithLink(y,x||ze());return Je(te._tenantId===(R.tenantId||null),R,"tenant-id-mismatch"),Ml(R,te)})).apply(this,arguments)}function Mt(){return(Mt=(0,ae.A)(function*(k,y){return On(k,"POST","/v1/accounts:createAuthUri",on(k,y))})).apply(this,arguments)}function dn(){return dn=(0,ae.A)(function*(k,y){const R={identifier:y,continueUri:Dt()?ze():"http://localhost"},{signinMethods:te}=yield function Ne(k,y){return Mt.apply(this,arguments)}((0,Q.Ku)(k),R);return te||[]}),dn.apply(this,arguments)}function Gn(){return Gn=(0,ae.A)(function*(k,y){const x=(0,Q.Ku)(k),te={requestType:"VERIFY_EMAIL",idToken:yield k.getIdToken()};y&&hf(x.auth,te,y);const{email:ye}=yield function Vc(k,y){return gc.apply(this,arguments)}(x.auth,te);ye!==k.email&&(yield k.reload())}),Gn.apply(this,arguments)}function qr(){return qr=(0,ae.A)(function*(k,y,x){const R=(0,Q.Ku)(k),ye={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield k.getIdToken(),newEmail:y};x&&hf(R.auth,ye,x);const{email:ft}=yield function Wd(k,y){return up.apply(this,arguments)}(R.auth,ye);ft!==k.email&&(yield k.reload())}),qr.apply(this,arguments)}function Mo(){return(Mo=(0,ae.A)(function*(k,y){return On(k,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function ya(){return ya=(0,ae.A)(function*(k,{displayName:y,photoURL:x}){if(void 0===y&&void 0===x)return;const R=(0,Q.Ku)(k),ye={idToken:yield R.getIdToken(),displayName:y,photoUrl:x,returnSecureToken:!0},ft=yield Tr(R,function nc(k,y){return Mo.apply(this,arguments)}(R.auth,ye));R.displayName=ft.displayName||null,R.photoURL=ft.photoUrl||null;const Vt=R.providerData.find(({providerId:In})=>"password"===In);Vt&&(Vt.displayName=R.displayName,Vt.photoURL=R.photoURL),yield R._updateTokensIfNecessary(ft)}),ya.apply(this,arguments)}function di(k,y,x){return Ra.apply(this,arguments)}function Ra(){return Ra=(0,ae.A)(function*(k,y,x){const{auth:R}=k,ye={idToken:yield k.getIdToken(),returnSecureToken:!0};y&&(ye.email=y),x&&(ye.password=x);const ft=yield Tr(k,function sA(k,y){return ap.apply(this,arguments)}(R,ye));yield k._updateTokensIfNecessary(ft,!0)}),Ra.apply(this,arguments)}class Yn{constructor(y,x,R={}){this.isNewUser=y,this.providerId=x,this.profile=R}}class cA extends Yn{constructor(y,x,R,te){super(y,x,R),this.username=te}}class Rh extends Yn{constructor(y,x){super(y,"facebook.com",x)}}class wp extends cA{constructor(y,x){super(y,"github.com",x,"string"==typeof x?.login?x?.login:null)}}class ic extends Yn{constructor(y,x){super(y,"google.com",x)}}class Bl extends cA{constructor(y,x,R){super(y,"twitter.com",x,R)}}function uA(k){const{user:y,_tokenResponse:x}=k;return y.isAnonymous&&!x?{providerId:null,isNewUser:!1,profile:null}:function sm(k){var y,x;if(!k)return null;const{providerId:R}=k,te=k.rawUserInfo?JSON.parse(k.rawUserInfo):{},ye=k.isNewUser||"identitytoolkit#SignupNewUserResponse"===k.kind;if(!R&&k?.idToken){const ft=null===(x=null===(y=_r(k.idToken))||void 0===y?void 0:y.firebase)||void 0===x?void 0:x.sign_in_provider;if(ft)return new Yn(ye,"anonymous"!==ft&&"custom"!==ft?ft:null)}if(!R)return null;switch(R){case"facebook.com":return new Rh(ye,te);case"github.com":return new wp(ye,te);case"google.com":return new ic(ye,te);case"twitter.com":return new Bl(ye,te,k.screenName||null);case"custom":case"anonymous":return new Yn(ye,null);default:return new Yn(ye,R,te)}}(x)}class Ol{constructor(y,x,R){this.type=y,this.credential=x,this.user=R}static _fromIdtoken(y,x){return new Ol("enroll",y,x)}static _fromMfaPendingCredential(y){return new Ol("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var x,R;if(y?.multiFactorSession){if(null!==(x=y.multiFactorSession)&&void 0!==x&&x.pendingCredential)return Ol._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null!==(R=y.multiFactorSession)&&void 0!==R&&R.idToken)return Ol._fromIdtoken(y.multiFactorSession.idToken)}return null}}class Hc{constructor(y,x,R){this.session=y,this.hints=x,this.signInResolver=R}static _fromError(y,x){const R=Br(y),te=x.customData._serverResponse,ye=(te.mfaInfo||[]).map(Vt=>_u._fromServerResponse(R,Vt));Je(te.mfaPendingCredential,R,"internal-error");const ft=Ol._fromMfaPendingCredential(te.mfaPendingCredential);return new Hc(ft,ye,function(){var Vt=(0,ae.A)(function*(In){const yi=yield In._process(R,ft);delete te.mfaInfo,delete te.mfaPendingCredential;const Gi=Object.assign(Object.assign({},te),{idToken:yi.idToken,refreshToken:yi.refreshToken});switch(x.operationType){case"signIn":const Ki=yield va._fromIdTokenResponse(R,x.operationType,Gi);return yield R._updateCurrentUser(Ki.user),Ki;case"reauthenticate":return Je(x.user,R,"internal-error"),va._forOperation(x.user,x.operationType,Gi);default:ot(R,"internal-error")}});return function(In){return Vt.apply(this,arguments)}}())}resolveSignIn(y){var x=this;return(0,ae.A)(function*(){return x.signInResolver(y)})()}}class al{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(x=>{x.mfaInfo&&(this.enrolledFactors=x.mfaInfo.map(R=>_u._fromServerResponse(y.auth,R)))})}static _fromUser(y){return new al(y)}getSession(){var y=this;return(0,ae.A)(function*(){return Ol._fromIdtoken(yield y.user.getIdToken(),y.user)})()}enroll(y,x){var R=this;return(0,ae.A)(function*(){const te=y,ye=yield R.getSession(),ft=yield Tr(R.user,te._process(R.user.auth,ye,x));return yield R.user._updateTokensIfNecessary(ft),R.user.reload()})()}unenroll(y){var x=this;return(0,ae.A)(function*(){const R="string"==typeof y?y:y.uid,te=yield x.user.getIdToken();try{const ye=yield Tr(x.user,function ko(k,y){return On(k,"POST","/v2/accounts/mfaEnrollment:withdraw",on(k,y))}(x.user.auth,{idToken:te,mfaEnrollmentId:R}));x.enrolledFactors=x.enrolledFactors.filter(({uid:ft})=>ft!==R),yield x.user._updateTokensIfNecessary(ye),yield x.user.reload()}catch(ye){throw ye}})()}}const Cc=new WeakMap,Kc="__sak";class hA{constructor(y,x){this.storageRetriever=y,this.type=x}_isAvailable(){try{return this.storage?(this.storage.setItem(Kc,"1"),this.storage.removeItem(Kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(y,x){return this.storage.setItem(y,JSON.stringify(x)),Promise.resolve()}_get(y){const x=this.storage.getItem(y);return Promise.resolve(x?JSON.parse(x):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}get storage(){return this.storageRetriever()}}const Vs=(()=>{class k extends hA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(x,R)=>this.onStorageEvent(x,R),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function xp(){const k=(0,Q.ZQ)();return ri(k)||zt(k)}()&&function Rn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=kt(),this._shouldAllowMigration=!0}forAllChangedKeys(x){for(const R of Object.keys(this.listeners)){const te=this.storage.getItem(R),ye=this.localCache[R];te!==ye&&x(R,ye,te)}}onStorageEvent(x,R=!1){if(!x.key)return void this.forAllChangedKeys((Vt,In,yi)=>{this.notifyListeners(Vt,yi)});const te=x.key;if(R?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Vt=this.storage.getItem(te);if(x.newValue!==Vt)null!==x.newValue?this.storage.setItem(te,x.newValue):this.storage.removeItem(te);else if(this.localCache[te]===x.newValue&&!R)return}const ye=()=>{const Vt=this.storage.getItem(te);!R&&this.localCache[te]===Vt||this.notifyListeners(te,Vt)},ft=this.storage.getItem(te);!function Pt(){return(0,Q.lT)()&&10===document.documentMode}()||ft===x.newValue||x.newValue===x.oldValue?ye():setTimeout(ye,10)}notifyListeners(x,R){this.localCache[x]=R;const te=this.listeners[x];if(te)for(const ye of Array.from(te))ye(R&&JSON.parse(R))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((x,R,te)=>{this.onStorageEvent(new StorageEvent("storage",{key:x,oldValue:R,newValue:te}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(x,R){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[x]||(this.listeners[x]=new Set,this.localCache[x]=this.storage.getItem(x)),this.listeners[x].add(R)}_removeListener(x,R){this.listeners[x]&&(this.listeners[x].delete(R),0===this.listeners[x].size&&delete this.listeners[x]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(x,R){var te=()=>super._set,ye=this;return(0,ae.A)(function*(){yield te().call(ye,x,R),ye.localCache[x]=JSON.stringify(R)})()}_get(x){var R=()=>super._get,te=this;return(0,ae.A)(function*(){const ye=yield R().call(te,x);return te.localCache[x]=JSON.stringify(ye),ye})()}_remove(x){var R=()=>super._remove,te=this;return(0,ae.A)(function*(){yield R().call(te,x),delete te.localCache[x]})()}}return k.type="LOCAL",k})(),Fl=(()=>{class k extends hA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(x,R){}_removeListener(x,R){}}return k.type="SESSION",k})();let qu=(()=>{class k{constructor(x){this.eventTarget=x,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(x){const R=this.receivers.find(ye=>ye.isListeningto(x));if(R)return R;const te=new k(x);return this.receivers.push(te),te}isListeningto(x){return this.eventTarget===x}handleEvent(x){var R=this;return(0,ae.A)(function*(){const te=x,{eventId:ye,eventType:ft,data:Vt}=te.data,In=R.handlersMap[ft];if(!In?.size)return;te.ports[0].postMessage({status:"ack",eventId:ye,eventType:ft});const yi=Array.from(In).map(function(){var Ki=(0,ae.A)(function*(ia){return ia(te.origin,Vt)});return function(ia){return Ki.apply(this,arguments)}}()),Gi=yield function Ic(k){return Promise.all(k.map(function(){var y=(0,ae.A)(function*(x){try{return{fulfilled:!0,value:yield x}}catch(R){return{fulfilled:!1,reason:R}}});return function(x){return y.apply(this,arguments)}}()))}(yi);te.ports[0].postMessage({status:"done",eventId:ye,eventType:ft,response:Gi})})()}_subscribe(x,R){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[x]||(this.handlersMap[x]=new Set),this.handlersMap[x].add(R)}_unsubscribe(x,R){this.handlersMap[x]&&R&&this.handlersMap[x].delete(R),(!R||0===this.handlersMap[x].size)&&delete this.handlersMap[x],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return k.receivers=[],k})();function ml(k="",y=10){let x="";for(let R=0;R<y;R++)x+=Math.floor(10*Math.random());return k+x}class Bh{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,x,R=50){var te=this;return(0,ae.A)(function*(){const ye=typeof MessageChannel<"u"?new MessageChannel:null;if(!ye)throw new Error("connection_unavailable");let ft,Vt;return new Promise((In,yi)=>{const Gi=ml("",20);ye.port1.start();const Ki=setTimeout(()=>{yi(new Error("unsupported_event"))},R);Vt={messageChannel:ye,onMessage(ia){const kd=ia;if(kd.data.eventId===Gi)switch(kd.data.status){case"ack":clearTimeout(Ki),ft=setTimeout(()=>{yi(new Error("timeout"))},3e3);break;case"done":clearTimeout(ft),In(kd.data.response);break;default:clearTimeout(Ki),clearTimeout(ft),yi(new Error("invalid_response"))}}},te.handlers.add(Vt),ye.port1.addEventListener("message",Vt.onMessage),te.target.postMessage({eventType:y,eventId:Gi,data:x},[ye.port2])}).finally(()=>{Vt&&te.removeMessageHandler(Vt)})})()}}function bs(){return window}function mf(){return typeof bs().WorkerGlobalScope<"u"&&"function"==typeof bs().importScripts}function rc(){return(rc=(0,ae.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ed="firebaseLocalStorageDb",Wc="firebaseLocalStorage",Ht="fbase_key";class Ku{constructor(y){this.request=y}toPromise(){return new Promise((y,x)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{x(this.request.error)})})}}function Wu(k,y){return k.transaction([Wc],y?"readwrite":"readonly").objectStore(Wc)}function Ep(){const k=indexedDB.open(Ed,1);return new Promise((y,x)=>{k.addEventListener("error",()=>{x(k.error)}),k.addEventListener("upgradeneeded",()=>{const R=k.result;try{R.createObjectStore(Wc,{keyPath:Ht})}catch(te){x(te)}}),k.addEventListener("success",(0,ae.A)(function*(){const R=k.result;R.objectStoreNames.contains(Wc)?y(R):(R.close(),yield function Oh(){const k=indexedDB.deleteDatabase(Ed);return new Ku(k).toPromise()}(),y(yield Ep()))}))})}function h(k,y,x){return f.apply(this,arguments)}function f(){return(f=(0,ae.A)(function*(k,y,x){const R=Wu(k,!0).put({[Ht]:y,value:x});return new Ku(R).toPromise()})).apply(this,arguments)}function _(){return(_=(0,ae.A)(function*(k,y){const x=Wu(k,!1).get(y),R=yield new Ku(x).toPromise();return void 0===R?null:R.value})).apply(this,arguments)}function C(k,y){const x=Wu(k,!0).delete(y);return new Ku(x).toPromise()}const ie=(()=>{class k{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var x=this;return(0,ae.A)(function*(){return x.db||(x.db=yield Ep()),x.db})()}_withRetries(x){var R=this;return(0,ae.A)(function*(){let te=0;for(;;)try{const ye=yield R._openDb();return yield x(ye)}catch(ye){if(te++>3)throw ye;R.db&&(R.db.close(),R.db=void 0)}})()}initializeServiceWorkerMessaging(){var x=this;return(0,ae.A)(function*(){return mf()?x.initializeReceiver():x.initializeSender()})()}initializeReceiver(){var x=this;return(0,ae.A)(function*(){x.receiver=qu._getInstance(function Ll(){return mf()?self:null}()),x.receiver._subscribe("keyChanged",function(){var R=(0,ae.A)(function*(te,ye){return{keyProcessed:(yield x._poll()).includes(ye.key)}});return function(te,ye){return R.apply(this,arguments)}}()),x.receiver._subscribe("ping",function(){var R=(0,ae.A)(function*(te,ye){return["keyChanged"]});return function(te,ye){return R.apply(this,arguments)}}())})()}initializeSender(){var x=this;return(0,ae.A)(function*(){var R,te;if(x.activeServiceWorker=yield function Ph(){return rc.apply(this,arguments)}(),!x.activeServiceWorker)return;x.sender=new Bh(x.activeServiceWorker);const ye=yield x.sender._send("ping",{},800);ye&&null!==(R=ye[0])&&void 0!==R&&R.fulfilled&&null!==(te=ye[0])&&void 0!==te&&te.value.includes("keyChanged")&&(x.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(x){var R=this;return(0,ae.A)(function*(){if(R.sender&&R.activeServiceWorker&&function cm(){var k;return(null===(k=navigator?.serviceWorker)||void 0===k?void 0:k.controller)||null}()===R.activeServiceWorker)try{yield R.sender._send("keyChanged",{key:x},R.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,ae.A)(function*(){try{if(!indexedDB)return!1;const x=yield Ep();return yield h(x,Kc,"1"),yield C(x,Kc),!0}catch{}return!1})()}_withPendingWrite(x){var R=this;return(0,ae.A)(function*(){R.pendingWrites++;try{yield x()}finally{R.pendingWrites--}})()}_set(x,R){var te=this;return(0,ae.A)(function*(){return te._withPendingWrite((0,ae.A)(function*(){return yield te._withRetries(ye=>h(ye,x,R)),te.localCache[x]=R,te.notifyServiceWorker(x)}))})()}_get(x){var R=this;return(0,ae.A)(function*(){const te=yield R._withRetries(ye=>function p(k,y){return _.apply(this,arguments)}(ye,x));return R.localCache[x]=te,te})()}_remove(x){var R=this;return(0,ae.A)(function*(){return R._withPendingWrite((0,ae.A)(function*(){return yield R._withRetries(te=>C(te,x)),delete R.localCache[x],R.notifyServiceWorker(x)}))})()}_poll(){var x=this;return(0,ae.A)(function*(){const R=yield x._withRetries(ft=>{const Vt=Wu(ft,!1).getAll();return new Ku(Vt).toPromise()});if(!R)return[];if(0!==x.pendingWrites)return[];const te=[],ye=new Set;if(0!==R.length)for(const{fbase_key:ft,value:Vt}of R)ye.add(ft),JSON.stringify(x.localCache[ft])!==JSON.stringify(Vt)&&(x.notifyListeners(ft,Vt),te.push(ft));for(const ft of Object.keys(x.localCache))x.localCache[ft]&&!ye.has(ft)&&(x.notifyListeners(ft,null),te.push(ft));return te})()}notifyListeners(x,R){this.localCache[x]=R;const te=this.listeners[x];if(te)for(const ye of Array.from(te))ye(R)}startPolling(){var x=this;this.stopPolling(),this.pollTimer=setInterval((0,ae.A)(function*(){return x._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(x,R){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[x]||(this.listeners[x]=new Set,this._get(x)),this.listeners[x].add(R)}_removeListener(x,R){this.listeners[x]&&(this.listeners[x].delete(R),0===this.listeners[x].size&&delete this.listeners[x]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return k.type="LOCAL",k})(),je=1e12;class ut{constructor(y){this.auth=y,this.counter=je,this._widgets=new Map}render(y,x){const R=this.counter;return this._widgets.set(R,new Ue(y,this.auth.name,x||{})),this.counter++,R}reset(y){var x;const R=y||je;null===(x=this._widgets.get(R))||void 0===x||x.delete(),this._widgets.delete(R)}getResponse(y){var x;return(null===(x=this._widgets.get(y||je))||void 0===x?void 0:x.getResponse())||""}execute(y){var x=this;return(0,ae.A)(function*(){var R;return null===(R=x._widgets.get(y||je))||void 0===R||R.execute(),""})()}}class Ue{constructor(y,x,R){this.params=R,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const te="string"==typeof y?document.getElementById(y):y;Je(te,"argument-error",{appName:x}),this.container=te,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function lt(k){const y=[],x="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let R=0;R<k;R++)y.push(x.charAt(Math.floor(62*Math.random())));return y.join("")}(50);const{callback:y,"expired-callback":x}=this.params;if(y)try{y(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,x)try{x()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const At=ls("rcb"),Ot=new Le(3e4,6e4);class rn{constructor(){var y;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(y=bs().grecaptcha)||void 0===y||!y.render)}load(y,x=""){return Je(function tn(k){return k.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(k)}(x),y,"argument-error"),this.shouldResolveImmediately(x)&&Gt(bs().grecaptcha)?Promise.resolve(bs().grecaptcha):new Promise((R,te)=>{const ye=bs().setTimeout(()=>{te(wt(y,"network-request-failed"))},Ot.get());bs()[At]=()=>{bs().clearTimeout(ye),delete bs()[At];const Vt=bs().grecaptcha;if(!Vt||!Gt(Vt))return void te(wt(y,"internal-error"));const In=Vt.render;Vt.render=(yi,Gi)=>{const Ki=In(yi,Gi);return this.counter++,Ki},this.hostLanguage=x,R(Vt)},uu(`${function du(){return no.recaptchaV2Script}()}?${(0,Q.Am)({onload:At,render:"explicit",hl:x})}`).catch(()=>{clearTimeout(ye),te(wt(y,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){var x;return!(null===(x=bs().grecaptcha)||void 0===x||!x.render)&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class un{load(y){return(0,ae.A)(function*(){return new ut(y)})()}clearedOneInstance(){}}const Cn="recaptcha",wn={theme:"light",type:"image"};class Un{constructor(y,x,R=Object.assign({},wn)){this.parameters=R,this.type=Cn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Br(y),this.isInvisible="invisible"===this.parameters.size,Je(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const te="string"==typeof x?document.getElementById(x):x;Je(te,this.auth,"argument-error"),this.container=te,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new un:new rn,this.validateStartingState()}verify(){var y=this;return(0,ae.A)(function*(){y.assertNotDestroyed();const x=yield y.render(),R=y.getAssertedRecaptcha();return R.getResponse(x)||new Promise(ye=>{const ft=Vt=>{Vt&&(y.tokenChangeListeners.delete(ft),ye(Vt))};y.tokenChangeListeners.add(ft),y.isInvisible&&R.execute(x)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){Je(!this.parameters.sitekey,this.auth,"argument-error"),Je(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Je(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return x=>{if(this.tokenChangeListeners.forEach(R=>R(x)),"function"==typeof y)y(x);else if("string"==typeof y){const R=bs()[y];"function"==typeof R&&R(x)}}}assertNotDestroyed(){Je(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,ae.A)(function*(){if(yield y.init(),!y.widgetId){let x=y.container;if(!y.isInvisible){const R=document.createElement("div");x.appendChild(R),x=R}y.widgetId=y.getAssertedRecaptcha().render(x,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,ae.A)(function*(){Je(Dt()&&!mf(),y.auth,"internal-error"),yield function ci(){let k=null;return new Promise(y=>{"complete"!==document.readyState?(k=()=>y(),window.addEventListener("load",k)):y()}).catch(y=>{throw k&&window.removeEventListener("load",k),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const x=yield function Bi(k){return gi.apply(this,arguments)}(y.auth);Je(x,y.auth,"internal-error"),y.parameters.sitekey=x})()}getAssertedRecaptcha(){return Je(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Oi{constructor(y,x){this.verificationId=y,this.onConfirmation=x}confirm(y){const x=ol._fromVerification(this.verificationId,y);return this.onConfirmation(x)}}function Ni(){return(Ni=(0,ae.A)(function*(k,y,x){if((0,j._isFirebaseServerApp)(k.app))return Promise.reject(pt(k));const R=Br(k),te=yield er(R,y,(0,Q.Ku)(x));return new Oi(te,ye=>Ml(R,ye))})).apply(this,arguments)}function oi(){return(oi=(0,ae.A)(function*(k,y,x){const R=(0,Q.Ku)(k);yield uf(!1,R,"phone");const te=yield er(R.auth,y,(0,Q.Ku)(x));return new Oi(te,ye=>Sh(R,ye))})).apply(this,arguments)}function br(){return(br=(0,ae.A)(function*(k,y,x){const R=(0,Q.Ku)(k);if((0,j._isFirebaseServerApp)(R.auth.app))return Promise.reject(pt(R.auth));const te=yield er(R.auth,y,(0,Q.Ku)(x));return new Oi(te,ye=>bc(R,ye))})).apply(this,arguments)}function er(k,y,x){return tr.apply(this,arguments)}function tr(){return tr=(0,ae.A)(function*(k,y,x){var R;const te=yield x.verify();try{let ye;if(Je("string"==typeof te,k,"argument-error"),Je(x.type===Cn,k,"argument-error"),ye="string"==typeof y?{phoneNumber:y}:y,"session"in ye){const ft=ye.session;if("phoneNumber"in ye)return Je("enroll"===ft.type,k,"internal-error"),(yield function Ms(k,y){return On(k,"POST","/v2/accounts/mfaEnrollment:start",on(k,y))}(k,{idToken:ft.credential,phoneEnrollmentInfo:{phoneNumber:ye.phoneNumber,recaptchaToken:te}})).phoneSessionInfo.sessionInfo;{Je("signin"===ft.type,k,"internal-error");const Vt=(null===(R=ye.multiFactorHint)||void 0===R?void 0:R.uid)||ye.multiFactorUid;return Je(Vt,k,"missing-multi-factor-info"),(yield function ue(k,y){return On(k,"POST","/v2/accounts/mfaSignIn:start",on(k,y))}(k,{mfaPendingCredential:ft.credential,mfaEnrollmentId:Vt,phoneSignInInfo:{recaptchaToken:te}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ft}=yield function $d(k,y){return Nu.apply(this,arguments)}(k,{phoneNumber:ye.phoneNumber,recaptchaToken:te});return ft}}finally{x._reset()}}),tr.apply(this,arguments)}function Zi(){return(Zi=(0,ae.A)(function*(k,y){const x=(0,Q.Ku)(k);if((0,j._isFirebaseServerApp)(x.auth.app))return Promise.reject(pt(x.auth));yield zu(x,y)})).apply(this,arguments)}let qi=(()=>{class k{constructor(x){this.providerId=k.PROVIDER_ID,this.auth=Br(x)}verifyPhoneNumber(x,R){return er(this.auth,x,(0,Q.Ku)(R))}static credential(x,R){return ol._fromVerification(x,R)}static credentialFromResult(x){return k.credentialFromTaggedObject(x)}static credentialFromError(x){return k.credentialFromTaggedObject(x.customData||{})}static credentialFromTaggedObject({_tokenResponse:x}){if(!x)return null;const{phoneNumber:R,temporaryProof:te}=x;return R&&te?ol._fromTokenResponse(R,te):null}}return k.PROVIDER_ID="phone",k.PHONE_SIGN_IN_METHOD="phone",k})();function hs(k,y){return y?ge(y):(Je(k._popupRedirectResolver,k,"argument-error"),k._popupRedirectResolver)}class ss extends ys{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return _c(y,this._buildIdpRequest())}_linkToIdToken(y,x){return _c(y,this._buildIdpRequest(x))}_getReauthenticationResolver(y){return _c(y,this._buildIdpRequest())}_buildIdpRequest(y){const x={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(x.idToken=y),x}}function ll(k){return Gu(k.auth,new ss(k),k.bypassAuthState)}function Ma(k){const{auth:y,user:x}=k;return Je(x,y,"internal-error"),yp(x,new ss(k),k.bypassAuthState)}function bo(k){return ws.apply(this,arguments)}function ws(){return(ws=(0,ae.A)(function*(k){const{auth:y,user:x}=k;return Je(x,y,"internal-error"),zu(x,new ss(k),k.bypassAuthState)})).apply(this,arguments)}class gl{constructor(y,x,R,te,ye=!1){this.auth=y,this.resolver=R,this.user=te,this.bypassAuthState=ye,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(x)?x:[x]}execute(){var y=this;return new Promise(function(){var x=(0,ae.A)(function*(R,te){y.pendingPromise={resolve:R,reject:te};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(ye){y.reject(ye)}});return function(R,te){return x.apply(this,arguments)}}())}onAuthEvent(y){var x=this;return(0,ae.A)(function*(){const{urlResponse:R,sessionId:te,postBody:ye,tenantId:ft,error:Vt,type:In}=y;if(Vt)return void x.reject(Vt);const yi={auth:x.auth,requestUri:R,sessionId:te,tenantId:ft||void 0,postBody:ye||void 0,user:x.user,bypassAuthState:x.bypassAuthState};try{x.resolve(yield x.getIdpTask(In)(yi))}catch(Gi){x.reject(Gi)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return ll;case"linkViaPopup":case"linkViaRedirect":return bo;case"reauthViaPopup":case"reauthViaRedirect":return Ma;default:ot(this.auth,"internal-error")}}resolve(y){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _l=new Le(2e3,1e4);function cl(){return(cl=(0,ae.A)(function*(k,y,x){if((0,j._isFirebaseServerApp)(k.app))return Promise.reject(wt(k,"operation-not-supported-in-this-environment"));const R=Br(k);mt(k,y,Gr);const te=hs(R,x);return new $u(R,"signInViaPopup",y,te).executeNotNull()})).apply(this,arguments)}function Nl(){return(Nl=(0,ae.A)(function*(k,y,x){const R=(0,Q.Ku)(k);if((0,j._isFirebaseServerApp)(R.auth.app))return Promise.reject(wt(R.auth,"operation-not-supported-in-this-environment"));mt(R.auth,y,Gr);const te=hs(R.auth,x);return new $u(R.auth,"reauthViaPopup",y,te,R).executeNotNull()})).apply(this,arguments)}function eh(){return(eh=(0,ae.A)(function*(k,y,x){const R=(0,Q.Ku)(k);mt(R.auth,y,Gr);const te=hs(R.auth,x);return new $u(R.auth,"linkViaPopup",y,te,R).executeNotNull()})).apply(this,arguments)}let $u=(()=>{class k extends gl{constructor(x,R,te,ye,ft){super(x,R,ye,ft),this.provider=te,this.authWindow=null,this.pollId=null,k.currentPopupAction&&k.currentPopupAction.cancel(),k.currentPopupAction=this}executeNotNull(){var x=this;return(0,ae.A)(function*(){const R=yield x.execute();return Je(R,x.auth,"internal-error"),R})()}onExecution(){var x=this;return(0,ae.A)(function*(){Fe(1===x.filter.length,"Popup operations only handle one event");const R=ml();x.authWindow=yield x.resolver._openPopup(x.auth,x.provider,x.filter[0],R),x.authWindow.associatedEvent=R,x.resolver._originValidation(x.auth).catch(te=>{x.reject(te)}),x.resolver._isIframeWebStorageSupported(x.auth,te=>{te||x.reject(wt(x.auth,"web-storage-unsupported"))}),x.pollUserCancellation()})()}get eventId(){var x;return(null===(x=this.authWindow)||void 0===x?void 0:x.associatedEvent)||null}cancel(){this.reject(wt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,k.currentPopupAction=null}pollUserCancellation(){const x=()=>{var R,te;this.pollId=null!==(te=null===(R=this.authWindow)||void 0===R?void 0:R.window)&&void 0!==te&&te.closed?window.setTimeout(()=>{this.pollId=null,this.reject(wt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(x,_l.get())};x()}}return k.currentPopupAction=null,k})();const Ii="pendingRedirect",Cd=new Map;class Xu extends gl{constructor(y,x,R=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],x,void 0,R),this.eventId=null}execute(){var y=()=>super.execute,x=this;return(0,ae.A)(function*(){let R=Cd.get(x.auth._key());if(!R){try{const ye=(yield function bi(k,y){return Tc.apply(this,arguments)}(x.resolver,x.auth))?yield y().call(x):null;R=()=>Promise.resolve(ye)}catch(te){R=()=>Promise.reject(te)}Cd.set(x.auth._key(),R)}return x.bypassAuthState||Cd.set(x.auth._key(),()=>Promise.resolve(null)),R()})()}onAuthEvent(y){var x=()=>super.onAuthEvent,R=this;return(0,ae.A)(function*(){if("signInViaRedirect"===y.type)return x().call(R,y);if("unknown"!==y.type){if(y.eventId){const te=yield R.auth._redirectUserForId(y.eventId);if(te)return R.user=te,x().call(R,y);R.resolve(null)}}else R.resolve(null)})()}onExecution(){return(0,ae.A)(function*(){})()}cleanUp(){}}function Tc(){return(Tc=(0,ae.A)(function*(k,y){const x=na(y),R=wr(k);if(!(yield R._isAvailable()))return!1;const te="true"===(yield R._get(x));return yield R._remove(x),te})).apply(this,arguments)}function zn(k,y){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,ae.A)(function*(k,y){return wr(k)._set(na(y),"true")})).apply(this,arguments)}function cs(k,y){Cd.set(k._key(),y)}function wr(k){return ge(k._redirectPersistence)}function na(k){return hn(Ii,k.config.apiKey,k.name)}function Yo(k,y,x){return function th(k,y,x){return pA.apply(this,arguments)}(k,y,x)}function pA(){return(pA=(0,ae.A)(function*(k,y,x){if((0,j._isFirebaseServerApp)(k.app))return Promise.reject(pt(k));const R=Br(k);mt(k,y,Gr),yield R._initializationPromise;const te=hs(R,x);return yield zn(te,R),te._openRedirect(R,y,"signInViaRedirect")})).apply(this,arguments)}function Fh(k,y,x){return function Q_(k,y,x){return Lh.apply(this,arguments)}(k,y,x)}function Lh(){return(Lh=(0,ae.A)(function*(k,y,x){const R=(0,Q.Ku)(k);if(mt(R.auth,y,Gr),(0,j._isFirebaseServerApp)(R.auth.app))return Promise.reject(pt(R.auth));yield R.auth._initializationPromise;const te=hs(R.auth,x);yield zn(te,R.auth);const ye=yield j_(R);return te._openRedirect(R.auth,y,"reauthViaRedirect",ye)})).apply(this,arguments)}function Nh(k,y,x){return function Cp(k,y,x){return nh.apply(this,arguments)}(k,y,x)}function nh(){return(nh=(0,ae.A)(function*(k,y,x){const R=(0,Q.Ku)(k);mt(R.auth,y,Gr),yield R.auth._initializationPromise;const te=hs(R.auth,x);yield uf(!1,R,y.providerId),yield zn(te,R.auth);const ye=yield j_(R);return te._openRedirect(R.auth,y,"linkViaRedirect",ye)})).apply(this,arguments)}function Yu(){return(Yu=(0,ae.A)(function*(k,y){return yield Br(k)._initializationPromise,vl(k,y,!1)})).apply(this,arguments)}function vl(k,y){return um.apply(this,arguments)}function um(){return(um=(0,ae.A)(function*(k,y,x=!1){if((0,j._isFirebaseServerApp)(k.app))return Promise.reject(pt(k));const R=Br(k),te=hs(R,y),ft=yield new Xu(R,te,x).execute();return ft&&!x&&(delete ft.user._redirectEventId,yield R._persistUserIfCurrent(ft.user),yield R._setRedirectUser(null,y)),ft})).apply(this,arguments)}function j_(k){return dm.apply(this,arguments)}function dm(){return(dm=(0,ae.A)(function*(k){const y=ml(`${k.uid}:::`);return k._redirectEventId=y,yield k.auth._setRedirectUser(k),yield k.auth._persistUserIfCurrent(k),y})).apply(this,arguments)}class z_{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let x=!1;return this.consumers.forEach(R=>{this.isEventForConsumer(y,R)&&(x=!0,this.sendToConsumer(y,R),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function G_(k){switch(k.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ag(k);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,x||(this.queuedRedirectEvent=y,x=!0)),x}sendToConsumer(y,x){var R;if(y.error&&!Ag(y)){const te=(null===(R=y.error.code)||void 0===R?void 0:R.split("auth/")[1])||"internal-error";x.onError(wt(this.auth,te))}else x.onAuthEvent(y)}isEventForConsumer(y,x){const R=null===x.eventId||!!y.eventId&&y.eventId===x.eventId;return x.filter.includes(y.type)&&R}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ip(y))}saveEventToCache(y){this.cachedEventUids.add(Ip(y)),this.lastProcessedEventTime=Date.now()}}function Ip(k){return[k.type,k.eventId,k.sessionId,k.tenantId].filter(y=>y).join("-")}function Ag({type:k,error:y}){return"unknown"===k&&"auth/no-auth-event"===y?.code}function Tp(k){return mg.apply(this,arguments)}function mg(){return(mg=(0,ae.A)(function*(k,y={}){return On(k,"GET","/v1/projects",y)})).apply(this,arguments)}const ih=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sp=/^https?/;function kp(){return(kp=(0,ae.A)(function*(k){if(k.config.emulator)return;const{authorizedDomains:y}=yield Tp(k);for(const x of y)try{if(H_(x))return}catch{}ot(k,"unauthorized-domain")})).apply(this,arguments)}function H_(k){const y=ze(),{protocol:x,hostname:R}=new URL(y);if(k.startsWith("chrome-extension://")){const ft=new URL(k);return""===ft.hostname&&""===R?"chrome-extension:"===x&&k.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===x&&ft.hostname===R}if(!Sp.test(x))return!1;if(ih.test(k))return R===k;const te=k.replace(/\./g,"\\.");return new RegExp("^(.+\\."+te+"|"+te+")$","i").test(R)}const q1=new Le(3e4,6e4);function zy(){const k=bs().___jsl;if(k?.H)for(const y of Object.keys(k.H))if(k.H[y].r=k.H[y].r||[],k.H[y].L=k.H[y].L||[],k.H[y].r=[...k.H[y].L],k.CP)for(let x=0;x<k.CP.length;x++)k.CP[x]=null}let Uh=null;const K1=new Le(5e3,15e3),fA="__/auth/iframe",K_="emulator/auth/iframe",Go={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pm(k){const y=k.config;Je(y.authDomain,k,"auth-domain-config-required");const x=y.emulator?gt(y,K_):`https://${k.config.authDomain}/${fA}`,R={apiKey:y.apiKey,appName:k.name,v:j.SDK_VERSION},te=hm.get(k.config.apiHost);te&&(R.eid=te);const ye=k._getFrameworks();return ye.length&&(R.fw=ye.join(",")),`${x}?${(0,Q.Am)(R).slice(1)}`}function AA(){return AA=(0,ae.A)(function*(k){const y=yield function q_(k){return Uh=Uh||function Gy(k){return new Promise((y,x)=>{var R,te,ye;function ft(){zy(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{zy(),x(wt(k,"network-request-failed"))},timeout:q1.get()})}if(null!==(te=null===(R=bs().gapi)||void 0===R?void 0:R.iframes)&&void 0!==te&&te.Iframe)y(gapi.iframes.getContext());else{if(null===(ye=bs().gapi)||void 0===ye||!ye.load){const Vt=ls("iframefcb");return bs()[Vt]=()=>{gapi.load?ft():x(wt(k,"network-request-failed"))},uu(`${function Lu(){return no.gapiScript}()}?onload=${Vt}`).catch(In=>x(In))}ft()}}).catch(y=>{throw Uh=null,y})}(k),Uh}(k),x=bs().gapi;return Je(x,k,"internal-error"),y.open({where:document.body,url:pm(k),messageHandlersFilter:x.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Go,dontclear:!0},R=>new Promise(function(){var te=(0,ae.A)(function*(ye,ft){yield R.restyle({setHideOnLeave:!1});const Vt=wt(k,"network-request-failed"),In=bs().setTimeout(()=>{ft(Vt)},K1.get());function yi(){bs().clearTimeout(In),ye(R)}R.ping(yi).then(yi,()=>{ft(Vt)})});return function(ye,ft){return te.apply(this,arguments)}}()))}),AA.apply(this,arguments)}const fm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class gg{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const $1="__/auth/handler",$_="emulator/auth/handler",X1=encodeURIComponent("fac");function vf(k,y,x,R,te,ye){return Dp.apply(this,arguments)}function Dp(){return(Dp=(0,ae.A)(function*(k,y,x,R,te,ye){Je(k.config.authDomain,k,"auth-domain-config-required"),Je(k.config.apiKey,k,"invalid-api-key");const ft={apiKey:k.config.apiKey,appName:k.name,authType:x,redirectUrl:R,v:j.SDK_VERSION,eventId:te};if(y instanceof Gr){y.setDefaultLanguage(k.languageCode),ft.providerId=y.providerId||"",(0,Q.Im)(y.getCustomParameters())||(ft.customParameters=JSON.stringify(y.getCustomParameters()));for(const[Gi,Ki]of Object.entries(ye||{}))ft[Gi]=Ki}if(y instanceof _d){const Gi=y.getScopes().filter(Ki=>""!==Ki);Gi.length>0&&(ft.scopes=Gi.join(","))}k.tenantId&&(ft.tid=k.tenantId);const Vt=ft;for(const Gi of Object.keys(Vt))void 0===Vt[Gi]&&delete Vt[Gi];const In=yield k._getAppCheckToken(),yi=In?`#${X1}=${encodeURIComponent(In)}`:"";return`${function Vo({config:k}){return k.emulator?gt(k,$_):`https://${k.authDomain}/${$1}`}(k)}?${(0,Q.Am)(Vt).slice(1)}${yi}`})).apply(this,arguments)}const ii="webStorageSupport",Ba=class xr{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fl,this._completeRedirectFn=vl,this._overrideRedirectResult=cs}_openPopup(y,x,R,te){var ye=this;return(0,ae.A)(function*(){var ft;Fe(null===(ft=ye.eventManagers[y._key()])||void 0===ft?void 0:ft.manager,"_initialize() not called before _openPopup()");const Vt=yield vf(y,x,R,ze(),te);return function W1(k,y,x,R=500,te=600){const ye=Math.max((window.screen.availHeight-te)/2,0).toString(),ft=Math.max((window.screen.availWidth-R)/2,0).toString();let Vt="";const In=Object.assign(Object.assign({},fm),{width:R.toString(),height:te.toString(),top:ye,left:ft}),yi=(0,Q.ZQ)().toLowerCase();x&&(Vt=De(yi)?"_blank":x),En(yi)&&(y=y||"http://localhost",In.scrollbars="yes");const Gi=Object.entries(In).reduce((ia,[kd,vn])=>`${ia}${kd}=${vn},`,"");if(function ct(k=(0,Q.ZQ)()){var y;return zt(k)&&!(null===(y=window.navigator)||void 0===y||!y.standalone)}(yi)&&"_self"!==Vt)return function mm(k,y){const x=document.createElement("a");x.href=k,x.target=y;const R=document.createEvent("MouseEvent");R.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),x.dispatchEvent(R)}(y||"",Vt),new gg(null);const Ki=window.open(y||"",Vt,Gi);Je(Ki,k,"popup-blocked");try{Ki.focus()}catch{}return new gg(Ki)}(y,Vt,ml())})()}_openRedirect(y,x,R,te){var ye=this;return(0,ae.A)(function*(){return yield ye._originValidation(y),function Af(k){bs().location.href=k}(yield vf(y,x,R,ze(),te)),new Promise(()=>{})})()}_initialize(y){const x=y._key();if(this.eventManagers[x]){const{manager:te,promise:ye}=this.eventManagers[x];return te?Promise.resolve(te):(Fe(ye,"If manager is not set, promise should be"),ye)}const R=this.initAndGetManager(y);return this.eventManagers[x]={promise:R},R.catch(()=>{delete this.eventManagers[x]}),R}initAndGetManager(y){var x=this;return(0,ae.A)(function*(){const R=yield function Vh(k){return AA.apply(this,arguments)}(y),te=new z_(y);return R.register("authEvent",ye=>(Je(ye?.authEvent,y,"invalid-auth-event"),{status:te.onEvent(ye.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),x.eventManagers[y._key()]={manager:te},x.iframes[y._key()]=R,te})()}_isIframeWebStorageSupported(y,x){this.iframes[y._key()].send(ii,{type:ii},te=>{var ye;const ft=null===(ye=te?.[0])||void 0===ye?void 0:ye[ii];void 0!==ft&&x(!!ft),ot(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const x=y._key();return this.originValidationPromises[x]||(this.originValidationPromises[x]=function oc(k){return kp.apply(this,arguments)}(y)),this.originValidationPromises[x]}get _shouldInitProactively(){return kt()||ri()||zt()}};class Zu{constructor(y){this.factorId=y}_process(y,x,R){switch(x.type){case"enroll":return this._finalizeEnroll(y,x.credential,R);case"signin":return this._finalizeSignIn(y,x.credential);default:return st("unexpected MultiFactorSessionType")}}}class qa extends Zu{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new qa(y)}_finalizeEnroll(y,x,R){return function xd(k,y){return On(k,"POST","/v2/accounts/mfaEnrollment:finalize",on(k,y))}(y,{idToken:x,displayName:R,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,x){return function Ce(k,y){return On(k,"POST","/v2/accounts/mfaSignIn:finalize",on(k,y))}(y,{mfaPendingCredential:x,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ka=(()=>{class k{constructor(){}static assertion(x){return qa._fromCredential(x)}}return k.FACTOR_ID="phone",k})();var Fr="@firebase/auth";class yf{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var x=this;return(0,ae.A)(function*(){return x.assertAuthConfigured(),yield x.auth._initializationPromise,x.auth.currentUser?{accessToken:yield x.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const x=this.auth.onIdTokenChanged(R=>{y(R?.stsTokenManager.accessToken||null)});this.internalListeners.set(y,x),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const x=this.internalListeners.get(y);x&&(this.internalListeners.delete(y),x(),this.updateProactiveRefresh())}assertAuthConfigured(){Je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Td(){return window}(0,Q.XA)("authIdTokenMaxAge"),function ks(k){no=k}({loadJS:k=>new Promise((y,x)=>{const R=document.createElement("script");R.setAttribute("src",k),R.onload=y,R.onerror=te=>{const ye=wt("internal-error");ye.customData=te,x(ye)},R.type="text/javascript",R.charset="UTF-8",function Ju(){var k,y;return null!==(y=null===(k=document.getElementsByTagName("head"))||void 0===k?void 0:k[0])&&void 0!==y?y:document}().appendChild(R)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Ps(k){(0,j._registerComponent)(new V.uA("auth",(y,{options:x})=>{const R=y.getProvider("app").getImmediate(),te=y.getProvider("heartbeat"),ye=y.getProvider("app-check-internal"),{apiKey:ft,authDomain:Vt}=R.options;Je(ft&&!ft.includes(":"),"invalid-api-key",{appName:R.name});const In={apiKey:ft,authDomain:Vt,clientPlatform:k,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fn(k)},yi=new Or(R,te,ye,In);return function en(k,y){const x=y?.persistence||[],R=(Array.isArray(x)?x:[x]).map(ge);y?.errorMap&&k._updateErrorMap(y.errorMap),k._initializeWithPersistence(R,y?.popupRedirectResolver)}(yi,x),yi},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,x,R)=>{y.getProvider("auth-internal").initialize()})),(0,j._registerComponent)(new V.uA("auth-internal",y=>{const x=Br(y.getProvider("auth").getImmediate());return new yf(x)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,j.registerVersion)(Fr,"1.7.6",function gA(k){switch(k){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(k)),(0,j.registerVersion)(Fr,"1.7.6","esm2017")}("Browser");function _m(){return _m=(0,ae.A)(function*(k,y,x){var R;const{BuildInfo:te}=Td();Fe(y.sessionId,"AuthEvent did not contain a session ID");const ye=yield function yl(k){return ul.apply(this,arguments)}(y.sessionId),ft={};return zt()?ft.ibi=te.packageName:Lt()?ft.apn=te.packageName:ot(k,"operation-not-supported-in-this-environment"),te.displayName&&(ft.appDisplayName=te.displayName),ft.sessionId=ye,vf(k,x,y.type,void 0,null!==(R=y.eventId)&&void 0!==R?R:void 0,ft)}),_m.apply(this,arguments)}function xu(){return(xu=(0,ae.A)(function*(k){const{BuildInfo:y}=Td(),x={};zt()?x.iosBundleId=y.packageName:Lt()?x.androidPackageName=y.packageName:ot(k,"operation-not-supported-in-this-environment"),yield Tp(k,x)})).apply(this,arguments)}function Ws(){return(Ws=(0,ae.A)(function*(k,y,x){const{cordova:R}=Td();let te=()=>{};try{yield new Promise((ye,ft)=>{let Vt=null;function In(){var Ki;ye();const ia=null===(Ki=R.plugins.browsertab)||void 0===Ki?void 0:Ki.close;"function"==typeof ia&&ia(),"function"==typeof x?.close&&x.close()}function yi(){Vt||(Vt=window.setTimeout(()=>{ft(wt(k,"redirect-cancelled-by-user"))},2e3))}function Gi(){"visible"===document?.visibilityState&&yi()}y.addPassiveListener(In),document.addEventListener("resume",yi,!1),Lt()&&document.addEventListener("visibilitychange",Gi,!1),te=()=>{y.removePassiveListener(In),document.removeEventListener("resume",yi,!1),document.removeEventListener("visibilitychange",Gi,!1),Vt&&window.clearTimeout(Vt)}})}finally{te()}})).apply(this,arguments)}function ul(){return(ul=(0,ae.A)(function*(k){const y=function X_(k){if(Fe(/[0-9a-zA-Z]+/.test(k),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(k);const y=new ArrayBuffer(k.length),x=new Uint8Array(y);for(let R=0;R<k.length;R++)x[R]=k.charCodeAt(R);return x}(k),x=yield crypto.subtle.digest("SHA-256",y);return Array.from(new Uint8Array(x)).map(te=>te.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class _g extends z_{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(y=>{this.resolveInitialized=y})}addPassiveListener(y){this.passiveListeners.add(y)}removePassiveListener(y){this.passiveListeners.delete(y)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(y){return this.resolveInitialized(),this.passiveListeners.forEach(x=>x(y)),super.onEvent(y)}initialized(){var y=this;return(0,ae.A)(function*(){yield y.initPromise})()}}function Hy(k){return wf.apply(this,arguments)}function wf(){return(wf=(0,ae.A)(function*(k){const y=yield yA()._get(Bo(k));return y&&(yield yA()._remove(Bo(k))),y})).apply(this,arguments)}function Y_(){const k=[];for(let x=0;x<20;x++){const R=Math.floor(62*Math.random());k.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(R))}return k.join("")}function yA(){return ge(Vs)}function Bo(k){return hn("authEvent",k.config.apiKey,k.name)}function Mp(k){if(!k?.includes("?"))return{};const[y,...x]=k.split("?");return(0,Q.I9)(x.join("?"))}const WC=class KC{constructor(){this._redirectPersistence=Fl,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=vl,this._overrideRedirectResult=cs}_initialize(y){var x=this;return(0,ae.A)(function*(){const R=y._key();let te=x.eventManagers.get(R);return te||(te=new _g(y),x.eventManagers.set(R,te),x.attachCallbackListeners(y,te)),te})()}_openPopup(y){ot(y,"operation-not-supported-in-this-environment")}_openRedirect(y,x,R,te){var ye=this;return(0,ae.A)(function*(){!function ym(k){var y,x,R,te,ye,ft,Vt,In,yi,Gi;const Ki=Td();Je("function"==typeof(null===(y=Ki?.universalLinks)||void 0===y?void 0:y.subscribe),k,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Je(typeof(null===(x=Ki?.BuildInfo)||void 0===x?void 0:x.packageName)<"u",k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Je("function"==typeof(null===(ye=null===(te=null===(R=Ki?.cordova)||void 0===R?void 0:R.plugins)||void 0===te?void 0:te.browsertab)||void 0===ye?void 0:ye.openUrl),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Je("function"==typeof(null===(In=null===(Vt=null===(ft=Ki?.cordova)||void 0===ft?void 0:ft.plugins)||void 0===Vt?void 0:Vt.browsertab)||void 0===In?void 0:In.isAvailable),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Je("function"==typeof(null===(Gi=null===(yi=Ki?.cordova)||void 0===yi?void 0:yi.InAppBrowser)||void 0===Gi?void 0:Gi.open),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(y);const ft=yield ye._initialize(y);yield ft.initialized(),ft.resetRedirect(),function Nr(){Cd.clear()}(),yield ye._originValidation(y);const Vt=function td(k,y,x=null){return{type:y,eventId:x,urlResponse:null,sessionId:Y_(),postBody:null,tenantId:k.tenantId,error:wt(k,"no-auth-event")}}(y,R,te);yield function bm(k,y){return yA()._set(Bo(k),y)}(y,Vt);const In=yield function lr(k,y,x){return _m.apply(this,arguments)}(y,Vt,x),yi=yield function Wa(k){const{cordova:y}=Td();return new Promise(x=>{y.plugins.browsertab.isAvailable(R=>{let te=null;R?y.plugins.browsertab.openUrl(k):te=y.InAppBrowser.open(k,function tt(k=(0,Q.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(k)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(k)}()?"_blank":"_system","location=yes"),x(te)})})}(In);return function vA(k,y,x){return Ws.apply(this,arguments)}(y,ft,yi)})()}_isIframeWebStorageSupported(y,x){throw new Error("Method not implemented.")}_originValidation(y){const x=y._key();return this.originValidationPromises[x]||(this.originValidationPromises[x]=function vm(k){return xu.apply(this,arguments)}(y)),this.originValidationPromises[x]}attachCallbackListeners(y,x){const{universalLinks:R,handleOpenURL:te,BuildInfo:ye}=Td(),ft=setTimeout((0,ae.A)(function*(){yield Hy(y),x.onEvent(ew())}),500),Vt=function(){var Gi=(0,ae.A)(function*(Ki){clearTimeout(ft);const ia=yield Hy(y);let kd=null;ia&&Ki?.url&&(kd=function vg(k,y){var x,R;const te=function Rp(k){const y=Mp(k),x=y.link?decodeURIComponent(y.link):void 0,R=Mp(x).link,te=y.deep_link_id?decodeURIComponent(y.deep_link_id):void 0;return Mp(te).link||te||R||x||k}(y);if(te.includes("/__/auth/callback")){const ye=Mp(te),ft=ye.firebaseError?function Z1(k){try{return JSON.parse(k)}catch{return null}}(decodeURIComponent(ye.firebaseError)):null,Vt=null===(R=null===(x=ft?.code)||void 0===x?void 0:x.split("auth/"))||void 0===R?void 0:R[1],In=Vt?wt(Vt):null;return In?{type:k.type,eventId:k.eventId,tenantId:k.tenantId,error:In,urlResponse:null,sessionId:null,postBody:null}:{type:k.type,eventId:k.eventId,tenantId:k.tenantId,sessionId:k.sessionId,urlResponse:te,postBody:null}}return null}(ia,Ki.url)),x.onEvent(kd||ew())});return function(ia){return Gi.apply(this,arguments)}}();typeof R<"u"&&"function"==typeof R.subscribe&&R.subscribe(null,Vt);const In=te,yi=`${ye.packageName.toLowerCase()}://`;Td().handleOpenURL=function(){var Gi=(0,ae.A)(function*(Ki){if(Ki.toLowerCase().startsWith(yi)&&Vt({url:Ki}),"function"==typeof In)try{In(Ki)}catch(ia){console.error(ia)}});return function(Ki){return Gi.apply(this,arguments)}}()}};function ew(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:wt("no-auth-event")}}function yg(){var k;return(null===(k=self?.location)||void 0===k?void 0:k.protocol)||null}function bA(k=(0,Q.ZQ)()){return!("file:"!==yg()&&"ionic:"!==yg()&&"capacitor:"!==yg()||!k.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ky(){try{const k=self.localStorage,y=ml();if(k)return k.setItem(y,"1"),k.removeItem(y),!function eI(k=(0,Q.ZQ)()){return function tw(){return(0,Q.lT)()&&11===document?.documentMode}()||function JC(k=(0,Q.ZQ)()){return/Edge\/\d+/.test(k)}(k)}()||(0,Q.zW)()}catch{return xm()&&(0,Q.zW)()}return!1}function xm(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Qs(){return(function qy(){return"http:"===yg()||"https:"===yg()}()||(0,Q.sr)()||bA())&&!function wm(){return(0,Q.lV)()||(0,Q.Ll)()}()&&Ky()&&!xm()}function xf(){return bA()&&typeof document<"u"}function ac(){return(ac=(0,ae.A)(function*(){return!!xf()&&new Promise(k=>{const y=setTimeout(()=>{k(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(y),k(!0)})})})).apply(this,arguments)}const ns={LOCAL:"local",NONE:"none",SESSION:"session"},Bp=Je,Cf="persistence";function Eu(k){return Cm.apply(this,arguments)}function Cm(){return(Cm=(0,ae.A)(function*(k){yield k._initializationPromise;const y=Po(),x=hn(Cf,k.config.apiKey,k.name);y&&y.setItem(x,k._getPersistence())})).apply(this,arguments)}function Po(){var k;try{return(null===(k=function Ef(){return typeof window<"u"?window:null}())||void 0===k?void 0:k.sessionStorage)||null}catch{return null}}const Im=Je;class Xc{constructor(){this.browserResolver=ge(Ba),this.cordovaResolver=ge(WC),this.underlyingResolver=null,this._redirectPersistence=Fl,this._completeRedirectFn=vl,this._overrideRedirectResult=cs}_initialize(y){var x=this;return(0,ae.A)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._initialize(y)})()}_openPopup(y,x,R,te){var ye=this;return(0,ae.A)(function*(){return yield ye.selectUnderlyingResolver(),ye.assertedUnderlyingResolver._openPopup(y,x,R,te)})()}_openRedirect(y,x,R,te){var ye=this;return(0,ae.A)(function*(){return yield ye.selectUnderlyingResolver(),ye.assertedUnderlyingResolver._openRedirect(y,x,R,te)})()}_isIframeWebStorageSupported(y,x){this.assertedUnderlyingResolver._isIframeWebStorageSupported(y,x)}_originValidation(y){return this.assertedUnderlyingResolver._originValidation(y)}get _shouldInitProactively(){return xf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Im(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var y=this;return(0,ae.A)(function*(){if(y.underlyingResolver)return;const x=yield function Em(){return ac.apply(this,arguments)}();y.underlyingResolver=x?y.cordovaResolver:y.browserResolver})()}}function lc(k){return k.unwrap()}function oh(k){return kc(k)}function kc(k){const{_tokenResponse:y}=k instanceof Q.g?k.customData:k;if(!y)return null;if(!(k instanceof Q.g)&&"temporaryProof"in y&&"phoneNumber"in y)return qi.credentialFromResult(k);const x=y.providerId;if(!x||x===L.PASSWORD)return null;let R;switch(x){case L.GOOGLE:R=gp;break;case L.FACEBOOK:R=mp;break;case L.GITHUB:R=Ih;break;case L.TWITTER:R=af;break;default:const{oauthIdToken:te,oauthAccessToken:ye,oauthTokenSecret:ft,pendingToken:Vt,nonce:In}=y;return ye||ft||te||Vt?Vt?x.startsWith("saml.")?Jl._create(x,Vt):pu._fromParams({providerId:x,signInMethod:x,pendingToken:Vt,idToken:te,accessToken:ye}):new Qu(x).credential({idToken:te,accessToken:ye,rawNonce:In}):null}return k instanceof Q.g?R.credentialFromError(k):R.credentialFromResult(k)}function Dc(k,y){return y.catch(x=>{throw x instanceof Q.g&&function Qh(k,y){var x;const R=null===(x=y.customData)||void 0===x?void 0:x._tokenResponse;if("auth/multi-factor-auth-required"===y?.code)y.resolver=new Cu(k,function qc(k,y){var x;const R=(0,Q.Ku)(k),te=y;return Je(y.customData.operationType,R,"argument-error"),Je(null===(x=te.customData._serverResponse)||void 0===x?void 0:x.mfaPendingCredential,R,"argument-error"),Hc._fromError(R,te)}(k,y));else if(R){const te=kc(y),ye=y;te&&(ye.credential=te,ye.tenantId=R.tenantId||void 0,ye.email=R.email||void 0,ye.phoneNumber=R.phoneNumber||void 0)}}(k,x),x}).then(x=>{const te=x.user;return{operationType:x.operationType,credential:oh(x),additionalUserInfo:uA(x),user:Sd.getOrCreate(te)}})}function Tm(k,y){return bg.apply(this,arguments)}function bg(){return(bg=(0,ae.A)(function*(k,y){const x=yield y;return{verificationId:x.verificationId,confirm:R=>Dc(k,x.confirm(R))}})).apply(this,arguments)}class Cu{constructor(y,x){this.resolver=x,this.auth=function $y(k){return k.wrapped()}(y)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(y){return Dc(lc(this.auth),this.resolver.resolveSignIn(y))}}class Sd{constructor(y){this._delegate=y,this.multiFactor=function Ga(k){const y=(0,Q.Ku)(k);return Cc.has(y)||Cc.set(y,al._fromUser(y)),Cc.get(y)}(y)}static getOrCreate(y){return Sd.USER_MAP.has(y)||Sd.USER_MAP.set(y,new Sd(y)),Sd.USER_MAP.get(y)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(y){return this._delegate.getIdTokenResult(y)}getIdToken(y){return this._delegate.getIdToken(y)}linkAndRetrieveDataWithCredential(y){return this.linkWithCredential(y)}linkWithCredential(y){var x=this;return(0,ae.A)(function*(){return Dc(x.auth,Sh(x._delegate,y))})()}linkWithPhoneNumber(y,x){var R=this;return(0,ae.A)(function*(){return Tm(R.auth,function Sr(k,y,x){return oi.apply(this,arguments)}(R._delegate,y,x))})()}linkWithPopup(y){var x=this;return(0,ae.A)(function*(){return Dc(x.auth,function gf(k,y,x){return eh.apply(this,arguments)}(x._delegate,y,Xc))})()}linkWithRedirect(y){var x=this;return(0,ae.A)(function*(){return yield Eu(Br(x.auth)),Nh(x._delegate,y,Xc)})()}reauthenticateAndRetrieveDataWithCredential(y){return this.reauthenticateWithCredential(y)}reauthenticateWithCredential(y){var x=this;return(0,ae.A)(function*(){return Dc(x.auth,bc(x._delegate,y))})()}reauthenticateWithPhoneNumber(y,x){return Tm(this.auth,function Ar(k,y,x){return br.apply(this,arguments)}(this._delegate,y,x))}reauthenticateWithPopup(y){return Dc(this.auth,function wu(k,y,x){return Nl.apply(this,arguments)}(this._delegate,y,Xc))}reauthenticateWithRedirect(y){var x=this;return(0,ae.A)(function*(){return yield Eu(Br(x.auth)),Fh(x._delegate,y,Xc)})()}sendEmailVerification(y){return function Ln(k,y){return Gn.apply(this,arguments)}(this._delegate,y)}unlink(y){var x=this;return(0,ae.A)(function*(){return yield function vp(k,y){return lf.apply(this,arguments)}(x._delegate,y),x})()}updateEmail(y){return function Nn(k,y){const x=(0,Q.Ku)(k);return(0,j._isFirebaseServerApp)(x.auth.app)?Promise.reject(pt(x.auth)):di(x,y,null)}(this._delegate,y)}updatePassword(y){return function pf(k,y){return di((0,Q.Ku)(k),null,y)}(this._delegate,y)}updatePhoneNumber(y){return function vr(k,y){return Zi.apply(this,arguments)}(this._delegate,y)}updateProfile(y){return function li(k,y){return ya.apply(this,arguments)}(this._delegate,y)}verifyBeforeUpdateEmail(y,x){return function Mn(k,y,x){return qr.apply(this,arguments)}(this._delegate,y,x)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Sd.USER_MAP=new WeakMap;const If=Je;let Z_=(()=>{class k{constructor(x,R){if(this.app=x,R.isInitialized())return this._delegate=R.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:te}=x.options;If(te,"invalid-api-key",{appName:x.name}),If(te,"invalid-api-key",{appName:x.name});const ye=typeof window<"u"?Xc:void 0;this._delegate=R.initialize({options:{persistence:wg(te,x.name),popupRedirectResolver:ye}}),this._delegate._updateErrorMap(ne),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Sd.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(x){this._delegate.languageCode=x}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(x){this._delegate.tenantId=x}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(x,R){!function Fn(k,y,x){const R=Br(k);Je(R._canInitEmulator,R,"emulator-config-failed"),Je(/^https?:\/\//.test(y),R,"invalid-emulator-scheme");const te=!!x?.disableWarnings,ye=_i(y),{host:ft,port:Vt}=function Xr(k){const y=_i(k),x=/(\/\/)?([^?#/]+)/.exec(k.substr(y.length));if(!x)return{host:"",port:null};const R=x[2].split("@").pop()||"",te=/^(\[[^\]]+\])(:|$)/.exec(R);if(te){const ye=te[1];return{host:ye,port:Us(R.substr(ye.length+1))}}{const[ye,ft]=R.split(":");return{host:ye,port:Us(ft)}}}(y);R.config.emulator={url:`${ye}//${ft}${null===Vt?"":`:${Vt}`}/`},R.settings.appVerificationDisabledForTesting=!0,R.emulatorConfig=Object.freeze({host:ft,port:Vt,protocol:ye.replace(":",""),options:Object.freeze({disableWarnings:te})}),te||function Ds(){function k(){const y=document.createElement("p"),x=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",x.position="fixed",x.width="100%",x.backgroundColor="#ffffff",x.border=".1em solid #000000",x.color="#b50000",x.bottom="0px",x.left="0px",x.margin="0px",x.zIndex="10000",x.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",k):k())}()}(this._delegate,x,R)}applyActionCode(x){return function xc(k,y){return Dh.apply(this,arguments)}(this._delegate,x)}checkActionCode(x){return Yd(this._delegate,x)}confirmPasswordReset(x,R){return function kh(k,y,x){return Xo.apply(this,arguments)}(this._delegate,x,R)}createUserWithEmailAndPassword(x,R){var te=this;return(0,ae.A)(function*(){return Dc(te._delegate,function za(k,y,x){return vu.apply(this,arguments)}(te._delegate,x,R))})()}fetchProvidersForEmail(x){return this.fetchSignInMethodsForEmail(x)}fetchSignInMethodsForEmail(x){return function ln(k,y){return dn.apply(this,arguments)}(this._delegate,x)}isSignInWithEmailLink(x){return function oe(k,y){const x=Zl.parseLink(y);return"EMAIL_SIGNIN"===x?.operation}(0,x)}getRedirectResult(){var x=this;return(0,ae.A)(function*(){If(Qs(),x._delegate,"operation-not-supported-in-this-environment");const R=yield function fg(k,y){return Yu.apply(this,arguments)}(x._delegate,Xc);return R?Dc(x._delegate,Promise.resolve(R)):{credential:null,user:null}})()}addFrameworkForLogging(x){!function $C(k,y){Br(k)._logFramework(y)}(this._delegate,x)}onAuthStateChanged(x,R,te){const{next:ye,error:ft,complete:Vt}=wA(x,R,te);return this._delegate.onAuthStateChanged(ye,ft,Vt)}onIdTokenChanged(x,R,te){const{next:ye,error:ft,complete:Vt}=wA(x,R,te);return this._delegate.onIdTokenChanged(ye,ft,Vt)}sendSignInLinkToEmail(x,R){return function Hr(k,y,x){return eo.apply(this,arguments)}(this._delegate,x,R)}sendPasswordResetEmail(x,R){return function om(k,y,x){return So.apply(this,arguments)}(this._delegate,x,R||void 0)}setPersistence(x){var R=this;return(0,ae.A)(function*(){let te;switch(function Sc(k,y){Bp(Object.values(ns).includes(y),k,"invalid-persistence-type"),(0,Q.lV)()?Bp(y!==ns.SESSION,k,"unsupported-persistence-type"):(0,Q.Ll)()?Bp(y===ns.NONE,k,"unsupported-persistence-type"):xm()?Bp(y===ns.NONE||y===ns.LOCAL&&(0,Q.zW)(),k,"unsupported-persistence-type"):Bp(y===ns.NONE||Ky(),k,"unsupported-persistence-type")}(R._delegate,x),x){case ns.SESSION:te=Fl;break;case ns.LOCAL:te=(yield ge(ie)._isAvailable())?ie:Vs;break;case ns.NONE:te=We;break;default:return ot("argument-error",{appName:R._delegate.name})}return R._delegate.setPersistence(te)})()}signInAndRetrieveDataWithCredential(x){return this.signInWithCredential(x)}signInAnonymously(){return Dc(this._delegate,function zc(k){return sl.apply(this,arguments)}(this._delegate))}signInWithCredential(x){return Dc(this._delegate,Ml(this._delegate,x))}signInWithCustomToken(x){return Dc(this._delegate,function ec(k,y){return tc.apply(this,arguments)}(this._delegate,x))}signInWithEmailAndPassword(x,R){return Dc(this._delegate,function yu(k,y,x){return(0,j._isFirebaseServerApp)(k.app)?Promise.reject(pt(k)):Ml((0,Q.Ku)(k),Ap.credential(y,x)).catch(function(){var R=(0,ae.A)(function*(te){throw"auth/password-does-not-meet-requirements"===te.code&&Uo(k),te});return function(te){return R.apply(this,arguments)}}())}(this._delegate,x,R))}signInWithEmailLink(x,R){return Dc(this._delegate,function pe(k,y,x){return ve.apply(this,arguments)}(this._delegate,x,R))}signInWithPhoneNumber(x,R){return Tm(this._delegate,function Qi(k,y,x){return Ni.apply(this,arguments)}(this._delegate,x,R))}signInWithPopup(x){var R=this;return(0,ae.A)(function*(){return If(Qs(),R._delegate,"operation-not-supported-in-this-environment"),Dc(R._delegate,function Jd(k,y,x){return cl.apply(this,arguments)}(R._delegate,x,Xc))})()}signInWithRedirect(x){var R=this;return(0,ae.A)(function*(){return If(Qs(),R._delegate,"operation-not-supported-in-this-environment"),yield Eu(R._delegate),Yo(R._delegate,x,Xc)})()}updateCurrentUser(x){return this._delegate.updateCurrentUser(x)}verifyPasswordResetCode(x){return function fr(k,y){return go.apply(this,arguments)}(this._delegate,x)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return k.Persistence=ns,k})();function wA(k,y,x){let R=k;"function"!=typeof k&&({next:R,error:y,complete:x}=k);const te=R;return{next:ft=>te(ft&&Sd.getOrCreate(ft)),error:y,complete:x}}function wg(k,y){const x=function Wy(k,y){const x=Po();if(!x)return[];const R=hn(Cf,k,y);switch(x.getItem(R)){case ns.NONE:return[We];case ns.LOCAL:return[ie,Fl];case ns.SESSION:return[Fl];default:return[]}}(k,y);if(typeof self<"u"&&!x.includes(ie)&&x.push(ie),typeof window<"u")for(const R of[Vs,Fl])x.includes(R)||x.push(R);return x.includes(We)||x.push(We),x}class Tf{constructor(){this.providerId="phone",this._delegate=new qi(lc(ui.A.auth()))}static credential(y,x){return qi.credential(y,x)}verifyPhoneNumber(y,x){return this._delegate.verifyPhoneNumber(y,x)}unwrap(){return this._delegate}}Tf.PHONE_SIGN_IN_METHOD=qi.PHONE_SIGN_IN_METHOD,Tf.PROVIDER_ID=qi.PROVIDER_ID;const Sf=Je;class xg{constructor(y,x,R=ui.A.app()){var te;Sf(null===(te=R.options)||void 0===te?void 0:te.apiKey,"invalid-api-key",{appName:R.name}),this._delegate=new Un(R.auth(),y,x),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function kr(k){k.INTERNAL.registerComponent(new V.uA("auth-compat",y=>{const x=y.getProvider("app-compat").getImmediate(),R=y.getProvider("auth");return new Z_(x,R)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ap,FacebookAuthProvider:mp,GithubAuthProvider:Ih,GoogleAuthProvider:gp,OAuthProvider:Qu,SAMLAuthProvider:vc,PhoneAuthProvider:Tf,PhoneMultiFactorGenerator:Ka,RecaptchaVerifier:xg,TwitterAuthProvider:af,Auth:Z_,AuthCredential:ys,Error:Q.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),k.registerVersion("@firebase/auth-compat","0.5.11")}(ui.A)},467:(cu,ea,hr)=>{"use strict";function ae(j,Q,v,O,V,A,L){try{var P=j[A](L),N=P.value}catch(W){return void v(W)}P.done?Q(N):Promise.resolve(N).then(O,V)}function ui(j){return function(){var Q=this,v=arguments;return new Promise(function(O,V){var A=j.apply(Q,v);function L(N){ae(A,O,V,L,P,"next",N)}function P(N){ae(A,O,V,L,P,"throw",N)}L(void 0)})}}hr.d(ea,{A:()=>ui})},635:(cu,ea,hr)=>{"use strict";function Q(Le,gt){var St={};for(var Et in Le)Object.prototype.hasOwnProperty.call(Le,Et)&&gt.indexOf(Et)<0&&(St[Et]=Le[Et]);if(null!=Le&&"function"==typeof Object.getOwnPropertySymbols){var bn=0;for(Et=Object.getOwnPropertySymbols(Le);bn<Et.length;bn++)gt.indexOf(Et[bn])<0&&Object.prototype.propertyIsEnumerable.call(Le,Et[bn])&&(St[Et[bn]]=Le[Et[bn]])}return St}function W(Le,gt,St,Et){return new(St||(St=Promise))(function(on,On){function ki(ei){try{Wn(Et.next(ei))}catch(Xn){On(Xn)}}function Ui(ei){try{Wn(Et.throw(ei))}catch(Xn){On(Xn)}}function Wn(ei){ei.done?on(ei.value):function bn(on){return on instanceof St?on:new St(function(On){On(on)})}(ei.value).then(ki,Ui)}Wn((Et=Et.apply(Le,gt||[])).next())})}function Ze(Le){return this instanceof Ze?(this.v=Le,this):new Ze(Le)}function ot(Le,gt,St){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var bn,Et=St.apply(Le,gt||[]),on=[];return bn={},On("next"),On("throw"),On("return"),bn[Symbol.asyncIterator]=function(){return this},bn;function On(qn){Et[qn]&&(bn[qn]=function(An){return new Promise(function(Jn,kn){on.push([qn,An,Jn,kn])>1||ki(qn,An)})})}function ki(qn,An){try{!function Ui(qn){qn.value instanceof Ze?Promise.resolve(qn.value.v).then(Wn,ei):Xn(on[0][2],qn)}(Et[qn](An))}catch(Jn){Xn(on[0][3],Jn)}}function Wn(qn){ki("next",qn)}function ei(qn){ki("throw",qn)}function Xn(qn,An){qn(An),on.shift(),on.length&&ki(on[0][0],on[0][1])}}function ht(Le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var St,gt=Le[Symbol.asyncIterator];return gt?gt.call(Le):(Le=function Z(Le){var gt="function"==typeof Symbol&&Symbol.iterator,St=gt&&Le[gt],Et=0;if(St)return St.call(Le);if(Le&&"number"==typeof Le.length)return{next:function(){return Le&&Et>=Le.length&&(Le=void 0),{value:Le&&Le[Et++],done:!Le}}};throw new TypeError(gt?"Object is not iterable.":"Symbol.iterator is not defined.")}(Le),St={},Et("next"),Et("throw"),Et("return"),St[Symbol.asyncIterator]=function(){return this},St);function Et(on){St[on]=Le[on]&&function(On){return new Promise(function(ki,Ui){!function bn(on,On,ki,Ui){Promise.resolve(Ui).then(function(Wn){on({value:Wn,done:ki})},On)}(ki,Ui,(On=Le[on](On)).done,On.value)})}}}hr.d(ea,{AQ:()=>ot,N3:()=>Ze,Tt:()=>Q,sH:()=>W,xN:()=>ht}),"function"==typeof SuppressedError&&SuppressedError}},cu=>{cu(cu.s=338)}]);